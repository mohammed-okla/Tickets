var GV=Object.defineProperty;var KV=(e,t,n)=>t in e?GV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ub=(e,t,n)=>KV(e,typeof t!="symbol"?t+"":t,n);function XP(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(r,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();var Ep=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ki(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function XV(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var zb={exports:{}},Am={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k4;function QV(){if(k4)return Am;k4=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,s){var c=null;if(s!==void 0&&(c=""+s),a.key!==void 0&&(c=""+a.key),"key"in a){s={};for(var f in a)f!=="key"&&(s[f]=a[f])}else s=a;return a=s.ref,{$$typeof:e,type:r,key:c,ref:a!==void 0?a:null,props:s}}return Am.Fragment=t,Am.jsx=n,Am.jsxs=n,Am}var L4;function ZV(){return L4||(L4=1,zb.exports=QV()),zb.exports}var i=ZV(),Vb={exports:{}},Ft={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B4;function JV(){if(B4)return Ft;B4=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function j(te){return te===null||typeof te!="object"?null:(te=v&&te[v]||te["@@iterator"],typeof te=="function"?te:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,T={};function _(te,fe,se){this.props=te,this.context=fe,this.refs=T,this.updater=se||E}_.prototype.isReactComponent={},_.prototype.setState=function(te,fe){if(typeof te!="object"&&typeof te!="function"&&te!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,te,fe,"setState")},_.prototype.forceUpdate=function(te){this.updater.enqueueForceUpdate(this,te,"forceUpdate")};function D(){}D.prototype=_.prototype;function P(te,fe,se){this.props=te,this.context=fe,this.refs=T,this.updater=se||E}var I=P.prototype=new D;I.constructor=P,O(I,_.prototype),I.isPureReactComponent=!0;var U=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function B(te,fe,se,me,Re,ye){return se=ye.ref,{$$typeof:e,type:te,key:fe,ref:se!==void 0?se:null,props:ye}}function $(te,fe){return B(te.type,fe,void 0,void 0,void 0,te.props)}function z(te){return typeof te=="object"&&te!==null&&te.$$typeof===e}function H(te){var fe={"=":"=0",":":"=2"};return"$"+te.replace(/[=:]/g,function(se){return fe[se]})}var X=/\/+/g;function K(te,fe){return typeof te=="object"&&te!==null&&te.key!=null?H(""+te.key):fe.toString(36)}function ee(){}function ue(te){switch(te.status){case"fulfilled":return te.value;case"rejected":throw te.reason;default:switch(typeof te.status=="string"?te.then(ee,ee):(te.status="pending",te.then(function(fe){te.status==="pending"&&(te.status="fulfilled",te.value=fe)},function(fe){te.status==="pending"&&(te.status="rejected",te.reason=fe)})),te.status){case"fulfilled":return te.value;case"rejected":throw te.reason}}throw te}function ne(te,fe,se,me,Re){var ye=typeof te;(ye==="undefined"||ye==="boolean")&&(te=null);var oe=!1;if(te===null)oe=!0;else switch(ye){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(te.$$typeof){case e:case t:oe=!0;break;case p:return oe=te._init,ne(oe(te._payload),fe,se,me,Re)}}if(oe)return Re=Re(te),oe=me===""?"."+K(te,0):me,U(Re)?(se="",oe!=null&&(se=oe.replace(X,"$&/")+"/"),ne(Re,fe,se,"",function(xe){return xe})):Re!=null&&(z(Re)&&(Re=$(Re,se+(Re.key==null||te&&te.key===Re.key?"":(""+Re.key).replace(X,"$&/")+"/")+oe)),fe.push(Re)),1;oe=0;var pe=me===""?".":me+":";if(U(te))for(var Ie=0;Ie<te.length;Ie++)me=te[Ie],ye=pe+K(me,Ie),oe+=ne(me,fe,se,ye,Re);else if(Ie=j(te),typeof Ie=="function")for(te=Ie.call(te),Ie=0;!(me=te.next()).done;)me=me.value,ye=pe+K(me,Ie++),oe+=ne(me,fe,se,ye,Re);else if(ye==="object"){if(typeof te.then=="function")return ne(ue(te),fe,se,me,Re);throw fe=String(te),Error("Objects are not valid as a React child (found: "+(fe==="[object Object]"?"object with keys {"+Object.keys(te).join(", ")+"}":fe)+"). If you meant to render a collection of children, use an array instead.")}return oe}function G(te,fe,se){if(te==null)return te;var me=[],Re=0;return ne(te,me,"","",function(ye){return fe.call(se,ye,Re++)}),me}function Q(te){if(te._status===-1){var fe=te._result;fe=fe(),fe.then(function(se){(te._status===0||te._status===-1)&&(te._status=1,te._result=se)},function(se){(te._status===0||te._status===-1)&&(te._status=2,te._result=se)}),te._status===-1&&(te._status=0,te._result=fe)}if(te._status===1)return te._result.default;throw te._result}var ae=typeof reportError=="function"?reportError:function(te){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var fe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof te=="object"&&te!==null&&typeof te.message=="string"?String(te.message):String(te),error:te});if(!window.dispatchEvent(fe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",te);return}console.error(te)};function he(){}return Ft.Children={map:G,forEach:function(te,fe,se){G(te,function(){fe.apply(this,arguments)},se)},count:function(te){var fe=0;return G(te,function(){fe++}),fe},toArray:function(te){return G(te,function(fe){return fe})||[]},only:function(te){if(!z(te))throw Error("React.Children.only expected to receive a single React element child.");return te}},Ft.Component=_,Ft.Fragment=n,Ft.Profiler=a,Ft.PureComponent=P,Ft.StrictMode=r,Ft.Suspense=m,Ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Ft.__COMPILER_RUNTIME={__proto__:null,c:function(te){return F.H.useMemoCache(te)}},Ft.cache=function(te){return function(){return te.apply(null,arguments)}},Ft.cloneElement=function(te,fe,se){if(te==null)throw Error("The argument must be a React element, but you passed "+te+".");var me=O({},te.props),Re=te.key,ye=void 0;if(fe!=null)for(oe in fe.ref!==void 0&&(ye=void 0),fe.key!==void 0&&(Re=""+fe.key),fe)!L.call(fe,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&fe.ref===void 0||(me[oe]=fe[oe]);var oe=arguments.length-2;if(oe===1)me.children=se;else if(1<oe){for(var pe=Array(oe),Ie=0;Ie<oe;Ie++)pe[Ie]=arguments[Ie+2];me.children=pe}return B(te.type,Re,void 0,void 0,ye,me)},Ft.createContext=function(te){return te={$$typeof:c,_currentValue:te,_currentValue2:te,_threadCount:0,Provider:null,Consumer:null},te.Provider=te,te.Consumer={$$typeof:s,_context:te},te},Ft.createElement=function(te,fe,se){var me,Re={},ye=null;if(fe!=null)for(me in fe.key!==void 0&&(ye=""+fe.key),fe)L.call(fe,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Re[me]=fe[me]);var oe=arguments.length-2;if(oe===1)Re.children=se;else if(1<oe){for(var pe=Array(oe),Ie=0;Ie<oe;Ie++)pe[Ie]=arguments[Ie+2];Re.children=pe}if(te&&te.defaultProps)for(me in oe=te.defaultProps,oe)Re[me]===void 0&&(Re[me]=oe[me]);return B(te,ye,void 0,void 0,null,Re)},Ft.createRef=function(){return{current:null}},Ft.forwardRef=function(te){return{$$typeof:f,render:te}},Ft.isValidElement=z,Ft.lazy=function(te){return{$$typeof:p,_payload:{_status:-1,_result:te},_init:Q}},Ft.memo=function(te,fe){return{$$typeof:h,type:te,compare:fe===void 0?null:fe}},Ft.startTransition=function(te){var fe=F.T,se={};F.T=se;try{var me=te(),Re=F.S;Re!==null&&Re(se,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(he,ae)}catch(ye){ae(ye)}finally{F.T=fe}},Ft.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Ft.use=function(te){return F.H.use(te)},Ft.useActionState=function(te,fe,se){return F.H.useActionState(te,fe,se)},Ft.useCallback=function(te,fe){return F.H.useCallback(te,fe)},Ft.useContext=function(te){return F.H.useContext(te)},Ft.useDebugValue=function(){},Ft.useDeferredValue=function(te,fe){return F.H.useDeferredValue(te,fe)},Ft.useEffect=function(te,fe,se){var me=F.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return me.useEffect(te,fe)},Ft.useId=function(){return F.H.useId()},Ft.useImperativeHandle=function(te,fe,se){return F.H.useImperativeHandle(te,fe,se)},Ft.useInsertionEffect=function(te,fe){return F.H.useInsertionEffect(te,fe)},Ft.useLayoutEffect=function(te,fe){return F.H.useLayoutEffect(te,fe)},Ft.useMemo=function(te,fe){return F.H.useMemo(te,fe)},Ft.useOptimistic=function(te,fe){return F.H.useOptimistic(te,fe)},Ft.useReducer=function(te,fe,se){return F.H.useReducer(te,fe,se)},Ft.useRef=function(te){return F.H.useRef(te)},Ft.useState=function(te){return F.H.useState(te)},Ft.useSyncExternalStore=function(te,fe,se){return F.H.useSyncExternalStore(te,fe,se)},Ft.useTransition=function(){return F.H.useTransition()},Ft.version="19.1.0",Ft}var F4;function uh(){return F4||(F4=1,Vb.exports=JV()),Vb.exports}var A=uh();const Ke=Ki(A),QP=XP({__proto__:null,default:Ke},[A]);var $b={exports:{}},Em={},Hb={exports:{}},qb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U4;function e$(){return U4||(U4=1,function(e){function t(G,Q){var ae=G.length;G.push(Q);e:for(;0<ae;){var he=ae-1>>>1,te=G[he];if(0<a(te,Q))G[he]=Q,G[ae]=te,ae=he;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var Q=G[0],ae=G.pop();if(ae!==Q){G[0]=ae;e:for(var he=0,te=G.length,fe=te>>>1;he<fe;){var se=2*(he+1)-1,me=G[se],Re=se+1,ye=G[Re];if(0>a(me,ae))Re<te&&0>a(ye,me)?(G[he]=ye,G[Re]=ae,he=Re):(G[he]=me,G[se]=ae,he=se);else if(Re<te&&0>a(ye,ae))G[he]=ye,G[Re]=ae,he=Re;else break e}}return Q}function a(G,Q){var ae=G.sortIndex-Q.sortIndex;return ae!==0?ae:G.id-Q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var m=[],h=[],p=1,v=null,j=3,E=!1,O=!1,T=!1,_=!1,D=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function U(G){for(var Q=n(h);Q!==null;){if(Q.callback===null)r(h);else if(Q.startTime<=G)r(h),Q.sortIndex=Q.expirationTime,t(m,Q);else break;Q=n(h)}}function F(G){if(T=!1,U(G),!O)if(n(m)!==null)O=!0,L||(L=!0,K());else{var Q=n(h);Q!==null&&ne(F,Q.startTime-G)}}var L=!1,B=-1,$=5,z=-1;function H(){return _?!0:!(e.unstable_now()-z<$)}function X(){if(_=!1,L){var G=e.unstable_now();z=G;var Q=!0;try{e:{O=!1,T&&(T=!1,P(B),B=-1),E=!0;var ae=j;try{t:{for(U(G),v=n(m);v!==null&&!(v.expirationTime>G&&H());){var he=v.callback;if(typeof he=="function"){v.callback=null,j=v.priorityLevel;var te=he(v.expirationTime<=G);if(G=e.unstable_now(),typeof te=="function"){v.callback=te,U(G),Q=!0;break t}v===n(m)&&r(m),U(G)}else r(m);v=n(m)}if(v!==null)Q=!0;else{var fe=n(h);fe!==null&&ne(F,fe.startTime-G),Q=!1}}break e}finally{v=null,j=ae,E=!1}Q=void 0}}finally{Q?K():L=!1}}}var K;if(typeof I=="function")K=function(){I(X)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ue=ee.port2;ee.port1.onmessage=X,K=function(){ue.postMessage(null)}}else K=function(){D(X,0)};function ne(G,Q){B=D(function(){G(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return j},e.unstable_next=function(G){switch(j){case 1:case 2:case 3:var Q=3;break;default:Q=j}var ae=j;j=Q;try{return G()}finally{j=ae}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(G,Q){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ae=j;j=G;try{return Q()}finally{j=ae}},e.unstable_scheduleCallback=function(G,Q,ae){var he=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?he+ae:he):ae=he,G){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=ae+te,G={id:p++,callback:Q,priorityLevel:G,startTime:ae,expirationTime:te,sortIndex:-1},ae>he?(G.sortIndex=ae,t(h,G),n(m)===null&&G===n(h)&&(T?(P(B),B=-1):T=!0,ne(F,ae-he))):(G.sortIndex=te,t(m,G),O||E||(O=!0,L||(L=!0,K()))),G},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(G){var Q=j;return function(){var ae=j;j=Q;try{return G.apply(this,arguments)}finally{j=ae}}}}(qb)),qb}var z4;function t$(){return z4||(z4=1,Hb.exports=e$()),Hb.exports}var Yb={exports:{}},Va={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V4;function n$(){if(V4)return Va;V4=1;var e=uh();function t(m){var h="https://react.dev/errors/"+m;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+m+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(m,h,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:m,containerInfo:h,implementation:p}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,h){if(m==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Va.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Va.createPortal=function(m,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return s(m,h,null,p)},Va.flushSync=function(m){var h=c.T,p=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=h,r.p=p,r.d.f()}},Va.preconnect=function(m,h){typeof m=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(m,h))},Va.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},Va.preinit=function(m,h){if(typeof m=="string"&&h&&typeof h.as=="string"){var p=h.as,v=f(p,h.crossOrigin),j=typeof h.integrity=="string"?h.integrity:void 0,E=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(m,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:j,fetchPriority:E}):p==="script"&&r.d.X(m,{crossOrigin:v,integrity:j,fetchPriority:E,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Va.preinitModule=function(m,h){if(typeof m=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=f(h.as,h.crossOrigin);r.d.M(m,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(m)},Va.preload=function(m,h){if(typeof m=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,v=f(p,h.crossOrigin);r.d.L(m,p,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Va.preloadModule=function(m,h){if(typeof m=="string")if(h){var p=f(h.as,h.crossOrigin);r.d.m(m,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(m)},Va.requestFormReset=function(m){r.d.r(m)},Va.unstable_batchedUpdates=function(m,h){return m(h)},Va.useFormState=function(m,h,p){return c.H.useFormState(m,h,p)},Va.useFormStatus=function(){return c.H.useHostTransitionStatus()},Va.version="19.1.0",Va}var $4;function ZP(){if($4)return Yb.exports;$4=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Yb.exports=n$(),Yb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H4;function r$(){if(H4)return Em;H4=1;var e=t$(),t=uh(),n=ZP();function r(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)u+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var u=o,x=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(x=u.return),o=u.return;while(o)}return u.tag===3?x:null}function c(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function f(o){if(s(o)!==o)throw Error(r(188))}function m(o){var u=o.alternate;if(!u){if(u=s(o),u===null)throw Error(r(188));return u!==o?null:o}for(var x=o,w=u;;){var C=x.return;if(C===null)break;var R=C.alternate;if(R===null){if(w=C.return,w!==null){x=w;continue}break}if(C.child===R.child){for(R=C.child;R;){if(R===x)return f(C),o;if(R===w)return f(C),u;R=R.sibling}throw Error(r(188))}if(x.return!==w.return)x=C,w=R;else{for(var q=!1,J=C.child;J;){if(J===x){q=!0,x=C,w=R;break}if(J===w){q=!0,w=C,x=R;break}J=J.sibling}if(!q){for(J=R.child;J;){if(J===x){q=!0,x=R,w=C;break}if(J===w){q=!0,w=R,x=C;break}J=J.sibling}if(!q)throw Error(r(189))}}if(x.alternate!==w)throw Error(r(190))}if(x.tag!==3)throw Error(r(188));return x.stateNode.current===x?o:u}function h(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=h(o),u!==null)return u;o=o.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),I=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function K(o){return o===null||typeof o!="object"?null:(o=X&&o[X]||o["@@iterator"],typeof o=="function"?o:null)}var ee=Symbol.for("react.client.reference");function ue(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===ee?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case O:return"Fragment";case _:return"Profiler";case T:return"StrictMode";case F:return"Suspense";case L:return"SuspenseList";case z:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case E:return"Portal";case I:return(o.displayName||"Context")+".Provider";case P:return(o._context.displayName||"Context")+".Consumer";case U:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case B:return u=o.displayName||null,u!==null?u:ue(o.type)||"Memo";case $:u=o._payload,o=o._init;try{return ue(o(u))}catch{}}return null}var ne=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},he=[],te=-1;function fe(o){return{current:o}}function se(o){0>te||(o.current=he[te],he[te]=null,te--)}function me(o,u){te++,he[te]=o.current,o.current=u}var Re=fe(null),ye=fe(null),oe=fe(null),pe=fe(null);function Ie(o,u){switch(me(oe,u),me(ye,o),me(Re,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?u4(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=u4(u),o=d4(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}se(Re),me(Re,o)}function xe(){se(Re),se(ye),se(oe)}function Fe(o){o.memoizedState!==null&&me(pe,o);var u=Re.current,x=d4(u,o.type);u!==x&&(me(ye,o),me(Re,x))}function Le(o){ye.current===o&&(se(Re),se(ye)),pe.current===o&&(se(pe),ym._currentValue=ae)}var Ne=Object.prototype.hasOwnProperty,Xe=e.unstable_scheduleCallback,$e=e.unstable_cancelCallback,Ze=e.unstable_shouldYield,Mt=e.unstable_requestPaint,ht=e.unstable_now,Nt=e.unstable_getCurrentPriorityLevel,Qe=e.unstable_ImmediatePriority,ir=e.unstable_UserBlockingPriority,et=e.unstable_NormalPriority,dn=e.unstable_LowPriority,$r=e.unstable_IdlePriority,sr=e.log,Ia=e.unstable_setDisableYieldValue,xn=null,zn=null;function or(o){if(typeof sr=="function"&&Ia(o),zn&&typeof zn.setStrictMode=="function")try{zn.setStrictMode(xn,o)}catch{}}var Zt=Math.clz32?Math.clz32:Qi,ji=Math.log,Es=Math.LN2;function Qi(o){return o>>>=0,o===0?32:31-(ji(o)/Es|0)|0}var nn=256,Ge=4194304;function fn(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function rn(o,u,x){var w=o.pendingLanes;if(w===0)return 0;var C=0,R=o.suspendedLanes,q=o.pingedLanes;o=o.warmLanes;var J=w&134217727;return J!==0?(w=J&~R,w!==0?C=fn(w):(q&=J,q!==0?C=fn(q):x||(x=J&~o,x!==0&&(C=fn(x))))):(J=w&~R,J!==0?C=fn(J):q!==0?C=fn(q):x||(x=w&~o,x!==0&&(C=fn(x)))),C===0?0:u!==0&&u!==C&&(u&R)===0&&(R=C&-C,x=u&-u,R>=x||R===32&&(x&4194048)!==0)?u:C}function bn(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function Ns(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qa(){var o=nn;return nn<<=1,(nn&4194048)===0&&(nn=256),o}function cu(){var o=Ge;return Ge<<=1,(Ge&62914560)===0&&(Ge=4194304),o}function Wt(o){for(var u=[],x=0;31>x;x++)u.push(o);return u}function Pa(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function uu(o,u,x,w,C,R){var q=o.pendingLanes;o.pendingLanes=x,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=x,o.entangledLanes&=x,o.errorRecoveryDisabledLanes&=x,o.shellSuspendCounter=0;var J=o.entanglements,le=o.expirationTimes,Ee=o.hiddenUpdates;for(x=q&~x;0<x;){var Be=31-Zt(x),ze=1<<Be;J[Be]=0,le[Be]=-1;var _e=Ee[Be];if(_e!==null)for(Ee[Be]=null,Be=0;Be<_e.length;Be++){var Te=_e[Be];Te!==null&&(Te.lane&=-536870913)}x&=~ze}w!==0&&Tt(o,w,0),R!==0&&C===0&&o.tag!==0&&(o.suspendedLanes|=R&~(q&~u))}function Tt(o,u,x){o.pendingLanes|=u,o.suspendedLanes&=~u;var w=31-Zt(u);o.entangledLanes|=u,o.entanglements[w]=o.entanglements[w]|1073741824|x&4194090}function un(o,u){var x=o.entangledLanes|=u;for(o=o.entanglements;x;){var w=31-Zt(x),C=1<<w;C&u|o[w]&u&&(o[w]|=u),x&=~C}}function Xn(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function sn(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function ci(){var o=Q.p;return o!==0?o:(o=window.event,o===void 0?32:O4(o.type))}function Qn(o,u){var x=Q.p;try{return Q.p=o,u()}finally{Q.p=x}}var hn=Math.random().toString(36).slice(2),lr="__reactFiber$"+hn,on="__reactProps$"+hn,pr="__reactContainer$"+hn,Er="__reactEvents$"+hn,ja="__reactListeners$"+hn,Za="__reactHandles$"+hn,tt="__reactResources$"+hn,Zi="__reactMarker$"+hn;function du(o){delete o[lr],delete o[on],delete o[Er],delete o[ja],delete o[Za]}function Nr(o){var u=o[lr];if(u)return u;for(var x=o.parentNode;x;){if(u=x[pr]||x[lr]){if(x=u.alternate,u.child!==null||x!==null&&x.child!==null)for(o=g4(o);o!==null;){if(x=o[lr])return x;o=g4(o)}return u}o=x,x=o.parentNode}return null}function Ai(o){if(o=o[lr]||o[pr]){var u=o.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return o}return null}function no(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(r(33))}function _s(o){var u=o[tt];return u||(u=o[tt]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function An(o){o[Zi]=!0}var pg=new Set,xg={};function da(o,u){xr(o,u),xr(o+"Capture",u)}function xr(o,u){for(xg[o]=u,o=0;o<u.length;o++)pg.add(u[o])}var Vn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dh={},Cs={};function Rh(o){return Ne.call(Cs,o)?!0:Ne.call(Dh,o)?!1:Vn.test(o)?Cs[o]=!0:(Dh[o]=!0,!1)}function Ve(o,u,x){if(Rh(u))if(x===null)o.removeAttribute(u);else{switch(typeof x){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var w=u.toLowerCase().slice(0,5);if(w!=="data-"&&w!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+x)}}function _d(o,u,x){if(x===null)o.removeAttribute(u);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+x)}}function mn(o,u,x,w){if(w===null)o.removeAttribute(x);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(x);return}o.setAttributeNS(u,x,""+w)}}var ro,vg;function Gt(o){if(ro===void 0)try{throw Error()}catch(x){var u=x.stack.trim().match(/\n( *(at )?)/);ro=u&&u[1]||"",vg=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ro+o+vg}var an=!1;function zt(o,u){if(!o||an)return"";an=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(u){var ze=function(){throw Error()};if(Object.defineProperty(ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ze,[])}catch(Te){var _e=Te}Reflect.construct(o,[],ze)}else{try{ze.call()}catch(Te){_e=Te}o.call(ze.prototype)}}else{try{throw Error()}catch(Te){_e=Te}(ze=o())&&typeof ze.catch=="function"&&ze.catch(function(){})}}catch(Te){if(Te&&_e&&typeof Te.stack=="string")return[Te.stack,_e.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var R=w.DetermineComponentFrameRoot(),q=R[0],J=R[1];if(q&&J){var le=q.split(`
`),Ee=J.split(`
`);for(C=w=0;w<le.length&&!le[w].includes("DetermineComponentFrameRoot");)w++;for(;C<Ee.length&&!Ee[C].includes("DetermineComponentFrameRoot");)C++;if(w===le.length||C===Ee.length)for(w=le.length-1,C=Ee.length-1;1<=w&&0<=C&&le[w]!==Ee[C];)C--;for(;1<=w&&0<=C;w--,C--)if(le[w]!==Ee[C]){if(w!==1||C!==1)do if(w--,C--,0>C||le[w]!==Ee[C]){var Be=`
`+le[w].replace(" at new "," at ");return o.displayName&&Be.includes("<anonymous>")&&(Be=Be.replace("<anonymous>",o.displayName)),Be}while(1<=w&&0<=C);break}}}finally{an=!1,Error.prepareStackTrace=x}return(x=o?o.displayName||o.name:"")?Gt(x):""}function Ih(o){switch(o.tag){case 26:case 27:case 5:return Gt(o.type);case 16:return Gt("Lazy");case 13:return Gt("Suspense");case 19:return Gt("SuspenseList");case 0:case 15:return zt(o.type,!1);case 11:return zt(o.type.render,!1);case 1:return zt(o.type,!0);case 31:return Gt("Activity");default:return""}}function Cd(o){try{var u="";do u+=Ih(o),o=o.return;while(o);return u}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function ka(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function vr(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function ao(o){var u=vr(o)?"checked":"value",x=Object.getOwnPropertyDescriptor(o.constructor.prototype,u),w=""+o[u];if(!o.hasOwnProperty(u)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var C=x.get,R=x.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return C.call(this)},set:function(q){w=""+q,R.call(this,q)}}),Object.defineProperty(o,u,{enumerable:x.enumerable}),{getValue:function(){return w},setValue:function(q){w=""+q},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function Td(o){o._valueTracker||(o._valueTracker=ao(o))}function Zn(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var x=u.getValue(),w="";return o&&(w=vr(o)?o.checked?"true":"false":o.value),o=w,o!==x?(u.setValue(o),!0):!1}function Ei(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Yv=/[\n"\\]/g;function Jr(o){return o.replace(Yv,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function wn(o,u,x,w,C,R,q,J){o.name="",q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?o.type=q:o.removeAttribute("type"),u!=null?q==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+ka(u)):o.value!==""+ka(u)&&(o.value=""+ka(u)):q!=="submit"&&q!=="reset"||o.removeAttribute("value"),u!=null?je(o,q,ka(u)):x!=null?je(o,q,ka(x)):w!=null&&o.removeAttribute("value"),C==null&&R!=null&&(o.defaultChecked=!!R),C!=null&&(o.checked=C&&typeof C!="function"&&typeof C!="symbol"),J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?o.name=""+ka(J):o.removeAttribute("name")}function ea(o,u,x,w,C,R,q,J){if(R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(o.type=R),u!=null||x!=null){if(!(R!=="submit"&&R!=="reset"||u!=null))return;x=x!=null?""+ka(x):"",u=u!=null?""+ka(u):x,J||u===o.value||(o.value=u),o.defaultValue=u}w=w??C,w=typeof w!="function"&&typeof w!="symbol"&&!!w,o.checked=J?o.checked:!!w,o.defaultChecked=!!w,q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"&&(o.name=q)}function je(o,u,x){u==="number"&&Ei(o.ownerDocument)===o||o.defaultValue===""+x||(o.defaultValue=""+x)}function re(o,u,x,w){if(o=o.options,u){u={};for(var C=0;C<x.length;C++)u["$"+x[C]]=!0;for(x=0;x<o.length;x++)C=u.hasOwnProperty("$"+o[x].value),o[x].selected!==C&&(o[x].selected=C),C&&w&&(o[x].defaultSelected=!0)}else{for(x=""+ka(x),u=null,C=0;C<o.length;C++){if(o[C].value===x){o[C].selected=!0,w&&(o[C].defaultSelected=!0);return}u!==null||o[C].disabled||(u=o[C])}u!==null&&(u.selected=!0)}}function gt(o,u,x){if(u!=null&&(u=""+ka(u),u!==o.value&&(o.value=u),x==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=x!=null?""+ka(x):""}function _r(o,u,x,w){if(u==null){if(w!=null){if(x!=null)throw Error(r(92));if(ne(w)){if(1<w.length)throw Error(r(93));w=w[0]}x=w}x==null&&(x=""),u=x}x=ka(u),o.defaultValue=x,w=o.textContent,w===x&&w!==""&&w!==null&&(o.value=w)}function ta(o,u){if(u){var x=o.firstChild;if(x&&x===o.lastChild&&x.nodeType===3){x.nodeValue=u;return}}o.textContent=u}var Wv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Od(o,u,x){var w=u.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?w?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":w?o.setProperty(u,x):typeof x!="number"||x===0||Wv.has(u)?u==="float"?o.cssFloat=x:o[u]=(""+x).trim():o[u]=x+"px"}function Ja(o,u,x){if(u!=null&&typeof u!="object")throw Error(r(62));if(o=o.style,x!=null){for(var w in x)!x.hasOwnProperty(w)||u!=null&&u.hasOwnProperty(w)||(w.indexOf("--")===0?o.setProperty(w,""):w==="float"?o.cssFloat="":o[w]="");for(var C in u)w=u[C],u.hasOwnProperty(C)&&x[C]!==w&&Od(o,C,w)}else for(var R in u)u.hasOwnProperty(R)&&Od(o,R,u[R])}function xt(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Md(o){return yg.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var fu=null;function Hl(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var io=null,ql=null;function Cr(o){var u=Ai(o);if(u&&(o=u.stateNode)){var x=o[on]||null;e:switch(o=u.stateNode,u.type){case"input":if(wn(o,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),u=x.name,x.type==="radio"&&u!=null){for(x=o;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+Jr(""+u)+'"][type="radio"]'),u=0;u<x.length;u++){var w=x[u];if(w!==o&&w.form===o.form){var C=w[on]||null;if(!C)throw Error(r(90));wn(w,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(u=0;u<x.length;u++)w=x[u],w.form===o.form&&Zn(w)}break e;case"textarea":gt(o,x.value,x.defaultValue);break e;case"select":u=x.value,u!=null&&re(o,!!x.multiple,u,!1)}}}var $o=!1;function Ts(o,u,x){if($o)return o(u,x);$o=!0;try{var w=o(u);return w}finally{if($o=!1,(io!==null||ql!==null)&&(ap(),io&&(u=io,o=ql,ql=io=null,Cr(u),o)))for(u=0;u<o.length;u++)Cr(o[u])}}function yt(o,u){var x=o.stateNode;if(x===null)return null;var w=x[on]||null;if(w===null)return null;x=w[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(o=o.type,w=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!w;break e;default:o=!1}if(o)return null;if(x&&typeof x!="function")throw Error(r(231,u,typeof x));return x}var Os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rt=!1;if(Os)try{var cr={};Object.defineProperty(cr,"passive",{get:function(){Rt=!0}}),window.addEventListener("test",cr,cr),window.removeEventListener("test",cr,cr)}catch{Rt=!1}var so=null,hu=null,mu=null;function oo(){if(mu)return mu;var o,u=hu,x=u.length,w,C="value"in so?so.value:so.textContent,R=C.length;for(o=0;o<x&&u[o]===C[o];o++);var q=x-o;for(w=1;w<=q&&u[x-w]===C[R-w];w++);return mu=C.slice(o,1<w?1-w:void 0)}function Dd(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function lo(){return!0}function Yl(){return!1}function Hr(o){function u(x,w,C,R,q){this._reactName=x,this._targetInst=C,this.type=w,this.nativeEvent=R,this.target=q,this.currentTarget=null;for(var J in o)o.hasOwnProperty(J)&&(x=o[J],this[J]=x?x(R):R[J]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?lo:Yl,this.isPropagationStopped=Yl,this}return p(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=lo)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=lo)},persist:function(){},isPersistent:lo}),u}var co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uo=Hr(co),Ms=p({},co,{view:0,detail:0}),La=Hr(Ms),Rd,Id,Wl,Pd=p({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pu,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Wl&&(Wl&&o.type==="mousemove"?(Rd=o.screenX-Wl.screenX,Id=o.screenY-Wl.screenY):Id=Rd=0,Wl=o),Rd)},movementY:function(o){return"movementY"in o?o.movementY:Id}}),bg=Hr(Pd),Gv=p({},Pd,{dataTransfer:0}),Sn=Hr(Gv),wg=p({},Ms,{relatedTarget:0}),Gl=Hr(wg),fo=p({},co,{animationName:0,elapsedTime:0,pseudoElement:0}),Kv=Hr(fo),Oe=p({},co,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Bt=Hr(Oe),na=p({},co,{data:0}),gu=Hr(na),Sg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zv(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=Qv[o])?!!u[o]:!1}function pu(){return Zv}var Tr=p({},Ms,{key:function(o){if(o.key){var u=Sg[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=Dd(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Xv[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pu,charCode:function(o){return o.type==="keypress"?Dd(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Dd(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Ph=Hr(Tr),Jn=p({},Pd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xu=Hr(Jn),Ho=p({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pu}),En=Hr(Ho),bt=p({},co,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jv=Hr(bt),Ln=p({},Pd,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),qo=Hr(Ln),Kl=p({},co,{newState:0,oldState:0}),ey=Hr(Kl),Ji=[9,13,27,32],vu=Os&&"CompositionEvent"in window,Xl=null;Os&&"documentMode"in document&&(Xl=document.documentMode);var kh=Os&&"TextEvent"in window&&!Xl,Lh=Os&&(!vu||Xl&&8<Xl&&11>=Xl),Bh=" ",jg=!1;function Yo(o,u){switch(o){case"keyup":return Ji.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kd(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ql=!1;function yu(o,u){switch(o){case"compositionend":return kd(u);case"keypress":return u.which!==32?null:(jg=!0,Bh);case"textInput":return o=u.data,o===Bh&&jg?null:o;default:return null}}function ty(o,u){if(Ql)return o==="compositionend"||!vu&&Yo(o,u)?(o=oo(),mu=hu=so=null,Ql=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Lh&&u.locale!=="ko"?null:u.data;default:return null}}var ho={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bu(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!ho[o.type]:u==="textarea"}function ei(o,u,x,w){io?ql?ql.push(w):ql=[w]:io=w,u=up(u,"onChange"),0<u.length&&(x=new uo("onChange","change",null,x,w),o.push({event:x,listeners:u}))}var Zl=null,Ba=null;function ny(o){i4(o,0)}function Jl(o){var u=no(o);if(Zn(u))return o}function Ag(o,u){if(o==="change")return u}var Fh=!1;if(Os){var ui;if(Os){var Uh="oninput"in document;if(!Uh){var Ld=document.createElement("div");Ld.setAttribute("oninput","return;"),Uh=typeof Ld.oninput=="function"}ui=Uh}else ui=!1;Fh=ui&&(!document.documentMode||9<document.documentMode)}function ec(){Zl&&(Zl.detachEvent("onpropertychange",Jt),Ba=Zl=null)}function Jt(o){if(o.propertyName==="value"&&Jl(Ba)){var u=[];ei(u,Ba,o,Hl(o)),Ts(ny,u)}}function Bd(o,u,x){o==="focusin"?(ec(),Zl=u,Ba=x,Zl.attachEvent("onpropertychange",Jt)):o==="focusout"&&ec()}function Y(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Jl(Ba)}function l(o,u){if(o==="click")return Jl(u)}function d(o,u){if(o==="input"||o==="change")return Jl(u)}function g(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var y=typeof Object.is=="function"?Object.is:g;function b(o,u){if(y(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var x=Object.keys(o),w=Object.keys(u);if(x.length!==w.length)return!1;for(w=0;w<x.length;w++){var C=x[w];if(!Ne.call(u,C)||!y(o[C],u[C]))return!1}return!0}function S(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function N(o,u){var x=S(o);o=0;for(var w;x;){if(x.nodeType===3){if(w=o+x.textContent.length,o<=u&&w>=u)return{node:x,offset:u-o};o=w}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=S(x)}}function M(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?M(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function k(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=Ei(o.document);u instanceof o.HTMLIFrameElement;){try{var x=typeof u.contentWindow.location.href=="string"}catch{x=!1}if(x)o=u.contentWindow;else break;u=Ei(o.document)}return u}function V(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var W=Os&&"documentMode"in document&&11>=document.documentMode,Z=null,ie=null,ce=null,de=!1;function Se(o,u,x){var w=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;de||Z==null||Z!==Ei(w)||(w=Z,"selectionStart"in w&&V(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),ce&&b(ce,w)||(ce=w,w=up(ie,"onSelect"),0<w.length&&(u=new uo("onSelect","select",null,u,x),o.push({event:u,listeners:w}),u.target=Z)))}function Ce(o,u){var x={};return x[o.toLowerCase()]=u.toLowerCase(),x["Webkit"+o]="webkit"+u,x["Moz"+o]="moz"+u,x}var qe={animationend:Ce("Animation","AnimationEnd"),animationiteration:Ce("Animation","AnimationIteration"),animationstart:Ce("Animation","AnimationStart"),transitionrun:Ce("Transition","TransitionRun"),transitionstart:Ce("Transition","TransitionStart"),transitioncancel:Ce("Transition","TransitionCancel"),transitionend:Ce("Transition","TransitionEnd")},We={},He={};Os&&(He=document.createElement("div").style,"AnimationEvent"in window||(delete qe.animationend.animation,delete qe.animationiteration.animation,delete qe.animationstart.animation),"TransitionEvent"in window||delete qe.transitionend.transition);function It(o){if(We[o])return We[o];if(!qe[o])return o;var u=qe[o],x;for(x in u)if(u.hasOwnProperty(x)&&x in He)return We[o]=u[x];return o}var Dt=It("animationend"),Aa=It("animationiteration"),di=It("animationstart"),Fa=It("transitionrun"),Nn=It("transitionstart"),ra=It("transitioncancel"),Ua=It("transitionend"),Wo=new Map,mo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mo.push("scrollEnd");function Ni(o,u){Wo.set(o,u),da(u,[o])}var Eg=new WeakMap;function es(o,u){if(typeof o=="object"&&o!==null){var x=Eg.get(o);return x!==void 0?x:(u={value:o,source:u,stack:Cd(u)},Eg.set(o,u),u)}return{value:o,source:u,stack:Cd(u)}}var ts=[],Fd=0,ry=0;function Ng(){for(var o=Fd,u=ry=Fd=0;u<o;){var x=ts[u];ts[u++]=null;var w=ts[u];ts[u++]=null;var C=ts[u];ts[u++]=null;var R=ts[u];if(ts[u++]=null,w!==null&&C!==null){var q=w.pending;q===null?C.next=C:(C.next=q.next,q.next=C),w.pending=C}R!==0&&$_(x,C,R)}}function _g(o,u,x,w){ts[Fd++]=o,ts[Fd++]=u,ts[Fd++]=x,ts[Fd++]=w,ry|=w,o.lanes|=w,o=o.alternate,o!==null&&(o.lanes|=w)}function ay(o,u,x,w){return _g(o,u,x,w),Cg(o)}function Ud(o,u){return _g(o,null,null,u),Cg(o)}function $_(o,u,x){o.lanes|=x;var w=o.alternate;w!==null&&(w.lanes|=x);for(var C=!1,R=o.return;R!==null;)R.childLanes|=x,w=R.alternate,w!==null&&(w.childLanes|=x),R.tag===22&&(o=R.stateNode,o===null||o._visibility&1||(C=!0)),o=R,R=R.return;return o.tag===3?(R=o.stateNode,C&&u!==null&&(C=31-Zt(x),o=R.hiddenUpdates,w=o[C],w===null?o[C]=[u]:w.push(u),u.lane=x|536870912),R):null}function Cg(o){if(50<dm)throw dm=0,ub=null,Error(r(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var zd={};function Rz(o,u,x,w){this.tag=o,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _i(o,u,x,w){return new Rz(o,u,x,w)}function iy(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Go(o,u){var x=o.alternate;return x===null?(x=_i(o.tag,u,o.key,o.mode),x.elementType=o.elementType,x.type=o.type,x.stateNode=o.stateNode,x.alternate=o,o.alternate=x):(x.pendingProps=u,x.type=o.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=o.flags&65011712,x.childLanes=o.childLanes,x.lanes=o.lanes,x.child=o.child,x.memoizedProps=o.memoizedProps,x.memoizedState=o.memoizedState,x.updateQueue=o.updateQueue,u=o.dependencies,x.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},x.sibling=o.sibling,x.index=o.index,x.ref=o.ref,x.refCleanup=o.refCleanup,x}function H_(o,u){o.flags&=65011714;var x=o.alternate;return x===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=x.childLanes,o.lanes=x.lanes,o.child=x.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=x.memoizedProps,o.memoizedState=x.memoizedState,o.updateQueue=x.updateQueue,o.type=x.type,u=x.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function Tg(o,u,x,w,C,R){var q=0;if(w=o,typeof o=="function")iy(o)&&(q=1);else if(typeof o=="string")q=PV(o,x,Re.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case z:return o=_i(31,x,u,C),o.elementType=z,o.lanes=R,o;case O:return wu(x.children,C,R,u);case T:q=8,C|=24;break;case _:return o=_i(12,x,u,C|2),o.elementType=_,o.lanes=R,o;case F:return o=_i(13,x,u,C),o.elementType=F,o.lanes=R,o;case L:return o=_i(19,x,u,C),o.elementType=L,o.lanes=R,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case D:case I:q=10;break e;case P:q=9;break e;case U:q=11;break e;case B:q=14;break e;case $:q=16,w=null;break e}q=29,x=Error(r(130,o===null?"null":typeof o,"")),w=null}return u=_i(q,x,u,C),u.elementType=o,u.type=w,u.lanes=R,u}function wu(o,u,x,w){return o=_i(7,o,w,u),o.lanes=x,o}function sy(o,u,x){return o=_i(6,o,null,u),o.lanes=x,o}function oy(o,u,x){return u=_i(4,o.children!==null?o.children:[],o.key,u),u.lanes=x,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var Vd=[],$d=0,Og=null,Mg=0,ns=[],rs=0,Su=null,Ko=1,Xo="";function ju(o,u){Vd[$d++]=Mg,Vd[$d++]=Og,Og=o,Mg=u}function q_(o,u,x){ns[rs++]=Ko,ns[rs++]=Xo,ns[rs++]=Su,Su=o;var w=Ko;o=Xo;var C=32-Zt(w)-1;w&=~(1<<C),x+=1;var R=32-Zt(u)+C;if(30<R){var q=C-C%5;R=(w&(1<<q)-1).toString(32),w>>=q,C-=q,Ko=1<<32-Zt(u)+C|x<<C|w,Xo=R+o}else Ko=1<<R|x<<C|w,Xo=o}function ly(o){o.return!==null&&(ju(o,1),q_(o,1,0))}function cy(o){for(;o===Og;)Og=Vd[--$d],Vd[$d]=null,Mg=Vd[--$d],Vd[$d]=null;for(;o===Su;)Su=ns[--rs],ns[rs]=null,Xo=ns[--rs],ns[rs]=null,Ko=ns[--rs],ns[rs]=null}var ti=null,yr=null,vn=!1,Au=null,go=!1,uy=Error(r(519));function Eu(o){var u=Error(r(418,""));throw $h(es(u,o)),uy}function Y_(o){var u=o.stateNode,x=o.type,w=o.memoizedProps;switch(u[lr]=o,u[on]=w,x){case"dialog":Xt("cancel",u),Xt("close",u);break;case"iframe":case"object":case"embed":Xt("load",u);break;case"video":case"audio":for(x=0;x<hm.length;x++)Xt(hm[x],u);break;case"source":Xt("error",u);break;case"img":case"image":case"link":Xt("error",u),Xt("load",u);break;case"details":Xt("toggle",u);break;case"input":Xt("invalid",u),ea(u,w.value,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name,!0),Td(u);break;case"select":Xt("invalid",u);break;case"textarea":Xt("invalid",u),_r(u,w.value,w.defaultValue,w.children),Td(u)}x=w.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||u.textContent===""+x||w.suppressHydrationWarning===!0||c4(u.textContent,x)?(w.popover!=null&&(Xt("beforetoggle",u),Xt("toggle",u)),w.onScroll!=null&&Xt("scroll",u),w.onScrollEnd!=null&&Xt("scrollend",u),w.onClick!=null&&(u.onclick=dp),u=!0):u=!1,u||Eu(o)}function W_(o){for(ti=o.return;ti;)switch(ti.tag){case 5:case 13:go=!1;return;case 27:case 3:go=!0;return;default:ti=ti.return}}function zh(o){if(o!==ti)return!1;if(!vn)return W_(o),vn=!0,!1;var u=o.tag,x;if((x=u!==3&&u!==27)&&((x=u===5)&&(x=o.type,x=!(x!=="form"&&x!=="button")||Nb(o.type,o.memoizedProps)),x=!x),x&&yr&&Eu(o),W_(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,u=0;o;){if(o.nodeType===8)if(x=o.data,x==="/$"){if(u===0){yr=Rs(o.nextSibling);break e}u--}else x!=="$"&&x!=="$!"&&x!=="$?"||u++;o=o.nextSibling}yr=null}}else u===27?(u=yr,pc(o.type)?(o=Ob,Ob=null,yr=o):yr=u):yr=ti?Rs(o.stateNode.nextSibling):null;return!0}function Vh(){yr=ti=null,vn=!1}function G_(){var o=Au;return o!==null&&(mi===null?mi=o:mi.push.apply(mi,o),Au=null),o}function $h(o){Au===null?Au=[o]:Au.push(o)}var dy=fe(null),Nu=null,Qo=null;function tc(o,u,x){me(dy,u._currentValue),u._currentValue=x}function Zo(o){o._currentValue=dy.current,se(dy)}function fy(o,u,x){for(;o!==null;){var w=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,w!==null&&(w.childLanes|=u)):w!==null&&(w.childLanes&u)!==u&&(w.childLanes|=u),o===x)break;o=o.return}}function hy(o,u,x,w){var C=o.child;for(C!==null&&(C.return=o);C!==null;){var R=C.dependencies;if(R!==null){var q=C.child;R=R.firstContext;e:for(;R!==null;){var J=R;R=C;for(var le=0;le<u.length;le++)if(J.context===u[le]){R.lanes|=x,J=R.alternate,J!==null&&(J.lanes|=x),fy(R.return,x,o),w||(q=null);break e}R=J.next}}else if(C.tag===18){if(q=C.return,q===null)throw Error(r(341));q.lanes|=x,R=q.alternate,R!==null&&(R.lanes|=x),fy(q,x,o),q=null}else q=C.child;if(q!==null)q.return=C;else for(q=C;q!==null;){if(q===o){q=null;break}if(C=q.sibling,C!==null){C.return=q.return,q=C;break}q=q.return}C=q}}function Hh(o,u,x,w){o=null;for(var C=u,R=!1;C!==null;){if(!R){if((C.flags&524288)!==0)R=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var q=C.alternate;if(q===null)throw Error(r(387));if(q=q.memoizedProps,q!==null){var J=C.type;y(C.pendingProps.value,q.value)||(o!==null?o.push(J):o=[J])}}else if(C===pe.current){if(q=C.alternate,q===null)throw Error(r(387));q.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(o!==null?o.push(ym):o=[ym])}C=C.return}o!==null&&hy(u,o,x,w),u.flags|=262144}function Dg(o){for(o=o.firstContext;o!==null;){if(!y(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function _u(o){Nu=o,Qo=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function za(o){return K_(Nu,o)}function Rg(o,u){return Nu===null&&_u(o),K_(o,u)}function K_(o,u){var x=u._currentValue;if(u={context:u,memoizedValue:x,next:null},Qo===null){if(o===null)throw Error(r(308));Qo=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else Qo=Qo.next=u;return x}var Iz=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(x,w){o.push(w)}};this.abort=function(){u.aborted=!0,o.forEach(function(x){return x()})}},Pz=e.unstable_scheduleCallback,kz=e.unstable_NormalPriority,aa={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function my(){return{controller:new Iz,data:new Map,refCount:0}}function qh(o){o.refCount--,o.refCount===0&&Pz(kz,function(){o.controller.abort()})}var Yh=null,gy=0,Hd=0,qd=null;function Lz(o,u){if(Yh===null){var x=Yh=[];gy=0,Hd=xb(),qd={status:"pending",value:void 0,then:function(w){x.push(w)}}}return gy++,u.then(X_,X_),u}function X_(){if(--gy===0&&Yh!==null){qd!==null&&(qd.status="fulfilled");var o=Yh;Yh=null,Hd=0,qd=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function Bz(o,u){var x=[],w={status:"pending",value:null,reason:null,then:function(C){x.push(C)}};return o.then(function(){w.status="fulfilled",w.value=u;for(var C=0;C<x.length;C++)(0,x[C])(u)},function(C){for(w.status="rejected",w.reason=C,C=0;C<x.length;C++)(0,x[C])(void 0)}),w}var Q_=G.S;G.S=function(o,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&Lz(o,u),Q_!==null&&Q_(o,u)};var Cu=fe(null);function py(){var o=Cu.current;return o!==null?o:$n.pooledCache}function Ig(o,u){u===null?me(Cu,Cu.current):me(Cu,u.pool)}function Z_(){var o=py();return o===null?null:{parent:aa._currentValue,pool:o}}var Wh=Error(r(460)),J_=Error(r(474)),Pg=Error(r(542)),xy={then:function(){}};function eC(o){return o=o.status,o==="fulfilled"||o==="rejected"}function kg(){}function tC(o,u,x){switch(x=o[x],x===void 0?o.push(u):x!==u&&(u.then(kg,kg),u=x),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,rC(o),o;default:if(typeof u.status=="string")u.then(kg,kg);else{if(o=$n,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=u,o.status="pending",o.then(function(w){if(u.status==="pending"){var C=u;C.status="fulfilled",C.value=w}},function(w){if(u.status==="pending"){var C=u;C.status="rejected",C.reason=w}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,rC(o),o}throw Gh=u,Wh}}var Gh=null;function nC(){if(Gh===null)throw Error(r(459));var o=Gh;return Gh=null,o}function rC(o){if(o===Wh||o===Pg)throw Error(r(483))}var nc=!1;function vy(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yy(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function rc(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function ac(o,u,x){var w=o.updateQueue;if(w===null)return null;if(w=w.shared,(_n&2)!==0){var C=w.pending;return C===null?u.next=u:(u.next=C.next,C.next=u),w.pending=u,u=Cg(o),$_(o,null,x),u}return _g(o,w,u,x),Cg(o)}function Kh(o,u,x){if(u=u.updateQueue,u!==null&&(u=u.shared,(x&4194048)!==0)){var w=u.lanes;w&=o.pendingLanes,x|=w,u.lanes=x,un(o,x)}}function by(o,u){var x=o.updateQueue,w=o.alternate;if(w!==null&&(w=w.updateQueue,x===w)){var C=null,R=null;if(x=x.firstBaseUpdate,x!==null){do{var q={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};R===null?C=R=q:R=R.next=q,x=x.next}while(x!==null);R===null?C=R=u:R=R.next=u}else C=R=u;x={baseState:w.baseState,firstBaseUpdate:C,lastBaseUpdate:R,shared:w.shared,callbacks:w.callbacks},o.updateQueue=x;return}o=x.lastBaseUpdate,o===null?x.firstBaseUpdate=u:o.next=u,x.lastBaseUpdate=u}var wy=!1;function Xh(){if(wy){var o=qd;if(o!==null)throw o}}function Qh(o,u,x,w){wy=!1;var C=o.updateQueue;nc=!1;var R=C.firstBaseUpdate,q=C.lastBaseUpdate,J=C.shared.pending;if(J!==null){C.shared.pending=null;var le=J,Ee=le.next;le.next=null,q===null?R=Ee:q.next=Ee,q=le;var Be=o.alternate;Be!==null&&(Be=Be.updateQueue,J=Be.lastBaseUpdate,J!==q&&(J===null?Be.firstBaseUpdate=Ee:J.next=Ee,Be.lastBaseUpdate=le))}if(R!==null){var ze=C.baseState;q=0,Be=Ee=le=null,J=R;do{var _e=J.lane&-536870913,Te=_e!==J.lane;if(Te?(ln&_e)===_e:(w&_e)===_e){_e!==0&&_e===Hd&&(wy=!0),Be!==null&&(Be=Be.next={lane:0,tag:J.tag,payload:J.payload,callback:null,next:null});e:{var _t=o,St=J;_e=u;var kn=x;switch(St.tag){case 1:if(_t=St.payload,typeof _t=="function"){ze=_t.call(kn,ze,_e);break e}ze=_t;break e;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=St.payload,_e=typeof _t=="function"?_t.call(kn,ze,_e):_t,_e==null)break e;ze=p({},ze,_e);break e;case 2:nc=!0}}_e=J.callback,_e!==null&&(o.flags|=64,Te&&(o.flags|=8192),Te=C.callbacks,Te===null?C.callbacks=[_e]:Te.push(_e))}else Te={lane:_e,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Be===null?(Ee=Be=Te,le=ze):Be=Be.next=Te,q|=_e;if(J=J.next,J===null){if(J=C.shared.pending,J===null)break;Te=J,J=Te.next,Te.next=null,C.lastBaseUpdate=Te,C.shared.pending=null}}while(!0);Be===null&&(le=ze),C.baseState=le,C.firstBaseUpdate=Ee,C.lastBaseUpdate=Be,R===null&&(C.shared.lanes=0),fc|=q,o.lanes=q,o.memoizedState=ze}}function aC(o,u){if(typeof o!="function")throw Error(r(191,o));o.call(u)}function iC(o,u){var x=o.callbacks;if(x!==null)for(o.callbacks=null,o=0;o<x.length;o++)aC(x[o],u)}var Yd=fe(null),Lg=fe(0);function sC(o,u){o=il,me(Lg,o),me(Yd,u),il=o|u.baseLanes}function Sy(){me(Lg,il),me(Yd,Yd.current)}function jy(){il=Lg.current,se(Yd),se(Lg)}var ic=0,Vt=null,In=null,qr=null,Bg=!1,Wd=!1,Tu=!1,Fg=0,Zh=0,Gd=null,Fz=0;function Or(){throw Error(r(321))}function Ay(o,u){if(u===null)return!1;for(var x=0;x<u.length&&x<o.length;x++)if(!y(o[x],u[x]))return!1;return!0}function Ey(o,u,x,w,C,R){return ic=R,Vt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,G.H=o===null||o.memoizedState===null?$C:HC,Tu=!1,R=x(w,C),Tu=!1,Wd&&(R=lC(u,x,w,C)),oC(o),R}function oC(o){G.H=qg;var u=In!==null&&In.next!==null;if(ic=0,qr=In=Vt=null,Bg=!1,Zh=0,Gd=null,u)throw Error(r(300));o===null||fa||(o=o.dependencies,o!==null&&Dg(o)&&(fa=!0))}function lC(o,u,x,w){Vt=o;var C=0;do{if(Wd&&(Gd=null),Zh=0,Wd=!1,25<=C)throw Error(r(301));if(C+=1,qr=In=null,o.updateQueue!=null){var R=o.updateQueue;R.lastEffect=null,R.events=null,R.stores=null,R.memoCache!=null&&(R.memoCache.index=0)}G.H=Yz,R=u(x,w)}while(Wd);return R}function Uz(){var o=G.H,u=o.useState()[0];return u=typeof u.then=="function"?Jh(u):u,o=o.useState()[0],(In!==null?In.memoizedState:null)!==o&&(Vt.flags|=1024),u}function Ny(){var o=Fg!==0;return Fg=0,o}function _y(o,u,x){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~x}function Cy(o){if(Bg){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}Bg=!1}ic=0,qr=In=Vt=null,Wd=!1,Zh=Fg=0,Gd=null}function fi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qr===null?Vt.memoizedState=qr=o:qr=qr.next=o,qr}function Yr(){if(In===null){var o=Vt.alternate;o=o!==null?o.memoizedState:null}else o=In.next;var u=qr===null?Vt.memoizedState:qr.next;if(u!==null)qr=u,In=o;else{if(o===null)throw Vt.alternate===null?Error(r(467)):Error(r(310));In=o,o={memoizedState:In.memoizedState,baseState:In.baseState,baseQueue:In.baseQueue,queue:In.queue,next:null},qr===null?Vt.memoizedState=qr=o:qr=qr.next=o}return qr}function Ty(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jh(o){var u=Zh;return Zh+=1,Gd===null&&(Gd=[]),o=tC(Gd,o,u),u=Vt,(qr===null?u.memoizedState:qr.next)===null&&(u=u.alternate,G.H=u===null||u.memoizedState===null?$C:HC),o}function Ug(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Jh(o);if(o.$$typeof===I)return za(o)}throw Error(r(438,String(o)))}function Oy(o){var u=null,x=Vt.updateQueue;if(x!==null&&(u=x.memoCache),u==null){var w=Vt.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(u={data:w.data.map(function(C){return C.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),x===null&&(x=Ty(),Vt.updateQueue=x),x.memoCache=u,x=u.data[u.index],x===void 0)for(x=u.data[u.index]=Array(o),w=0;w<o;w++)x[w]=H;return u.index++,x}function Jo(o,u){return typeof u=="function"?u(o):u}function zg(o){var u=Yr();return My(u,In,o)}function My(o,u,x){var w=o.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=x;var C=o.baseQueue,R=w.pending;if(R!==null){if(C!==null){var q=C.next;C.next=R.next,R.next=q}u.baseQueue=C=R,w.pending=null}if(R=o.baseState,C===null)o.memoizedState=R;else{u=C.next;var J=q=null,le=null,Ee=u,Be=!1;do{var ze=Ee.lane&-536870913;if(ze!==Ee.lane?(ln&ze)===ze:(ic&ze)===ze){var _e=Ee.revertLane;if(_e===0)le!==null&&(le=le.next={lane:0,revertLane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),ze===Hd&&(Be=!0);else if((ic&_e)===_e){Ee=Ee.next,_e===Hd&&(Be=!0);continue}else ze={lane:0,revertLane:Ee.revertLane,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},le===null?(J=le=ze,q=R):le=le.next=ze,Vt.lanes|=_e,fc|=_e;ze=Ee.action,Tu&&x(R,ze),R=Ee.hasEagerState?Ee.eagerState:x(R,ze)}else _e={lane:ze,revertLane:Ee.revertLane,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},le===null?(J=le=_e,q=R):le=le.next=_e,Vt.lanes|=ze,fc|=ze;Ee=Ee.next}while(Ee!==null&&Ee!==u);if(le===null?q=R:le.next=J,!y(R,o.memoizedState)&&(fa=!0,Be&&(x=qd,x!==null)))throw x;o.memoizedState=R,o.baseState=q,o.baseQueue=le,w.lastRenderedState=R}return C===null&&(w.lanes=0),[o.memoizedState,w.dispatch]}function Dy(o){var u=Yr(),x=u.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=o;var w=x.dispatch,C=x.pending,R=u.memoizedState;if(C!==null){x.pending=null;var q=C=C.next;do R=o(R,q.action),q=q.next;while(q!==C);y(R,u.memoizedState)||(fa=!0),u.memoizedState=R,u.baseQueue===null&&(u.baseState=R),x.lastRenderedState=R}return[R,w]}function cC(o,u,x){var w=Vt,C=Yr(),R=vn;if(R){if(x===void 0)throw Error(r(407));x=x()}else x=u();var q=!y((In||C).memoizedState,x);q&&(C.memoizedState=x,fa=!0),C=C.queue;var J=fC.bind(null,w,C,o);if(em(2048,8,J,[o]),C.getSnapshot!==u||q||qr!==null&&qr.memoizedState.tag&1){if(w.flags|=2048,Kd(9,Vg(),dC.bind(null,w,C,x,u),null),$n===null)throw Error(r(349));R||(ic&124)!==0||uC(w,u,x)}return x}function uC(o,u,x){o.flags|=16384,o={getSnapshot:u,value:x},u=Vt.updateQueue,u===null?(u=Ty(),Vt.updateQueue=u,u.stores=[o]):(x=u.stores,x===null?u.stores=[o]:x.push(o))}function dC(o,u,x,w){u.value=x,u.getSnapshot=w,hC(u)&&mC(o)}function fC(o,u,x){return x(function(){hC(u)&&mC(o)})}function hC(o){var u=o.getSnapshot;o=o.value;try{var x=u();return!y(o,x)}catch{return!0}}function mC(o){var u=Ud(o,2);u!==null&&Di(u,o,2)}function Ry(o){var u=fi();if(typeof o=="function"){var x=o;if(o=x(),Tu){or(!0);try{x()}finally{or(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:o},u}function gC(o,u,x,w){return o.baseState=x,My(o,In,typeof w=="function"?w:Jo)}function zz(o,u,x,w,C){if(Hg(o))throw Error(r(485));if(o=u.action,o!==null){var R={payload:C,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(q){R.listeners.push(q)}};G.T!==null?x(!0):R.isTransition=!1,w(R),x=u.pending,x===null?(R.next=u.pending=R,pC(u,R)):(R.next=x.next,u.pending=x.next=R)}}function pC(o,u){var x=u.action,w=u.payload,C=o.state;if(u.isTransition){var R=G.T,q={};G.T=q;try{var J=x(C,w),le=G.S;le!==null&&le(q,J),xC(o,u,J)}catch(Ee){Iy(o,u,Ee)}finally{G.T=R}}else try{R=x(C,w),xC(o,u,R)}catch(Ee){Iy(o,u,Ee)}}function xC(o,u,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(w){vC(o,u,w)},function(w){return Iy(o,u,w)}):vC(o,u,x)}function vC(o,u,x){u.status="fulfilled",u.value=x,yC(u),o.state=x,u=o.pending,u!==null&&(x=u.next,x===u?o.pending=null:(x=x.next,u.next=x,pC(o,x)))}function Iy(o,u,x){var w=o.pending;if(o.pending=null,w!==null){w=w.next;do u.status="rejected",u.reason=x,yC(u),u=u.next;while(u!==w)}o.action=null}function yC(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function bC(o,u){return u}function wC(o,u){if(vn){var x=$n.formState;if(x!==null){e:{var w=Vt;if(vn){if(yr){t:{for(var C=yr,R=go;C.nodeType!==8;){if(!R){C=null;break t}if(C=Rs(C.nextSibling),C===null){C=null;break t}}R=C.data,C=R==="F!"||R==="F"?C:null}if(C){yr=Rs(C.nextSibling),w=C.data==="F!";break e}}Eu(w)}w=!1}w&&(u=x[0])}}return x=fi(),x.memoizedState=x.baseState=u,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bC,lastRenderedState:u},x.queue=w,x=UC.bind(null,Vt,w),w.dispatch=x,w=Ry(!1),R=Fy.bind(null,Vt,!1,w.queue),w=fi(),C={state:u,dispatch:null,action:o,pending:null},w.queue=C,x=zz.bind(null,Vt,C,R,x),C.dispatch=x,w.memoizedState=o,[u,x,!1]}function SC(o){var u=Yr();return jC(u,In,o)}function jC(o,u,x){if(u=My(o,u,bC)[0],o=zg(Jo)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var w=Jh(u)}catch(q){throw q===Wh?Pg:q}else w=u;u=Yr();var C=u.queue,R=C.dispatch;return x!==u.memoizedState&&(Vt.flags|=2048,Kd(9,Vg(),Vz.bind(null,C,x),null)),[w,R,o]}function Vz(o,u){o.action=u}function AC(o){var u=Yr(),x=In;if(x!==null)return jC(u,x,o);Yr(),u=u.memoizedState,x=Yr();var w=x.queue.dispatch;return x.memoizedState=o,[u,w,!1]}function Kd(o,u,x,w){return o={tag:o,create:x,deps:w,inst:u,next:null},u=Vt.updateQueue,u===null&&(u=Ty(),Vt.updateQueue=u),x=u.lastEffect,x===null?u.lastEffect=o.next=o:(w=x.next,x.next=o,o.next=w,u.lastEffect=o),o}function Vg(){return{destroy:void 0,resource:void 0}}function EC(){return Yr().memoizedState}function $g(o,u,x,w){var C=fi();w=w===void 0?null:w,Vt.flags|=o,C.memoizedState=Kd(1|u,Vg(),x,w)}function em(o,u,x,w){var C=Yr();w=w===void 0?null:w;var R=C.memoizedState.inst;In!==null&&w!==null&&Ay(w,In.memoizedState.deps)?C.memoizedState=Kd(u,R,x,w):(Vt.flags|=o,C.memoizedState=Kd(1|u,R,x,w))}function NC(o,u){$g(8390656,8,o,u)}function _C(o,u){em(2048,8,o,u)}function CC(o,u){return em(4,2,o,u)}function TC(o,u){return em(4,4,o,u)}function OC(o,u){if(typeof u=="function"){o=o();var x=u(o);return function(){typeof x=="function"?x():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function MC(o,u,x){x=x!=null?x.concat([o]):null,em(4,4,OC.bind(null,u,o),x)}function Py(){}function DC(o,u){var x=Yr();u=u===void 0?null:u;var w=x.memoizedState;return u!==null&&Ay(u,w[1])?w[0]:(x.memoizedState=[o,u],o)}function RC(o,u){var x=Yr();u=u===void 0?null:u;var w=x.memoizedState;if(u!==null&&Ay(u,w[1]))return w[0];if(w=o(),Tu){or(!0);try{o()}finally{or(!1)}}return x.memoizedState=[w,u],w}function ky(o,u,x){return x===void 0||(ic&1073741824)!==0?o.memoizedState=u:(o.memoizedState=x,o=kT(),Vt.lanes|=o,fc|=o,x)}function IC(o,u,x,w){return y(x,u)?x:Yd.current!==null?(o=ky(o,x,w),y(o,u)||(fa=!0),o):(ic&42)===0?(fa=!0,o.memoizedState=x):(o=kT(),Vt.lanes|=o,fc|=o,u)}function PC(o,u,x,w,C){var R=Q.p;Q.p=R!==0&&8>R?R:8;var q=G.T,J={};G.T=J,Fy(o,!1,u,x);try{var le=C(),Ee=G.S;if(Ee!==null&&Ee(J,le),le!==null&&typeof le=="object"&&typeof le.then=="function"){var Be=Bz(le,w);tm(o,u,Be,Mi(o))}else tm(o,u,w,Mi(o))}catch(ze){tm(o,u,{then:function(){},status:"rejected",reason:ze},Mi())}finally{Q.p=R,G.T=q}}function $z(){}function Ly(o,u,x,w){if(o.tag!==5)throw Error(r(476));var C=kC(o).queue;PC(o,C,u,ae,x===null?$z:function(){return LC(o),x(w)})}function kC(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:ae},next:null};var x={};return u.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:x},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function LC(o){var u=kC(o).next.queue;tm(o,u,{},Mi())}function By(){return za(ym)}function BC(){return Yr().memoizedState}function FC(){return Yr().memoizedState}function Hz(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var x=Mi();o=rc(x);var w=ac(u,o,x);w!==null&&(Di(w,u,x),Kh(w,u,x)),u={cache:my()},o.payload=u;return}u=u.return}}function qz(o,u,x){var w=Mi();x={lane:w,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},Hg(o)?zC(u,x):(x=ay(o,u,x,w),x!==null&&(Di(x,o,w),VC(x,u,w)))}function UC(o,u,x){var w=Mi();tm(o,u,x,w)}function tm(o,u,x,w){var C={lane:w,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(Hg(o))zC(u,C);else{var R=o.alternate;if(o.lanes===0&&(R===null||R.lanes===0)&&(R=u.lastRenderedReducer,R!==null))try{var q=u.lastRenderedState,J=R(q,x);if(C.hasEagerState=!0,C.eagerState=J,y(J,q))return _g(o,u,C,0),$n===null&&Ng(),!1}catch{}finally{}if(x=ay(o,u,C,w),x!==null)return Di(x,o,w),VC(x,u,w),!0}return!1}function Fy(o,u,x,w){if(w={lane:2,revertLane:xb(),action:w,hasEagerState:!1,eagerState:null,next:null},Hg(o)){if(u)throw Error(r(479))}else u=ay(o,x,w,2),u!==null&&Di(u,o,2)}function Hg(o){var u=o.alternate;return o===Vt||u!==null&&u===Vt}function zC(o,u){Wd=Bg=!0;var x=o.pending;x===null?u.next=u:(u.next=x.next,x.next=u),o.pending=u}function VC(o,u,x){if((x&4194048)!==0){var w=u.lanes;w&=o.pendingLanes,x|=w,u.lanes=x,un(o,x)}}var qg={readContext:za,use:Ug,useCallback:Or,useContext:Or,useEffect:Or,useImperativeHandle:Or,useLayoutEffect:Or,useInsertionEffect:Or,useMemo:Or,useReducer:Or,useRef:Or,useState:Or,useDebugValue:Or,useDeferredValue:Or,useTransition:Or,useSyncExternalStore:Or,useId:Or,useHostTransitionStatus:Or,useFormState:Or,useActionState:Or,useOptimistic:Or,useMemoCache:Or,useCacheRefresh:Or},$C={readContext:za,use:Ug,useCallback:function(o,u){return fi().memoizedState=[o,u===void 0?null:u],o},useContext:za,useEffect:NC,useImperativeHandle:function(o,u,x){x=x!=null?x.concat([o]):null,$g(4194308,4,OC.bind(null,u,o),x)},useLayoutEffect:function(o,u){return $g(4194308,4,o,u)},useInsertionEffect:function(o,u){$g(4,2,o,u)},useMemo:function(o,u){var x=fi();u=u===void 0?null:u;var w=o();if(Tu){or(!0);try{o()}finally{or(!1)}}return x.memoizedState=[w,u],w},useReducer:function(o,u,x){var w=fi();if(x!==void 0){var C=x(u);if(Tu){or(!0);try{x(u)}finally{or(!1)}}}else C=u;return w.memoizedState=w.baseState=C,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:C},w.queue=o,o=o.dispatch=qz.bind(null,Vt,o),[w.memoizedState,o]},useRef:function(o){var u=fi();return o={current:o},u.memoizedState=o},useState:function(o){o=Ry(o);var u=o.queue,x=UC.bind(null,Vt,u);return u.dispatch=x,[o.memoizedState,x]},useDebugValue:Py,useDeferredValue:function(o,u){var x=fi();return ky(x,o,u)},useTransition:function(){var o=Ry(!1);return o=PC.bind(null,Vt,o.queue,!0,!1),fi().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,x){var w=Vt,C=fi();if(vn){if(x===void 0)throw Error(r(407));x=x()}else{if(x=u(),$n===null)throw Error(r(349));(ln&124)!==0||uC(w,u,x)}C.memoizedState=x;var R={value:x,getSnapshot:u};return C.queue=R,NC(fC.bind(null,w,R,o),[o]),w.flags|=2048,Kd(9,Vg(),dC.bind(null,w,R,x,u),null),x},useId:function(){var o=fi(),u=$n.identifierPrefix;if(vn){var x=Xo,w=Ko;x=(w&~(1<<32-Zt(w)-1)).toString(32)+x,u="«"+u+"R"+x,x=Fg++,0<x&&(u+="H"+x.toString(32)),u+="»"}else x=Fz++,u="«"+u+"r"+x.toString(32)+"»";return o.memoizedState=u},useHostTransitionStatus:By,useFormState:wC,useActionState:wC,useOptimistic:function(o){var u=fi();u.memoizedState=u.baseState=o;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=x,u=Fy.bind(null,Vt,!0,x),x.dispatch=u,[o,u]},useMemoCache:Oy,useCacheRefresh:function(){return fi().memoizedState=Hz.bind(null,Vt)}},HC={readContext:za,use:Ug,useCallback:DC,useContext:za,useEffect:_C,useImperativeHandle:MC,useInsertionEffect:CC,useLayoutEffect:TC,useMemo:RC,useReducer:zg,useRef:EC,useState:function(){return zg(Jo)},useDebugValue:Py,useDeferredValue:function(o,u){var x=Yr();return IC(x,In.memoizedState,o,u)},useTransition:function(){var o=zg(Jo)[0],u=Yr().memoizedState;return[typeof o=="boolean"?o:Jh(o),u]},useSyncExternalStore:cC,useId:BC,useHostTransitionStatus:By,useFormState:SC,useActionState:SC,useOptimistic:function(o,u){var x=Yr();return gC(x,In,o,u)},useMemoCache:Oy,useCacheRefresh:FC},Yz={readContext:za,use:Ug,useCallback:DC,useContext:za,useEffect:_C,useImperativeHandle:MC,useInsertionEffect:CC,useLayoutEffect:TC,useMemo:RC,useReducer:Dy,useRef:EC,useState:function(){return Dy(Jo)},useDebugValue:Py,useDeferredValue:function(o,u){var x=Yr();return In===null?ky(x,o,u):IC(x,In.memoizedState,o,u)},useTransition:function(){var o=Dy(Jo)[0],u=Yr().memoizedState;return[typeof o=="boolean"?o:Jh(o),u]},useSyncExternalStore:cC,useId:BC,useHostTransitionStatus:By,useFormState:AC,useActionState:AC,useOptimistic:function(o,u){var x=Yr();return In!==null?gC(x,In,o,u):(x.baseState=o,[o,x.queue.dispatch])},useMemoCache:Oy,useCacheRefresh:FC},Xd=null,nm=0;function Yg(o){var u=nm;return nm+=1,Xd===null&&(Xd=[]),tC(Xd,o,u)}function rm(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function Wg(o,u){throw u.$$typeof===v?Error(r(525)):(o=Object.prototype.toString.call(u),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function qC(o){var u=o._init;return u(o._payload)}function YC(o){function u(ve,ge){if(o){var Ae=ve.deletions;Ae===null?(ve.deletions=[ge],ve.flags|=16):Ae.push(ge)}}function x(ve,ge){if(!o)return null;for(;ge!==null;)u(ve,ge),ge=ge.sibling;return null}function w(ve){for(var ge=new Map;ve!==null;)ve.key!==null?ge.set(ve.key,ve):ge.set(ve.index,ve),ve=ve.sibling;return ge}function C(ve,ge){return ve=Go(ve,ge),ve.index=0,ve.sibling=null,ve}function R(ve,ge,Ae){return ve.index=Ae,o?(Ae=ve.alternate,Ae!==null?(Ae=Ae.index,Ae<ge?(ve.flags|=67108866,ge):Ae):(ve.flags|=67108866,ge)):(ve.flags|=1048576,ge)}function q(ve){return o&&ve.alternate===null&&(ve.flags|=67108866),ve}function J(ve,ge,Ae,Ue){return ge===null||ge.tag!==6?(ge=sy(Ae,ve.mode,Ue),ge.return=ve,ge):(ge=C(ge,Ae),ge.return=ve,ge)}function le(ve,ge,Ae,Ue){var ct=Ae.type;return ct===O?Be(ve,ge,Ae.props.children,Ue,Ae.key):ge!==null&&(ge.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===$&&qC(ct)===ge.type)?(ge=C(ge,Ae.props),rm(ge,Ae),ge.return=ve,ge):(ge=Tg(Ae.type,Ae.key,Ae.props,null,ve.mode,Ue),rm(ge,Ae),ge.return=ve,ge)}function Ee(ve,ge,Ae,Ue){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==Ae.containerInfo||ge.stateNode.implementation!==Ae.implementation?(ge=oy(Ae,ve.mode,Ue),ge.return=ve,ge):(ge=C(ge,Ae.children||[]),ge.return=ve,ge)}function Be(ve,ge,Ae,Ue,ct){return ge===null||ge.tag!==7?(ge=wu(Ae,ve.mode,Ue,ct),ge.return=ve,ge):(ge=C(ge,Ae),ge.return=ve,ge)}function ze(ve,ge,Ae){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return ge=sy(""+ge,ve.mode,Ae),ge.return=ve,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case j:return Ae=Tg(ge.type,ge.key,ge.props,null,ve.mode,Ae),rm(Ae,ge),Ae.return=ve,Ae;case E:return ge=oy(ge,ve.mode,Ae),ge.return=ve,ge;case $:var Ue=ge._init;return ge=Ue(ge._payload),ze(ve,ge,Ae)}if(ne(ge)||K(ge))return ge=wu(ge,ve.mode,Ae,null),ge.return=ve,ge;if(typeof ge.then=="function")return ze(ve,Yg(ge),Ae);if(ge.$$typeof===I)return ze(ve,Rg(ve,ge),Ae);Wg(ve,ge)}return null}function _e(ve,ge,Ae,Ue){var ct=ge!==null?ge.key:null;if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return ct!==null?null:J(ve,ge,""+Ae,Ue);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case j:return Ae.key===ct?le(ve,ge,Ae,Ue):null;case E:return Ae.key===ct?Ee(ve,ge,Ae,Ue):null;case $:return ct=Ae._init,Ae=ct(Ae._payload),_e(ve,ge,Ae,Ue)}if(ne(Ae)||K(Ae))return ct!==null?null:Be(ve,ge,Ae,Ue,null);if(typeof Ae.then=="function")return _e(ve,ge,Yg(Ae),Ue);if(Ae.$$typeof===I)return _e(ve,ge,Rg(ve,Ae),Ue);Wg(ve,Ae)}return null}function Te(ve,ge,Ae,Ue,ct){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint")return ve=ve.get(Ae)||null,J(ge,ve,""+Ue,ct);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case j:return ve=ve.get(Ue.key===null?Ae:Ue.key)||null,le(ge,ve,Ue,ct);case E:return ve=ve.get(Ue.key===null?Ae:Ue.key)||null,Ee(ge,ve,Ue,ct);case $:var Yt=Ue._init;return Ue=Yt(Ue._payload),Te(ve,ge,Ae,Ue,ct)}if(ne(Ue)||K(Ue))return ve=ve.get(Ae)||null,Be(ge,ve,Ue,ct,null);if(typeof Ue.then=="function")return Te(ve,ge,Ae,Yg(Ue),ct);if(Ue.$$typeof===I)return Te(ve,ge,Ae,Rg(ge,Ue),ct);Wg(ge,Ue)}return null}function _t(ve,ge,Ae,Ue){for(var ct=null,Yt=null,vt=ge,jt=ge=0,ma=null;vt!==null&&jt<Ae.length;jt++){vt.index>jt?(ma=vt,vt=null):ma=vt.sibling;var gn=_e(ve,vt,Ae[jt],Ue);if(gn===null){vt===null&&(vt=ma);break}o&&vt&&gn.alternate===null&&u(ve,vt),ge=R(gn,ge,jt),Yt===null?ct=gn:Yt.sibling=gn,Yt=gn,vt=ma}if(jt===Ae.length)return x(ve,vt),vn&&ju(ve,jt),ct;if(vt===null){for(;jt<Ae.length;jt++)vt=ze(ve,Ae[jt],Ue),vt!==null&&(ge=R(vt,ge,jt),Yt===null?ct=vt:Yt.sibling=vt,Yt=vt);return vn&&ju(ve,jt),ct}for(vt=w(vt);jt<Ae.length;jt++)ma=Te(vt,ve,jt,Ae[jt],Ue),ma!==null&&(o&&ma.alternate!==null&&vt.delete(ma.key===null?jt:ma.key),ge=R(ma,ge,jt),Yt===null?ct=ma:Yt.sibling=ma,Yt=ma);return o&&vt.forEach(function(wc){return u(ve,wc)}),vn&&ju(ve,jt),ct}function St(ve,ge,Ae,Ue){if(Ae==null)throw Error(r(151));for(var ct=null,Yt=null,vt=ge,jt=ge=0,ma=null,gn=Ae.next();vt!==null&&!gn.done;jt++,gn=Ae.next()){vt.index>jt?(ma=vt,vt=null):ma=vt.sibling;var wc=_e(ve,vt,gn.value,Ue);if(wc===null){vt===null&&(vt=ma);break}o&&vt&&wc.alternate===null&&u(ve,vt),ge=R(wc,ge,jt),Yt===null?ct=wc:Yt.sibling=wc,Yt=wc,vt=ma}if(gn.done)return x(ve,vt),vn&&ju(ve,jt),ct;if(vt===null){for(;!gn.done;jt++,gn=Ae.next())gn=ze(ve,gn.value,Ue),gn!==null&&(ge=R(gn,ge,jt),Yt===null?ct=gn:Yt.sibling=gn,Yt=gn);return vn&&ju(ve,jt),ct}for(vt=w(vt);!gn.done;jt++,gn=Ae.next())gn=Te(vt,ve,jt,gn.value,Ue),gn!==null&&(o&&gn.alternate!==null&&vt.delete(gn.key===null?jt:gn.key),ge=R(gn,ge,jt),Yt===null?ct=gn:Yt.sibling=gn,Yt=gn);return o&&vt.forEach(function(WV){return u(ve,WV)}),vn&&ju(ve,jt),ct}function kn(ve,ge,Ae,Ue){if(typeof Ae=="object"&&Ae!==null&&Ae.type===O&&Ae.key===null&&(Ae=Ae.props.children),typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case j:e:{for(var ct=Ae.key;ge!==null;){if(ge.key===ct){if(ct=Ae.type,ct===O){if(ge.tag===7){x(ve,ge.sibling),Ue=C(ge,Ae.props.children),Ue.return=ve,ve=Ue;break e}}else if(ge.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===$&&qC(ct)===ge.type){x(ve,ge.sibling),Ue=C(ge,Ae.props),rm(Ue,Ae),Ue.return=ve,ve=Ue;break e}x(ve,ge);break}else u(ve,ge);ge=ge.sibling}Ae.type===O?(Ue=wu(Ae.props.children,ve.mode,Ue,Ae.key),Ue.return=ve,ve=Ue):(Ue=Tg(Ae.type,Ae.key,Ae.props,null,ve.mode,Ue),rm(Ue,Ae),Ue.return=ve,ve=Ue)}return q(ve);case E:e:{for(ct=Ae.key;ge!==null;){if(ge.key===ct)if(ge.tag===4&&ge.stateNode.containerInfo===Ae.containerInfo&&ge.stateNode.implementation===Ae.implementation){x(ve,ge.sibling),Ue=C(ge,Ae.children||[]),Ue.return=ve,ve=Ue;break e}else{x(ve,ge);break}else u(ve,ge);ge=ge.sibling}Ue=oy(Ae,ve.mode,Ue),Ue.return=ve,ve=Ue}return q(ve);case $:return ct=Ae._init,Ae=ct(Ae._payload),kn(ve,ge,Ae,Ue)}if(ne(Ae))return _t(ve,ge,Ae,Ue);if(K(Ae)){if(ct=K(Ae),typeof ct!="function")throw Error(r(150));return Ae=ct.call(Ae),St(ve,ge,Ae,Ue)}if(typeof Ae.then=="function")return kn(ve,ge,Yg(Ae),Ue);if(Ae.$$typeof===I)return kn(ve,ge,Rg(ve,Ae),Ue);Wg(ve,Ae)}return typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint"?(Ae=""+Ae,ge!==null&&ge.tag===6?(x(ve,ge.sibling),Ue=C(ge,Ae),Ue.return=ve,ve=Ue):(x(ve,ge),Ue=sy(Ae,ve.mode,Ue),Ue.return=ve,ve=Ue),q(ve)):x(ve,ge)}return function(ve,ge,Ae,Ue){try{nm=0;var ct=kn(ve,ge,Ae,Ue);return Xd=null,ct}catch(vt){if(vt===Wh||vt===Pg)throw vt;var Yt=_i(29,vt,null,ve.mode);return Yt.lanes=Ue,Yt.return=ve,Yt}finally{}}}var Qd=YC(!0),WC=YC(!1),as=fe(null),po=null;function sc(o){var u=o.alternate;me(ia,ia.current&1),me(as,o),po===null&&(u===null||Yd.current!==null||u.memoizedState!==null)&&(po=o)}function GC(o){if(o.tag===22){if(me(ia,ia.current),me(as,o),po===null){var u=o.alternate;u!==null&&u.memoizedState!==null&&(po=o)}}else oc()}function oc(){me(ia,ia.current),me(as,as.current)}function el(o){se(as),po===o&&(po=null),se(ia)}var ia=fe(0);function Gg(o){for(var u=o;u!==null;){if(u.tag===13){var x=u.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||Tb(x)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function Uy(o,u,x,w){u=o.memoizedState,x=x(w,u),x=x==null?u:p({},u,x),o.memoizedState=x,o.lanes===0&&(o.updateQueue.baseState=x)}var zy={enqueueSetState:function(o,u,x){o=o._reactInternals;var w=Mi(),C=rc(w);C.payload=u,x!=null&&(C.callback=x),u=ac(o,C,w),u!==null&&(Di(u,o,w),Kh(u,o,w))},enqueueReplaceState:function(o,u,x){o=o._reactInternals;var w=Mi(),C=rc(w);C.tag=1,C.payload=u,x!=null&&(C.callback=x),u=ac(o,C,w),u!==null&&(Di(u,o,w),Kh(u,o,w))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var x=Mi(),w=rc(x);w.tag=2,u!=null&&(w.callback=u),u=ac(o,w,x),u!==null&&(Di(u,o,x),Kh(u,o,x))}};function KC(o,u,x,w,C,R,q){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(w,R,q):u.prototype&&u.prototype.isPureReactComponent?!b(x,w)||!b(C,R):!0}function XC(o,u,x,w){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(x,w),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(x,w),u.state!==o&&zy.enqueueReplaceState(u,u.state,null)}function Ou(o,u){var x=u;if("ref"in u){x={};for(var w in u)w!=="ref"&&(x[w]=u[w])}if(o=o.defaultProps){x===u&&(x=p({},x));for(var C in o)x[C]===void 0&&(x[C]=o[C])}return x}var Kg=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function QC(o){Kg(o)}function ZC(o){console.error(o)}function JC(o){Kg(o)}function Xg(o,u){try{var x=o.onUncaughtError;x(u.value,{componentStack:u.stack})}catch(w){setTimeout(function(){throw w})}}function eT(o,u,x){try{var w=o.onCaughtError;w(x.value,{componentStack:x.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function Vy(o,u,x){return x=rc(x),x.tag=3,x.payload={element:null},x.callback=function(){Xg(o,u)},x}function tT(o){return o=rc(o),o.tag=3,o}function nT(o,u,x,w){var C=x.type.getDerivedStateFromError;if(typeof C=="function"){var R=w.value;o.payload=function(){return C(R)},o.callback=function(){eT(u,x,w)}}var q=x.stateNode;q!==null&&typeof q.componentDidCatch=="function"&&(o.callback=function(){eT(u,x,w),typeof C!="function"&&(hc===null?hc=new Set([this]):hc.add(this));var J=w.stack;this.componentDidCatch(w.value,{componentStack:J!==null?J:""})})}function Wz(o,u,x,w,C){if(x.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(u=x.alternate,u!==null&&Hh(u,x,C,!0),x=as.current,x!==null){switch(x.tag){case 13:return po===null?fb():x.alternate===null&&br===0&&(br=3),x.flags&=-257,x.flags|=65536,x.lanes=C,w===xy?x.flags|=16384:(u=x.updateQueue,u===null?x.updateQueue=new Set([w]):u.add(w),mb(o,w,C)),!1;case 22:return x.flags|=65536,w===xy?x.flags|=16384:(u=x.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([w])},x.updateQueue=u):(x=u.retryQueue,x===null?u.retryQueue=new Set([w]):x.add(w)),mb(o,w,C)),!1}throw Error(r(435,x.tag))}return mb(o,w,C),fb(),!1}if(vn)return u=as.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=C,w!==uy&&(o=Error(r(422),{cause:w}),$h(es(o,x)))):(w!==uy&&(u=Error(r(423),{cause:w}),$h(es(u,x))),o=o.current.alternate,o.flags|=65536,C&=-C,o.lanes|=C,w=es(w,x),C=Vy(o.stateNode,w,C),by(o,C),br!==4&&(br=2)),!1;var R=Error(r(520),{cause:w});if(R=es(R,x),um===null?um=[R]:um.push(R),br!==4&&(br=2),u===null)return!0;w=es(w,x),x=u;do{switch(x.tag){case 3:return x.flags|=65536,o=C&-C,x.lanes|=o,o=Vy(x.stateNode,w,o),by(x,o),!1;case 1:if(u=x.type,R=x.stateNode,(x.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(hc===null||!hc.has(R))))return x.flags|=65536,C&=-C,x.lanes|=C,C=tT(C),nT(C,o,x,w),by(x,C),!1}x=x.return}while(x!==null);return!1}var rT=Error(r(461)),fa=!1;function Ea(o,u,x,w){u.child=o===null?WC(u,null,x,w):Qd(u,o.child,x,w)}function aT(o,u,x,w,C){x=x.render;var R=u.ref;if("ref"in w){var q={};for(var J in w)J!=="ref"&&(q[J]=w[J])}else q=w;return _u(u),w=Ey(o,u,x,q,R,C),J=Ny(),o!==null&&!fa?(_y(o,u,C),tl(o,u,C)):(vn&&J&&ly(u),u.flags|=1,Ea(o,u,w,C),u.child)}function iT(o,u,x,w,C){if(o===null){var R=x.type;return typeof R=="function"&&!iy(R)&&R.defaultProps===void 0&&x.compare===null?(u.tag=15,u.type=R,sT(o,u,R,w,C)):(o=Tg(x.type,null,w,u,u.mode,C),o.ref=u.ref,o.return=u,u.child=o)}if(R=o.child,!Xy(o,C)){var q=R.memoizedProps;if(x=x.compare,x=x!==null?x:b,x(q,w)&&o.ref===u.ref)return tl(o,u,C)}return u.flags|=1,o=Go(R,w),o.ref=u.ref,o.return=u,u.child=o}function sT(o,u,x,w,C){if(o!==null){var R=o.memoizedProps;if(b(R,w)&&o.ref===u.ref)if(fa=!1,u.pendingProps=w=R,Xy(o,C))(o.flags&131072)!==0&&(fa=!0);else return u.lanes=o.lanes,tl(o,u,C)}return $y(o,u,x,w,C)}function oT(o,u,x){var w=u.pendingProps,C=w.children,R=o!==null?o.memoizedState:null;if(w.mode==="hidden"){if((u.flags&128)!==0){if(w=R!==null?R.baseLanes|x:x,o!==null){for(C=u.child=o.child,R=0;C!==null;)R=R|C.lanes|C.childLanes,C=C.sibling;u.childLanes=R&~w}else u.childLanes=0,u.child=null;return lT(o,u,w,x)}if((x&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&Ig(u,R!==null?R.cachePool:null),R!==null?sC(u,R):Sy(),GC(u);else return u.lanes=u.childLanes=536870912,lT(o,u,R!==null?R.baseLanes|x:x,x)}else R!==null?(Ig(u,R.cachePool),sC(u,R),oc(),u.memoizedState=null):(o!==null&&Ig(u,null),Sy(),oc());return Ea(o,u,C,x),u.child}function lT(o,u,x,w){var C=py();return C=C===null?null:{parent:aa._currentValue,pool:C},u.memoizedState={baseLanes:x,cachePool:C},o!==null&&Ig(u,null),Sy(),GC(u),o!==null&&Hh(o,u,w,!0),null}function Qg(o,u){var x=u.ref;if(x===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(r(284));(o===null||o.ref!==x)&&(u.flags|=4194816)}}function $y(o,u,x,w,C){return _u(u),x=Ey(o,u,x,w,void 0,C),w=Ny(),o!==null&&!fa?(_y(o,u,C),tl(o,u,C)):(vn&&w&&ly(u),u.flags|=1,Ea(o,u,x,C),u.child)}function cT(o,u,x,w,C,R){return _u(u),u.updateQueue=null,x=lC(u,w,x,C),oC(o),w=Ny(),o!==null&&!fa?(_y(o,u,R),tl(o,u,R)):(vn&&w&&ly(u),u.flags|=1,Ea(o,u,x,R),u.child)}function uT(o,u,x,w,C){if(_u(u),u.stateNode===null){var R=zd,q=x.contextType;typeof q=="object"&&q!==null&&(R=za(q)),R=new x(w,R),u.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,R.updater=zy,u.stateNode=R,R._reactInternals=u,R=u.stateNode,R.props=w,R.state=u.memoizedState,R.refs={},vy(u),q=x.contextType,R.context=typeof q=="object"&&q!==null?za(q):zd,R.state=u.memoizedState,q=x.getDerivedStateFromProps,typeof q=="function"&&(Uy(u,x,q,w),R.state=u.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(q=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),q!==R.state&&zy.enqueueReplaceState(R,R.state,null),Qh(u,w,R,C),Xh(),R.state=u.memoizedState),typeof R.componentDidMount=="function"&&(u.flags|=4194308),w=!0}else if(o===null){R=u.stateNode;var J=u.memoizedProps,le=Ou(x,J);R.props=le;var Ee=R.context,Be=x.contextType;q=zd,typeof Be=="object"&&Be!==null&&(q=za(Be));var ze=x.getDerivedStateFromProps;Be=typeof ze=="function"||typeof R.getSnapshotBeforeUpdate=="function",J=u.pendingProps!==J,Be||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(J||Ee!==q)&&XC(u,R,w,q),nc=!1;var _e=u.memoizedState;R.state=_e,Qh(u,w,R,C),Xh(),Ee=u.memoizedState,J||_e!==Ee||nc?(typeof ze=="function"&&(Uy(u,x,ze,w),Ee=u.memoizedState),(le=nc||KC(u,x,le,w,_e,Ee,q))?(Be||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(u.flags|=4194308)):(typeof R.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=w,u.memoizedState=Ee),R.props=w,R.state=Ee,R.context=q,w=le):(typeof R.componentDidMount=="function"&&(u.flags|=4194308),w=!1)}else{R=u.stateNode,yy(o,u),q=u.memoizedProps,Be=Ou(x,q),R.props=Be,ze=u.pendingProps,_e=R.context,Ee=x.contextType,le=zd,typeof Ee=="object"&&Ee!==null&&(le=za(Ee)),J=x.getDerivedStateFromProps,(Ee=typeof J=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(q!==ze||_e!==le)&&XC(u,R,w,le),nc=!1,_e=u.memoizedState,R.state=_e,Qh(u,w,R,C),Xh();var Te=u.memoizedState;q!==ze||_e!==Te||nc||o!==null&&o.dependencies!==null&&Dg(o.dependencies)?(typeof J=="function"&&(Uy(u,x,J,w),Te=u.memoizedState),(Be=nc||KC(u,x,Be,w,_e,Te,le)||o!==null&&o.dependencies!==null&&Dg(o.dependencies))?(Ee||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(w,Te,le),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(w,Te,le)),typeof R.componentDidUpdate=="function"&&(u.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof R.componentDidUpdate!="function"||q===o.memoizedProps&&_e===o.memoizedState||(u.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||q===o.memoizedProps&&_e===o.memoizedState||(u.flags|=1024),u.memoizedProps=w,u.memoizedState=Te),R.props=w,R.state=Te,R.context=le,w=Be):(typeof R.componentDidUpdate!="function"||q===o.memoizedProps&&_e===o.memoizedState||(u.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||q===o.memoizedProps&&_e===o.memoizedState||(u.flags|=1024),w=!1)}return R=w,Qg(o,u),w=(u.flags&128)!==0,R||w?(R=u.stateNode,x=w&&typeof x.getDerivedStateFromError!="function"?null:R.render(),u.flags|=1,o!==null&&w?(u.child=Qd(u,o.child,null,C),u.child=Qd(u,null,x,C)):Ea(o,u,x,C),u.memoizedState=R.state,o=u.child):o=tl(o,u,C),o}function dT(o,u,x,w){return Vh(),u.flags|=256,Ea(o,u,x,w),u.child}var Hy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qy(o){return{baseLanes:o,cachePool:Z_()}}function Yy(o,u,x){return o=o!==null?o.childLanes&~x:0,u&&(o|=is),o}function fT(o,u,x){var w=u.pendingProps,C=!1,R=(u.flags&128)!==0,q;if((q=R)||(q=o!==null&&o.memoizedState===null?!1:(ia.current&2)!==0),q&&(C=!0,u.flags&=-129),q=(u.flags&32)!==0,u.flags&=-33,o===null){if(vn){if(C?sc(u):oc(),vn){var J=yr,le;if(le=J){e:{for(le=J,J=go;le.nodeType!==8;){if(!J){J=null;break e}if(le=Rs(le.nextSibling),le===null){J=null;break e}}J=le}J!==null?(u.memoizedState={dehydrated:J,treeContext:Su!==null?{id:Ko,overflow:Xo}:null,retryLane:536870912,hydrationErrors:null},le=_i(18,null,null,0),le.stateNode=J,le.return=u,u.child=le,ti=u,yr=null,le=!0):le=!1}le||Eu(u)}if(J=u.memoizedState,J!==null&&(J=J.dehydrated,J!==null))return Tb(J)?u.lanes=32:u.lanes=536870912,null;el(u)}return J=w.children,w=w.fallback,C?(oc(),C=u.mode,J=Zg({mode:"hidden",children:J},C),w=wu(w,C,x,null),J.return=u,w.return=u,J.sibling=w,u.child=J,C=u.child,C.memoizedState=qy(x),C.childLanes=Yy(o,q,x),u.memoizedState=Hy,w):(sc(u),Wy(u,J))}if(le=o.memoizedState,le!==null&&(J=le.dehydrated,J!==null)){if(R)u.flags&256?(sc(u),u.flags&=-257,u=Gy(o,u,x)):u.memoizedState!==null?(oc(),u.child=o.child,u.flags|=128,u=null):(oc(),C=w.fallback,J=u.mode,w=Zg({mode:"visible",children:w.children},J),C=wu(C,J,x,null),C.flags|=2,w.return=u,C.return=u,w.sibling=C,u.child=w,Qd(u,o.child,null,x),w=u.child,w.memoizedState=qy(x),w.childLanes=Yy(o,q,x),u.memoizedState=Hy,u=C);else if(sc(u),Tb(J)){if(q=J.nextSibling&&J.nextSibling.dataset,q)var Ee=q.dgst;q=Ee,w=Error(r(419)),w.stack="",w.digest=q,$h({value:w,source:null,stack:null}),u=Gy(o,u,x)}else if(fa||Hh(o,u,x,!1),q=(x&o.childLanes)!==0,fa||q){if(q=$n,q!==null&&(w=x&-x,w=(w&42)!==0?1:Xn(w),w=(w&(q.suspendedLanes|x))!==0?0:w,w!==0&&w!==le.retryLane))throw le.retryLane=w,Ud(o,w),Di(q,o,w),rT;J.data==="$?"||fb(),u=Gy(o,u,x)}else J.data==="$?"?(u.flags|=192,u.child=o.child,u=null):(o=le.treeContext,yr=Rs(J.nextSibling),ti=u,vn=!0,Au=null,go=!1,o!==null&&(ns[rs++]=Ko,ns[rs++]=Xo,ns[rs++]=Su,Ko=o.id,Xo=o.overflow,Su=u),u=Wy(u,w.children),u.flags|=4096);return u}return C?(oc(),C=w.fallback,J=u.mode,le=o.child,Ee=le.sibling,w=Go(le,{mode:"hidden",children:w.children}),w.subtreeFlags=le.subtreeFlags&65011712,Ee!==null?C=Go(Ee,C):(C=wu(C,J,x,null),C.flags|=2),C.return=u,w.return=u,w.sibling=C,u.child=w,w=C,C=u.child,J=o.child.memoizedState,J===null?J=qy(x):(le=J.cachePool,le!==null?(Ee=aa._currentValue,le=le.parent!==Ee?{parent:Ee,pool:Ee}:le):le=Z_(),J={baseLanes:J.baseLanes|x,cachePool:le}),C.memoizedState=J,C.childLanes=Yy(o,q,x),u.memoizedState=Hy,w):(sc(u),x=o.child,o=x.sibling,x=Go(x,{mode:"visible",children:w.children}),x.return=u,x.sibling=null,o!==null&&(q=u.deletions,q===null?(u.deletions=[o],u.flags|=16):q.push(o)),u.child=x,u.memoizedState=null,x)}function Wy(o,u){return u=Zg({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function Zg(o,u){return o=_i(22,o,null,u),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function Gy(o,u,x){return Qd(u,o.child,null,x),o=Wy(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function hT(o,u,x){o.lanes|=u;var w=o.alternate;w!==null&&(w.lanes|=u),fy(o.return,u,x)}function Ky(o,u,x,w,C){var R=o.memoizedState;R===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:w,tail:x,tailMode:C}:(R.isBackwards=u,R.rendering=null,R.renderingStartTime=0,R.last=w,R.tail=x,R.tailMode=C)}function mT(o,u,x){var w=u.pendingProps,C=w.revealOrder,R=w.tail;if(Ea(o,u,w.children,x),w=ia.current,(w&2)!==0)w=w&1|2,u.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&hT(o,x,u);else if(o.tag===19)hT(o,x,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}w&=1}switch(me(ia,w),C){case"forwards":for(x=u.child,C=null;x!==null;)o=x.alternate,o!==null&&Gg(o)===null&&(C=x),x=x.sibling;x=C,x===null?(C=u.child,u.child=null):(C=x.sibling,x.sibling=null),Ky(u,!1,C,x,R);break;case"backwards":for(x=null,C=u.child,u.child=null;C!==null;){if(o=C.alternate,o!==null&&Gg(o)===null){u.child=C;break}o=C.sibling,C.sibling=x,x=C,C=o}Ky(u,!0,x,null,R);break;case"together":Ky(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function tl(o,u,x){if(o!==null&&(u.dependencies=o.dependencies),fc|=u.lanes,(x&u.childLanes)===0)if(o!==null){if(Hh(o,u,x,!1),(x&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(r(153));if(u.child!==null){for(o=u.child,x=Go(o,o.pendingProps),u.child=x,x.return=u;o.sibling!==null;)o=o.sibling,x=x.sibling=Go(o,o.pendingProps),x.return=u;x.sibling=null}return u.child}function Xy(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&Dg(o)))}function Gz(o,u,x){switch(u.tag){case 3:Ie(u,u.stateNode.containerInfo),tc(u,aa,o.memoizedState.cache),Vh();break;case 27:case 5:Fe(u);break;case 4:Ie(u,u.stateNode.containerInfo);break;case 10:tc(u,u.type,u.memoizedProps.value);break;case 13:var w=u.memoizedState;if(w!==null)return w.dehydrated!==null?(sc(u),u.flags|=128,null):(x&u.child.childLanes)!==0?fT(o,u,x):(sc(u),o=tl(o,u,x),o!==null?o.sibling:null);sc(u);break;case 19:var C=(o.flags&128)!==0;if(w=(x&u.childLanes)!==0,w||(Hh(o,u,x,!1),w=(x&u.childLanes)!==0),C){if(w)return mT(o,u,x);u.flags|=128}if(C=u.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),me(ia,ia.current),w)break;return null;case 22:case 23:return u.lanes=0,oT(o,u,x);case 24:tc(u,aa,o.memoizedState.cache)}return tl(o,u,x)}function gT(o,u,x){if(o!==null)if(o.memoizedProps!==u.pendingProps)fa=!0;else{if(!Xy(o,x)&&(u.flags&128)===0)return fa=!1,Gz(o,u,x);fa=(o.flags&131072)!==0}else fa=!1,vn&&(u.flags&1048576)!==0&&q_(u,Mg,u.index);switch(u.lanes=0,u.tag){case 16:e:{o=u.pendingProps;var w=u.elementType,C=w._init;if(w=C(w._payload),u.type=w,typeof w=="function")iy(w)?(o=Ou(w,o),u.tag=1,u=uT(null,u,w,o,x)):(u.tag=0,u=$y(null,u,w,o,x));else{if(w!=null){if(C=w.$$typeof,C===U){u.tag=11,u=aT(null,u,w,o,x);break e}else if(C===B){u.tag=14,u=iT(null,u,w,o,x);break e}}throw u=ue(w)||w,Error(r(306,u,""))}}return u;case 0:return $y(o,u,u.type,u.pendingProps,x);case 1:return w=u.type,C=Ou(w,u.pendingProps),uT(o,u,w,C,x);case 3:e:{if(Ie(u,u.stateNode.containerInfo),o===null)throw Error(r(387));w=u.pendingProps;var R=u.memoizedState;C=R.element,yy(o,u),Qh(u,w,null,x);var q=u.memoizedState;if(w=q.cache,tc(u,aa,w),w!==R.cache&&hy(u,[aa],x,!0),Xh(),w=q.element,R.isDehydrated)if(R={element:w,isDehydrated:!1,cache:q.cache},u.updateQueue.baseState=R,u.memoizedState=R,u.flags&256){u=dT(o,u,w,x);break e}else if(w!==C){C=es(Error(r(424)),u),$h(C),u=dT(o,u,w,x);break e}else{switch(o=u.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(yr=Rs(o.firstChild),ti=u,vn=!0,Au=null,go=!0,x=WC(u,null,w,x),u.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling}else{if(Vh(),w===C){u=tl(o,u,x);break e}Ea(o,u,w,x)}u=u.child}return u;case 26:return Qg(o,u),o===null?(x=y4(u.type,null,u.pendingProps,null))?u.memoizedState=x:vn||(x=u.type,o=u.pendingProps,w=fp(oe.current).createElement(x),w[lr]=u,w[on]=o,_a(w,x,o),An(w),u.stateNode=w):u.memoizedState=y4(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return Fe(u),o===null&&vn&&(w=u.stateNode=p4(u.type,u.pendingProps,oe.current),ti=u,go=!0,C=yr,pc(u.type)?(Ob=C,yr=Rs(w.firstChild)):yr=C),Ea(o,u,u.pendingProps.children,x),Qg(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&vn&&((C=w=yr)&&(w=SV(w,u.type,u.pendingProps,go),w!==null?(u.stateNode=w,ti=u,yr=Rs(w.firstChild),go=!1,C=!0):C=!1),C||Eu(u)),Fe(u),C=u.type,R=u.pendingProps,q=o!==null?o.memoizedProps:null,w=R.children,Nb(C,R)?w=null:q!==null&&Nb(C,q)&&(u.flags|=32),u.memoizedState!==null&&(C=Ey(o,u,Uz,null,null,x),ym._currentValue=C),Qg(o,u),Ea(o,u,w,x),u.child;case 6:return o===null&&vn&&((o=x=yr)&&(x=jV(x,u.pendingProps,go),x!==null?(u.stateNode=x,ti=u,yr=null,o=!0):o=!1),o||Eu(u)),null;case 13:return fT(o,u,x);case 4:return Ie(u,u.stateNode.containerInfo),w=u.pendingProps,o===null?u.child=Qd(u,null,w,x):Ea(o,u,w,x),u.child;case 11:return aT(o,u,u.type,u.pendingProps,x);case 7:return Ea(o,u,u.pendingProps,x),u.child;case 8:return Ea(o,u,u.pendingProps.children,x),u.child;case 12:return Ea(o,u,u.pendingProps.children,x),u.child;case 10:return w=u.pendingProps,tc(u,u.type,w.value),Ea(o,u,w.children,x),u.child;case 9:return C=u.type._context,w=u.pendingProps.children,_u(u),C=za(C),w=w(C),u.flags|=1,Ea(o,u,w,x),u.child;case 14:return iT(o,u,u.type,u.pendingProps,x);case 15:return sT(o,u,u.type,u.pendingProps,x);case 19:return mT(o,u,x);case 31:return w=u.pendingProps,x=u.mode,w={mode:w.mode,children:w.children},o===null?(x=Zg(w,x),x.ref=u.ref,u.child=x,x.return=u,u=x):(x=Go(o.child,w),x.ref=u.ref,u.child=x,x.return=u,u=x),u;case 22:return oT(o,u,x);case 24:return _u(u),w=za(aa),o===null?(C=py(),C===null&&(C=$n,R=my(),C.pooledCache=R,R.refCount++,R!==null&&(C.pooledCacheLanes|=x),C=R),u.memoizedState={parent:w,cache:C},vy(u),tc(u,aa,C)):((o.lanes&x)!==0&&(yy(o,u),Qh(u,null,null,x),Xh()),C=o.memoizedState,R=u.memoizedState,C.parent!==w?(C={parent:w,cache:w},u.memoizedState=C,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=C),tc(u,aa,w)):(w=R.cache,tc(u,aa,w),w!==C.cache&&hy(u,[aa],x,!0))),Ea(o,u,u.pendingProps.children,x),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function nl(o){o.flags|=4}function pT(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!A4(u)){if(u=as.current,u!==null&&((ln&4194048)===ln?po!==null:(ln&62914560)!==ln&&(ln&536870912)===0||u!==po))throw Gh=xy,J_;o.flags|=8192}}function Jg(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?cu():536870912,o.lanes|=u,tf|=u)}function am(o,u){if(!vn)switch(o.tailMode){case"hidden":u=o.tail;for(var x=null;u!==null;)u.alternate!==null&&(x=u),u=u.sibling;x===null?o.tail=null:x.sibling=null;break;case"collapsed":x=o.tail;for(var w=null;x!==null;)x.alternate!==null&&(w=x),x=x.sibling;w===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:w.sibling=null}}function ur(o){var u=o.alternate!==null&&o.alternate.child===o.child,x=0,w=0;if(u)for(var C=o.child;C!==null;)x|=C.lanes|C.childLanes,w|=C.subtreeFlags&65011712,w|=C.flags&65011712,C.return=o,C=C.sibling;else for(C=o.child;C!==null;)x|=C.lanes|C.childLanes,w|=C.subtreeFlags,w|=C.flags,C.return=o,C=C.sibling;return o.subtreeFlags|=w,o.childLanes=x,u}function Kz(o,u,x){var w=u.pendingProps;switch(cy(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ur(u),null;case 1:return ur(u),null;case 3:return x=u.stateNode,w=null,o!==null&&(w=o.memoizedState.cache),u.memoizedState.cache!==w&&(u.flags|=2048),Zo(aa),xe(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(o===null||o.child===null)&&(zh(u)?nl(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,G_())),ur(u),null;case 26:return x=u.memoizedState,o===null?(nl(u),x!==null?(ur(u),pT(u,x)):(ur(u),u.flags&=-16777217)):x?x!==o.memoizedState?(nl(u),ur(u),pT(u,x)):(ur(u),u.flags&=-16777217):(o.memoizedProps!==w&&nl(u),ur(u),u.flags&=-16777217),null;case 27:Le(u),x=oe.current;var C=u.type;if(o!==null&&u.stateNode!=null)o.memoizedProps!==w&&nl(u);else{if(!w){if(u.stateNode===null)throw Error(r(166));return ur(u),null}o=Re.current,zh(u)?Y_(u):(o=p4(C,w,x),u.stateNode=o,nl(u))}return ur(u),null;case 5:if(Le(u),x=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==w&&nl(u);else{if(!w){if(u.stateNode===null)throw Error(r(166));return ur(u),null}if(o=Re.current,zh(u))Y_(u);else{switch(C=fp(oe.current),o){case 1:o=C.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:o=C.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":o=C.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":o=C.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":o=C.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof w.is=="string"?C.createElement("select",{is:w.is}):C.createElement("select"),w.multiple?o.multiple=!0:w.size&&(o.size=w.size);break;default:o=typeof w.is=="string"?C.createElement(x,{is:w.is}):C.createElement(x)}}o[lr]=u,o[on]=w;e:for(C=u.child;C!==null;){if(C.tag===5||C.tag===6)o.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===u)break e;for(;C.sibling===null;){if(C.return===null||C.return===u)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}u.stateNode=o;e:switch(_a(o,x,w),x){case"button":case"input":case"select":case"textarea":o=!!w.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&nl(u)}}return ur(u),u.flags&=-16777217,null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==w&&nl(u);else{if(typeof w!="string"&&u.stateNode===null)throw Error(r(166));if(o=oe.current,zh(u)){if(o=u.stateNode,x=u.memoizedProps,w=null,C=ti,C!==null)switch(C.tag){case 27:case 5:w=C.memoizedProps}o[lr]=u,o=!!(o.nodeValue===x||w!==null&&w.suppressHydrationWarning===!0||c4(o.nodeValue,x)),o||Eu(u)}else o=fp(o).createTextNode(w),o[lr]=u,u.stateNode=o}return ur(u),null;case 13:if(w=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(C=zh(u),w!==null&&w.dehydrated!==null){if(o===null){if(!C)throw Error(r(318));if(C=u.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(r(317));C[lr]=u}else Vh(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;ur(u),C=!1}else C=G_(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=C),C=!0;if(!C)return u.flags&256?(el(u),u):(el(u),null)}if(el(u),(u.flags&128)!==0)return u.lanes=x,u;if(x=w!==null,o=o!==null&&o.memoizedState!==null,x){w=u.child,C=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(C=w.alternate.memoizedState.cachePool.pool);var R=null;w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(R=w.memoizedState.cachePool.pool),R!==C&&(w.flags|=2048)}return x!==o&&x&&(u.child.flags|=8192),Jg(u,u.updateQueue),ur(u),null;case 4:return xe(),o===null&&wb(u.stateNode.containerInfo),ur(u),null;case 10:return Zo(u.type),ur(u),null;case 19:if(se(ia),C=u.memoizedState,C===null)return ur(u),null;if(w=(u.flags&128)!==0,R=C.rendering,R===null)if(w)am(C,!1);else{if(br!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(R=Gg(o),R!==null){for(u.flags|=128,am(C,!1),o=R.updateQueue,u.updateQueue=o,Jg(u,o),u.subtreeFlags=0,o=x,x=u.child;x!==null;)H_(x,o),x=x.sibling;return me(ia,ia.current&1|2),u.child}o=o.sibling}C.tail!==null&&ht()>np&&(u.flags|=128,w=!0,am(C,!1),u.lanes=4194304)}else{if(!w)if(o=Gg(R),o!==null){if(u.flags|=128,w=!0,o=o.updateQueue,u.updateQueue=o,Jg(u,o),am(C,!0),C.tail===null&&C.tailMode==="hidden"&&!R.alternate&&!vn)return ur(u),null}else 2*ht()-C.renderingStartTime>np&&x!==536870912&&(u.flags|=128,w=!0,am(C,!1),u.lanes=4194304);C.isBackwards?(R.sibling=u.child,u.child=R):(o=C.last,o!==null?o.sibling=R:u.child=R,C.last=R)}return C.tail!==null?(u=C.tail,C.rendering=u,C.tail=u.sibling,C.renderingStartTime=ht(),u.sibling=null,o=ia.current,me(ia,w?o&1|2:o&1),u):(ur(u),null);case 22:case 23:return el(u),jy(),w=u.memoizedState!==null,o!==null?o.memoizedState!==null!==w&&(u.flags|=8192):w&&(u.flags|=8192),w?(x&536870912)!==0&&(u.flags&128)===0&&(ur(u),u.subtreeFlags&6&&(u.flags|=8192)):ur(u),x=u.updateQueue,x!==null&&Jg(u,x.retryQueue),x=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(x=o.memoizedState.cachePool.pool),w=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(w=u.memoizedState.cachePool.pool),w!==x&&(u.flags|=2048),o!==null&&se(Cu),null;case 24:return x=null,o!==null&&(x=o.memoizedState.cache),u.memoizedState.cache!==x&&(u.flags|=2048),Zo(aa),ur(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function Xz(o,u){switch(cy(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return Zo(aa),xe(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return Le(u),null;case 13:if(el(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Vh()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return se(ia),null;case 4:return xe(),null;case 10:return Zo(u.type),null;case 22:case 23:return el(u),jy(),o!==null&&se(Cu),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return Zo(aa),null;case 25:return null;default:return null}}function xT(o,u){switch(cy(u),u.tag){case 3:Zo(aa),xe();break;case 26:case 27:case 5:Le(u);break;case 4:xe();break;case 13:el(u);break;case 19:se(ia);break;case 10:Zo(u.type);break;case 22:case 23:el(u),jy(),o!==null&&se(Cu);break;case 24:Zo(aa)}}function im(o,u){try{var x=u.updateQueue,w=x!==null?x.lastEffect:null;if(w!==null){var C=w.next;x=C;do{if((x.tag&o)===o){w=void 0;var R=x.create,q=x.inst;w=R(),q.destroy=w}x=x.next}while(x!==C)}}catch(J){Bn(u,u.return,J)}}function lc(o,u,x){try{var w=u.updateQueue,C=w!==null?w.lastEffect:null;if(C!==null){var R=C.next;w=R;do{if((w.tag&o)===o){var q=w.inst,J=q.destroy;if(J!==void 0){q.destroy=void 0,C=u;var le=x,Ee=J;try{Ee()}catch(Be){Bn(C,le,Be)}}}w=w.next}while(w!==R)}}catch(Be){Bn(u,u.return,Be)}}function vT(o){var u=o.updateQueue;if(u!==null){var x=o.stateNode;try{iC(u,x)}catch(w){Bn(o,o.return,w)}}}function yT(o,u,x){x.props=Ou(o.type,o.memoizedProps),x.state=o.memoizedState;try{x.componentWillUnmount()}catch(w){Bn(o,u,w)}}function sm(o,u){try{var x=o.ref;if(x!==null){switch(o.tag){case 26:case 27:case 5:var w=o.stateNode;break;case 30:w=o.stateNode;break;default:w=o.stateNode}typeof x=="function"?o.refCleanup=x(w):x.current=w}}catch(C){Bn(o,u,C)}}function xo(o,u){var x=o.ref,w=o.refCleanup;if(x!==null)if(typeof w=="function")try{w()}catch(C){Bn(o,u,C)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(C){Bn(o,u,C)}else x.current=null}function bT(o){var u=o.type,x=o.memoizedProps,w=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":x.autoFocus&&w.focus();break e;case"img":x.src?w.src=x.src:x.srcSet&&(w.srcset=x.srcSet)}}catch(C){Bn(o,o.return,C)}}function Qy(o,u,x){try{var w=o.stateNode;xV(w,o.type,x,u),w[on]=u}catch(C){Bn(o,o.return,C)}}function wT(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&pc(o.type)||o.tag===4}function Zy(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||wT(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&pc(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Jy(o,u,x){var w=o.tag;if(w===5||w===6)o=o.stateNode,u?(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x).insertBefore(o,u):(u=x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,u.appendChild(o),x=x._reactRootContainer,x!=null||u.onclick!==null||(u.onclick=dp));else if(w!==4&&(w===27&&pc(o.type)&&(x=o.stateNode,u=null),o=o.child,o!==null))for(Jy(o,u,x),o=o.sibling;o!==null;)Jy(o,u,x),o=o.sibling}function ep(o,u,x){var w=o.tag;if(w===5||w===6)o=o.stateNode,u?x.insertBefore(o,u):x.appendChild(o);else if(w!==4&&(w===27&&pc(o.type)&&(x=o.stateNode),o=o.child,o!==null))for(ep(o,u,x),o=o.sibling;o!==null;)ep(o,u,x),o=o.sibling}function ST(o){var u=o.stateNode,x=o.memoizedProps;try{for(var w=o.type,C=u.attributes;C.length;)u.removeAttributeNode(C[0]);_a(u,w,x),u[lr]=o,u[on]=x}catch(R){Bn(o,o.return,R)}}var rl=!1,Mr=!1,eb=!1,jT=typeof WeakSet=="function"?WeakSet:Set,ha=null;function Qz(o,u){if(o=o.containerInfo,Ab=vp,o=k(o),V(o)){if("selectionStart"in o)var x={start:o.selectionStart,end:o.selectionEnd};else e:{x=(x=o.ownerDocument)&&x.defaultView||window;var w=x.getSelection&&x.getSelection();if(w&&w.rangeCount!==0){x=w.anchorNode;var C=w.anchorOffset,R=w.focusNode;w=w.focusOffset;try{x.nodeType,R.nodeType}catch{x=null;break e}var q=0,J=-1,le=-1,Ee=0,Be=0,ze=o,_e=null;t:for(;;){for(var Te;ze!==x||C!==0&&ze.nodeType!==3||(J=q+C),ze!==R||w!==0&&ze.nodeType!==3||(le=q+w),ze.nodeType===3&&(q+=ze.nodeValue.length),(Te=ze.firstChild)!==null;)_e=ze,ze=Te;for(;;){if(ze===o)break t;if(_e===x&&++Ee===C&&(J=q),_e===R&&++Be===w&&(le=q),(Te=ze.nextSibling)!==null)break;ze=_e,_e=ze.parentNode}ze=Te}x=J===-1||le===-1?null:{start:J,end:le}}else x=null}x=x||{start:0,end:0}}else x=null;for(Eb={focusedElem:o,selectionRange:x},vp=!1,ha=u;ha!==null;)if(u=ha,o=u.child,(u.subtreeFlags&1024)!==0&&o!==null)o.return=u,ha=o;else for(;ha!==null;){switch(u=ha,R=u.alternate,o=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&R!==null){o=void 0,x=u,C=R.memoizedProps,R=R.memoizedState,w=x.stateNode;try{var _t=Ou(x.type,C,x.elementType===x.type);o=w.getSnapshotBeforeUpdate(_t,R),w.__reactInternalSnapshotBeforeUpdate=o}catch(St){Bn(x,x.return,St)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,x=o.nodeType,x===9)Cb(o);else if(x===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Cb(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=u.sibling,o!==null){o.return=u.return,ha=o;break}ha=u.return}}function AT(o,u,x){var w=x.flags;switch(x.tag){case 0:case 11:case 15:cc(o,x),w&4&&im(5,x);break;case 1:if(cc(o,x),w&4)if(o=x.stateNode,u===null)try{o.componentDidMount()}catch(q){Bn(x,x.return,q)}else{var C=Ou(x.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(C,u,o.__reactInternalSnapshotBeforeUpdate)}catch(q){Bn(x,x.return,q)}}w&64&&vT(x),w&512&&sm(x,x.return);break;case 3:if(cc(o,x),w&64&&(o=x.updateQueue,o!==null)){if(u=null,x.child!==null)switch(x.child.tag){case 27:case 5:u=x.child.stateNode;break;case 1:u=x.child.stateNode}try{iC(o,u)}catch(q){Bn(x,x.return,q)}}break;case 27:u===null&&w&4&&ST(x);case 26:case 5:cc(o,x),u===null&&w&4&&bT(x),w&512&&sm(x,x.return);break;case 12:cc(o,x);break;case 13:cc(o,x),w&4&&_T(o,x),w&64&&(o=x.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(x=sV.bind(null,x),AV(o,x))));break;case 22:if(w=x.memoizedState!==null||rl,!w){u=u!==null&&u.memoizedState!==null||Mr,C=rl;var R=Mr;rl=w,(Mr=u)&&!R?uc(o,x,(x.subtreeFlags&8772)!==0):cc(o,x),rl=C,Mr=R}break;case 30:break;default:cc(o,x)}}function ET(o){var u=o.alternate;u!==null&&(o.alternate=null,ET(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&du(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var er=null,hi=!1;function al(o,u,x){for(x=x.child;x!==null;)NT(o,u,x),x=x.sibling}function NT(o,u,x){if(zn&&typeof zn.onCommitFiberUnmount=="function")try{zn.onCommitFiberUnmount(xn,x)}catch{}switch(x.tag){case 26:Mr||xo(x,u),al(o,u,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:Mr||xo(x,u);var w=er,C=hi;pc(x.type)&&(er=x.stateNode,hi=!1),al(o,u,x),gm(x.stateNode),er=w,hi=C;break;case 5:Mr||xo(x,u);case 6:if(w=er,C=hi,er=null,al(o,u,x),er=w,hi=C,er!==null)if(hi)try{(er.nodeType===9?er.body:er.nodeName==="HTML"?er.ownerDocument.body:er).removeChild(x.stateNode)}catch(R){Bn(x,u,R)}else try{er.removeChild(x.stateNode)}catch(R){Bn(x,u,R)}break;case 18:er!==null&&(hi?(o=er,m4(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,x.stateNode),jm(o)):m4(er,x.stateNode));break;case 4:w=er,C=hi,er=x.stateNode.containerInfo,hi=!0,al(o,u,x),er=w,hi=C;break;case 0:case 11:case 14:case 15:Mr||lc(2,x,u),Mr||lc(4,x,u),al(o,u,x);break;case 1:Mr||(xo(x,u),w=x.stateNode,typeof w.componentWillUnmount=="function"&&yT(x,u,w)),al(o,u,x);break;case 21:al(o,u,x);break;case 22:Mr=(w=Mr)||x.memoizedState!==null,al(o,u,x),Mr=w;break;default:al(o,u,x)}}function _T(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{jm(o)}catch(x){Bn(u,u.return,x)}}function Zz(o){switch(o.tag){case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new jT),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new jT),u;default:throw Error(r(435,o.tag))}}function tb(o,u){var x=Zz(o);u.forEach(function(w){var C=oV.bind(null,o,w);x.has(w)||(x.add(w),w.then(C,C))})}function Ci(o,u){var x=u.deletions;if(x!==null)for(var w=0;w<x.length;w++){var C=x[w],R=o,q=u,J=q;e:for(;J!==null;){switch(J.tag){case 27:if(pc(J.type)){er=J.stateNode,hi=!1;break e}break;case 5:er=J.stateNode,hi=!1;break e;case 3:case 4:er=J.stateNode.containerInfo,hi=!0;break e}J=J.return}if(er===null)throw Error(r(160));NT(R,q,C),er=null,hi=!1,R=C.alternate,R!==null&&(R.return=null),C.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)CT(u,o),u=u.sibling}var Ds=null;function CT(o,u){var x=o.alternate,w=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Ci(u,o),Ti(o),w&4&&(lc(3,o,o.return),im(3,o),lc(5,o,o.return));break;case 1:Ci(u,o),Ti(o),w&512&&(Mr||x===null||xo(x,x.return)),w&64&&rl&&(o=o.updateQueue,o!==null&&(w=o.callbacks,w!==null&&(x=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=x===null?w:x.concat(w))));break;case 26:var C=Ds;if(Ci(u,o),Ti(o),w&512&&(Mr||x===null||xo(x,x.return)),w&4){var R=x!==null?x.memoizedState:null;if(w=o.memoizedState,x===null)if(w===null)if(o.stateNode===null){e:{w=o.type,x=o.memoizedProps,C=C.ownerDocument||C;t:switch(w){case"title":R=C.getElementsByTagName("title")[0],(!R||R[Zi]||R[lr]||R.namespaceURI==="http://www.w3.org/2000/svg"||R.hasAttribute("itemprop"))&&(R=C.createElement(w),C.head.insertBefore(R,C.querySelector("head > title"))),_a(R,w,x),R[lr]=o,An(R),w=R;break e;case"link":var q=S4("link","href",C).get(w+(x.href||""));if(q){for(var J=0;J<q.length;J++)if(R=q[J],R.getAttribute("href")===(x.href==null||x.href===""?null:x.href)&&R.getAttribute("rel")===(x.rel==null?null:x.rel)&&R.getAttribute("title")===(x.title==null?null:x.title)&&R.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){q.splice(J,1);break t}}R=C.createElement(w),_a(R,w,x),C.head.appendChild(R);break;case"meta":if(q=S4("meta","content",C).get(w+(x.content||""))){for(J=0;J<q.length;J++)if(R=q[J],R.getAttribute("content")===(x.content==null?null:""+x.content)&&R.getAttribute("name")===(x.name==null?null:x.name)&&R.getAttribute("property")===(x.property==null?null:x.property)&&R.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&R.getAttribute("charset")===(x.charSet==null?null:x.charSet)){q.splice(J,1);break t}}R=C.createElement(w),_a(R,w,x),C.head.appendChild(R);break;default:throw Error(r(468,w))}R[lr]=o,An(R),w=R}o.stateNode=w}else j4(C,o.type,o.stateNode);else o.stateNode=w4(C,w,o.memoizedProps);else R!==w?(R===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):R.count--,w===null?j4(C,o.type,o.stateNode):w4(C,w,o.memoizedProps)):w===null&&o.stateNode!==null&&Qy(o,o.memoizedProps,x.memoizedProps)}break;case 27:Ci(u,o),Ti(o),w&512&&(Mr||x===null||xo(x,x.return)),x!==null&&w&4&&Qy(o,o.memoizedProps,x.memoizedProps);break;case 5:if(Ci(u,o),Ti(o),w&512&&(Mr||x===null||xo(x,x.return)),o.flags&32){C=o.stateNode;try{ta(C,"")}catch(Te){Bn(o,o.return,Te)}}w&4&&o.stateNode!=null&&(C=o.memoizedProps,Qy(o,C,x!==null?x.memoizedProps:C)),w&1024&&(eb=!0);break;case 6:if(Ci(u,o),Ti(o),w&4){if(o.stateNode===null)throw Error(r(162));w=o.memoizedProps,x=o.stateNode;try{x.nodeValue=w}catch(Te){Bn(o,o.return,Te)}}break;case 3:if(gp=null,C=Ds,Ds=hp(u.containerInfo),Ci(u,o),Ds=C,Ti(o),w&4&&x!==null&&x.memoizedState.isDehydrated)try{jm(u.containerInfo)}catch(Te){Bn(o,o.return,Te)}eb&&(eb=!1,TT(o));break;case 4:w=Ds,Ds=hp(o.stateNode.containerInfo),Ci(u,o),Ti(o),Ds=w;break;case 12:Ci(u,o),Ti(o);break;case 13:Ci(u,o),Ti(o),o.child.flags&8192&&o.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(ob=ht()),w&4&&(w=o.updateQueue,w!==null&&(o.updateQueue=null,tb(o,w)));break;case 22:C=o.memoizedState!==null;var le=x!==null&&x.memoizedState!==null,Ee=rl,Be=Mr;if(rl=Ee||C,Mr=Be||le,Ci(u,o),Mr=Be,rl=Ee,Ti(o),w&8192)e:for(u=o.stateNode,u._visibility=C?u._visibility&-2:u._visibility|1,C&&(x===null||le||rl||Mr||Mu(o)),x=null,u=o;;){if(u.tag===5||u.tag===26){if(x===null){le=x=u;try{if(R=le.stateNode,C)q=R.style,typeof q.setProperty=="function"?q.setProperty("display","none","important"):q.display="none";else{J=le.stateNode;var ze=le.memoizedProps.style,_e=ze!=null&&ze.hasOwnProperty("display")?ze.display:null;J.style.display=_e==null||typeof _e=="boolean"?"":(""+_e).trim()}}catch(Te){Bn(le,le.return,Te)}}}else if(u.tag===6){if(x===null){le=u;try{le.stateNode.nodeValue=C?"":le.memoizedProps}catch(Te){Bn(le,le.return,Te)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;x===u&&(x=null),u=u.return}x===u&&(x=null),u.sibling.return=u.return,u=u.sibling}w&4&&(w=o.updateQueue,w!==null&&(x=w.retryQueue,x!==null&&(w.retryQueue=null,tb(o,x))));break;case 19:Ci(u,o),Ti(o),w&4&&(w=o.updateQueue,w!==null&&(o.updateQueue=null,tb(o,w)));break;case 30:break;case 21:break;default:Ci(u,o),Ti(o)}}function Ti(o){var u=o.flags;if(u&2){try{for(var x,w=o.return;w!==null;){if(wT(w)){x=w;break}w=w.return}if(x==null)throw Error(r(160));switch(x.tag){case 27:var C=x.stateNode,R=Zy(o);ep(o,R,C);break;case 5:var q=x.stateNode;x.flags&32&&(ta(q,""),x.flags&=-33);var J=Zy(o);ep(o,J,q);break;case 3:case 4:var le=x.stateNode.containerInfo,Ee=Zy(o);Jy(o,Ee,le);break;default:throw Error(r(161))}}catch(Be){Bn(o,o.return,Be)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function TT(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;TT(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function cc(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)AT(o,u.alternate,u),u=u.sibling}function Mu(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:lc(4,u,u.return),Mu(u);break;case 1:xo(u,u.return);var x=u.stateNode;typeof x.componentWillUnmount=="function"&&yT(u,u.return,x),Mu(u);break;case 27:gm(u.stateNode);case 26:case 5:xo(u,u.return),Mu(u);break;case 22:u.memoizedState===null&&Mu(u);break;case 30:Mu(u);break;default:Mu(u)}o=o.sibling}}function uc(o,u,x){for(x=x&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var w=u.alternate,C=o,R=u,q=R.flags;switch(R.tag){case 0:case 11:case 15:uc(C,R,x),im(4,R);break;case 1:if(uc(C,R,x),w=R,C=w.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(Ee){Bn(w,w.return,Ee)}if(w=R,C=w.updateQueue,C!==null){var J=w.stateNode;try{var le=C.shared.hiddenCallbacks;if(le!==null)for(C.shared.hiddenCallbacks=null,C=0;C<le.length;C++)aC(le[C],J)}catch(Ee){Bn(w,w.return,Ee)}}x&&q&64&&vT(R),sm(R,R.return);break;case 27:ST(R);case 26:case 5:uc(C,R,x),x&&w===null&&q&4&&bT(R),sm(R,R.return);break;case 12:uc(C,R,x);break;case 13:uc(C,R,x),x&&q&4&&_T(C,R);break;case 22:R.memoizedState===null&&uc(C,R,x),sm(R,R.return);break;case 30:break;default:uc(C,R,x)}u=u.sibling}}function nb(o,u){var x=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(x=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==x&&(o!=null&&o.refCount++,x!=null&&qh(x))}function rb(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&qh(o))}function vo(o,u,x,w){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)OT(o,u,x,w),u=u.sibling}function OT(o,u,x,w){var C=u.flags;switch(u.tag){case 0:case 11:case 15:vo(o,u,x,w),C&2048&&im(9,u);break;case 1:vo(o,u,x,w);break;case 3:vo(o,u,x,w),C&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&qh(o)));break;case 12:if(C&2048){vo(o,u,x,w),o=u.stateNode;try{var R=u.memoizedProps,q=R.id,J=R.onPostCommit;typeof J=="function"&&J(q,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(le){Bn(u,u.return,le)}}else vo(o,u,x,w);break;case 13:vo(o,u,x,w);break;case 23:break;case 22:R=u.stateNode,q=u.alternate,u.memoizedState!==null?R._visibility&2?vo(o,u,x,w):om(o,u):R._visibility&2?vo(o,u,x,w):(R._visibility|=2,Zd(o,u,x,w,(u.subtreeFlags&10256)!==0)),C&2048&&nb(q,u);break;case 24:vo(o,u,x,w),C&2048&&rb(u.alternate,u);break;default:vo(o,u,x,w)}}function Zd(o,u,x,w,C){for(C=C&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var R=o,q=u,J=x,le=w,Ee=q.flags;switch(q.tag){case 0:case 11:case 15:Zd(R,q,J,le,C),im(8,q);break;case 23:break;case 22:var Be=q.stateNode;q.memoizedState!==null?Be._visibility&2?Zd(R,q,J,le,C):om(R,q):(Be._visibility|=2,Zd(R,q,J,le,C)),C&&Ee&2048&&nb(q.alternate,q);break;case 24:Zd(R,q,J,le,C),C&&Ee&2048&&rb(q.alternate,q);break;default:Zd(R,q,J,le,C)}u=u.sibling}}function om(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var x=o,w=u,C=w.flags;switch(w.tag){case 22:om(x,w),C&2048&&nb(w.alternate,w);break;case 24:om(x,w),C&2048&&rb(w.alternate,w);break;default:om(x,w)}u=u.sibling}}var lm=8192;function Jd(o){if(o.subtreeFlags&lm)for(o=o.child;o!==null;)MT(o),o=o.sibling}function MT(o){switch(o.tag){case 26:Jd(o),o.flags&lm&&o.memoizedState!==null&&LV(Ds,o.memoizedState,o.memoizedProps);break;case 5:Jd(o);break;case 3:case 4:var u=Ds;Ds=hp(o.stateNode.containerInfo),Jd(o),Ds=u;break;case 22:o.memoizedState===null&&(u=o.alternate,u!==null&&u.memoizedState!==null?(u=lm,lm=16777216,Jd(o),lm=u):Jd(o));break;default:Jd(o)}}function DT(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function cm(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var x=0;x<u.length;x++){var w=u[x];ha=w,IT(w,o)}DT(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)RT(o),o=o.sibling}function RT(o){switch(o.tag){case 0:case 11:case 15:cm(o),o.flags&2048&&lc(9,o,o.return);break;case 3:cm(o);break;case 12:cm(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,tp(o)):cm(o);break;default:cm(o)}}function tp(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var x=0;x<u.length;x++){var w=u[x];ha=w,IT(w,o)}DT(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:lc(8,u,u.return),tp(u);break;case 22:x=u.stateNode,x._visibility&2&&(x._visibility&=-3,tp(u));break;default:tp(u)}o=o.sibling}}function IT(o,u){for(;ha!==null;){var x=ha;switch(x.tag){case 0:case 11:case 15:lc(8,x,u);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var w=x.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:qh(x.memoizedState.cache)}if(w=x.child,w!==null)w.return=x,ha=w;else e:for(x=o;ha!==null;){w=ha;var C=w.sibling,R=w.return;if(ET(w),w===x){ha=null;break e}if(C!==null){C.return=R,ha=C;break e}ha=R}}}var Jz={getCacheForType:function(o){var u=za(aa),x=u.data.get(o);return x===void 0&&(x=o(),u.data.set(o,x)),x}},eV=typeof WeakMap=="function"?WeakMap:Map,_n=0,$n=null,Kt=null,ln=0,Cn=0,Oi=null,dc=!1,ef=!1,ab=!1,il=0,br=0,fc=0,Du=0,ib=0,is=0,tf=0,um=null,mi=null,sb=!1,ob=0,np=1/0,rp=null,hc=null,Na=0,mc=null,nf=null,rf=0,lb=0,cb=null,PT=null,dm=0,ub=null;function Mi(){if((_n&2)!==0&&ln!==0)return ln&-ln;if(G.T!==null){var o=Hd;return o!==0?o:xb()}return ci()}function kT(){is===0&&(is=(ln&536870912)===0||vn?Qa():536870912);var o=as.current;return o!==null&&(o.flags|=32),is}function Di(o,u,x){(o===$n&&(Cn===2||Cn===9)||o.cancelPendingCommit!==null)&&(af(o,0),gc(o,ln,is,!1)),Pa(o,x),((_n&2)===0||o!==$n)&&(o===$n&&((_n&2)===0&&(Du|=x),br===4&&gc(o,ln,is,!1)),yo(o))}function LT(o,u,x){if((_n&6)!==0)throw Error(r(327));var w=!x&&(u&124)===0&&(u&o.expiredLanes)===0||bn(o,u),C=w?rV(o,u):hb(o,u,!0),R=w;do{if(C===0){ef&&!w&&gc(o,u,0,!1);break}else{if(x=o.current.alternate,R&&!tV(x)){C=hb(o,u,!1),R=!1;continue}if(C===2){if(R=u,o.errorRecoveryDisabledLanes&R)var q=0;else q=o.pendingLanes&-536870913,q=q!==0?q:q&536870912?536870912:0;if(q!==0){u=q;e:{var J=o;C=um;var le=J.current.memoizedState.isDehydrated;if(le&&(af(J,q).flags|=256),q=hb(J,q,!1),q!==2){if(ab&&!le){J.errorRecoveryDisabledLanes|=R,Du|=R,C=4;break e}R=mi,mi=C,R!==null&&(mi===null?mi=R:mi.push.apply(mi,R))}C=q}if(R=!1,C!==2)continue}}if(C===1){af(o,0),gc(o,u,0,!0);break}e:{switch(w=o,R=C,R){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:gc(w,u,is,!dc);break e;case 2:mi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(C=ob+300-ht(),10<C)){if(gc(w,u,is,!dc),rn(w,0,!0)!==0)break e;w.timeoutHandle=f4(BT.bind(null,w,x,mi,rp,sb,u,is,Du,tf,dc,R,2,-0,0),C);break e}BT(w,x,mi,rp,sb,u,is,Du,tf,dc,R,0,-0,0)}}break}while(!0);yo(o)}function BT(o,u,x,w,C,R,q,J,le,Ee,Be,ze,_e,Te){if(o.timeoutHandle=-1,ze=u.subtreeFlags,(ze&8192||(ze&16785408)===16785408)&&(vm={stylesheets:null,count:0,unsuspend:kV},MT(u),ze=BV(),ze!==null)){o.cancelPendingCommit=ze(qT.bind(null,o,u,R,x,w,C,q,J,le,Be,1,_e,Te)),gc(o,R,q,!Ee);return}qT(o,u,R,x,w,C,q,J,le)}function tV(o){for(var u=o;;){var x=u.tag;if((x===0||x===11||x===15)&&u.flags&16384&&(x=u.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var w=0;w<x.length;w++){var C=x[w],R=C.getSnapshot;C=C.value;try{if(!y(R(),C))return!1}catch{return!1}}if(x=u.child,u.subtreeFlags&16384&&x!==null)x.return=u,u=x;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function gc(o,u,x,w){u&=~ib,u&=~Du,o.suspendedLanes|=u,o.pingedLanes&=~u,w&&(o.warmLanes|=u),w=o.expirationTimes;for(var C=u;0<C;){var R=31-Zt(C),q=1<<R;w[R]=-1,C&=~q}x!==0&&Tt(o,x,u)}function ap(){return(_n&6)===0?(fm(0),!1):!0}function db(){if(Kt!==null){if(Cn===0)var o=Kt.return;else o=Kt,Qo=Nu=null,Cy(o),Xd=null,nm=0,o=Kt;for(;o!==null;)xT(o.alternate,o),o=o.return;Kt=null}}function af(o,u){var x=o.timeoutHandle;x!==-1&&(o.timeoutHandle=-1,yV(x)),x=o.cancelPendingCommit,x!==null&&(o.cancelPendingCommit=null,x()),db(),$n=o,Kt=x=Go(o.current,null),ln=u,Cn=0,Oi=null,dc=!1,ef=bn(o,u),ab=!1,tf=is=ib=Du=fc=br=0,mi=um=null,sb=!1,(u&8)!==0&&(u|=u&32);var w=o.entangledLanes;if(w!==0)for(o=o.entanglements,w&=u;0<w;){var C=31-Zt(w),R=1<<C;u|=o[C],w&=~R}return il=u,Ng(),x}function FT(o,u){Vt=null,G.H=qg,u===Wh||u===Pg?(u=nC(),Cn=3):u===J_?(u=nC(),Cn=4):Cn=u===rT?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Oi=u,Kt===null&&(br=1,Xg(o,es(u,o.current)))}function UT(){var o=G.H;return G.H=qg,o===null?qg:o}function zT(){var o=G.A;return G.A=Jz,o}function fb(){br=4,dc||(ln&4194048)!==ln&&as.current!==null||(ef=!0),(fc&134217727)===0&&(Du&134217727)===0||$n===null||gc($n,ln,is,!1)}function hb(o,u,x){var w=_n;_n|=2;var C=UT(),R=zT();($n!==o||ln!==u)&&(rp=null,af(o,u)),u=!1;var q=br;e:do try{if(Cn!==0&&Kt!==null){var J=Kt,le=Oi;switch(Cn){case 8:db(),q=6;break e;case 3:case 2:case 9:case 6:as.current===null&&(u=!0);var Ee=Cn;if(Cn=0,Oi=null,sf(o,J,le,Ee),x&&ef){q=0;break e}break;default:Ee=Cn,Cn=0,Oi=null,sf(o,J,le,Ee)}}nV(),q=br;break}catch(Be){FT(o,Be)}while(!0);return u&&o.shellSuspendCounter++,Qo=Nu=null,_n=w,G.H=C,G.A=R,Kt===null&&($n=null,ln=0,Ng()),q}function nV(){for(;Kt!==null;)VT(Kt)}function rV(o,u){var x=_n;_n|=2;var w=UT(),C=zT();$n!==o||ln!==u?(rp=null,np=ht()+500,af(o,u)):ef=bn(o,u);e:do try{if(Cn!==0&&Kt!==null){u=Kt;var R=Oi;t:switch(Cn){case 1:Cn=0,Oi=null,sf(o,u,R,1);break;case 2:case 9:if(eC(R)){Cn=0,Oi=null,$T(u);break}u=function(){Cn!==2&&Cn!==9||$n!==o||(Cn=7),yo(o)},R.then(u,u);break e;case 3:Cn=7;break e;case 4:Cn=5;break e;case 7:eC(R)?(Cn=0,Oi=null,$T(u)):(Cn=0,Oi=null,sf(o,u,R,7));break;case 5:var q=null;switch(Kt.tag){case 26:q=Kt.memoizedState;case 5:case 27:var J=Kt;if(!q||A4(q)){Cn=0,Oi=null;var le=J.sibling;if(le!==null)Kt=le;else{var Ee=J.return;Ee!==null?(Kt=Ee,ip(Ee)):Kt=null}break t}}Cn=0,Oi=null,sf(o,u,R,5);break;case 6:Cn=0,Oi=null,sf(o,u,R,6);break;case 8:db(),br=6;break e;default:throw Error(r(462))}}aV();break}catch(Be){FT(o,Be)}while(!0);return Qo=Nu=null,G.H=w,G.A=C,_n=x,Kt!==null?0:($n=null,ln=0,Ng(),br)}function aV(){for(;Kt!==null&&!Ze();)VT(Kt)}function VT(o){var u=gT(o.alternate,o,il);o.memoizedProps=o.pendingProps,u===null?ip(o):Kt=u}function $T(o){var u=o,x=u.alternate;switch(u.tag){case 15:case 0:u=cT(x,u,u.pendingProps,u.type,void 0,ln);break;case 11:u=cT(x,u,u.pendingProps,u.type.render,u.ref,ln);break;case 5:Cy(u);default:xT(x,u),u=Kt=H_(u,il),u=gT(x,u,il)}o.memoizedProps=o.pendingProps,u===null?ip(o):Kt=u}function sf(o,u,x,w){Qo=Nu=null,Cy(u),Xd=null,nm=0;var C=u.return;try{if(Wz(o,C,u,x,ln)){br=1,Xg(o,es(x,o.current)),Kt=null;return}}catch(R){if(C!==null)throw Kt=C,R;br=1,Xg(o,es(x,o.current)),Kt=null;return}u.flags&32768?(vn||w===1?o=!0:ef||(ln&536870912)!==0?o=!1:(dc=o=!0,(w===2||w===9||w===3||w===6)&&(w=as.current,w!==null&&w.tag===13&&(w.flags|=16384))),HT(u,o)):ip(u)}function ip(o){var u=o;do{if((u.flags&32768)!==0){HT(u,dc);return}o=u.return;var x=Kz(u.alternate,u,il);if(x!==null){Kt=x;return}if(u=u.sibling,u!==null){Kt=u;return}Kt=u=o}while(u!==null);br===0&&(br=5)}function HT(o,u){do{var x=Xz(o.alternate,o);if(x!==null){x.flags&=32767,Kt=x;return}if(x=o.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!u&&(o=o.sibling,o!==null)){Kt=o;return}Kt=o=x}while(o!==null);br=6,Kt=null}function qT(o,u,x,w,C,R,q,J,le){o.cancelPendingCommit=null;do sp();while(Na!==0);if((_n&6)!==0)throw Error(r(327));if(u!==null){if(u===o.current)throw Error(r(177));if(R=u.lanes|u.childLanes,R|=ry,uu(o,x,R,q,J,le),o===$n&&(Kt=$n=null,ln=0),nf=u,mc=o,rf=x,lb=R,cb=C,PT=w,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,lV(et,function(){return XT(),null})):(o.callbackNode=null,o.callbackPriority=0),w=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||w){w=G.T,G.T=null,C=Q.p,Q.p=2,q=_n,_n|=4;try{Qz(o,u,x)}finally{_n=q,Q.p=C,G.T=w}}Na=1,YT(),WT(),GT()}}function YT(){if(Na===1){Na=0;var o=mc,u=nf,x=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||x){x=G.T,G.T=null;var w=Q.p;Q.p=2;var C=_n;_n|=4;try{CT(u,o);var R=Eb,q=k(o.containerInfo),J=R.focusedElem,le=R.selectionRange;if(q!==J&&J&&J.ownerDocument&&M(J.ownerDocument.documentElement,J)){if(le!==null&&V(J)){var Ee=le.start,Be=le.end;if(Be===void 0&&(Be=Ee),"selectionStart"in J)J.selectionStart=Ee,J.selectionEnd=Math.min(Be,J.value.length);else{var ze=J.ownerDocument||document,_e=ze&&ze.defaultView||window;if(_e.getSelection){var Te=_e.getSelection(),_t=J.textContent.length,St=Math.min(le.start,_t),kn=le.end===void 0?St:Math.min(le.end,_t);!Te.extend&&St>kn&&(q=kn,kn=St,St=q);var ve=N(J,St),ge=N(J,kn);if(ve&&ge&&(Te.rangeCount!==1||Te.anchorNode!==ve.node||Te.anchorOffset!==ve.offset||Te.focusNode!==ge.node||Te.focusOffset!==ge.offset)){var Ae=ze.createRange();Ae.setStart(ve.node,ve.offset),Te.removeAllRanges(),St>kn?(Te.addRange(Ae),Te.extend(ge.node,ge.offset)):(Ae.setEnd(ge.node,ge.offset),Te.addRange(Ae))}}}}for(ze=[],Te=J;Te=Te.parentNode;)Te.nodeType===1&&ze.push({element:Te,left:Te.scrollLeft,top:Te.scrollTop});for(typeof J.focus=="function"&&J.focus(),J=0;J<ze.length;J++){var Ue=ze[J];Ue.element.scrollLeft=Ue.left,Ue.element.scrollTop=Ue.top}}vp=!!Ab,Eb=Ab=null}finally{_n=C,Q.p=w,G.T=x}}o.current=u,Na=2}}function WT(){if(Na===2){Na=0;var o=mc,u=nf,x=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||x){x=G.T,G.T=null;var w=Q.p;Q.p=2;var C=_n;_n|=4;try{AT(o,u.alternate,u)}finally{_n=C,Q.p=w,G.T=x}}Na=3}}function GT(){if(Na===4||Na===3){Na=0,Mt();var o=mc,u=nf,x=rf,w=PT;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Na=5:(Na=0,nf=mc=null,KT(o,o.pendingLanes));var C=o.pendingLanes;if(C===0&&(hc=null),sn(x),u=u.stateNode,zn&&typeof zn.onCommitFiberRoot=="function")try{zn.onCommitFiberRoot(xn,u,void 0,(u.current.flags&128)===128)}catch{}if(w!==null){u=G.T,C=Q.p,Q.p=2,G.T=null;try{for(var R=o.onRecoverableError,q=0;q<w.length;q++){var J=w[q];R(J.value,{componentStack:J.stack})}}finally{G.T=u,Q.p=C}}(rf&3)!==0&&sp(),yo(o),C=o.pendingLanes,(x&4194090)!==0&&(C&42)!==0?o===ub?dm++:(dm=0,ub=o):dm=0,fm(0)}}function KT(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,qh(u)))}function sp(o){return YT(),WT(),GT(),XT()}function XT(){if(Na!==5)return!1;var o=mc,u=lb;lb=0;var x=sn(rf),w=G.T,C=Q.p;try{Q.p=32>x?32:x,G.T=null,x=cb,cb=null;var R=mc,q=rf;if(Na=0,nf=mc=null,rf=0,(_n&6)!==0)throw Error(r(331));var J=_n;if(_n|=4,RT(R.current),OT(R,R.current,q,x),_n=J,fm(0,!1),zn&&typeof zn.onPostCommitFiberRoot=="function")try{zn.onPostCommitFiberRoot(xn,R)}catch{}return!0}finally{Q.p=C,G.T=w,KT(o,u)}}function QT(o,u,x){u=es(x,u),u=Vy(o.stateNode,u,2),o=ac(o,u,2),o!==null&&(Pa(o,2),yo(o))}function Bn(o,u,x){if(o.tag===3)QT(o,o,x);else for(;u!==null;){if(u.tag===3){QT(u,o,x);break}else if(u.tag===1){var w=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(hc===null||!hc.has(w))){o=es(x,o),x=tT(2),w=ac(u,x,2),w!==null&&(nT(x,w,u,o),Pa(w,2),yo(w));break}}u=u.return}}function mb(o,u,x){var w=o.pingCache;if(w===null){w=o.pingCache=new eV;var C=new Set;w.set(u,C)}else C=w.get(u),C===void 0&&(C=new Set,w.set(u,C));C.has(x)||(ab=!0,C.add(x),o=iV.bind(null,o,u,x),u.then(o,o))}function iV(o,u,x){var w=o.pingCache;w!==null&&w.delete(u),o.pingedLanes|=o.suspendedLanes&x,o.warmLanes&=~x,$n===o&&(ln&x)===x&&(br===4||br===3&&(ln&62914560)===ln&&300>ht()-ob?(_n&2)===0&&af(o,0):ib|=x,tf===ln&&(tf=0)),yo(o)}function ZT(o,u){u===0&&(u=cu()),o=Ud(o,u),o!==null&&(Pa(o,u),yo(o))}function sV(o){var u=o.memoizedState,x=0;u!==null&&(x=u.retryLane),ZT(o,x)}function oV(o,u){var x=0;switch(o.tag){case 13:var w=o.stateNode,C=o.memoizedState;C!==null&&(x=C.retryLane);break;case 19:w=o.stateNode;break;case 22:w=o.stateNode._retryCache;break;default:throw Error(r(314))}w!==null&&w.delete(u),ZT(o,x)}function lV(o,u){return Xe(o,u)}var op=null,of=null,gb=!1,lp=!1,pb=!1,Ru=0;function yo(o){o!==of&&o.next===null&&(of===null?op=of=o:of=of.next=o),lp=!0,gb||(gb=!0,uV())}function fm(o,u){if(!pb&&lp){pb=!0;do for(var x=!1,w=op;w!==null;){if(o!==0){var C=w.pendingLanes;if(C===0)var R=0;else{var q=w.suspendedLanes,J=w.pingedLanes;R=(1<<31-Zt(42|o)+1)-1,R&=C&~(q&~J),R=R&201326741?R&201326741|1:R?R|2:0}R!==0&&(x=!0,n4(w,R))}else R=ln,R=rn(w,w===$n?R:0,w.cancelPendingCommit!==null||w.timeoutHandle!==-1),(R&3)===0||bn(w,R)||(x=!0,n4(w,R));w=w.next}while(x);pb=!1}}function cV(){JT()}function JT(){lp=gb=!1;var o=0;Ru!==0&&(vV()&&(o=Ru),Ru=0);for(var u=ht(),x=null,w=op;w!==null;){var C=w.next,R=e4(w,u);R===0?(w.next=null,x===null?op=C:x.next=C,C===null&&(of=x)):(x=w,(o!==0||(R&3)!==0)&&(lp=!0)),w=C}fm(o)}function e4(o,u){for(var x=o.suspendedLanes,w=o.pingedLanes,C=o.expirationTimes,R=o.pendingLanes&-62914561;0<R;){var q=31-Zt(R),J=1<<q,le=C[q];le===-1?((J&x)===0||(J&w)!==0)&&(C[q]=Ns(J,u)):le<=u&&(o.expiredLanes|=J),R&=~J}if(u=$n,x=ln,x=rn(o,o===u?x:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),w=o.callbackNode,x===0||o===u&&(Cn===2||Cn===9)||o.cancelPendingCommit!==null)return w!==null&&w!==null&&$e(w),o.callbackNode=null,o.callbackPriority=0;if((x&3)===0||bn(o,x)){if(u=x&-x,u===o.callbackPriority)return u;switch(w!==null&&$e(w),sn(x)){case 2:case 8:x=ir;break;case 32:x=et;break;case 268435456:x=$r;break;default:x=et}return w=t4.bind(null,o),x=Xe(x,w),o.callbackPriority=u,o.callbackNode=x,u}return w!==null&&w!==null&&$e(w),o.callbackPriority=2,o.callbackNode=null,2}function t4(o,u){if(Na!==0&&Na!==5)return o.callbackNode=null,o.callbackPriority=0,null;var x=o.callbackNode;if(sp()&&o.callbackNode!==x)return null;var w=ln;return w=rn(o,o===$n?w:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),w===0?null:(LT(o,w,u),e4(o,ht()),o.callbackNode!=null&&o.callbackNode===x?t4.bind(null,o):null)}function n4(o,u){if(sp())return null;LT(o,u,!0)}function uV(){bV(function(){(_n&6)!==0?Xe(Qe,cV):JT()})}function xb(){return Ru===0&&(Ru=Qa()),Ru}function r4(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Md(""+o)}function a4(o,u){var x=u.ownerDocument.createElement("input");return x.name=u.name,x.value=u.value,o.id&&x.setAttribute("form",o.id),u.parentNode.insertBefore(x,u),o=new FormData(o),x.parentNode.removeChild(x),o}function dV(o,u,x,w,C){if(u==="submit"&&x&&x.stateNode===C){var R=r4((C[on]||null).action),q=w.submitter;q&&(u=(u=q[on]||null)?r4(u.formAction):q.getAttribute("formAction"),u!==null&&(R=u,q=null));var J=new uo("action","action",null,w,C);o.push({event:J,listeners:[{instance:null,listener:function(){if(w.defaultPrevented){if(Ru!==0){var le=q?a4(C,q):new FormData(C);Ly(x,{pending:!0,data:le,method:C.method,action:R},null,le)}}else typeof R=="function"&&(J.preventDefault(),le=q?a4(C,q):new FormData(C),Ly(x,{pending:!0,data:le,method:C.method,action:R},R,le))},currentTarget:C}]})}}for(var vb=0;vb<mo.length;vb++){var yb=mo[vb],fV=yb.toLowerCase(),hV=yb[0].toUpperCase()+yb.slice(1);Ni(fV,"on"+hV)}Ni(Dt,"onAnimationEnd"),Ni(Aa,"onAnimationIteration"),Ni(di,"onAnimationStart"),Ni("dblclick","onDoubleClick"),Ni("focusin","onFocus"),Ni("focusout","onBlur"),Ni(Fa,"onTransitionRun"),Ni(Nn,"onTransitionStart"),Ni(ra,"onTransitionCancel"),Ni(Ua,"onTransitionEnd"),xr("onMouseEnter",["mouseout","mouseover"]),xr("onMouseLeave",["mouseout","mouseover"]),xr("onPointerEnter",["pointerout","pointerover"]),xr("onPointerLeave",["pointerout","pointerover"]),da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),da("onBeforeInput",["compositionend","keypress","textInput","paste"]),da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hm));function i4(o,u){u=(u&4)!==0;for(var x=0;x<o.length;x++){var w=o[x],C=w.event;w=w.listeners;e:{var R=void 0;if(u)for(var q=w.length-1;0<=q;q--){var J=w[q],le=J.instance,Ee=J.currentTarget;if(J=J.listener,le!==R&&C.isPropagationStopped())break e;R=J,C.currentTarget=Ee;try{R(C)}catch(Be){Kg(Be)}C.currentTarget=null,R=le}else for(q=0;q<w.length;q++){if(J=w[q],le=J.instance,Ee=J.currentTarget,J=J.listener,le!==R&&C.isPropagationStopped())break e;R=J,C.currentTarget=Ee;try{R(C)}catch(Be){Kg(Be)}C.currentTarget=null,R=le}}}}function Xt(o,u){var x=u[Er];x===void 0&&(x=u[Er]=new Set);var w=o+"__bubble";x.has(w)||(s4(u,o,2,!1),x.add(w))}function bb(o,u,x){var w=0;u&&(w|=4),s4(x,o,w,u)}var cp="_reactListening"+Math.random().toString(36).slice(2);function wb(o){if(!o[cp]){o[cp]=!0,pg.forEach(function(x){x!=="selectionchange"&&(mV.has(x)||bb(x,!1,o),bb(x,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[cp]||(u[cp]=!0,bb("selectionchange",!1,u))}}function s4(o,u,x,w){switch(O4(u)){case 2:var C=zV;break;case 8:C=VV;break;default:C=Pb}x=C.bind(null,u,x,o),C=void 0,!Rt||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(C=!0),w?C!==void 0?o.addEventListener(u,x,{capture:!0,passive:C}):o.addEventListener(u,x,!0):C!==void 0?o.addEventListener(u,x,{passive:C}):o.addEventListener(u,x,!1)}function Sb(o,u,x,w,C){var R=w;if((u&1)===0&&(u&2)===0&&w!==null)e:for(;;){if(w===null)return;var q=w.tag;if(q===3||q===4){var J=w.stateNode.containerInfo;if(J===C)break;if(q===4)for(q=w.return;q!==null;){var le=q.tag;if((le===3||le===4)&&q.stateNode.containerInfo===C)return;q=q.return}for(;J!==null;){if(q=Nr(J),q===null)return;if(le=q.tag,le===5||le===6||le===26||le===27){w=R=q;continue e}J=J.parentNode}}w=w.return}Ts(function(){var Ee=R,Be=Hl(x),ze=[];e:{var _e=Wo.get(o);if(_e!==void 0){var Te=uo,_t=o;switch(o){case"keypress":if(Dd(x)===0)break e;case"keydown":case"keyup":Te=Ph;break;case"focusin":_t="focus",Te=Gl;break;case"focusout":_t="blur",Te=Gl;break;case"beforeblur":case"afterblur":Te=Gl;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=bg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=Sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=En;break;case Dt:case Aa:case di:Te=Kv;break;case Ua:Te=Jv;break;case"scroll":case"scrollend":Te=La;break;case"wheel":Te=qo;break;case"copy":case"cut":case"paste":Te=Bt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=xu;break;case"toggle":case"beforetoggle":Te=ey}var St=(u&4)!==0,kn=!St&&(o==="scroll"||o==="scrollend"),ve=St?_e!==null?_e+"Capture":null:_e;St=[];for(var ge=Ee,Ae;ge!==null;){var Ue=ge;if(Ae=Ue.stateNode,Ue=Ue.tag,Ue!==5&&Ue!==26&&Ue!==27||Ae===null||ve===null||(Ue=yt(ge,ve),Ue!=null&&St.push(mm(ge,Ue,Ae))),kn)break;ge=ge.return}0<St.length&&(_e=new Te(_e,_t,null,x,Be),ze.push({event:_e,listeners:St}))}}if((u&7)===0){e:{if(_e=o==="mouseover"||o==="pointerover",Te=o==="mouseout"||o==="pointerout",_e&&x!==fu&&(_t=x.relatedTarget||x.fromElement)&&(Nr(_t)||_t[pr]))break e;if((Te||_e)&&(_e=Be.window===Be?Be:(_e=Be.ownerDocument)?_e.defaultView||_e.parentWindow:window,Te?(_t=x.relatedTarget||x.toElement,Te=Ee,_t=_t?Nr(_t):null,_t!==null&&(kn=s(_t),St=_t.tag,_t!==kn||St!==5&&St!==27&&St!==6)&&(_t=null)):(Te=null,_t=Ee),Te!==_t)){if(St=bg,Ue="onMouseLeave",ve="onMouseEnter",ge="mouse",(o==="pointerout"||o==="pointerover")&&(St=xu,Ue="onPointerLeave",ve="onPointerEnter",ge="pointer"),kn=Te==null?_e:no(Te),Ae=_t==null?_e:no(_t),_e=new St(Ue,ge+"leave",Te,x,Be),_e.target=kn,_e.relatedTarget=Ae,Ue=null,Nr(Be)===Ee&&(St=new St(ve,ge+"enter",_t,x,Be),St.target=Ae,St.relatedTarget=kn,Ue=St),kn=Ue,Te&&_t)t:{for(St=Te,ve=_t,ge=0,Ae=St;Ae;Ae=lf(Ae))ge++;for(Ae=0,Ue=ve;Ue;Ue=lf(Ue))Ae++;for(;0<ge-Ae;)St=lf(St),ge--;for(;0<Ae-ge;)ve=lf(ve),Ae--;for(;ge--;){if(St===ve||ve!==null&&St===ve.alternate)break t;St=lf(St),ve=lf(ve)}St=null}else St=null;Te!==null&&o4(ze,_e,Te,St,!1),_t!==null&&kn!==null&&o4(ze,kn,_t,St,!0)}}e:{if(_e=Ee?no(Ee):window,Te=_e.nodeName&&_e.nodeName.toLowerCase(),Te==="select"||Te==="input"&&_e.type==="file")var ct=Ag;else if(bu(_e))if(Fh)ct=d;else{ct=Y;var Yt=Bd}else Te=_e.nodeName,!Te||Te.toLowerCase()!=="input"||_e.type!=="checkbox"&&_e.type!=="radio"?Ee&&xt(Ee.elementType)&&(ct=Ag):ct=l;if(ct&&(ct=ct(o,Ee))){ei(ze,ct,x,Be);break e}Yt&&Yt(o,_e,Ee),o==="focusout"&&Ee&&_e.type==="number"&&Ee.memoizedProps.value!=null&&je(_e,"number",_e.value)}switch(Yt=Ee?no(Ee):window,o){case"focusin":(bu(Yt)||Yt.contentEditable==="true")&&(Z=Yt,ie=Ee,ce=null);break;case"focusout":ce=ie=Z=null;break;case"mousedown":de=!0;break;case"contextmenu":case"mouseup":case"dragend":de=!1,Se(ze,x,Be);break;case"selectionchange":if(W)break;case"keydown":case"keyup":Se(ze,x,Be)}var vt;if(vu)e:{switch(o){case"compositionstart":var jt="onCompositionStart";break e;case"compositionend":jt="onCompositionEnd";break e;case"compositionupdate":jt="onCompositionUpdate";break e}jt=void 0}else Ql?Yo(o,x)&&(jt="onCompositionEnd"):o==="keydown"&&x.keyCode===229&&(jt="onCompositionStart");jt&&(Lh&&x.locale!=="ko"&&(Ql||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&Ql&&(vt=oo()):(so=Be,hu="value"in so?so.value:so.textContent,Ql=!0)),Yt=up(Ee,jt),0<Yt.length&&(jt=new gu(jt,o,null,x,Be),ze.push({event:jt,listeners:Yt}),vt?jt.data=vt:(vt=kd(x),vt!==null&&(jt.data=vt)))),(vt=kh?yu(o,x):ty(o,x))&&(jt=up(Ee,"onBeforeInput"),0<jt.length&&(Yt=new gu("onBeforeInput","beforeinput",null,x,Be),ze.push({event:Yt,listeners:jt}),Yt.data=vt)),dV(ze,o,Ee,x,Be)}i4(ze,u)})}function mm(o,u,x){return{instance:o,listener:u,currentTarget:x}}function up(o,u){for(var x=u+"Capture",w=[];o!==null;){var C=o,R=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||R===null||(C=yt(o,x),C!=null&&w.unshift(mm(o,C,R)),C=yt(o,u),C!=null&&w.push(mm(o,C,R))),o.tag===3)return w;o=o.return}return[]}function lf(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function o4(o,u,x,w,C){for(var R=u._reactName,q=[];x!==null&&x!==w;){var J=x,le=J.alternate,Ee=J.stateNode;if(J=J.tag,le!==null&&le===w)break;J!==5&&J!==26&&J!==27||Ee===null||(le=Ee,C?(Ee=yt(x,R),Ee!=null&&q.unshift(mm(x,Ee,le))):C||(Ee=yt(x,R),Ee!=null&&q.push(mm(x,Ee,le)))),x=x.return}q.length!==0&&o.push({event:u,listeners:q})}var gV=/\r\n?/g,pV=/\u0000|\uFFFD/g;function l4(o){return(typeof o=="string"?o:""+o).replace(gV,`
`).replace(pV,"")}function c4(o,u){return u=l4(u),l4(o)===u}function dp(){}function Pn(o,u,x,w,C,R){switch(x){case"children":typeof w=="string"?u==="body"||u==="textarea"&&w===""||ta(o,w):(typeof w=="number"||typeof w=="bigint")&&u!=="body"&&ta(o,""+w);break;case"className":_d(o,"class",w);break;case"tabIndex":_d(o,"tabindex",w);break;case"dir":case"role":case"viewBox":case"width":case"height":_d(o,x,w);break;case"style":Ja(o,w,R);break;case"data":if(u!=="object"){_d(o,"data",w);break}case"src":case"href":if(w===""&&(u!=="a"||x!=="href")){o.removeAttribute(x);break}if(w==null||typeof w=="function"||typeof w=="symbol"||typeof w=="boolean"){o.removeAttribute(x);break}w=Md(""+w),o.setAttribute(x,w);break;case"action":case"formAction":if(typeof w=="function"){o.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof R=="function"&&(x==="formAction"?(u!=="input"&&Pn(o,u,"name",C.name,C,null),Pn(o,u,"formEncType",C.formEncType,C,null),Pn(o,u,"formMethod",C.formMethod,C,null),Pn(o,u,"formTarget",C.formTarget,C,null)):(Pn(o,u,"encType",C.encType,C,null),Pn(o,u,"method",C.method,C,null),Pn(o,u,"target",C.target,C,null)));if(w==null||typeof w=="symbol"||typeof w=="boolean"){o.removeAttribute(x);break}w=Md(""+w),o.setAttribute(x,w);break;case"onClick":w!=null&&(o.onclick=dp);break;case"onScroll":w!=null&&Xt("scroll",o);break;case"onScrollEnd":w!=null&&Xt("scrollend",o);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(r(61));if(x=w.__html,x!=null){if(C.children!=null)throw Error(r(60));o.innerHTML=x}}break;case"multiple":o.multiple=w&&typeof w!="function"&&typeof w!="symbol";break;case"muted":o.muted=w&&typeof w!="function"&&typeof w!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(w==null||typeof w=="function"||typeof w=="boolean"||typeof w=="symbol"){o.removeAttribute("xlink:href");break}x=Md(""+w),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":w!=null&&typeof w!="function"&&typeof w!="symbol"?o.setAttribute(x,""+w):o.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":w&&typeof w!="function"&&typeof w!="symbol"?o.setAttribute(x,""):o.removeAttribute(x);break;case"capture":case"download":w===!0?o.setAttribute(x,""):w!==!1&&w!=null&&typeof w!="function"&&typeof w!="symbol"?o.setAttribute(x,w):o.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":w!=null&&typeof w!="function"&&typeof w!="symbol"&&!isNaN(w)&&1<=w?o.setAttribute(x,w):o.removeAttribute(x);break;case"rowSpan":case"start":w==null||typeof w=="function"||typeof w=="symbol"||isNaN(w)?o.removeAttribute(x):o.setAttribute(x,w);break;case"popover":Xt("beforetoggle",o),Xt("toggle",o),Ve(o,"popover",w);break;case"xlinkActuate":mn(o,"http://www.w3.org/1999/xlink","xlink:actuate",w);break;case"xlinkArcrole":mn(o,"http://www.w3.org/1999/xlink","xlink:arcrole",w);break;case"xlinkRole":mn(o,"http://www.w3.org/1999/xlink","xlink:role",w);break;case"xlinkShow":mn(o,"http://www.w3.org/1999/xlink","xlink:show",w);break;case"xlinkTitle":mn(o,"http://www.w3.org/1999/xlink","xlink:title",w);break;case"xlinkType":mn(o,"http://www.w3.org/1999/xlink","xlink:type",w);break;case"xmlBase":mn(o,"http://www.w3.org/XML/1998/namespace","xml:base",w);break;case"xmlLang":mn(o,"http://www.w3.org/XML/1998/namespace","xml:lang",w);break;case"xmlSpace":mn(o,"http://www.w3.org/XML/1998/namespace","xml:space",w);break;case"is":Ve(o,"is",w);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=Yn.get(x)||x,Ve(o,x,w))}}function jb(o,u,x,w,C,R){switch(x){case"style":Ja(o,w,R);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(r(61));if(x=w.__html,x!=null){if(C.children!=null)throw Error(r(60));o.innerHTML=x}}break;case"children":typeof w=="string"?ta(o,w):(typeof w=="number"||typeof w=="bigint")&&ta(o,""+w);break;case"onScroll":w!=null&&Xt("scroll",o);break;case"onScrollEnd":w!=null&&Xt("scrollend",o);break;case"onClick":w!=null&&(o.onclick=dp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xg.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(C=x.endsWith("Capture"),u=x.slice(2,C?x.length-7:void 0),R=o[on]||null,R=R!=null?R[x]:null,typeof R=="function"&&o.removeEventListener(u,R,C),typeof w=="function")){typeof R!="function"&&R!==null&&(x in o?o[x]=null:o.hasAttribute(x)&&o.removeAttribute(x)),o.addEventListener(u,w,C);break e}x in o?o[x]=w:w===!0?o.setAttribute(x,""):Ve(o,x,w)}}}function _a(o,u,x){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xt("error",o),Xt("load",o);var w=!1,C=!1,R;for(R in x)if(x.hasOwnProperty(R)){var q=x[R];if(q!=null)switch(R){case"src":w=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Pn(o,u,R,q,x,null)}}C&&Pn(o,u,"srcSet",x.srcSet,x,null),w&&Pn(o,u,"src",x.src,x,null);return;case"input":Xt("invalid",o);var J=R=q=C=null,le=null,Ee=null;for(w in x)if(x.hasOwnProperty(w)){var Be=x[w];if(Be!=null)switch(w){case"name":C=Be;break;case"type":q=Be;break;case"checked":le=Be;break;case"defaultChecked":Ee=Be;break;case"value":R=Be;break;case"defaultValue":J=Be;break;case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(r(137,u));break;default:Pn(o,u,w,Be,x,null)}}ea(o,R,J,le,Ee,q,C,!1),Td(o);return;case"select":Xt("invalid",o),w=q=R=null;for(C in x)if(x.hasOwnProperty(C)&&(J=x[C],J!=null))switch(C){case"value":R=J;break;case"defaultValue":q=J;break;case"multiple":w=J;default:Pn(o,u,C,J,x,null)}u=R,x=q,o.multiple=!!w,u!=null?re(o,!!w,u,!1):x!=null&&re(o,!!w,x,!0);return;case"textarea":Xt("invalid",o),R=C=w=null;for(q in x)if(x.hasOwnProperty(q)&&(J=x[q],J!=null))switch(q){case"value":w=J;break;case"defaultValue":C=J;break;case"children":R=J;break;case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(91));break;default:Pn(o,u,q,J,x,null)}_r(o,w,C,R),Td(o);return;case"option":for(le in x)if(x.hasOwnProperty(le)&&(w=x[le],w!=null))switch(le){case"selected":o.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:Pn(o,u,le,w,x,null)}return;case"dialog":Xt("beforetoggle",o),Xt("toggle",o),Xt("cancel",o),Xt("close",o);break;case"iframe":case"object":Xt("load",o);break;case"video":case"audio":for(w=0;w<hm.length;w++)Xt(hm[w],o);break;case"image":Xt("error",o),Xt("load",o);break;case"details":Xt("toggle",o);break;case"embed":case"source":case"link":Xt("error",o),Xt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ee in x)if(x.hasOwnProperty(Ee)&&(w=x[Ee],w!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Pn(o,u,Ee,w,x,null)}return;default:if(xt(u)){for(Be in x)x.hasOwnProperty(Be)&&(w=x[Be],w!==void 0&&jb(o,u,Be,w,x,void 0));return}}for(J in x)x.hasOwnProperty(J)&&(w=x[J],w!=null&&Pn(o,u,J,w,x,null))}function xV(o,u,x,w){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,R=null,q=null,J=null,le=null,Ee=null,Be=null;for(Te in x){var ze=x[Te];if(x.hasOwnProperty(Te)&&ze!=null)switch(Te){case"checked":break;case"value":break;case"defaultValue":le=ze;default:w.hasOwnProperty(Te)||Pn(o,u,Te,null,w,ze)}}for(var _e in w){var Te=w[_e];if(ze=x[_e],w.hasOwnProperty(_e)&&(Te!=null||ze!=null))switch(_e){case"type":R=Te;break;case"name":C=Te;break;case"checked":Ee=Te;break;case"defaultChecked":Be=Te;break;case"value":q=Te;break;case"defaultValue":J=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(r(137,u));break;default:Te!==ze&&Pn(o,u,_e,Te,w,ze)}}wn(o,q,J,le,Ee,Be,R,C);return;case"select":Te=q=J=_e=null;for(R in x)if(le=x[R],x.hasOwnProperty(R)&&le!=null)switch(R){case"value":break;case"multiple":Te=le;default:w.hasOwnProperty(R)||Pn(o,u,R,null,w,le)}for(C in w)if(R=w[C],le=x[C],w.hasOwnProperty(C)&&(R!=null||le!=null))switch(C){case"value":_e=R;break;case"defaultValue":J=R;break;case"multiple":q=R;default:R!==le&&Pn(o,u,C,R,w,le)}u=J,x=q,w=Te,_e!=null?re(o,!!x,_e,!1):!!w!=!!x&&(u!=null?re(o,!!x,u,!0):re(o,!!x,x?[]:"",!1));return;case"textarea":Te=_e=null;for(J in x)if(C=x[J],x.hasOwnProperty(J)&&C!=null&&!w.hasOwnProperty(J))switch(J){case"value":break;case"children":break;default:Pn(o,u,J,null,w,C)}for(q in w)if(C=w[q],R=x[q],w.hasOwnProperty(q)&&(C!=null||R!=null))switch(q){case"value":_e=C;break;case"defaultValue":Te=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:C!==R&&Pn(o,u,q,C,w,R)}gt(o,_e,Te);return;case"option":for(var _t in x)if(_e=x[_t],x.hasOwnProperty(_t)&&_e!=null&&!w.hasOwnProperty(_t))switch(_t){case"selected":o.selected=!1;break;default:Pn(o,u,_t,null,w,_e)}for(le in w)if(_e=w[le],Te=x[le],w.hasOwnProperty(le)&&_e!==Te&&(_e!=null||Te!=null))switch(le){case"selected":o.selected=_e&&typeof _e!="function"&&typeof _e!="symbol";break;default:Pn(o,u,le,_e,w,Te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in x)_e=x[St],x.hasOwnProperty(St)&&_e!=null&&!w.hasOwnProperty(St)&&Pn(o,u,St,null,w,_e);for(Ee in w)if(_e=w[Ee],Te=x[Ee],w.hasOwnProperty(Ee)&&_e!==Te&&(_e!=null||Te!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(r(137,u));break;default:Pn(o,u,Ee,_e,w,Te)}return;default:if(xt(u)){for(var kn in x)_e=x[kn],x.hasOwnProperty(kn)&&_e!==void 0&&!w.hasOwnProperty(kn)&&jb(o,u,kn,void 0,w,_e);for(Be in w)_e=w[Be],Te=x[Be],!w.hasOwnProperty(Be)||_e===Te||_e===void 0&&Te===void 0||jb(o,u,Be,_e,w,Te);return}}for(var ve in x)_e=x[ve],x.hasOwnProperty(ve)&&_e!=null&&!w.hasOwnProperty(ve)&&Pn(o,u,ve,null,w,_e);for(ze in w)_e=w[ze],Te=x[ze],!w.hasOwnProperty(ze)||_e===Te||_e==null&&Te==null||Pn(o,u,ze,_e,w,Te)}var Ab=null,Eb=null;function fp(o){return o.nodeType===9?o:o.ownerDocument}function u4(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function d4(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function Nb(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var _b=null;function vV(){var o=window.event;return o&&o.type==="popstate"?o===_b?!1:(_b=o,!0):(_b=null,!1)}var f4=typeof setTimeout=="function"?setTimeout:void 0,yV=typeof clearTimeout=="function"?clearTimeout:void 0,h4=typeof Promise=="function"?Promise:void 0,bV=typeof queueMicrotask=="function"?queueMicrotask:typeof h4<"u"?function(o){return h4.resolve(null).then(o).catch(wV)}:f4;function wV(o){setTimeout(function(){throw o})}function pc(o){return o==="head"}function m4(o,u){var x=u,w=0,C=0;do{var R=x.nextSibling;if(o.removeChild(x),R&&R.nodeType===8)if(x=R.data,x==="/$"){if(0<w&&8>w){x=w;var q=o.ownerDocument;if(x&1&&gm(q.documentElement),x&2&&gm(q.body),x&4)for(x=q.head,gm(x),q=x.firstChild;q;){var J=q.nextSibling,le=q.nodeName;q[Zi]||le==="SCRIPT"||le==="STYLE"||le==="LINK"&&q.rel.toLowerCase()==="stylesheet"||x.removeChild(q),q=J}}if(C===0){o.removeChild(R),jm(u);return}C--}else x==="$"||x==="$?"||x==="$!"?C++:w=x.charCodeAt(0)-48;else w=0;x=R}while(x);jm(u)}function Cb(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var x=u;switch(u=u.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":Cb(x),du(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}o.removeChild(x)}}function SV(o,u,x,w){for(;o.nodeType===1;){var C=x;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!w&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(w){if(!o[Zi])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(R=o.getAttribute("rel"),R==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(R!==C.rel||o.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||o.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||o.getAttribute("title")!==(C.title==null?null:C.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(R=o.getAttribute("src"),(R!==(C.src==null?null:C.src)||o.getAttribute("type")!==(C.type==null?null:C.type)||o.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&R&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var R=C.name==null?null:""+C.name;if(C.type==="hidden"&&o.getAttribute("name")===R)return o}else return o;if(o=Rs(o.nextSibling),o===null)break}return null}function jV(o,u,x){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!x||(o=Rs(o.nextSibling),o===null))return null;return o}function Tb(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function AV(o,u){var x=o.ownerDocument;if(o.data!=="$?"||x.readyState==="complete")u();else{var w=function(){u(),x.removeEventListener("DOMContentLoaded",w)};x.addEventListener("DOMContentLoaded",w),o._reactRetry=w}}function Rs(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return o}var Ob=null;function g4(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var x=o.data;if(x==="$"||x==="$!"||x==="$?"){if(u===0)return o;u--}else x==="/$"&&u++}o=o.previousSibling}return null}function p4(o,u,x){switch(u=fp(x),o){case"html":if(o=u.documentElement,!o)throw Error(r(452));return o;case"head":if(o=u.head,!o)throw Error(r(453));return o;case"body":if(o=u.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function gm(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);du(o)}var ss=new Map,x4=new Set;function hp(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var sl=Q.d;Q.d={f:EV,r:NV,D:_V,C:CV,L:TV,m:OV,X:DV,S:MV,M:RV};function EV(){var o=sl.f(),u=ap();return o||u}function NV(o){var u=Ai(o);u!==null&&u.tag===5&&u.type==="form"?LC(u):sl.r(o)}var cf=typeof document>"u"?null:document;function v4(o,u,x){var w=cf;if(w&&typeof u=="string"&&u){var C=Jr(u);C='link[rel="'+o+'"][href="'+C+'"]',typeof x=="string"&&(C+='[crossorigin="'+x+'"]'),x4.has(C)||(x4.add(C),o={rel:o,crossOrigin:x,href:u},w.querySelector(C)===null&&(u=w.createElement("link"),_a(u,"link",o),An(u),w.head.appendChild(u)))}}function _V(o){sl.D(o),v4("dns-prefetch",o,null)}function CV(o,u){sl.C(o,u),v4("preconnect",o,u)}function TV(o,u,x){sl.L(o,u,x);var w=cf;if(w&&o&&u){var C='link[rel="preload"][as="'+Jr(u)+'"]';u==="image"&&x&&x.imageSrcSet?(C+='[imagesrcset="'+Jr(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(C+='[imagesizes="'+Jr(x.imageSizes)+'"]')):C+='[href="'+Jr(o)+'"]';var R=C;switch(u){case"style":R=uf(o);break;case"script":R=df(o)}ss.has(R)||(o=p({rel:"preload",href:u==="image"&&x&&x.imageSrcSet?void 0:o,as:u},x),ss.set(R,o),w.querySelector(C)!==null||u==="style"&&w.querySelector(pm(R))||u==="script"&&w.querySelector(xm(R))||(u=w.createElement("link"),_a(u,"link",o),An(u),w.head.appendChild(u)))}}function OV(o,u){sl.m(o,u);var x=cf;if(x&&o){var w=u&&typeof u.as=="string"?u.as:"script",C='link[rel="modulepreload"][as="'+Jr(w)+'"][href="'+Jr(o)+'"]',R=C;switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":R=df(o)}if(!ss.has(R)&&(o=p({rel:"modulepreload",href:o},u),ss.set(R,o),x.querySelector(C)===null)){switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(xm(R)))return}w=x.createElement("link"),_a(w,"link",o),An(w),x.head.appendChild(w)}}}function MV(o,u,x){sl.S(o,u,x);var w=cf;if(w&&o){var C=_s(w).hoistableStyles,R=uf(o);u=u||"default";var q=C.get(R);if(!q){var J={loading:0,preload:null};if(q=w.querySelector(pm(R)))J.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":u},x),(x=ss.get(R))&&Mb(o,x);var le=q=w.createElement("link");An(le),_a(le,"link",o),le._p=new Promise(function(Ee,Be){le.onload=Ee,le.onerror=Be}),le.addEventListener("load",function(){J.loading|=1}),le.addEventListener("error",function(){J.loading|=2}),J.loading|=4,mp(q,u,w)}q={type:"stylesheet",instance:q,count:1,state:J},C.set(R,q)}}}function DV(o,u){sl.X(o,u);var x=cf;if(x&&o){var w=_s(x).hoistableScripts,C=df(o),R=w.get(C);R||(R=x.querySelector(xm(C)),R||(o=p({src:o,async:!0},u),(u=ss.get(C))&&Db(o,u),R=x.createElement("script"),An(R),_a(R,"link",o),x.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},w.set(C,R))}}function RV(o,u){sl.M(o,u);var x=cf;if(x&&o){var w=_s(x).hoistableScripts,C=df(o),R=w.get(C);R||(R=x.querySelector(xm(C)),R||(o=p({src:o,async:!0,type:"module"},u),(u=ss.get(C))&&Db(o,u),R=x.createElement("script"),An(R),_a(R,"link",o),x.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},w.set(C,R))}}function y4(o,u,x,w){var C=(C=oe.current)?hp(C):null;if(!C)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(u=uf(x.href),x=_s(C).hoistableStyles,w=x.get(u),w||(w={type:"style",instance:null,count:0,state:null},x.set(u,w)),w):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){o=uf(x.href);var R=_s(C).hoistableStyles,q=R.get(o);if(q||(C=C.ownerDocument||C,q={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},R.set(o,q),(R=C.querySelector(pm(o)))&&!R._p&&(q.instance=R,q.state.loading=5),ss.has(o)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},ss.set(o,x),R||IV(C,o,x,q.state))),u&&w===null)throw Error(r(528,""));return q}if(u&&w!==null)throw Error(r(529,""));return null;case"script":return u=x.async,x=x.src,typeof x=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=df(x),x=_s(C).hoistableScripts,w=x.get(u),w||(w={type:"script",instance:null,count:0,state:null},x.set(u,w)),w):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function uf(o){return'href="'+Jr(o)+'"'}function pm(o){return'link[rel="stylesheet"]['+o+"]"}function b4(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function IV(o,u,x,w){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?w.loading=1:(u=o.createElement("link"),w.preload=u,u.addEventListener("load",function(){return w.loading|=1}),u.addEventListener("error",function(){return w.loading|=2}),_a(u,"link",x),An(u),o.head.appendChild(u))}function df(o){return'[src="'+Jr(o)+'"]'}function xm(o){return"script[async]"+o}function w4(o,u,x){if(u.count++,u.instance===null)switch(u.type){case"style":var w=o.querySelector('style[data-href~="'+Jr(x.href)+'"]');if(w)return u.instance=w,An(w),w;var C=p({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return w=(o.ownerDocument||o).createElement("style"),An(w),_a(w,"style",C),mp(w,x.precedence,o),u.instance=w;case"stylesheet":C=uf(x.href);var R=o.querySelector(pm(C));if(R)return u.state.loading|=4,u.instance=R,An(R),R;w=b4(x),(C=ss.get(C))&&Mb(w,C),R=(o.ownerDocument||o).createElement("link"),An(R);var q=R;return q._p=new Promise(function(J,le){q.onload=J,q.onerror=le}),_a(R,"link",w),u.state.loading|=4,mp(R,x.precedence,o),u.instance=R;case"script":return R=df(x.src),(C=o.querySelector(xm(R)))?(u.instance=C,An(C),C):(w=x,(C=ss.get(R))&&(w=p({},x),Db(w,C)),o=o.ownerDocument||o,C=o.createElement("script"),An(C),_a(C,"link",w),o.head.appendChild(C),u.instance=C);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(w=u.instance,u.state.loading|=4,mp(w,x.precedence,o));return u.instance}function mp(o,u,x){for(var w=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=w.length?w[w.length-1]:null,R=C,q=0;q<w.length;q++){var J=w[q];if(J.dataset.precedence===u)R=J;else if(R!==C)break}R?R.parentNode.insertBefore(o,R.nextSibling):(u=x.nodeType===9?x.head:x,u.insertBefore(o,u.firstChild))}function Mb(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function Db(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var gp=null;function S4(o,u,x){if(gp===null){var w=new Map,C=gp=new Map;C.set(x,w)}else C=gp,w=C.get(x),w||(w=new Map,C.set(x,w));if(w.has(o))return w;for(w.set(o,null),x=x.getElementsByTagName(o),C=0;C<x.length;C++){var R=x[C];if(!(R[Zi]||R[lr]||o==="link"&&R.getAttribute("rel")==="stylesheet")&&R.namespaceURI!=="http://www.w3.org/2000/svg"){var q=R.getAttribute(u)||"";q=o+q;var J=w.get(q);J?J.push(R):w.set(q,[R])}}return w}function j4(o,u,x){o=o.ownerDocument||o,o.head.insertBefore(x,u==="title"?o.querySelector("head > title"):null)}function PV(o,u,x){if(x===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return o=u.disabled,typeof u.precedence=="string"&&o==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function A4(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var vm=null;function kV(){}function LV(o,u,x){if(vm===null)throw Error(r(475));var w=vm;if(u.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var C=uf(x.href),R=o.querySelector(pm(C));if(R){o=R._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(w.count++,w=pp.bind(w),o.then(w,w)),u.state.loading|=4,u.instance=R,An(R);return}R=o.ownerDocument||o,x=b4(x),(C=ss.get(C))&&Mb(x,C),R=R.createElement("link"),An(R);var q=R;q._p=new Promise(function(J,le){q.onload=J,q.onerror=le}),_a(R,"link",x),u.instance=R}w.stylesheets===null&&(w.stylesheets=new Map),w.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(w.count++,u=pp.bind(w),o.addEventListener("load",u),o.addEventListener("error",u))}}function BV(){if(vm===null)throw Error(r(475));var o=vm;return o.stylesheets&&o.count===0&&Rb(o,o.stylesheets),0<o.count?function(u){var x=setTimeout(function(){if(o.stylesheets&&Rb(o,o.stylesheets),o.unsuspend){var w=o.unsuspend;o.unsuspend=null,w()}},6e4);return o.unsuspend=u,function(){o.unsuspend=null,clearTimeout(x)}}:null}function pp(){if(this.count--,this.count===0){if(this.stylesheets)Rb(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var xp=null;function Rb(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,xp=new Map,u.forEach(FV,o),xp=null,pp.call(o))}function FV(o,u){if(!(u.state.loading&4)){var x=xp.get(o);if(x)var w=x.get(null);else{x=new Map,xp.set(o,x);for(var C=o.querySelectorAll("link[data-precedence],style[data-precedence]"),R=0;R<C.length;R++){var q=C[R];(q.nodeName==="LINK"||q.getAttribute("media")!=="not all")&&(x.set(q.dataset.precedence,q),w=q)}w&&x.set(null,w)}C=u.instance,q=C.getAttribute("data-precedence"),R=x.get(q)||w,R===w&&x.set(null,C),x.set(q,C),this.count++,w=pp.bind(this),C.addEventListener("load",w),C.addEventListener("error",w),R?R.parentNode.insertBefore(C,R.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(C,o.firstChild)),u.state.loading|=4}}var ym={$$typeof:I,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function UV(o,u,x,w,C,R,q,J){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wt(0),this.hiddenUpdates=Wt(null),this.identifierPrefix=w,this.onUncaughtError=C,this.onCaughtError=R,this.onRecoverableError=q,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function E4(o,u,x,w,C,R,q,J,le,Ee,Be,ze){return o=new UV(o,u,x,q,J,le,Ee,ze),u=1,R===!0&&(u|=24),R=_i(3,null,null,u),o.current=R,R.stateNode=o,u=my(),u.refCount++,o.pooledCache=u,u.refCount++,R.memoizedState={element:w,isDehydrated:x,cache:u},vy(R),o}function N4(o){return o?(o=zd,o):zd}function _4(o,u,x,w,C,R){C=N4(C),w.context===null?w.context=C:w.pendingContext=C,w=rc(u),w.payload={element:x},R=R===void 0?null:R,R!==null&&(w.callback=R),x=ac(o,w,u),x!==null&&(Di(x,o,u),Kh(x,o,u))}function C4(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var x=o.retryLane;o.retryLane=x!==0&&x<u?x:u}}function Ib(o,u){C4(o,u),(o=o.alternate)&&C4(o,u)}function T4(o){if(o.tag===13){var u=Ud(o,67108864);u!==null&&Di(u,o,67108864),Ib(o,67108864)}}var vp=!0;function zV(o,u,x,w){var C=G.T;G.T=null;var R=Q.p;try{Q.p=2,Pb(o,u,x,w)}finally{Q.p=R,G.T=C}}function VV(o,u,x,w){var C=G.T;G.T=null;var R=Q.p;try{Q.p=8,Pb(o,u,x,w)}finally{Q.p=R,G.T=C}}function Pb(o,u,x,w){if(vp){var C=kb(w);if(C===null)Sb(o,u,w,yp,x),M4(o,w);else if(HV(C,o,u,x,w))w.stopPropagation();else if(M4(o,w),u&4&&-1<$V.indexOf(o)){for(;C!==null;){var R=Ai(C);if(R!==null)switch(R.tag){case 3:if(R=R.stateNode,R.current.memoizedState.isDehydrated){var q=fn(R.pendingLanes);if(q!==0){var J=R;for(J.pendingLanes|=2,J.entangledLanes|=2;q;){var le=1<<31-Zt(q);J.entanglements[1]|=le,q&=~le}yo(R),(_n&6)===0&&(np=ht()+500,fm(0))}}break;case 13:J=Ud(R,2),J!==null&&Di(J,R,2),ap(),Ib(R,2)}if(R=kb(w),R===null&&Sb(o,u,w,yp,x),R===C)break;C=R}C!==null&&w.stopPropagation()}else Sb(o,u,w,null,x)}}function kb(o){return o=Hl(o),Lb(o)}var yp=null;function Lb(o){if(yp=null,o=Nr(o),o!==null){var u=s(o);if(u===null)o=null;else{var x=u.tag;if(x===13){if(o=c(u),o!==null)return o;o=null}else if(x===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return yp=o,null}function O4(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nt()){case Qe:return 2;case ir:return 8;case et:case dn:return 32;case $r:return 268435456;default:return 32}default:return 32}}var Bb=!1,xc=null,vc=null,yc=null,bm=new Map,wm=new Map,bc=[],$V="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function M4(o,u){switch(o){case"focusin":case"focusout":xc=null;break;case"dragenter":case"dragleave":vc=null;break;case"mouseover":case"mouseout":yc=null;break;case"pointerover":case"pointerout":bm.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":wm.delete(u.pointerId)}}function Sm(o,u,x,w,C,R){return o===null||o.nativeEvent!==R?(o={blockedOn:u,domEventName:x,eventSystemFlags:w,nativeEvent:R,targetContainers:[C]},u!==null&&(u=Ai(u),u!==null&&T4(u)),o):(o.eventSystemFlags|=w,u=o.targetContainers,C!==null&&u.indexOf(C)===-1&&u.push(C),o)}function HV(o,u,x,w,C){switch(u){case"focusin":return xc=Sm(xc,o,u,x,w,C),!0;case"dragenter":return vc=Sm(vc,o,u,x,w,C),!0;case"mouseover":return yc=Sm(yc,o,u,x,w,C),!0;case"pointerover":var R=C.pointerId;return bm.set(R,Sm(bm.get(R)||null,o,u,x,w,C)),!0;case"gotpointercapture":return R=C.pointerId,wm.set(R,Sm(wm.get(R)||null,o,u,x,w,C)),!0}return!1}function D4(o){var u=Nr(o.target);if(u!==null){var x=s(u);if(x!==null){if(u=x.tag,u===13){if(u=c(x),u!==null){o.blockedOn=u,Qn(o.priority,function(){if(x.tag===13){var w=Mi();w=Xn(w);var C=Ud(x,w);C!==null&&Di(C,x,w),Ib(x,w)}});return}}else if(u===3&&x.stateNode.current.memoizedState.isDehydrated){o.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}o.blockedOn=null}function bp(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var x=kb(o.nativeEvent);if(x===null){x=o.nativeEvent;var w=new x.constructor(x.type,x);fu=w,x.target.dispatchEvent(w),fu=null}else return u=Ai(x),u!==null&&T4(u),o.blockedOn=x,!1;u.shift()}return!0}function R4(o,u,x){bp(o)&&x.delete(u)}function qV(){Bb=!1,xc!==null&&bp(xc)&&(xc=null),vc!==null&&bp(vc)&&(vc=null),yc!==null&&bp(yc)&&(yc=null),bm.forEach(R4),wm.forEach(R4)}function wp(o,u){o.blockedOn===u&&(o.blockedOn=null,Bb||(Bb=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qV)))}var Sp=null;function I4(o){Sp!==o&&(Sp=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Sp===o&&(Sp=null);for(var u=0;u<o.length;u+=3){var x=o[u],w=o[u+1],C=o[u+2];if(typeof w!="function"){if(Lb(w||x)===null)continue;break}var R=Ai(x);R!==null&&(o.splice(u,3),u-=3,Ly(R,{pending:!0,data:C,method:x.method,action:w},w,C))}}))}function jm(o){function u(le){return wp(le,o)}xc!==null&&wp(xc,o),vc!==null&&wp(vc,o),yc!==null&&wp(yc,o),bm.forEach(u),wm.forEach(u);for(var x=0;x<bc.length;x++){var w=bc[x];w.blockedOn===o&&(w.blockedOn=null)}for(;0<bc.length&&(x=bc[0],x.blockedOn===null);)D4(x),x.blockedOn===null&&bc.shift();if(x=(o.ownerDocument||o).$$reactFormReplay,x!=null)for(w=0;w<x.length;w+=3){var C=x[w],R=x[w+1],q=C[on]||null;if(typeof R=="function")q||I4(x);else if(q){var J=null;if(R&&R.hasAttribute("formAction")){if(C=R,q=R[on]||null)J=q.formAction;else if(Lb(C)!==null)continue}else J=q.action;typeof J=="function"?x[w+1]=J:(x.splice(w,3),w-=3),I4(x)}}}function Fb(o){this._internalRoot=o}jp.prototype.render=Fb.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(r(409));var x=u.current,w=Mi();_4(x,w,o,u,null,null)},jp.prototype.unmount=Fb.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;_4(o.current,2,null,o,null,null),ap(),u[pr]=null}};function jp(o){this._internalRoot=o}jp.prototype.unstable_scheduleHydration=function(o){if(o){var u=ci();o={blockedOn:null,target:o,priority:u};for(var x=0;x<bc.length&&u!==0&&u<bc[x].priority;x++);bc.splice(x,0,o),x===0&&D4(o)}};var P4=t.version;if(P4!=="19.1.0")throw Error(r(527,P4,"19.1.0"));Q.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=m(u),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var YV={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ap=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ap.isDisabled&&Ap.supportsFiber)try{xn=Ap.inject(YV),zn=Ap}catch{}}return Em.createRoot=function(o,u){if(!a(o))throw Error(r(299));var x=!1,w="",C=QC,R=ZC,q=JC,J=null;return u!=null&&(u.unstable_strictMode===!0&&(x=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onUncaughtError!==void 0&&(C=u.onUncaughtError),u.onCaughtError!==void 0&&(R=u.onCaughtError),u.onRecoverableError!==void 0&&(q=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(J=u.unstable_transitionCallbacks)),u=E4(o,1,!1,null,null,x,w,C,R,q,J,null),o[pr]=u.current,wb(o),new Fb(u)},Em.hydrateRoot=function(o,u,x){if(!a(o))throw Error(r(299));var w=!1,C="",R=QC,q=ZC,J=JC,le=null,Ee=null;return x!=null&&(x.unstable_strictMode===!0&&(w=!0),x.identifierPrefix!==void 0&&(C=x.identifierPrefix),x.onUncaughtError!==void 0&&(R=x.onUncaughtError),x.onCaughtError!==void 0&&(q=x.onCaughtError),x.onRecoverableError!==void 0&&(J=x.onRecoverableError),x.unstable_transitionCallbacks!==void 0&&(le=x.unstable_transitionCallbacks),x.formState!==void 0&&(Ee=x.formState)),u=E4(o,1,!0,u,x??null,w,C,R,q,J,le,Ee),u.context=N4(null),x=u.current,w=Mi(),w=Xn(w),C=rc(w),C.callback=null,ac(x,C,w),x=w,u.current.lanes=x,Pa(u,x),yo(u),o[pr]=u.current,wb(o),new jp(u)},Em.version="19.1.0",Em}var q4;function a$(){if(q4)return $b.exports;q4=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),$b.exports=r$(),$b.exports}var i$=a$();const s$="modulepreload",o$=function(e){return"/"+e},Y4={},k0=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let c=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));a=c(n.map(h=>{if(h=o$(h),h in Y4)return;Y4[h]=!0;const p=h.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${v}`))return;const j=document.createElement("link");if(j.rel=p?"stylesheet":s$,p||(j.as="script"),j.crossOrigin="",j.href=h,m&&j.setAttribute("nonce",m),document.head.appendChild(j),p)return new Promise((E,O)=>{j.addEventListener("load",E),j.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return a.then(c=>{for(const f of c||[])f.status==="rejected"&&s(f.reason);return t().catch(s)})},l$=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>k0(async()=>{const{default:r}=await Promise.resolve().then(()=>dh);return{default:r}},[]).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class uA extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class c$ extends uA{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class W4 extends uA{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class G4 extends uA{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var hS;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(hS||(hS={}));var u$=function(e,t,n,r){function a(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function f(p){try{h(r.next(p))}catch(v){c(v)}}function m(p){try{h(r.throw(p))}catch(v){c(v)}}function h(p){p.done?s(p.value):a(p.value).then(f,m)}h((r=r.apply(e,t||[])).next())})};class d${constructor(t,{headers:n={},customFetch:r,region:a=hS.Any}={}){this.url=t,this.headers=n,this.region=a,this.fetch=l$(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return u$(this,void 0,void 0,function*(){try{const{headers:a,method:s,body:c}=n;let f={},{region:m}=n;m||(m=this.region);const h=new URL(`${this.url}/${t}`);m&&m!=="any"&&(f["x-region"]=m,h.searchParams.set("forceFunctionRegion",m));let p;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",p=c):typeof c=="string"?(f["Content-Type"]="text/plain",p=c):typeof FormData<"u"&&c instanceof FormData?p=c:(f["Content-Type"]="application/json",p=JSON.stringify(c)));const v=yield this.fetch(h.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:p}).catch(T=>{throw new c$(T)}),j=v.headers.get("x-relay-error");if(j&&j==="true")throw new W4(v);if(!v.ok)throw new G4(v);let E=((r=v.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),O;return E==="application/json"?O=yield v.json():E==="application/octet-stream"?O=yield v.blob():E==="text/event-stream"?O=v:E==="multipart/form-data"?O=yield v.formData():O=yield v.text(),{data:O,error:null,response:v}}catch(a){return{data:null,error:a,response:a instanceof G4||a instanceof W4?a.context:void 0}}})}}var ga={},ff={},hf={},mf={},gf={},pf={},f$=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Gf=f$();const h$=Gf.fetch,JP=Gf.fetch.bind(Gf),ek=Gf.Headers,m$=Gf.Request,g$=Gf.Response,dh=Object.freeze(Object.defineProperty({__proto__:null,Headers:ek,Request:m$,Response:g$,default:JP,fetch:h$},Symbol.toStringTag,{value:"Module"})),p$=XV(dh);var Np={},K4;function tk(){if(K4)return Np;K4=1,Object.defineProperty(Np,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Np.default=e,Np}var X4;function nk(){if(X4)return pf;X4=1;var e=pf&&pf.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(pf,"__esModule",{value:!0});const t=e(p$),n=e(tk());class r{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,c){return this.headers=Object.assign({},this.headers),this.headers[s]=c,this}then(s,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const f=this.fetch;let m=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var p,v,j;let E=null,O=null,T=null,_=h.status,D=h.statusText;if(h.ok){if(this.method!=="HEAD"){const F=await h.text();F===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?O=F:O=JSON.parse(F))}const I=(p=this.headers.Prefer)===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),U=(v=h.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");I&&U&&U.length>1&&(T=parseInt(U[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(O)&&(O.length>1?(E={code:"PGRST116",details:`Results contain ${O.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},O=null,T=null,_=406,D="Not Acceptable"):O.length===1?O=O[0]:O=null)}else{const I=await h.text();try{E=JSON.parse(I),Array.isArray(E)&&h.status===404&&(O=[],E=null,_=200,D="OK")}catch{h.status===404&&I===""?(_=204,D="No Content"):E={message:I}}if(E&&this.isMaybeSingle&&(!((j=E==null?void 0:E.details)===null||j===void 0)&&j.includes("0 rows"))&&(E=null,_=200,D="OK"),E&&this.shouldThrowOnError)throw new n.default(E)}return{error:E,data:O,count:T,status:_,statusText:D}});return this.shouldThrowOnError||(m=m.catch(h=>{var p,v,j;return{error:{message:`${(p=h==null?void 0:h.name)!==null&&p!==void 0?p:"FetchError"}: ${h==null?void 0:h.message}`,details:`${(v=h==null?void 0:h.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(j=h==null?void 0:h.code)!==null&&j!==void 0?j:""}`},data:null,count:null,status:0,statusText:""}})),m.then(s,c)}returns(){return this}overrideTypes(){return this}}return pf.default=r,pf}var Q4;function rk(){if(Q4)return gf;Q4=1;var e=gf&&gf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(gf,"__esModule",{value:!0});const t=e(nk());class n extends t.default{select(a){let s=!1;const c=(a??"*").split("").map(f=>/\s/.test(f)&&!s?"":(f==='"'&&(s=!s),f)).join("");return this.url.searchParams.set("select",c),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:s=!0,nullsFirst:c,foreignTable:f,referencedTable:m=f}={}){const h=m?`${m}.order`:"order",p=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${p?`${p},`:""}${a}.${s?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:s,referencedTable:c=s}={}){const f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${a}`),this}range(a,s,{foreignTable:c,referencedTable:f=c}={}){const m=typeof f>"u"?"offset":`${f}.offset`,h=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(m,`${a}`),this.url.searchParams.set(h,`${s-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:s=!1,settings:c=!1,buffers:f=!1,wal:m=!1,format:h="text"}={}){var p;const v=[a?"analyze":null,s?"verbose":null,c?"settings":null,f?"buffers":null,m?"wal":null].filter(Boolean).join("|"),j=(p=this.headers.Accept)!==null&&p!==void 0?p:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${h}; for="${j}"; options=${v};`,h==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return gf.default=n,gf}var Z4;function dA(){if(Z4)return mf;Z4=1;var e=mf&&mf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(mf,"__esModule",{value:!0});const t=e(rk());class n extends t.default{eq(a,s){return this.url.searchParams.append(a,`eq.${s}`),this}neq(a,s){return this.url.searchParams.append(a,`neq.${s}`),this}gt(a,s){return this.url.searchParams.append(a,`gt.${s}`),this}gte(a,s){return this.url.searchParams.append(a,`gte.${s}`),this}lt(a,s){return this.url.searchParams.append(a,`lt.${s}`),this}lte(a,s){return this.url.searchParams.append(a,`lte.${s}`),this}like(a,s){return this.url.searchParams.append(a,`like.${s}`),this}likeAllOf(a,s){return this.url.searchParams.append(a,`like(all).{${s.join(",")}}`),this}likeAnyOf(a,s){return this.url.searchParams.append(a,`like(any).{${s.join(",")}}`),this}ilike(a,s){return this.url.searchParams.append(a,`ilike.${s}`),this}ilikeAllOf(a,s){return this.url.searchParams.append(a,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(a,s){return this.url.searchParams.append(a,`ilike(any).{${s.join(",")}}`),this}is(a,s){return this.url.searchParams.append(a,`is.${s}`),this}in(a,s){const c=Array.from(new Set(s)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(a,`in.(${c})`),this}contains(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cs.{${s.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(s)}`),this}containedBy(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cd.{${s.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(s)}`),this}rangeGt(a,s){return this.url.searchParams.append(a,`sr.${s}`),this}rangeGte(a,s){return this.url.searchParams.append(a,`nxl.${s}`),this}rangeLt(a,s){return this.url.searchParams.append(a,`sl.${s}`),this}rangeLte(a,s){return this.url.searchParams.append(a,`nxr.${s}`),this}rangeAdjacent(a,s){return this.url.searchParams.append(a,`adj.${s}`),this}overlaps(a,s){return typeof s=="string"?this.url.searchParams.append(a,`ov.${s}`):this.url.searchParams.append(a,`ov.{${s.join(",")}}`),this}textSearch(a,s,{config:c,type:f}={}){let m="";f==="plain"?m="pl":f==="phrase"?m="ph":f==="websearch"&&(m="w");const h=c===void 0?"":`(${c})`;return this.url.searchParams.append(a,`${m}fts${h}.${s}`),this}match(a){return Object.entries(a).forEach(([s,c])=>{this.url.searchParams.append(s,`eq.${c}`)}),this}not(a,s,c){return this.url.searchParams.append(a,`not.${s}.${c}`),this}or(a,{foreignTable:s,referencedTable:c=s}={}){const f=c?`${c}.or`:"or";return this.url.searchParams.append(f,`(${a})`),this}filter(a,s,c){return this.url.searchParams.append(a,`${s}.${c}`),this}}return mf.default=n,mf}var J4;function ak(){if(J4)return hf;J4=1;var e=hf&&hf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(hf,"__esModule",{value:!0});const t=e(dA());class n{constructor(a,{headers:s={},schema:c,fetch:f}){this.url=a,this.headers=s,this.schema=c,this.fetch=f}select(a,{head:s=!1,count:c}={}){const f=s?"HEAD":"GET";let m=!1;const h=(a??"*").split("").map(p=>/\s/.test(p)&&!m?"":(p==='"'&&(m=!m),p)).join("");return this.url.searchParams.set("select",h),c&&(this.headers.Prefer=`count=${c}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:s,defaultToNull:c=!0}={}){const f="POST",m=[];if(this.headers.Prefer&&m.push(this.headers.Prefer),s&&m.push(`count=${s}`),c||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(a)){const h=a.reduce((p,v)=>p.concat(Object.keys(v)),[]);if(h.length>0){const p=[...new Set(h)].map(v=>`"${v}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:s,ignoreDuplicates:c=!1,count:f,defaultToNull:m=!0}={}){const h="POST",p=[`resolution=${c?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&p.push(this.headers.Prefer),f&&p.push(`count=${f}`),m||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(a)){const v=a.reduce((j,E)=>j.concat(Object.keys(E)),[]);if(v.length>0){const j=[...new Set(v)].map(E=>`"${E}"`);this.url.searchParams.set("columns",j.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:s}={}){const c="PATCH",f=[];return this.headers.Prefer&&f.push(this.headers.Prefer),s&&f.push(`count=${s}`),this.headers.Prefer=f.join(","),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const s="DELETE",c=[];return a&&c.push(`count=${a}`),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return hf.default=n,hf}var Nm={},_m={},e3;function x$(){return e3||(e3=1,Object.defineProperty(_m,"__esModule",{value:!0}),_m.version=void 0,_m.version="0.0.0-automated"),_m}var t3;function v$(){if(t3)return Nm;t3=1,Object.defineProperty(Nm,"__esModule",{value:!0}),Nm.DEFAULT_HEADERS=void 0;const e=x$();return Nm.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Nm}var n3;function y$(){if(n3)return ff;n3=1;var e=ff&&ff.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ff,"__esModule",{value:!0});const t=e(ak()),n=e(dA()),r=v$();class a{constructor(c,{headers:f={},schema:m,fetch:h}={}){this.url=c,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),f),this.schemaName=m,this.fetch=h}from(c){const f=new URL(`${this.url}/${c}`);return new t.default(f,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new a(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,f={},{head:m=!1,get:h=!1,count:p}={}){let v;const j=new URL(`${this.url}/rpc/${c}`);let E;m||h?(v=m?"HEAD":"GET",Object.entries(f).filter(([T,_])=>_!==void 0).map(([T,_])=>[T,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([T,_])=>{j.searchParams.append(T,_)})):(v="POST",E=f);const O=Object.assign({},this.headers);return p&&(O.Prefer=`count=${p}`),new n.default({method:v,url:j,headers:O,schema:this.schemaName,body:E,fetch:this.fetch,allowEmpty:!1})}}return ff.default=a,ff}var r3;function b$(){if(r3)return ga;r3=1;var e=ga&&ga.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(ga,"__esModule",{value:!0}),ga.PostgrestError=ga.PostgrestBuilder=ga.PostgrestTransformBuilder=ga.PostgrestFilterBuilder=ga.PostgrestQueryBuilder=ga.PostgrestClient=void 0;const t=e(y$());ga.PostgrestClient=t.default;const n=e(ak());ga.PostgrestQueryBuilder=n.default;const r=e(dA());ga.PostgrestFilterBuilder=r.default;const a=e(rk());ga.PostgrestTransformBuilder=a.default;const s=e(nk());ga.PostgrestBuilder=s.default;const c=e(tk());return ga.PostgrestError=c.default,ga.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:s.default,PostgrestError:c.default},ga}var w$=b$();const S$=Ki(w$),{PostgrestClient:j$,PostgrestQueryBuilder:iAe,PostgrestFilterBuilder:sAe,PostgrestTransformBuilder:oAe,PostgrestBuilder:lAe,PostgrestError:cAe}=S$;function A$(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const E$=A$(),N$="2.11.15",_$=`realtime-js/${N$}`,C$="1.0.0",ik=1e4,T$=1e3;var Km;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Km||(Km={}));var $a;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})($a||($a={}));var Fs;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Fs||(Fs={}));var mS;(function(e){e.websocket="websocket"})(mS||(mS={}));var Hu;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Hu||(Hu={}));class O${constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const a=n.getUint8(1),s=n.getUint8(2);let c=this.HEADER_LENGTH+2;const f=r.decode(t.slice(c,c+a));c=c+a;const m=r.decode(t.slice(c,c+s));c=c+s;const h=JSON.parse(r.decode(t.slice(c,t.byteLength)));return{ref:null,topic:f,event:m,payload:h}}}class sk{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Hn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Hn||(Hn={}));const a3=(e,t,n={})=>{var r;const a=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,c)=>(s[c]=M$(c,e,t,a),s),{})},M$=(e,t,n,r)=>{const a=t.find(f=>f.name===e),s=a==null?void 0:a.type,c=n[e];return s&&!r.includes(s)?ok(s,c):gS(c)},ok=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return P$(t,n)}switch(e){case Hn.bool:return D$(t);case Hn.float4:case Hn.float8:case Hn.int2:case Hn.int4:case Hn.int8:case Hn.numeric:case Hn.oid:return R$(t);case Hn.json:case Hn.jsonb:return I$(t);case Hn.timestamp:return k$(t);case Hn.abstime:case Hn.date:case Hn.daterange:case Hn.int4range:case Hn.int8range:case Hn.money:case Hn.reltime:case Hn.text:case Hn.time:case Hn.timestamptz:case Hn.timetz:case Hn.tsrange:case Hn.tstzrange:return gS(t);default:return gS(t)}},gS=e=>e,D$=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},R$=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},I$=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},P$=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const c=e.slice(1,n);try{s=JSON.parse("["+c+"]")}catch{s=c?c.split(","):[]}return s.map(f=>ok(t,f))}return e},k$=e=>typeof e=="string"?e.replace(" ","T"):e,lk=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Wb{constructor(t,n,r={},a=ik){this.channel=t,this.event=n,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var i3;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(i3||(i3={}));class Xm{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:s,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xm.syncState(this.state,a,s,c),this.pendingDiffs.forEach(m=>{this.state=Xm.syncDiff(this.state,m,s,c)}),this.pendingDiffs=[],f()}),this.channel._on(r.diff,{},a=>{const{onJoin:s,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Xm.syncDiff(this.state,a,s,c),f())}),this.onJoin((a,s,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:c})}),this.onLeave((a,s,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,a){const s=this.cloneDeep(t),c=this.transformState(n),f={},m={};return this.map(s,(h,p)=>{c[h]||(m[h]=p)}),this.map(c,(h,p)=>{const v=s[h];if(v){const j=p.map(_=>_.presence_ref),E=v.map(_=>_.presence_ref),O=p.filter(_=>E.indexOf(_.presence_ref)<0),T=v.filter(_=>j.indexOf(_.presence_ref)<0);O.length>0&&(f[h]=O),T.length>0&&(m[h]=T)}else f[h]=p}),this.syncDiff(s,{joins:f,leaves:m},r,a)}static syncDiff(t,n,r,a){const{joins:s,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(s,(f,m)=>{var h;const p=(h=t[f])!==null&&h!==void 0?h:[];if(t[f]=this.cloneDeep(m),p.length>0){const v=t[f].map(E=>E.presence_ref),j=p.filter(E=>v.indexOf(E.presence_ref)<0);t[f].unshift(...j)}r(f,p,m)}),this.map(c,(f,m)=>{let h=t[f];if(!h)return;const p=m.map(v=>v.presence_ref);h=h.filter(v=>p.indexOf(v.presence_ref)<0),t[f]=h,a(f,h,m),h.length===0&&delete t[f]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const a=t[r];return"metas"in a?n[r]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=a,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var s3;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(s3||(s3={}));var o3;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(o3||(o3={}));var cl;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(cl||(cl={}));class fA{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=$a.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Wb(this,Fs.join,this.params,this.timeout),this.rejoinTimer=new sk(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=$a.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=$a.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=$a.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=$a.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fs.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new Xm(this),this.broadcastEndpointURL=lk(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,a;if(this.socket.isConnected()||this.socket.connect(),this.state==$a.closed){const{config:{broadcast:s,presence:c,private:f}}=this.params;this._onError(p=>t==null?void 0:t(cl.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(cl.CLOSED));const m={},h={broadcast:s,presence:c,postgres_changes:(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&a!==void 0?a:[],private:f};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:h},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket.setAuth(),p===void 0){t==null||t(cl.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,E=(v=j==null?void 0:j.length)!==null&&v!==void 0?v:0,O=[];for(let T=0;T<E;T++){const _=j[T],{filter:{event:D,schema:P,table:I,filter:U}}=_,F=p&&p[T];if(F&&F.event===D&&F.schema===P&&F.table===I&&F.filter===U)O.push(Object.assign(Object.assign({},_),{id:F.id}));else{this.unsubscribe(),this.state=$a.errored,t==null||t(cl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,t&&t(cl.SUBSCRIBED);return}}).receive("error",p=>{this.state=$a.errored,t==null||t(cl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(cl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,a;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:c}=t,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:c,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=h.body)===null||a===void 0?void 0:a.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var c,f,m;const h=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((m=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||m===void 0)&&m.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=$a.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fs.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(a=>{r=new Wb(this,Fs.leave,{},t),r.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const a=new AbortController,s=setTimeout(()=>a.abort(),r),c=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(s),c}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Wb(this,t,n,r);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var a,s;const c=t.toLocaleLowerCase(),{close:f,error:m,leave:h,join:p}=Fs;if(r&&[f,m,h,p].indexOf(c)>=0&&r!==this._joinRef())return;let j=this._onMessage(c,n,r);if(n&&!j)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(E=>{var O,T,_;return((O=E.filter)===null||O===void 0?void 0:O.event)==="*"||((_=(T=E.filter)===null||T===void 0?void 0:T.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===c}).map(E=>E.callback(j,r)):(s=this.bindings[c])===null||s===void 0||s.filter(E=>{var O,T,_,D,P,I;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in E){const U=E.id,F=(O=E.filter)===null||O===void 0?void 0:O.event;return U&&((T=n.ids)===null||T===void 0?void 0:T.includes(U))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const U=(P=(D=E==null?void 0:E.filter)===null||D===void 0?void 0:D.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return U==="*"||U===((I=n==null?void 0:n.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===c}).map(E=>{if(typeof j=="object"&&"ids"in j){const O=j.data,{schema:T,table:_,commit_timestamp:D,type:P,errors:I}=O;j=Object.assign(Object.assign({},{schema:T,table:_,commit_timestamp:D,eventType:P,new:{},old:{},errors:I}),this._getPayloadRecords(O))}E.callback(j,r)})}_isClosed(){return this.state===$a.closed}_isJoined(){return this.state===$a.joined}_isJoining(){return this.state===$a.joining}_isLeaving(){return this.state===$a.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const a=t.toLocaleLowerCase(),s={type:a,filter:n,callback:r};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&fA.isEqual(a.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Fs.close,{},t)}_onError(t){this._on(Fs.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=$a.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=a3(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=a3(t.columns,t.old_record)),n}}const l3=()=>{},L$=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class B${constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ik,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=l3,this.ref=0,this.logger=l3,this.conn=null,this.sendBuffer=[],this.serializer=new O$,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let c;return s?c=s:typeof fetch>"u"?c=(...f)=>k0(async()=>{const{default:m}=await Promise.resolve().then(()=>dh);return{default:m}},void 0).then(({default:m})=>m(...f)):c=fetch,(...f)=>c(...f)},this.endPoint=`${t}/${mS.websocket}`,this.httpEndpoint=lk(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,c)=>c(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new sk(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=E$),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:C$}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Km.connecting:return Hu.Connecting;case Km.open:return Hu.Open;case Km.closing:return Hu.Closing;default:return Hu.Closed}}isConnected(){return this.connectionState()===Hu.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===r);if(a)return a;{const s=new fA(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:a,ref:s}=t,c=()=>{this.encode(t,f=>{var m;(m=this.conn)===null||m===void 0||m.send(f)})};this.log("push",`${n} ${r} (${s})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const a={access_token:n,version:_$};n&&r.updateJoinPayload(a),r.joinedOnce&&r._isJoined()&&r._push(Fs.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(T$,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:a,payload:s,ref:c}=n;r==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${a} ${c&&"("+c+")"||""}`,s),Array.from(this.channels).filter(f=>f._isMember(r)).forEach(f=>f._trigger(a,s,c)),this.stateChangeCallbacks.message.forEach(f=>f(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Fs.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${t}${r}${a}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([L$],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class hA extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function pa(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class F$ extends hA{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class pS extends hA{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var U$=function(e,t,n,r){function a(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function f(p){try{h(r.next(p))}catch(v){c(v)}}function m(p){try{h(r.throw(p))}catch(v){c(v)}}function h(p){p.done?s(p.value):a(p.value).then(f,m)}h((r=r.apply(e,t||[])).next())})};const ck=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>k0(async()=>{const{default:r}=await Promise.resolve().then(()=>dh);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},z$=()=>U$(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield k0(()=>Promise.resolve().then(()=>dh),void 0)).Response:Response}),xS=e=>{if(Array.isArray(e))return e.map(n=>xS(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const a=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=xS(r)}),t},V$=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var vd=function(e,t,n,r){function a(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function f(p){try{h(r.next(p))}catch(v){c(v)}}function m(p){try{h(r.throw(p))}catch(v){c(v)}}function h(p){p.done?s(p.value):a(p.value).then(f,m)}h((r=r.apply(e,t||[])).next())})};const Gb=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$$=(e,t,n)=>vd(void 0,void 0,void 0,function*(){const r=yield z$();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(a=>{const s=e.status||500,c=(a==null?void 0:a.statusCode)||s+"";t(new F$(Gb(a),s,c))}).catch(a=>{t(new pS(Gb(a),a))}):t(new pS(Gb(e),e))}),H$=(e,t,n,r)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?a:(V$(r)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(r)):a.body=r,Object.assign(Object.assign({},a),n))};function L0(e,t,n,r,a,s){return vd(this,void 0,void 0,function*(){return new Promise((c,f)=>{e(n,H$(t,r,a,s)).then(m=>{if(!m.ok)throw m;return r!=null&&r.noResolveJson?m:m.json()}).then(m=>c(m)).catch(m=>$$(m,f,r))})})}function bx(e,t,n,r){return vd(this,void 0,void 0,function*(){return L0(e,"GET",t,n,r)})}function ul(e,t,n,r,a){return vd(this,void 0,void 0,function*(){return L0(e,"POST",t,r,a,n)})}function vS(e,t,n,r,a){return vd(this,void 0,void 0,function*(){return L0(e,"PUT",t,r,a,n)})}function q$(e,t,n,r){return vd(this,void 0,void 0,function*(){return L0(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function uk(e,t,n,r,a){return vd(this,void 0,void 0,function*(){return L0(e,"DELETE",t,r,a,n)})}var gi=function(e,t,n,r){function a(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function f(p){try{h(r.next(p))}catch(v){c(v)}}function m(p){try{h(r.throw(p))}catch(v){c(v)}}function h(p){p.done?s(p.value):a(p.value).then(f,m)}h((r=r.apply(e,t||[])).next())})};const Y$={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},c3={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class W${constructor(t,n={},r,a){this.url=t,this.headers=n,this.bucketId=r,this.fetch=ck(a)}uploadOrUpdate(t,n,r,a){return gi(this,void 0,void 0,function*(){try{let s;const c=Object.assign(Object.assign({},c3),a);let f=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const m=c.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",c.cacheControl),m&&s.append("metadata",this.encodeMetadata(m)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",c.cacheControl),m&&s.append("metadata",this.encodeMetadata(m))):(s=r,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,m&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),a!=null&&a.headers&&(f=Object.assign(Object.assign({},f),a.headers));const h=this._removeEmptyFolders(n),p=this._getFinalPath(h),v=yield(t=="PUT"?vS:ul)(this.fetch,`${this.url}/object/${p}`,s,Object.assign({headers:f},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:h,id:v.Id,fullPath:v.Key},error:null}}catch(s){if(pa(s))return{data:null,error:s};throw s}})}upload(t,n,r){return gi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,a){return gi(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),c=this._getFinalPath(s),f=new URL(this.url+`/object/upload/sign/${c}`);f.searchParams.set("token",n);try{let m;const h=Object.assign({upsert:c3.upsert},a),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(m=new FormData,m.append("cacheControl",h.cacheControl),m.append("",r)):typeof FormData<"u"&&r instanceof FormData?(m=r,m.append("cacheControl",h.cacheControl)):(m=r,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType);const v=yield vS(this.fetch,f.toString(),m,{headers:p});return{data:{path:s,fullPath:v.Key},error:null}}catch(m){if(pa(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(t,n){return gi(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const s=yield ul(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),c=new URL(this.url+s.url),f=c.searchParams.get("token");if(!f)throw new hA("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:f},error:null}}catch(r){if(pa(r))return{data:null,error:r};throw r}})}update(t,n,r){return gi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return gi(this,void 0,void 0,function*(){try{return{data:yield ul(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(pa(a))return{data:null,error:a};throw a}})}copy(t,n,r){return gi(this,void 0,void 0,function*(){try{return{data:{path:(yield ul(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(pa(a))return{data:null,error:a};throw a}})}createSignedUrl(t,n,r){return gi(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),s=yield ul(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const c=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${c}`)},{data:s,error:null}}catch(a){if(pa(a))return{data:null,error:a};throw a}})}createSignedUrls(t,n,r){return gi(this,void 0,void 0,function*(){try{const a=yield ul(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${s}`):null})),error:null}}catch(a){if(pa(a))return{data:null,error:a};throw a}})}download(t,n){return gi(this,void 0,void 0,function*(){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),c=s?`?${s}`:"";try{const f=this._getFinalPath(t);return{data:yield(yield bx(this.fetch,`${this.url}/${a}/${f}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(f){if(pa(f))return{data:null,error:f};throw f}})}info(t){return gi(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield bx(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:xS(r),error:null}}catch(r){if(pa(r))return{data:null,error:r};throw r}})}exists(t){return gi(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield q$(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(pa(r)&&r instanceof pS){const a=r.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),a=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&a.push(s);const f=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});m!==""&&a.push(m);let h=a.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${r}${h}`)}}}remove(t){return gi(this,void 0,void 0,function*(){try{return{data:yield uk(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(pa(n))return{data:null,error:n};throw n}})}list(t,n,r){return gi(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Y$),n),{prefix:t||""});return{data:yield ul(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(pa(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const G$="2.10.4",K$={"X-Client-Info":`storage-js/${G$}`};var xf=function(e,t,n,r){function a(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function f(p){try{h(r.next(p))}catch(v){c(v)}}function m(p){try{h(r.throw(p))}catch(v){c(v)}}function h(p){p.done?s(p.value):a(p.value).then(f,m)}h((r=r.apply(e,t||[])).next())})};class X${constructor(t,n={},r,a){const s=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},K$),n),this.fetch=ck(r)}listBuckets(){return xf(this,void 0,void 0,function*(){try{return{data:yield bx(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(pa(t))return{data:null,error:t};throw t}})}getBucket(t){return xf(this,void 0,void 0,function*(){try{return{data:yield bx(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(pa(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return xf(this,void 0,void 0,function*(){try{return{data:yield ul(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(pa(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return xf(this,void 0,void 0,function*(){try{return{data:yield vS(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(pa(r))return{data:null,error:r};throw r}})}emptyBucket(t){return xf(this,void 0,void 0,function*(){try{return{data:yield ul(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(pa(n))return{data:null,error:n};throw n}})}deleteBucket(t){return xf(this,void 0,void 0,function*(){try{return{data:yield uk(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(pa(n))return{data:null,error:n};throw n}})}}class Q$ extends X${constructor(t,n={},r,a){super(t,n,r,a)}from(t){return new W$(this.url,this.headers,t,this.fetch)}}const Z$="2.53.0";let Vm="";typeof Deno<"u"?Vm="deno":typeof document<"u"?Vm="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vm="react-native":Vm="node";const J$={"X-Client-Info":`supabase-js-${Vm}/${Z$}`},eH={headers:J$},tH={schema:"public"},nH={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rH={};var aH=function(e,t,n,r){function a(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function f(p){try{h(r.next(p))}catch(v){c(v)}}function m(p){try{h(r.throw(p))}catch(v){c(v)}}function h(p){p.done?s(p.value):a(p.value).then(f,m)}h((r=r.apply(e,t||[])).next())})};const iH=e=>{let t;return e?t=e:typeof fetch>"u"?t=JP:t=fetch,(...n)=>t(...n)},sH=()=>typeof Headers>"u"?ek:Headers,oH=(e,t,n)=>{const r=iH(n),a=sH();return(s,c)=>aH(void 0,void 0,void 0,function*(){var f;const m=(f=yield t())!==null&&f!==void 0?f:e;let h=new a(c==null?void 0:c.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${m}`),r(s,Object.assign(Object.assign({},c),{headers:h}))})};var lH=function(e,t,n,r){function a(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function f(p){try{h(r.next(p))}catch(v){c(v)}}function m(p){try{h(r.throw(p))}catch(v){c(v)}}function h(p){p.done?s(p.value):a(p.value).then(f,m)}h((r=r.apply(e,t||[])).next())})};function cH(e){return e.endsWith("/")?e:e+"/"}function uH(e,t){var n,r;const{db:a,auth:s,realtime:c,global:f}=e,{db:m,auth:h,realtime:p,global:v}=t,j={db:Object.assign(Object.assign({},m),a),auth:Object.assign(Object.assign({},h),s),realtime:Object.assign(Object.assign({},p),c),storage:{},global:Object.assign(Object.assign(Object.assign({},v),f),{headers:Object.assign(Object.assign({},(n=v==null?void 0:v.headers)!==null&&n!==void 0?n:{}),(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>lH(this,void 0,void 0,function*(){return""})};return e.accessToken?j.accessToken=e.accessToken:delete j.accessToken,j}const dk="2.71.1",Mf=30*1e3,yS=3,Kb=yS*Mf,dH="http://localhost:9999",fH="supabase.auth.token",hH={"X-Client-Info":`gotrue-js/${dk}`},bS="X-Supabase-Api-Version",fk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},mH=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,gH=10*60*1e3;class mA extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Pt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class pH extends mA{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function xH(e){return Pt(e)&&e.name==="AuthApiError"}class hk extends mA{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Gc extends mA{constructor(t,n,r,a){super(t,r,a),this.name=n,this.status=r}}class Tc extends Gc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function vH(e){return Pt(e)&&e.name==="AuthSessionMissingError"}class _p extends Gc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Cp extends Gc{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Tp extends Gc{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function yH(e){return Pt(e)&&e.name==="AuthImplicitGrantRedirectError"}class u3 extends Gc{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wS extends Gc{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Xb(e){return Pt(e)&&e.name==="AuthRetryableFetchError"}class d3 extends Gc{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class SS extends Gc{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const wx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),f3=` 	
\r=`.split(""),bH=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<f3.length;t+=1)e[f3[t].charCodeAt(0)]=-2;for(let t=0;t<wx.length;t+=1)e[wx[t].charCodeAt(0)]=t;return e})();function h3(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(wx[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(wx[r]),t.queuedBits-=6}}function mk(e,t,n){const r=bH[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function m3(e){const t=[],n=c=>{t.push(String.fromCodePoint(c))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=c=>{jH(c,r,n)};for(let c=0;c<e.length;c+=1)mk(e.charCodeAt(c),a,s);return t.join("")}function wH(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function SH(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const a=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}wH(r,t)}}function jH(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function AH(e){const t=[],n={queue:0,queuedBits:0},r=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)mk(e.charCodeAt(a),n,r);return new Uint8Array(t)}function EH(e){const t=[];return SH(e,n=>t.push(n)),new Uint8Array(t)}function NH(e){const t=[],n={queue:0,queuedBits:0},r=a=>{t.push(a)};return e.forEach(a=>h3(a,n,r)),h3(null,n,r),t.join("")}function _H(e){return Math.round(Date.now()/1e3)+e}function CH(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ps=()=>typeof window<"u"&&typeof document<"u",Iu={tested:!1,writable:!1},gk=()=>{if(!Ps())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Iu.tested)return Iu.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Iu.tested=!0,Iu.writable=!0}catch{Iu.tested=!0,Iu.writable=!1}return Iu.writable};function TH(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return n.searchParams.forEach((r,a)=>{t[a]=r}),t}const pk=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>k0(async()=>{const{default:r}=await Promise.resolve().then(()=>dh);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},OH=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Df=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Pu=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Sc=async(e,t)=>{await e.removeItem(t)};class _1{constructor(){this.promise=new _1.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}_1.promiseConstructor=Promise;function Qb(e){const t=e.split(".");if(t.length!==3)throw new SS("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!mH.test(t[r]))throw new SS("JWT not in base64url format");return{header:JSON.parse(m3(t[0])),payload:JSON.parse(m3(t[1])),signature:AH(t[2]),raw:{header:t[0],payload:t[1]}}}async function MH(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function DH(e,t){return new Promise((r,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const c=await e(s);if(!t(s,null,c)){r(c);return}}catch(c){if(!t(s,c)){a(c);return}}})()})}function RH(e){return("0"+e.toString(16)).substr(-2)}function IH(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let a="";for(let s=0;s<56;s++)a+=n.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(t),Array.from(t,RH).join("")}async function PH(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(r);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function kH(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await PH(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vf(e,t,n=!1){const r=IH();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await Df(e,`${t}-code-verifier`,a);const s=await kH(r);return[s,r===s?"plain":"s256"]}const LH=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function BH(e){const t=e.headers.get(bS);if(!t||!t.match(LH))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function FH(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function UH(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const zH=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yf(e){if(!zH.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Zb(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function g3(e){return JSON.parse(JSON.stringify(e))}var VH=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Bu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$H=[502,503,504];async function p3(e){var t;if(!OH(e))throw new wS(Bu(e),0);if($H.includes(e.status))throw new wS(Bu(e),e.status);let n;try{n=await e.json()}catch(s){throw new hk(Bu(s),s)}let r;const a=BH(e);if(a&&a.getTime()>=fk["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new d3(Bu(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Tc}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,c)=>s&&typeof c=="string",!0))throw new d3(Bu(n),e.status,n.weak_password.reasons);throw new pH(Bu(n),e.status||500,r)}const HH=(e,t,n,r)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))};async function Qt(e,t,n,r){var a;const s=Object.assign({},r==null?void 0:r.headers);s[bS]||(s[bS]=fk["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const c=(a=r==null?void 0:r.query)!==null&&a!==void 0?a:{};r!=null&&r.redirectTo&&(c.redirect_to=r.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",m=await qH(e,t,n+f,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(m):{data:Object.assign({},m),error:null}}async function qH(e,t,n,r,a,s){const c=HH(t,r,a,s);let f;try{f=await e(n,Object.assign({},c))}catch(m){throw console.error(m),new wS(Bu(m),0)}if(f.ok||await p3(f),r!=null&&r.noResolveJson)return f;try{return await f.json()}catch(m){await p3(m)}}function ll(e){var t;let n=null;KH(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=_H(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function x3(e){const t=ll(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Rc(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function YH(e){return{data:e,error:null}}function WH(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:s}=e,c=VH(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:s},m=Object.assign({},c);return{data:{properties:f,user:m},error:null}}function GH(e){return e}function KH(e){return e.access_token&&e.refresh_token&&e.expires_in}const Jb=["global","local","others"];var XH=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};class QH{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=pk(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Jb[0]){if(Jb.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Jb.join(", ")}`);try{return await Qt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Pt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Qt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Rc})}catch(r){if(Pt(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=XH(t,["options"]),a=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(a.new_email=r==null?void 0:r.newEmail,delete a.newEmail),await Qt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:WH,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Pt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Qt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Rc})}catch(n){if(Pt(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,a,s,c,f,m;try{const h={nextPage:null,lastPage:0,total:0},p=await Qt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:GH});if(p.error)throw p.error;const v=await p.json(),j=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,E=(m=(f=p.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return E.length>0&&(E.forEach(O=>{const T=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(O.split(";")[1].split("=")[1]);h[`${_}Page`]=T}),h.total=parseInt(j)),{data:Object.assign(Object.assign({},v),h),error:null}}catch(h){if(Pt(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){yf(t);try{return await Qt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Rc})}catch(n){if(Pt(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){yf(t);try{return await Qt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Rc})}catch(r){if(Pt(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){yf(t);try{return await Qt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Rc})}catch(r){if(Pt(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){yf(t.userId);try{const{data:n,error:r}=await Qt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:r}}catch(n){if(Pt(n))return{data:null,error:n};throw n}}async _deleteFactor(t){yf(t.userId),yf(t.id);try{return{data:await Qt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Pt(n))return{data:null,error:n};throw n}}}function v3(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function ZH(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const bf={debug:!!(globalThis&&gk()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class xk extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class JH extends xk{}async function eq(e,t,n){bf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),bf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){bf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await n()}finally{bf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw bf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new JH(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(bf.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}ZH();const tq={url:dH,storageKey:fH,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:hH,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function y3(e,t,n){return await n()}const wf={};class s0{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=s0.nextInstanceID,s0.nextInstanceID+=1,this.instanceID>0&&Ps()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},tq),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new QH({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=pk(a.fetch),this.lock=a.lock||y3,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Ps()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=eq:this.lock=y3,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:gk()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=v3(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=v3(this.memoryStorage)),Ps()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=wf[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){wf[this.storageKey]=Object.assign(Object.assign({},wf[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=wf[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){wf[this.storageKey]=Object.assign(Object.assign({},wf[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${dk}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=TH(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ps()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),yH(s)){const m=(t=s.details)===null||t===void 0?void 0:t.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:c,redirectType:f}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Pt(n)?{error:n}:{error:new hk("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,a;try{const s=await Qt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:ll}),{data:c,error:f}=s;if(f||!c)return{data:{user:null,session:null},error:f};const m=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:h,session:m},error:null}}catch(s){if(Pt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,a;try{let s;if("email"in t){const{email:p,password:v,options:j}=t;let E=null,O=null;this.flowType==="pkce"&&([E,O]=await vf(this.storage,this.storageKey)),s=await Qt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:j==null?void 0:j.emailRedirectTo,body:{email:p,password:v,data:(n=j==null?void 0:j.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken},code_challenge:E,code_challenge_method:O},xform:ll})}else if("phone"in t){const{phone:p,password:v,options:j}=t;s=await Qt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:v,data:(r=j==null?void 0:j.data)!==null&&r!==void 0?r:{},channel:(a=j==null?void 0:j.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken}},xform:ll})}else throw new Cp("You must provide either an email or phone number and a password");const{data:c,error:f}=s;if(f||!c)return{data:{user:null,session:null},error:f};const m=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:h,session:m},error:null}}catch(s){if(Pt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:c,options:f}=t;n=await Qt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:x3})}else if("phone"in t){const{phone:s,password:c,options:f}=t;n=await Qt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:x3})}else throw new Cp("You must provide either an email or phone number and a password");const{data:r,error:a}=n;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new _p}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(n){if(Pt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,a,s,c,f,m,h,p,v,j,E;let O,T;if("message"in t)O=t.message,T=t.signature;else{const{chain:_,wallet:D,statement:P,options:I}=t;let U;if(Ps())if(typeof D=="object")U=D;else{const L=window;if("solana"in L&&typeof L.solana=="object"&&("signIn"in L.solana&&typeof L.solana.signIn=="function"||"signMessage"in L.solana&&typeof L.solana.signMessage=="function"))U=L.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=D}const F=new URL((n=I==null?void 0:I.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in U&&U.signIn){const L=await U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},I==null?void 0:I.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),P?{statement:P}:null));let B;if(Array.isArray(L)&&L[0]&&typeof L[0]=="object")B=L[0];else if(L&&typeof L=="object"&&"signedMessage"in L&&"signature"in L)B=L;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)O=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),T=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${F.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(a=(r=I==null?void 0:I.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=I==null?void 0:I.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...!((c=I==null?void 0:I.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...!((f=I==null?void 0:I.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...!((m=I==null?void 0:I.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...!((h=I==null?void 0:I.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...!((v=(p=I==null?void 0:I.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||v===void 0)&&v.length?["Resources",...I.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const L=await U.signMessage(new TextEncoder().encode(O),"utf8");if(!L||!(L instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=L}}try{const{data:_,error:D}=await Qt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:NH(T)},!((j=t.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(E=t.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:ll});if(D)throw D;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new _p}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:D})}catch(_){if(Pt(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(t){const n=await Pu(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(n??"").split("/");try{const{data:s,error:c}=await Qt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:ll});if(await Sc(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new _p}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:c})}catch(s){if(Pt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:a,access_token:s,nonce:c}=t,f=await Qt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:s,nonce:c,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ll}),{data:m,error:h}=f;return h?{data:{user:null,session:null},error:h}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new _p}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:h})}catch(n){if(Pt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,a,s,c;try{if("email"in t){const{email:f,options:m}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await vf(this.storage,this.storageKey));const{error:v}=await Qt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},create_user:(r=m==null?void 0:m.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:m==null?void 0:m.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in t){const{phone:f,options:m}=t,{data:h,error:p}=await Qt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(a=m==null?void 0:m.data)!==null&&a!==void 0?a:{},create_user:(s=m==null?void 0:m.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(c=m==null?void 0:m.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p}}throw new Cp("You must provide either an email or phone number.")}catch(f){if(Pt(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(t){var n,r;try{let a,s;"options"in t&&(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:c,error:f}=await Qt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:ll});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const m=c.session,h=c.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:h,session:m},error:null}}catch(a){if(Pt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var n,r,a;try{let s=null,c=null;return this.flowType==="pkce"&&([s,c]=await vf(this.storage,this.storageKey)),await Qt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:c}),headers:this.headers,xform:YH})}catch(s){if(Pt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Tc;const{error:a}=await Qt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Pt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:a,options:s}=t,{error:c}=await Qt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in t){const{phone:r,type:a,options:s}=t,{data:c,error:f}=await Qt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:f}}throw new Cp("You must provide either an email or phone number and a type")}catch(n){if(Pt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Pu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Kb:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const c=await Pu(this.userStorage,this.storageKey+"-user");c!=null&&c.user?t.user=c.user:t.user=Zb()}if(this.storage.isServer&&t.user){let c=this.suppressGetSessionWarning;t=new Proxy(t,{get:(m,h,p)=>(!c&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,h,p))})}return{data:{session:t},error:null}}const{session:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Qt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Rc}):await this._useSession(async n=>{var r,a,s;const{data:c,error:f}=n;if(f)throw f;return!(!((r=c.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Tc}:await Qt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:Rc})})}catch(n){if(Pt(n))return vH(n)&&(await this._removeSession(),await Sc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:a,error:s}=r;if(s)throw s;if(!a.session)throw new Tc;const c=a.session;let f=null,m=null;this.flowType==="pkce"&&t.email!=null&&([f,m]=await vf(this.storage,this.storageKey));const{data:h,error:p}=await Qt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:m}),jwt:c.access_token,xform:Rc});if(p)throw p;return c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(r){if(Pt(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Tc;const n=Date.now()/1e3;let r=n,a=!0,s=null;const{payload:c}=Qb(t.access_token);if(c.exp&&(r=c.exp,a=r<=n),a){const{session:f,error:m}=await this._callRefreshToken(t.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!f)return{data:{user:null,session:null},error:null};s=f}else{const{data:f,error:m}=await this._getUser(t.access_token);if(m)throw m;s={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(Pt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:c,error:f}=n;if(f)throw f;t=(r=c.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Tc;const{session:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Pt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Ps())throw new Tp("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Tp(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new u3("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Tp("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new u3("No code detected.");const{data:P,error:I}=await this._exchangeCodeForSession(t.code);if(I)throw I;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:s,refresh_token:c,expires_in:f,expires_at:m,token_type:h}=t;if(!s||!f||!c||!h)throw new Tp("No session defined in URL");const p=Math.round(Date.now()/1e3),v=parseInt(f);let j=p+v;m&&(j=parseInt(m));const E=j-p;E*1e3<=Mf&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${v}s`);const O=j-v;p-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,j,p):p-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,j,p);const{data:T,error:_}=await this._getUser(s);if(_)throw _;const D={provider_token:r,provider_refresh_token:a,access_token:s,expires_in:v,expires_at:j,refresh_token:c,token_type:h,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:D,redirectType:t.type},error:null}}catch(r){if(Pt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Pu(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:a,error:s}=n;if(s)return{error:s};const c=(r=a.session)===null||r===void 0?void 0:r.access_token;if(c){const{error:f}=await this.admin.signOut(c,t);if(f&&!(xH(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return t!=="others"&&(await this._removeSession(),await Sc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=CH(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,a;try{const{data:{session:s},error:c}=n;if(c)throw c;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await vf(this.storage,this.storageKey,!0));try{return await Qt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Pt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Pt(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:a}=await this._useSession(async s=>{var c,f,m,h,p;const{data:v,error:j}=s;if(j)throw j;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(m=t.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await Qt(this.fetch,"GET",E,{headers:this.headers,jwt:(p=(h=v.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(a)throw a;return Ps()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Pt(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,a;const{data:s,error:c}=n;if(c)throw c;return await Qt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(Pt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await DH(async a=>(a>0&&await MH(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await Qt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ll})),(a,s)=>{const c=200*Math.pow(2,a);return s&&Xb(s)&&Date.now()+c-r<Mf})}catch(r){if(this._debug(n,"error",r),Pt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Ps()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const a=await Pu(this.storage,this.storageKey);if(a&&this.userStorage){let c=await Pu(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await Df(this.userStorage,this.storageKey+"-user",c)),a.user=(t=c==null?void 0:c.user)!==null&&t!==void 0?t:Zb()}else if(a&&!a.user&&!a.user){const c=await Pu(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(a.user=c.user,await Sc(this.storage,this.storageKey+"-user"),await Df(this.storage,this.storageKey,a)):a.user=Zb()}if(this._debug(r,"session from storage",a),!this._isValidSession(a)){this._debug(r,"session is not valid"),a!==null&&await this._removeSession();return}const s=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Kb;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Kb}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),Xb(c)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(a.access_token);!f&&(c!=null&&c.user)?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(r,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(r,"error",a),console.error(a);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Tc;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new _1;const{data:s,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!s.session)throw new Tc;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const f={session:s.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(s){if(this._debug(a,"error",s),Pt(s)){const c={session:null,error:s};return Xb(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,n,r=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,n)}catch(m){s.push(m)}});if(await Promise.all(c),s.length>0){for(let f=0;f<s.length;f+=1)console.error(s[f]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Df(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const s=g3(a);await Df(this.storage,this.storageKey,s)}else{const a=g3(n);await Df(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Sc(this.storage,this.storageKey),await Sc(this.storage,this.storageKey+"-code-verifier"),await Sc(this.storage,this.storageKey+"-user"),this.userStorage&&await Sc(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ps()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Mf);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-t)/Mf);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Mf}ms, refresh threshold is ${yS} ticks`),a<=yS&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof xk)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ps()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const a=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,c]=await vf(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(f.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);a.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:a,error:s}=n;return s?{data:null,error:s}:await Qt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Pt(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,a;const{data:s,error:c}=n;if(c)return{data:null,error:c};const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:m,error:h}=await Qt(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(t.factorType==="totp"&&(!((a=m==null?void 0:m.totp)===null||a===void 0)&&a.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(n){if(Pt(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:s}=n;if(s)return{data:null,error:s};const{data:c,error:f}=await Qt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:f})})}catch(n){if(Pt(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:s}=n;return s?{data:null,error:s}:await Qt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Pt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],a=r.filter(c=>c.factor_type==="totp"&&c.status==="verified"),s=r.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:r,totp:a,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:a},error:s}=t;if(s)return{data:null,error:s};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Qb(a.access_token);let f=null;c.aal&&(f=c.aal);let m=f;((r=(n=a.user.factors)===null||n===void 0?void 0:n.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(m="aal2");const p=c.amr||[];return{data:{currentLevel:f,nextLevel:m,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(f=>f.kid===t);if(r)return r;const a=Date.now();if(r=this.jwks.keys.find(f=>f.kid===t),r&&this.jwks_cached_at+gH>a)return r;const{data:s,error:c}=await Qt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,r=s.keys.find(f=>f.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:E,error:O}=await this.getSession();if(O||!E.session)return{data:null,error:O};r=E.session.access_token}const{header:a,payload:s,signature:c,raw:{header:f,payload:m}}=Qb(r);n!=null&&n.allowExpired||FH(s.exp);const h=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!h){const{error:E}=await this.getUser(r);if(E)throw E;return{data:{claims:s,header:a,signature:c},error:null}}const p=UH(a.alg),v=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,v,c,EH(`${f}.${m}`)))throw new SS("Invalid JWT signature");return{data:{claims:s,header:a,signature:c},error:null}}catch(r){if(Pt(r))return{data:null,error:r};throw r}}}s0.nextInstanceID=0;const nq=s0;class rq extends nq{constructor(t){super(t)}}var aq=function(e,t,n,r){function a(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function f(p){try{h(r.next(p))}catch(v){c(v)}}function m(p){try{h(r.throw(p))}catch(v){c(v)}}function h(p){p.done?s(p.value):a(p.value).then(f,m)}h((r=r.apply(e,t||[])).next())})};class iq{constructor(t,n,r){var a,s,c;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const f=cH(t),m=new URL(f);this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const h=`sb-${m.hostname.split(".")[0]}-auth-token`,p={db:tH,realtime:rH,auth:Object.assign(Object.assign({},nH),{storageKey:h}),global:eH},v=uH(r??{},p);this.storageKey=(a=v.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=v.global.headers)!==null&&s!==void 0?s:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(j,E)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(E)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=v.auth)!==null&&c!==void 0?c:{},this.headers,v.global.fetch),this.fetch=oH(n,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new j$(new URL("rest/v1",m).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new Q$(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new d$(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return aq(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,storageKey:s,flowType:c,lock:f,debug:m},h,p){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rq({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),h),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,flowType:c,lock:f,debug:m,fetch:p,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new B$(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const sq=(e,t,n)=>new iq(e,t,n);function oq(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}oq()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const lq="https://zedwbdksnduazpdveoab.supabase.co",cq="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InplZHdiZGtzbmR1YXpwZHZlb2FiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQwMDcwNDIsImV4cCI6MjA2OTU4MzA0Mn0.LjhdIRxPhAM0JTUdX9YdxHaSkffoDLV4RBkglKFksxI",ot=sq(lq,cq),vk=A.createContext(void 0);function uq({children:e}){const[t,n]=A.useState(null),[r,a]=A.useState(null),[s,c]=A.useState(null),[f,m]=A.useState(!0);A.useEffect(()=>{ot.auth.getSession().then(({data:{session:D}})=>{c(D),n((D==null?void 0:D.user)??null),D!=null&&D.user?h(D.user.id):m(!1)});const{data:{subscription:_}}=ot.auth.onAuthStateChange(async(D,P)=>{c(P),n((P==null?void 0:P.user)??null),P!=null&&P.user?await h(P.user.id):(a(null),m(!1))});return()=>_.unsubscribe()},[]);const h=async _=>{try{const{data:D,error:P}=await ot.from("profiles").select("*").eq("id",_).single();if(P)throw P;a(D)}catch(D){console.error("Error fetching profile:",D)}finally{m(!1)}},T={user:t,profile:r,session:s,loading:f,signUp:async(_,D,P)=>{const{data:I,error:U}=await ot.auth.signUp({email:_,password:D,options:{data:P}});return{data:I,error:U}},signIn:async(_,D)=>{const{data:P,error:I}=await ot.auth.signInWithPassword({email:_,password:D});return{data:P,error:I}},signOut:async()=>{await ot.auth.signOut()},updateProfile:async _=>{if(!t)return;const{error:D}=await ot.from("profiles").update(_).eq("id",t.id);D||a(P=>P?{...P,..._}:null)},refreshProfile:async()=>{t&&await h(t.id)}};return i.jsx(vk.Provider,{value:T,children:e})}function yn(){const e=A.useContext(vk);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function dq(){const e=yn();return A.useEffect(()=>{!e.loading&&!e.user&&(window.location.href="/login")},[e.loading,e.user]),e}function gA(e){const t=dq();return A.useEffect(()=>{!t.loading&&t.profile&&!e.includes(t.profile.user_type)&&(window.location.href=`/${t.profile.user_type}`)},[t.loading,t.profile,e]),t}const fq={en:{"common.loading":"Loading...","common.error":"An error occurred","common.success":"Success","common.cancel":"Cancel","common.confirm":"Confirm","common.save":"Save","common.edit":"Edit","common.delete":"Delete","common.back":"Back","common.next":"Next","common.previous":"Previous","common.search":"Search","common.filter":"Filter","common.amount":"Amount","common.date":"Date","common.status":"Status","common.description":"Description","common.balance":"Balance","common.currency":"SYP","auth.login":"Login","auth.register":"Register","auth.logout":"Logout","auth.email":"Email","auth.password":"Password","auth.confirmPassword":"Confirm Password","auth.fullName":"Full Name","auth.phoneNumber":"Phone Number","auth.forgotPassword":"Forgot Password?","auth.dontHaveAccount":"Don't have an account?","auth.alreadyHaveAccount":"Already have an account?","auth.signUp":"Sign Up","auth.signIn":"Sign In","auth.role":"I am a","auth.passenger":"Passenger","auth.driver":"Driver","auth.merchant":"Merchant","auth.eventAdmin":"Event Organizer","nav.dashboard":"Dashboard","nav.wallet":"Wallet","nav.transactions":"Transactions","nav.scanner":"QR Scanner","nav.events":"Events","nav.tickets":"My Tickets","nav.earnings":"Earnings","nav.trips":"Trips","nav.qrcode":"QR Code","nav.business":"Business","nav.management":"Management","nav.analytics":"Analytics","nav.users":"Users","nav.disputes":"Disputes","nav.support":"Support","nav.settings":"Settings","nav.profile":"Profile","wallet.title":"Digital Wallet","wallet.balance":"Current Balance","wallet.recharge":"Recharge Wallet","wallet.rechargeAmount":"Recharge Amount","wallet.paymentMethod":"Payment Method","wallet.mtnCash":"MTN Cash","wallet.syriatelCash":"Syriatel Cash","wallet.shamCash":"ShamCash","wallet.fatora":"Fatora","wallet.stripe":"Credit Card","wallet.rechargeSuccess":"Wallet recharged successfully","wallet.insufficientBalance":"Insufficient balance","transactions.title":"Transaction History","transactions.recent":"Recent Transactions","transactions.payment":"Payment","transactions.recharge":"Recharge","transactions.refund":"Refund","transactions.withdrawal":"Withdrawal","transactions.pending":"Pending","transactions.completed":"Completed","transactions.failed":"Failed","transactions.cancelled":"Cancelled","transactions.to":"To","transactions.from":"From","scanner.title":"QR Code Scanner","scanner.scanToPayDriver":"Scan driver QR to pay for transport","scanner.scanToPayMerchant":"Scan merchant QR to make payment","scanner.scanning":"Scanning...","scanner.paymentSuccess":"Payment successful","scanner.paymentFailed":"Payment failed","scanner.quantity":"Number of tickets","events.title":"Events","events.upcoming":"Upcoming Events","events.myEvents":"My Events","events.createEvent":"Create Event","events.eventTitle":"Event Title","events.eventDescription":"Event Description","events.eventLocation":"Location","events.eventDate":"Date","events.eventPrice":"Ticket Price","events.availableTickets":"Available Tickets","events.buyTicket":"Buy Ticket","events.ticketPurchased":"Ticket purchased successfully","driver.title":"Driver Dashboard","driver.earnings":"Earnings","driver.todayEarnings":"Today's Earnings","driver.weekEarnings":"Week Earnings","driver.monthEarnings":"Month Earnings","driver.generateQR":"Generate QR Code","driver.activeTrip":"Active Trip","driver.startTrip":"Start Trip","driver.endTrip":"End Trip","driver.route":"Route","driver.ticketFee":"Ticket Fee","driver.passengerCount":"Passengers","merchant.title":"Merchant Dashboard","merchant.business":"Business Information","merchant.businessName":"Business Name","merchant.businessCategory":"Category","merchant.generateQR":"Generate Payment QR","merchant.qrAmount":"Payment Amount","admin.title":"Admin Dashboard","admin.userManagement":"User Management","admin.systemAnalytics":"System Analytics","admin.totalUsers":"Total Users","admin.totalTransactions":"Total Transactions","admin.totalRevenue":"Total Revenue","admin.disputes":"Disputes","app.name":"Tickets","app.subtitle":"Digital Wallet & Payment System","app.welcome":"Welcome to Tickets","app.description":"Your digital wallet for seamless payments, event tickets, and transportation in Syria.","onboard.welcome":"Welcome to Tickets!","onboard.step1.title":"Digital Wallet","onboard.step1.desc":"Securely store and manage your money digitally","onboard.step2.title":"QR Payments","onboard.step2.desc":"Pay for transportation and purchases instantly","onboard.step3.title":"Event Tickets","onboard.step3.desc":"Buy and manage event tickets digitally","onboard.getStarted":"Get Started","onboard.skip":"Skip Tour"},ar:{"common.loading":"جارٍ التحميل...","common.error":"حدث خطأ","common.success":"نجح","common.cancel":"إلغاء","common.confirm":"تأكيد","common.save":"حفظ","common.edit":"تعديل","common.delete":"حذف","common.back":"رجوع","common.next":"التالي","common.previous":"السابق","common.search":"بحث","common.filter":"تصفية","common.amount":"المبلغ","common.date":"التاريخ","common.status":"الحالة","common.description":"الوصف","common.balance":"الرصيد","common.currency":"ل.س","auth.login":"تسجيل الدخول","auth.register":"إنشاء حساب","auth.logout":"تسجيل الخروج","auth.email":"البريد الإلكتروني","auth.password":"كلمة المرور","auth.confirmPassword":"تأكيد كلمة المرور","auth.fullName":"الاسم الكامل","auth.phoneNumber":"رقم الهاتف","auth.forgotPassword":"نسيت كلمة المرور؟","auth.dontHaveAccount":"ليس لديك حساب؟","auth.alreadyHaveAccount":"لديك حساب بالفعل؟","auth.signUp":"إنشاء حساب","auth.signIn":"تسجيل الدخول","auth.role":"أنا","auth.passenger":"راكب","auth.driver":"سائق","auth.merchant":"تاجر","auth.eventAdmin":"منظم فعاليات","nav.dashboard":"لوحة التحكم","nav.wallet":"المحفظة","nav.transactions":"المعاملات","nav.scanner":"ماسح QR","nav.events":"الفعاليات","nav.tickets":"تذاكري","nav.earnings":"الأرباح","nav.trips":"الرحلات","nav.qrcode":"رمز QR","nav.business":"العمل","nav.management":"الإدارة","nav.analytics":"التحليلات","nav.users":"المستخدمون","nav.disputes":"النزاعات","nav.support":"الدعم","nav.settings":"الإعدادات","nav.profile":"الملف الشخصي","wallet.title":"المحفظة الرقمية","wallet.balance":"الرصيد الحالي","wallet.recharge":"شحن المحفظة","wallet.rechargeAmount":"مبلغ الشحن","wallet.paymentMethod":"طريقة الدفع","wallet.mtnCash":"إم تي إن كاش","wallet.syriatelCash":"سيرياتيل كاش","wallet.shamCash":"شام كاش","wallet.fatora":"فاتورة","wallet.stripe":"بطاقة ائتمانية","wallet.rechargeSuccess":"تم شحن المحفظة بنجاح","wallet.insufficientBalance":"رصيد غير كافٍ","transactions.title":"سجل المعاملات","transactions.recent":"المعاملات الأخيرة","transactions.payment":"دفع","transactions.recharge":"شحن","transactions.refund":"استرداد","transactions.withdrawal":"سحب","transactions.pending":"معلق","transactions.completed":"مكتمل","transactions.failed":"فاشل","transactions.cancelled":"ملغى","transactions.to":"إلى","transactions.from":"من","scanner.title":"ماسح رمز QR","scanner.scanToPayDriver":"امسح رمز السائق للدفع","scanner.scanToPayMerchant":"امسح رمز التاجر للدفع","scanner.scanning":"جارٍ المسح...","scanner.paymentSuccess":"تم الدفع بنجاح","scanner.paymentFailed":"فشل الدفع","scanner.quantity":"عدد التذاكر","events.title":"الفعاليات","events.upcoming":"الفعاليات القادمة","events.myEvents":"فعالياتي","events.createEvent":"إنشاء فعالية","events.eventTitle":"عنوان الفعالية","events.eventDescription":"وصف الفعالية","events.eventLocation":"المكان","events.eventDate":"التاريخ","events.eventPrice":"سعر التذكرة","events.availableTickets":"التذاكر المتاحة","events.buyTicket":"شراء تذكرة","events.ticketPurchased":"تم شراء التذكرة بنجاح","driver.title":"لوحة تحكم السائق","driver.earnings":"الأرباح","driver.todayEarnings":"أرباح اليوم","driver.weekEarnings":"أرباح الأسبوع","driver.monthEarnings":"أرباح الشهر","driver.generateQR":"إنشاء رمز QR","driver.activeTrip":"الرحلة النشطة","driver.startTrip":"بدء الرحلة","driver.endTrip":"إنهاء الرحلة","driver.route":"المسار","driver.ticketFee":"أجرة التذكرة","driver.passengerCount":"الركاب","merchant.title":"لوحة تحكم التاجر","merchant.business":"معلومات العمل","merchant.businessName":"اسم العمل","merchant.businessCategory":"الفئة","merchant.generateQR":"إنشاء رمز دفع QR","merchant.qrAmount":"مبلغ الدفع","admin.title":"لوحة تحكم المدير","admin.userManagement":"إدارة المستخدمين","admin.systemAnalytics":"تحليلات النظام","admin.totalUsers":"إجمالي المستخدمين","admin.totalTransactions":"إجمالي المعاملات","admin.totalRevenue":"إجمالي الإيرادات","admin.disputes":"النزاعات","app.name":"تذاكر","app.subtitle":"محفظة رقمية ونظام دفع","app.welcome":"مرحباً بك في تذاكر","app.description":"محفظتك الرقمية للمدفوعات السلسة وتذاكر الفعاليات والنقل في سوريا.","onboard.welcome":"مرحباً بك في تذاكر!","onboard.step1.title":"محفظة رقمية","onboard.step1.desc":"احفظ وأدر أموالك رقمياً بأمان","onboard.step2.title":"دفع بـ QR","onboard.step2.desc":"ادفع للنقل والمشتريات فوراً","onboard.step3.title":"تذاكر الفعاليات","onboard.step3.desc":"اشترِ وأدر تذاكر الفعاليات رقمياً","onboard.getStarted":"ابدأ الآن","onboard.skip":"تخطي الجولة"}},yk=A.createContext(void 0);function hq({children:e}){const[t,n]=A.useState("en");A.useEffect(()=>{const s=localStorage.getItem("language");s&&["en","ar"].includes(s)&&n(s)},[]),A.useEffect(()=>{localStorage.setItem("language",t),document.documentElement.lang=t,document.documentElement.dir=t==="ar"?"rtl":"ltr"},[t]);const a={language:t,setLanguage:n,t:(s,c)=>{let f=fq[t][s]||s;return c&&Object.entries(c).forEach(([m,h])=>{f=f.replace(`{{${m}}}`,h)}),f},isRTL:t==="ar"};return i.jsx(yk.Provider,{value:a,children:e})}function tn(){const e=A.useContext(yk);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e}/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var b3="popstate";function mq(e={}){function t(r,a){let{pathname:s,search:c,hash:f}=r.location;return jS("",{pathname:s,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:o0(a)}return pq(t,n,null,e)}function rr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ys(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gq(){return Math.random().toString(36).substring(2,10)}function w3(e,t){return{usr:e.state,key:e.key,idx:t}}function jS(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?fh(t):t,state:n,key:t&&t.key||r||gq()}}function o0({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function fh(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function pq(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:s=!1}=r,c=a.history,f="POP",m=null,h=p();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function p(){return(c.state||{idx:null}).idx}function v(){f="POP";let _=p(),D=_==null?null:_-h;h=_,m&&m({action:f,location:T.location,delta:D})}function j(_,D){f="PUSH";let P=jS(T.location,_,D);h=p()+1;let I=w3(P,h),U=T.createHref(P);try{c.pushState(I,"",U)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;a.location.assign(U)}s&&m&&m({action:f,location:T.location,delta:1})}function E(_,D){f="REPLACE";let P=jS(T.location,_,D);h=p();let I=w3(P,h),U=T.createHref(P);c.replaceState(I,"",U),s&&m&&m({action:f,location:T.location,delta:0})}function O(_){return xq(_)}let T={get action(){return f},get location(){return e(a,c)},listen(_){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(b3,v),m=_,()=>{a.removeEventListener(b3,v),m=null}},createHref(_){return t(a,_)},createURL:O,encodeLocation(_){let D=O(_);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:j,replace:E,go(_){return c.go(_)}};return T}function xq(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),rr(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:o0(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function bk(e,t,n="/"){return vq(e,t,n,!1)}function vq(e,t,n,r){let a=typeof t=="string"?fh(t):t,s=wl(a.pathname||"/",n);if(s==null)return null;let c=wk(e);yq(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let h=Oq(s);f=Cq(c[m],h,r)}return f}function wk(e,t=[],n=[],r=""){let a=(s,c,f)=>{let m={relativePath:f===void 0?s.path||"":f,caseSensitive:s.caseSensitive===!0,childrenIndex:c,route:s};m.relativePath.startsWith("/")&&(rr(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let h=pl([r,m.relativePath]),p=n.concat(m);s.children&&s.children.length>0&&(rr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),wk(s.children,t,p,h)),!(s.path==null&&!s.index)&&t.push({path:h,score:Nq(h,s.index),routesMeta:p})};return e.forEach((s,c)=>{var f;if(s.path===""||!((f=s.path)!=null&&f.includes("?")))a(s,c);else for(let m of Sk(s.path))a(s,c,m)}),t}function Sk(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return a?[s,""]:[s];let c=Sk(r.join("/")),f=[];return f.push(...c.map(m=>m===""?s:[s,m].join("/"))),a&&f.push(...c),f.map(m=>e.startsWith("/")&&m===""?"/":m)}function yq(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:_q(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var bq=/^:[\w-]+$/,wq=3,Sq=2,jq=1,Aq=10,Eq=-2,S3=e=>e==="*";function Nq(e,t){let n=e.split("/"),r=n.length;return n.some(S3)&&(r+=Eq),t&&(r+=Sq),n.filter(a=>!S3(a)).reduce((a,s)=>a+(bq.test(s)?wq:s===""?jq:Aq),r)}function _q(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function Cq(e,t,n=!1){let{routesMeta:r}=e,a={},s="/",c=[];for(let f=0;f<r.length;++f){let m=r[f],h=f===r.length-1,p=s==="/"?t:t.slice(s.length)||"/",v=Sx({path:m.relativePath,caseSensitive:m.caseSensitive,end:h},p),j=m.route;if(!v&&h&&n&&!r[r.length-1].route.index&&(v=Sx({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},p)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:pl([s,v.pathname]),pathnameBase:Iq(pl([s,v.pathnameBase])),route:j}),v.pathnameBase!=="/"&&(s=pl([s,v.pathnameBase]))}return c}function Sx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Tq(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],c=s.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:v},j)=>{if(p==="*"){let O=f[j]||"";c=s.slice(0,s.length-O.length).replace(/(.)\/+$/,"$1")}const E=f[j];return v&&!E?h[p]=void 0:h[p]=(E||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:c,pattern:e}}function Tq(e,t=!1,n=!0){ys(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(r.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function Oq(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ys(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function wl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Mq(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?fh(e):e;return{pathname:n?n.startsWith("/")?n:Dq(n,t):t,search:Pq(r),hash:kq(a)}}function Dq(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function ew(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Rq(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function pA(e){let t=Rq(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function xA(e,t,n,r=!1){let a;typeof e=="string"?a=fh(e):(a={...e},rr(!a.pathname||!a.pathname.includes("?"),ew("?","pathname","search",a)),rr(!a.pathname||!a.pathname.includes("#"),ew("#","pathname","hash",a)),rr(!a.search||!a.search.includes("#"),ew("#","search","hash",a)));let s=e===""||a.pathname==="",c=s?"/":a.pathname,f;if(c==null)f=n;else{let v=t.length-1;if(!r&&c.startsWith("..")){let j=c.split("/");for(;j[0]==="..";)j.shift(),v-=1;a.pathname=j.join("/")}f=v>=0?t[v]:"/"}let m=Mq(a,f),h=c&&c!=="/"&&c.endsWith("/"),p=(s||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(h||p)&&(m.pathname+="/"),m}var pl=e=>e.join("/").replace(/\/\/+/g,"/"),Iq=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Pq=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kq=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Lq(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var jk=["POST","PUT","PATCH","DELETE"];new Set(jk);var Bq=["GET",...jk];new Set(Bq);var hh=A.createContext(null);hh.displayName="DataRouter";var C1=A.createContext(null);C1.displayName="DataRouterState";A.createContext(!1);var Ak=A.createContext({isTransitioning:!1});Ak.displayName="ViewTransition";var Fq=A.createContext(new Map);Fq.displayName="Fetchers";var Uq=A.createContext(null);Uq.displayName="Await";var Qs=A.createContext(null);Qs.displayName="Navigation";var B0=A.createContext(null);B0.displayName="Location";var Fo=A.createContext({outlet:null,matches:[],isDataRoute:!1});Fo.displayName="Route";var vA=A.createContext(null);vA.displayName="RouteError";function zq(e,{relative:t}={}){rr(mh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=A.useContext(Qs),{hash:a,pathname:s,search:c}=F0(e,{relative:t}),f=s;return n!=="/"&&(f=s==="/"?n:pl([n,s])),r.createHref({pathname:f,search:c,hash:a})}function mh(){return A.useContext(B0)!=null}function Uo(){return rr(mh(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(B0).location}var Ek="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Nk(e){A.useContext(Qs).static||A.useLayoutEffect(e)}function Il(){let{isDataRoute:e}=A.useContext(Fo);return e?eY():Vq()}function Vq(){rr(mh(),"useNavigate() may be used only in the context of a <Router> component.");let e=A.useContext(hh),{basename:t,navigator:n}=A.useContext(Qs),{matches:r}=A.useContext(Fo),{pathname:a}=Uo(),s=JSON.stringify(pA(r)),c=A.useRef(!1);return Nk(()=>{c.current=!0}),A.useCallback((m,h={})=>{if(ys(c.current,Ek),!c.current)return;if(typeof m=="number"){n.go(m);return}let p=xA(m,JSON.parse(s),a,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:pl([t,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[t,n,s,a,e])}A.createContext(null);function F0(e,{relative:t}={}){let{matches:n}=A.useContext(Fo),{pathname:r}=Uo(),a=JSON.stringify(pA(n));return A.useMemo(()=>xA(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function $q(e,t){return _k(e,t)}function _k(e,t,n,r){var D;rr(mh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=A.useContext(Qs),{matches:s}=A.useContext(Fo),c=s[s.length-1],f=c?c.params:{},m=c?c.pathname:"/",h=c?c.pathnameBase:"/",p=c&&c.route;{let P=p&&p.path||"";Ck(m,!p||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let v=Uo(),j;if(t){let P=typeof t=="string"?fh(t):t;rr(h==="/"||((D=P.pathname)==null?void 0:D.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${P.pathname}" was given in the \`location\` prop.`),j=P}else j=v;let E=j.pathname||"/",O=E;if(h!=="/"){let P=h.replace(/^\//,"").split("/");O="/"+E.replace(/^\//,"").split("/").slice(P.length).join("/")}let T=bk(e,{pathname:O});ys(p||T!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),ys(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=Gq(T&&T.map(P=>Object.assign({},P,{params:Object.assign({},f,P.params),pathname:pl([h,a.encodeLocation?a.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?h:pl([h,a.encodeLocation?a.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),s,n,r);return t&&_?A.createElement(B0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},_):_}function Hq(){let e=Jq(),t=Lq(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=A.createElement(A.Fragment,null,A.createElement("p",null,"💿 Hey developer 👋"),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:s},"ErrorBoundary")," or"," ",A.createElement("code",{style:s},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),n?A.createElement("pre",{style:a},n):null,c)}var qq=A.createElement(Hq,null),Yq=class extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?A.createElement(Fo.Provider,{value:this.props.routeContext},A.createElement(vA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Wq({routeContext:e,match:t,children:n}){let r=A.useContext(hh);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),A.createElement(Fo.Provider,{value:e},n)}function Gq(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,s=n==null?void 0:n.errors;if(s!=null){let m=a.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);rr(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,f=-1;if(n)for(let m=0;m<a.length;m++){let h=a[m];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(f=m),h.route.id){let{loaderData:p,errors:v}=n,j=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||j){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((m,h,p)=>{let v,j=!1,E=null,O=null;n&&(v=s&&h.route.id?s[h.route.id]:void 0,E=h.route.errorElement||qq,c&&(f<0&&p===0?(Ck("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,O=null):f===p&&(j=!0,O=h.route.hydrateFallbackElement||null)));let T=t.concat(a.slice(0,p+1)),_=()=>{let D;return v?D=E:j?D=O:h.route.Component?D=A.createElement(h.route.Component,null):h.route.element?D=h.route.element:D=m,A.createElement(Wq,{match:h,routeContext:{outlet:m,matches:T,isDataRoute:n!=null},children:D})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?A.createElement(Yq,{location:n.location,revalidation:n.revalidation,component:E,error:v,children:_(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):_()},null)}function yA(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kq(e){let t=A.useContext(hh);return rr(t,yA(e)),t}function Xq(e){let t=A.useContext(C1);return rr(t,yA(e)),t}function Qq(e){let t=A.useContext(Fo);return rr(t,yA(e)),t}function bA(e){let t=Qq(e),n=t.matches[t.matches.length-1];return rr(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Zq(){return bA("useRouteId")}function Jq(){var r;let e=A.useContext(vA),t=Xq("useRouteError"),n=bA("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function eY(){let{router:e}=Kq("useNavigate"),t=bA("useNavigate"),n=A.useRef(!1);return Nk(()=>{n.current=!0}),A.useCallback(async(a,s={})=>{ys(n.current,Ek),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...s}))},[e,t])}var j3={};function Ck(e,t,n){!t&&!j3[e]&&(j3[e]=!0,ys(!1,n))}A.memo(tY);function tY({routes:e,future:t,state:n}){return _k(e,void 0,n,t)}function Sl({to:e,replace:t,state:n,relative:r}){rr(mh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=A.useContext(Qs);ys(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=A.useContext(Fo),{pathname:c}=Uo(),f=Il(),m=xA(e,pA(s),c,r==="path"),h=JSON.stringify(m);return A.useEffect(()=>{f(JSON.parse(h),{replace:t,state:n,relative:r})},[f,h,r,t,n]),null}function wt(e){rr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nY({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:s=!1}){rr(!mh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),f=A.useMemo(()=>({basename:c,navigator:a,static:s,future:{}}),[c,a,s]);typeof n=="string"&&(n=fh(n));let{pathname:m="/",search:h="",hash:p="",state:v=null,key:j="default"}=n,E=A.useMemo(()=>{let O=wl(m,c);return O==null?null:{location:{pathname:O,search:h,hash:p,state:v,key:j},navigationType:r}},[c,m,h,p,v,j,r]);return ys(E!=null,`<Router basename="${c}"> is not able to match the URL "${m}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:A.createElement(Qs.Provider,{value:f},A.createElement(B0.Provider,{children:t,value:E}))}function gh({children:e,location:t}){return $q(AS(e),t)}function AS(e,t=[]){let n=[];return A.Children.forEach(e,(r,a)=>{if(!A.isValidElement(r))return;let s=[...t,a];if(r.type===A.Fragment){n.push.apply(n,AS(r.props.children,s));return}rr(r.type===wt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=AS(r.props.children,s)),n.push(c)}),n}var ox="get",lx="application/x-www-form-urlencoded";function T1(e){return e!=null&&typeof e.tagName=="string"}function rY(e){return T1(e)&&e.tagName.toLowerCase()==="button"}function aY(e){return T1(e)&&e.tagName.toLowerCase()==="form"}function iY(e){return T1(e)&&e.tagName.toLowerCase()==="input"}function sY(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function oY(e,t){return e.button===0&&(!t||t==="_self")&&!sY(e)}function ES(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function lY(e,t){let n=ES(e);return t&&t.forEach((r,a)=>{n.has(a)||t.getAll(a).forEach(s=>{n.append(a,s)})}),n}var Op=null;function cY(){if(Op===null)try{new FormData(document.createElement("form"),0),Op=!1}catch{Op=!0}return Op}var uY=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tw(e){return e!=null&&!uY.has(e)?(ys(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lx}"`),null):e}function dY(e,t){let n,r,a,s,c;if(aY(e)){let f=e.getAttribute("action");r=f?wl(f,t):null,n=e.getAttribute("method")||ox,a=tw(e.getAttribute("enctype"))||lx,s=new FormData(e)}else if(rY(e)||iY(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||f.getAttribute("action");if(r=m?wl(m,t):null,n=e.getAttribute("formmethod")||f.getAttribute("method")||ox,a=tw(e.getAttribute("formenctype"))||tw(f.getAttribute("enctype"))||lx,s=new FormData(f,e),!cY()){let{name:h,type:p,value:v}=e;if(p==="image"){let j=h?`${h}.`:"";s.append(`${j}x`,"0"),s.append(`${j}y`,"0")}else h&&s.append(h,v)}}else{if(T1(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ox,r=null,a=lx,c=e}return s&&a==="text/plain"&&(c=s,s=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:s,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wA(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fY(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&wl(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function hY(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mY(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function gY(e,t,n){let r=await Promise.all(e.map(async a=>{let s=t.routes[a.route.id];if(s){let c=await hY(s,n);return c.links?c.links():[]}return[]}));return yY(r.flat(1).filter(mY).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function A3(e,t,n,r,a,s){let c=(m,h)=>n[h]?m.route.id!==n[h].route.id:!0,f=(m,h)=>{var p;return n[h].pathname!==m.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==m.params["*"]};return s==="assets"?t.filter((m,h)=>c(m,h)||f(m,h)):s==="data"?t.filter((m,h)=>{var v;let p=r.routes[m.route.id];if(!p||!p.hasLoader)return!1;if(c(m,h)||f(m,h))return!0;if(m.route.shouldRevalidate){let j=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof j=="boolean")return j}return!0}):[]}function pY(e,t,{includeHydrateFallback:n}={}){return xY(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function xY(e){return[...new Set(e)]}function vY(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function yY(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let s=JSON.stringify(vY(a));return n.has(s)||(n.add(s),r.push({key:s,link:a})),r},[])}function Tk(){let e=A.useContext(hh);return wA(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function bY(){let e=A.useContext(C1);return wA(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var SA=A.createContext(void 0);SA.displayName="FrameworkContext";function Ok(){let e=A.useContext(SA);return wA(e,"You must render this element inside a <HydratedRouter> element"),e}function wY(e,t){let n=A.useContext(SA),[r,a]=A.useState(!1),[s,c]=A.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:h,onMouseLeave:p,onTouchStart:v}=t,j=A.useRef(null);A.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let T=D=>{D.forEach(P=>{c(P.isIntersecting)})},_=new IntersectionObserver(T,{threshold:.5});return j.current&&_.observe(j.current),()=>{_.disconnect()}}},[e]),A.useEffect(()=>{if(r){let T=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(T)}}},[r]);let E=()=>{a(!0)},O=()=>{a(!1),c(!1)};return n?e!=="intent"?[s,j,{}]:[s,j,{onFocus:Cm(f,E),onBlur:Cm(m,O),onMouseEnter:Cm(h,E),onMouseLeave:Cm(p,O),onTouchStart:Cm(v,E)}]:[!1,j,{}]}function Cm(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function SY({page:e,...t}){let{router:n}=Tk(),r=A.useMemo(()=>bk(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?A.createElement(AY,{page:e,matches:r,...t}):null}function jY(e){let{manifest:t,routeModules:n}=Ok(),[r,a]=A.useState([]);return A.useEffect(()=>{let s=!1;return gY(e,t,n).then(c=>{s||a(c)}),()=>{s=!0}},[e,t,n]),r}function AY({page:e,matches:t,...n}){let r=Uo(),{manifest:a,routeModules:s}=Ok(),{basename:c}=Tk(),{loaderData:f,matches:m}=bY(),h=A.useMemo(()=>A3(e,t,m,a,r,"data"),[e,t,m,a,r]),p=A.useMemo(()=>A3(e,t,m,a,r,"assets"),[e,t,m,a,r]),v=A.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let O=new Set,T=!1;if(t.forEach(D=>{var I;let P=a.routes[D.route.id];!P||!P.hasLoader||(!h.some(U=>U.route.id===D.route.id)&&D.route.id in f&&((I=s[D.route.id])!=null&&I.shouldRevalidate)||P.hasClientLoader?T=!0:O.add(D.route.id))}),O.size===0)return[];let _=fY(e,c,"data");return T&&O.size>0&&_.searchParams.set("_routes",t.filter(D=>O.has(D.route.id)).map(D=>D.route.id).join(",")),[_.pathname+_.search]},[c,f,r,a,h,t,e,s]),j=A.useMemo(()=>pY(p,a),[p,a]),E=jY(p);return A.createElement(A.Fragment,null,v.map(O=>A.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),j.map(O=>A.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),E.map(({key:O,link:T})=>A.createElement("link",{key:O,...T})))}function EY(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Mk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Mk&&(window.__reactRouterVersion="7.7.1")}catch{}function NY({basename:e,children:t,window:n}){let r=A.useRef();r.current==null&&(r.current=mq({window:n,v5Compat:!0}));let a=r.current,[s,c]=A.useState({action:a.action,location:a.location}),f=A.useCallback(m=>{A.startTransition(()=>c(m))},[c]);return A.useLayoutEffect(()=>a.listen(f),[a,f]),A.createElement(nY,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:a})}var Dk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ht=A.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:s,replace:c,state:f,target:m,to:h,preventScrollReset:p,viewTransition:v,...j},E){let{basename:O}=A.useContext(Qs),T=typeof h=="string"&&Dk.test(h),_,D=!1;if(typeof h=="string"&&T&&(_=h,Mk))try{let z=new URL(window.location.href),H=h.startsWith("//")?new URL(z.protocol+h):new URL(h),X=wl(H.pathname,O);H.origin===z.origin&&X!=null?h=X+H.search+H.hash:D=!0}catch{ys(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=zq(h,{relative:a}),[I,U,F]=wY(r,j),L=OY(h,{replace:c,state:f,target:m,preventScrollReset:p,relative:a,viewTransition:v});function B(z){t&&t(z),z.defaultPrevented||L(z)}let $=A.createElement("a",{...j,...F,href:_||P,onClick:D||s?t:B,ref:EY(E,U),target:m,"data-discover":!T&&n==="render"?"true":void 0});return I&&!T?A.createElement(A.Fragment,null,$,A.createElement(SY,{page:P})):$});Ht.displayName="Link";var _Y=A.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:s,to:c,viewTransition:f,children:m,...h},p){let v=F0(c,{relative:h.relative}),j=Uo(),E=A.useContext(C1),{navigator:O,basename:T}=A.useContext(Qs),_=E!=null&&PY(v)&&f===!0,D=O.encodeLocation?O.encodeLocation(v).pathname:v.pathname,P=j.pathname,I=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(P=P.toLowerCase(),I=I?I.toLowerCase():null,D=D.toLowerCase()),I&&T&&(I=wl(I,T)||I);const U=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let F=P===D||!a&&P.startsWith(D)&&P.charAt(U)==="/",L=I!=null&&(I===D||!a&&I.startsWith(D)&&I.charAt(D.length)==="/"),B={isActive:F,isPending:L,isTransitioning:_},$=F?t:void 0,z;typeof r=="function"?z=r(B):z=[r,F?"active":null,L?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let H=typeof s=="function"?s(B):s;return A.createElement(Ht,{...h,"aria-current":$,className:z,ref:p,style:H,to:c,viewTransition:f},typeof m=="function"?m(B):m)});_Y.displayName="NavLink";var CY=A.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:s,method:c=ox,action:f,onSubmit:m,relative:h,preventScrollReset:p,viewTransition:v,...j},E)=>{let O=RY(),T=IY(f,{relative:h}),_=c.toLowerCase()==="get"?"get":"post",D=typeof f=="string"&&Dk.test(f),P=I=>{if(m&&m(I),I.defaultPrevented)return;I.preventDefault();let U=I.nativeEvent.submitter,F=(U==null?void 0:U.getAttribute("formmethod"))||c;O(U||I.currentTarget,{fetcherKey:t,method:F,navigate:n,replace:a,state:s,relative:h,preventScrollReset:p,viewTransition:v})};return A.createElement("form",{ref:E,method:_,action:T,onSubmit:r?m:P,...j,"data-discover":!D&&e==="render"?"true":void 0})});CY.displayName="Form";function TY(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rk(e){let t=A.useContext(hh);return rr(t,TY(e)),t}function OY(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:s,viewTransition:c}={}){let f=Il(),m=Uo(),h=F0(e,{relative:s});return A.useCallback(p=>{if(oY(p,t)){p.preventDefault();let v=n!==void 0?n:o0(m)===o0(h);f(e,{replace:v,state:r,preventScrollReset:a,relative:s,viewTransition:c})}},[m,f,h,n,r,t,e,a,s,c])}function Ik(e){ys(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=A.useRef(ES(e)),n=A.useRef(!1),r=Uo(),a=A.useMemo(()=>lY(r.search,n.current?null:t.current),[r.search]),s=Il(),c=A.useCallback((f,m)=>{const h=ES(typeof f=="function"?f(new URLSearchParams(a)):f);n.current=!0,s("?"+h,m)},[s,a]);return[a,c]}var MY=0,DY=()=>`__${String(++MY)}__`;function RY(){let{router:e}=Rk("useSubmit"),{basename:t}=A.useContext(Qs),n=Zq();return A.useCallback(async(r,a={})=>{let{action:s,method:c,encType:f,formData:m,body:h}=dY(r,t);if(a.navigate===!1){let p=a.fetcherKey||DY();await e.fetch(p,n,a.action||s,{preventScrollReset:a.preventScrollReset,formData:m,body:h,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await e.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:m,body:h,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function IY(e,{relative:t}={}){let{basename:n}=A.useContext(Qs),r=A.useContext(Fo);rr(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),s={...F0(e||".",{relative:t})},c=Uo();if(e==null){s.search=c.search;let f=new URLSearchParams(s.search),m=f.getAll("index");if(m.some(p=>p==="")){f.delete("index"),m.filter(v=>v).forEach(v=>f.append("index",v));let p=f.toString();s.search=p?`?${p}`:""}}return(!e||e===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:pl([n,s.pathname])),o0(s)}function PY(e,{relative:t}={}){let n=A.useContext(Ak);rr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Rk("useViewTransitionState"),a=F0(e,{relative:t});if(!n.isTransitioning)return!1;let s=wl(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=wl(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Sx(a.pathname,c)!=null||Sx(a.pathname,s)!=null}var yd=ZP();const Pk=Ki(yd),jA=A.createContext({});function AA(e){const t=A.useRef(null);return t.current===null&&(t.current=e()),t.current}const EA=typeof window<"u",kk=EA?A.useLayoutEffect:A.useEffect,O1=A.createContext(null);function NA(e,t){e.indexOf(t)===-1&&e.push(t)}function _A(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const jl=(e,t,n)=>n>t?t:n<e?e:n;let CA=()=>{};const Al={},Lk=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Bk(e){return typeof e=="object"&&e!==null}const Fk=e=>/^0[^.\s]+$/u.test(e);function TA(e){let t;return()=>(t===void 0&&(t=e()),t)}const gs=e=>e,kY=(e,t)=>n=>t(e(n)),U0=(...e)=>e.reduce(kY),l0=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class OA{constructor(){this.subscriptions=[]}add(t){return NA(this.subscriptions,t),()=>_A(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let s=0;s<a;s++){const c=this.subscriptions[s];c&&c(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _o=e=>e*1e3,Co=e=>e/1e3;function Uk(e,t){return t?e*(1e3/t):0}const zk=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,LY=1e-7,BY=12;function FY(e,t,n,r,a){let s,c,f=0;do c=t+(n-t)/2,s=zk(c,r,a)-e,s>0?n=c:t=c;while(Math.abs(s)>LY&&++f<BY);return c}function z0(e,t,n,r){if(e===t&&n===r)return gs;const a=s=>FY(s,0,1,e,n);return s=>s===0||s===1?s:zk(a(s),t,r)}const Vk=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,$k=e=>t=>1-e(1-t),Hk=z0(.33,1.53,.69,.99),MA=$k(Hk),qk=Vk(MA),Yk=e=>(e*=2)<1?.5*MA(e):.5*(2-Math.pow(2,-10*(e-1))),DA=e=>1-Math.sin(Math.acos(e)),Wk=$k(DA),Gk=Vk(DA),UY=z0(.42,0,1,1),zY=z0(0,0,.58,1),Kk=z0(.42,0,.58,1),VY=e=>Array.isArray(e)&&typeof e[0]!="number",Xk=e=>Array.isArray(e)&&typeof e[0]=="number",$Y={linear:gs,easeIn:UY,easeInOut:Kk,easeOut:zY,circIn:DA,circInOut:Gk,circOut:Wk,backIn:MA,backInOut:qk,backOut:Hk,anticipate:Yk},HY=e=>typeof e=="string",E3=e=>{if(Xk(e)){CA(e.length===4);const[t,n,r,a]=e;return z0(t,n,r,a)}else if(HY(e))return $Y[e];return e},Mp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function qY(e,t){let n=new Set,r=new Set,a=!1,s=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(p){c.has(p)&&(h.schedule(p),e()),p(f)}const h={schedule:(p,v=!1,j=!1)=>{const O=j&&a?n:r;return v&&c.add(p),O.has(p)||O.add(p),p},cancel:p=>{r.delete(p),c.delete(p)},process:p=>{if(f=p,a){s=!0;return}a=!0,[n,r]=[r,n],n.forEach(m),n.clear(),a=!1,s&&(s=!1,h.process(p))}};return h}const YY=40;function Qk(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,c=Mp.reduce((I,U)=>(I[U]=qY(s),I),{}),{setup:f,read:m,resolveKeyframes:h,preUpdate:p,update:v,preRender:j,render:E,postRender:O}=c,T=()=>{const I=Al.useManualTiming?a.timestamp:performance.now();n=!1,Al.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(I-a.timestamp,YY),1)),a.timestamp=I,a.isProcessing=!0,f.process(a),m.process(a),h.process(a),p.process(a),v.process(a),j.process(a),E.process(a),O.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(T))},_=()=>{n=!0,r=!0,a.isProcessing||e(T)};return{schedule:Mp.reduce((I,U)=>{const F=c[U];return I[U]=(L,B=!1,$=!1)=>(n||_(),F.schedule(L,B,$)),I},{}),cancel:I=>{for(let U=0;U<Mp.length;U++)c[Mp[U]].cancel(I)},state:a,steps:c}}const{schedule:tr,cancel:Lc,state:Ta,steps:nw}=Qk(typeof requestAnimationFrame<"u"?requestAnimationFrame:gs,!0);let cx;function WY(){cx=void 0}const vi={now:()=>(cx===void 0&&vi.set(Ta.isProcessing||Al.useManualTiming?Ta.timestamp:performance.now()),cx),set:e=>{cx=e,queueMicrotask(WY)}},Zk=e=>t=>typeof t=="string"&&t.startsWith(e),RA=Zk("--"),GY=Zk("var(--"),IA=e=>GY(e)?KY.test(e.split("/*")[0].trim()):!1,KY=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ph={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},c0={...ph,transform:e=>jl(0,1,e)},Dp={...ph,default:1},Qm=e=>Math.round(e*1e5)/1e5,PA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function XY(e){return e==null}const QY=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,kA=(e,t)=>n=>!!(typeof n=="string"&&QY.test(n)&&n.startsWith(e)||t&&!XY(n)&&Object.prototype.hasOwnProperty.call(n,t)),Jk=(e,t,n)=>r=>{if(typeof r!="string")return r;const[a,s,c,f]=r.match(PA);return{[e]:parseFloat(a),[t]:parseFloat(s),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},ZY=e=>jl(0,255,e),rw={...ph,transform:e=>Math.round(ZY(e))},qu={test:kA("rgb","red"),parse:Jk("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+rw.transform(e)+", "+rw.transform(t)+", "+rw.transform(n)+", "+Qm(c0.transform(r))+")"};function JY(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const NS={test:kA("#"),parse:JY,transform:qu.transform},V0=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Oc=V0("deg"),To=V0("%"),Ct=V0("px"),eW=V0("vh"),tW=V0("vw"),N3={...To,parse:e=>To.parse(e)/100,transform:e=>To.transform(e*100)},Rf={test:kA("hsl","hue"),parse:Jk("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+To.transform(Qm(t))+", "+To.transform(Qm(n))+", "+Qm(c0.transform(r))+")"},Gr={test:e=>qu.test(e)||NS.test(e)||Rf.test(e),parse:e=>qu.test(e)?qu.parse(e):Rf.test(e)?Rf.parse(e):NS.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?qu.transform(e):Rf.transform(e),getAnimatableNone:e=>{const t=Gr.parse(e);return t.alpha=0,Gr.transform(t)}},nW=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function rW(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(PA))==null?void 0:t.length)||0)+(((n=e.match(nW))==null?void 0:n.length)||0)>0}const e8="number",t8="color",aW="var",iW="var(",_3="${}",sW=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function u0(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let s=0;const f=t.replace(sW,m=>(Gr.test(m)?(r.color.push(s),a.push(t8),n.push(Gr.parse(m))):m.startsWith(iW)?(r.var.push(s),a.push(aW),n.push(m)):(r.number.push(s),a.push(e8),n.push(parseFloat(m))),++s,_3)).split(_3);return{values:n,split:f,indexes:r,types:a}}function n8(e){return u0(e).values}function r8(e){const{split:t,types:n}=u0(e),r=t.length;return a=>{let s="";for(let c=0;c<r;c++)if(s+=t[c],a[c]!==void 0){const f=n[c];f===e8?s+=Qm(a[c]):f===t8?s+=Gr.transform(a[c]):s+=a[c]}return s}}const oW=e=>typeof e=="number"?0:Gr.test(e)?Gr.getAnimatableNone(e):e;function lW(e){const t=n8(e);return r8(e)(t.map(oW))}const Bc={test:rW,parse:n8,createTransformer:r8,getAnimatableNone:lW};function aw(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function cW({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,s=0,c=0;if(!t)a=s=c=n;else{const f=n<.5?n*(1+t):n+t-n*t,m=2*n-f;a=aw(m,f,e+1/3),s=aw(m,f,e),c=aw(m,f,e-1/3)}return{red:Math.round(a*255),green:Math.round(s*255),blue:Math.round(c*255),alpha:r}}function jx(e,t){return n=>n>0?t:e}const hr=(e,t,n)=>e+(t-e)*n,iw=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},uW=[NS,qu,Rf],dW=e=>uW.find(t=>t.test(e));function C3(e){const t=dW(e);if(!t)return!1;let n=t.parse(e);return t===Rf&&(n=cW(n)),n}const T3=(e,t)=>{const n=C3(e),r=C3(t);if(!n||!r)return jx(e,t);const a={...n};return s=>(a.red=iw(n.red,r.red,s),a.green=iw(n.green,r.green,s),a.blue=iw(n.blue,r.blue,s),a.alpha=hr(n.alpha,r.alpha,s),qu.transform(a))},_S=new Set(["none","hidden"]);function fW(e,t){return _S.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function hW(e,t){return n=>hr(e,t,n)}function LA(e){return typeof e=="number"?hW:typeof e=="string"?IA(e)?jx:Gr.test(e)?T3:pW:Array.isArray(e)?a8:typeof e=="object"?Gr.test(e)?T3:mW:jx}function a8(e,t){const n=[...e],r=n.length,a=e.map((s,c)=>LA(s)(s,t[c]));return s=>{for(let c=0;c<r;c++)n[c]=a[c](s);return n}}function mW(e,t){const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=LA(e[a])(e[a],t[a]));return a=>{for(const s in r)n[s]=r[s](a);return n}}function gW(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const s=t.types[a],c=e.indexes[s][r[s]],f=e.values[c]??0;n[a]=f,r[s]++}return n}const pW=(e,t)=>{const n=Bc.createTransformer(t),r=u0(e),a=u0(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?_S.has(e)&&!a.values.length||_S.has(t)&&!r.values.length?fW(e,t):U0(a8(gW(r,a),a.values),n):jx(e,t)};function i8(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?hr(e,t,n):LA(e)(e,t)}const xW=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>tr.update(t,n),stop:()=>Lc(t),now:()=>Ta.isProcessing?Ta.timestamp:vi.now()}},s8=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let s=0;s<a;s++)r+=Math.round(e(s/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Ax=2e4;function BA(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Ax;)t+=n,r=e.next(t);return t>=Ax?1/0:t}function vW(e,t=100,n){const r=n({...e,keyframes:[0,t]}),a=Math.min(BA(r),Ax);return{type:"keyframes",ease:s=>r.next(a*s).value/t,duration:Co(a)}}const yW=5;function o8(e,t,n){const r=Math.max(t-yW,0);return Uk(n-e(r),t-r)}const Sr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},O3=.001;function bW({duration:e=Sr.duration,bounce:t=Sr.bounce,velocity:n=Sr.velocity,mass:r=Sr.mass}){let a,s,c=1-t;c=jl(Sr.minDamping,Sr.maxDamping,c),e=jl(Sr.minDuration,Sr.maxDuration,Co(e)),c<1?(a=h=>{const p=h*c,v=p*e,j=p-n,E=CS(h,c),O=Math.exp(-v);return O3-j/E*O},s=h=>{const v=h*c*e,j=v*n+n,E=Math.pow(c,2)*Math.pow(h,2)*e,O=Math.exp(-v),T=CS(Math.pow(h,2),c);return(-a(h)+O3>0?-1:1)*((j-E)*O)/T}):(a=h=>{const p=Math.exp(-h*e),v=(h-n)*e+1;return-.001+p*v},s=h=>{const p=Math.exp(-h*e),v=(n-h)*(e*e);return p*v});const f=5/e,m=SW(a,s,f);if(e=_o(e),isNaN(m))return{stiffness:Sr.stiffness,damping:Sr.damping,duration:e};{const h=Math.pow(m,2)*r;return{stiffness:h,damping:c*2*Math.sqrt(r*h),duration:e}}}const wW=12;function SW(e,t,n){let r=n;for(let a=1;a<wW;a++)r=r-e(r)/t(r);return r}function CS(e,t){return e*Math.sqrt(1-t*t)}const jW=["duration","bounce"],AW=["stiffness","damping","mass"];function M3(e,t){return t.some(n=>e[n]!==void 0)}function EW(e){let t={velocity:Sr.velocity,stiffness:Sr.stiffness,damping:Sr.damping,mass:Sr.mass,isResolvedFromDuration:!1,...e};if(!M3(e,AW)&&M3(e,jW))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,s=2*jl(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Sr.mass,stiffness:a,damping:s}}else{const n=bW(e);t={...t,...n,mass:Sr.mass},t.isResolvedFromDuration=!0}return t}function Ex(e=Sr.visualDuration,t=Sr.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const s=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:s},{stiffness:m,damping:h,mass:p,duration:v,velocity:j,isResolvedFromDuration:E}=EW({...n,velocity:-Co(n.velocity||0)}),O=j||0,T=h/(2*Math.sqrt(m*p)),_=c-s,D=Co(Math.sqrt(m/p)),P=Math.abs(_)<5;r||(r=P?Sr.restSpeed.granular:Sr.restSpeed.default),a||(a=P?Sr.restDelta.granular:Sr.restDelta.default);let I;if(T<1){const F=CS(D,T);I=L=>{const B=Math.exp(-T*D*L);return c-B*((O+T*D*_)/F*Math.sin(F*L)+_*Math.cos(F*L))}}else if(T===1)I=F=>c-Math.exp(-D*F)*(_+(O+D*_)*F);else{const F=D*Math.sqrt(T*T-1);I=L=>{const B=Math.exp(-T*D*L),$=Math.min(F*L,300);return c-B*((O+T*D*_)*Math.sinh($)+F*_*Math.cosh($))/F}}const U={calculatedDuration:E&&v||null,next:F=>{const L=I(F);if(E)f.done=F>=v;else{let B=F===0?O:0;T<1&&(B=F===0?_o(O):o8(I,F,L));const $=Math.abs(B)<=r,z=Math.abs(c-L)<=a;f.done=$&&z}return f.value=f.done?c:L,f},toString:()=>{const F=Math.min(BA(U),Ax),L=s8(B=>U.next(F*B).value,F,30);return F+"ms "+L},toTransition:()=>{}};return U}Ex.applyToOptions=e=>{const t=vW(e,100,Ex);return e.ease=t.ease,e.duration=_o(t.duration),e.type="keyframes",e};function TS({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:s=500,modifyTarget:c,min:f,max:m,restDelta:h=.5,restSpeed:p}){const v=e[0],j={done:!1,value:v},E=$=>f!==void 0&&$<f||m!==void 0&&$>m,O=$=>f===void 0?m:m===void 0||Math.abs(f-$)<Math.abs(m-$)?f:m;let T=n*t;const _=v+T,D=c===void 0?_:c(_);D!==_&&(T=D-v);const P=$=>-T*Math.exp(-$/r),I=$=>D+P($),U=$=>{const z=P($),H=I($);j.done=Math.abs(z)<=h,j.value=j.done?D:H};let F,L;const B=$=>{E(j.value)&&(F=$,L=Ex({keyframes:[j.value,O(j.value)],velocity:o8(I,$,j.value),damping:a,stiffness:s,restDelta:h,restSpeed:p}))};return B(0),{calculatedDuration:null,next:$=>{let z=!1;return!L&&F===void 0&&(z=!0,U($),B($)),F!==void 0&&$>=F?L.next($-F):(!z&&U($),j)}}}function NW(e,t,n){const r=[],a=n||Al.mix||i8,s=e.length-1;for(let c=0;c<s;c++){let f=a(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||gs:t;f=U0(m,f)}r.push(f)}return r}function _W(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const s=e.length;if(CA(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=NW(t,r,a),m=f.length,h=p=>{if(c&&p<e[0])return t[0];let v=0;if(m>1)for(;v<e.length-2&&!(p<e[v+1]);v++);const j=l0(e[v],e[v+1],p);return f[v](j)};return n?p=>h(jl(e[0],e[s-1],p)):h}function CW(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=l0(0,t,r);e.push(hr(n,1,a))}}function TW(e){const t=[0];return CW(t,e.length-1),t}function OW(e,t){return e.map(n=>n*t)}function MW(e,t){return e.map(()=>t||Kk).splice(0,e.length-1)}function Zm({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=VY(r)?r.map(E3):E3(r),s={done:!1,value:t[0]},c=OW(n&&n.length===t.length?n:TW(t),e),f=_W(c,t,{ease:Array.isArray(a)?a:MW(t,a)});return{calculatedDuration:e,next:m=>(s.value=f(m),s.done=m>=e,s)}}const DW=e=>e!==null;function FA(e,{repeat:t,repeatType:n="loop"},r,a=1){const s=e.filter(DW),f=a<0||t&&n!=="loop"&&t%2===1?0:s.length-1;return!f||r===void 0?s[f]:r}const RW={decay:TS,inertia:TS,tween:Zm,keyframes:Zm,spring:Ex};function l8(e){typeof e.type=="string"&&(e.type=RW[e.type])}class UA{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const IW=e=>e/100;class zA extends UA{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,a;const{motionValue:n}=this.options;n&&n.updatedAt!==vi.now()&&this.tick(vi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(r=this.options).onStop)==null||a.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;l8(t);const{type:n=Zm,repeat:r=0,repeatDelay:a=0,repeatType:s,velocity:c=0}=t;let{keyframes:f}=t;const m=n||Zm;m!==Zm&&typeof f[0]!="number"&&(this.mixKeyframes=U0(IW,i8(f[0],f[1])),f=[0,100]);const h=m({...t,keyframes:f});s==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...f].reverse(),velocity:-c})),h.calculatedDuration===null&&(h.calculatedDuration=BA(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=h}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:a,mixKeyframes:s,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:p,repeat:v,repeatType:j,repeatDelay:E,type:O,onUpdate:T,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const D=this.currentTime-h*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?D<0:D>a;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let I=this.currentTime,U=r;if(v){const $=Math.min(this.currentTime,a)/f;let z=Math.floor($),H=$%1;!H&&$>=1&&(H=1),H===1&&z--,z=Math.min(z,v+1),!!(z%2)&&(j==="reverse"?(H=1-H,E&&(H-=E/f)):j==="mirror"&&(U=c)),I=jl(0,1,H)*f}const F=P?{done:!1,value:p[0]}:U.next(I);s&&(F.value=s(F.value));let{done:L}=F;!P&&m!==null&&(L=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return B&&O!==TS&&(F.value=FA(p,this.options,_,this.speed)),T&&T(F.value),B&&this.finish(),F}then(t,n){return this.finished.then(t,n)}get duration(){return Co(this.calculatedDuration)}get time(){return Co(this.currentTime)}set time(t){var n;t=_o(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(vi.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Co(this.currentTime))}play(){var a,s;if(this.isStopped)return;const{driver:t=xW,startTime:n}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(s=(a=this.options).onPlay)==null||s.call(a);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(vi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function PW(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Yu=e=>e*180/Math.PI,OS=e=>{const t=Yu(Math.atan2(e[1],e[0]));return MS(t)},kW={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:OS,rotateZ:OS,skewX:e=>Yu(Math.atan(e[1])),skewY:e=>Yu(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},MS=e=>(e=e%360,e<0&&(e+=360),e),D3=OS,R3=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),I3=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),LW={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:R3,scaleY:I3,scale:e=>(R3(e)+I3(e))/2,rotateX:e=>MS(Yu(Math.atan2(e[6],e[5]))),rotateY:e=>MS(Yu(Math.atan2(-e[2],e[0]))),rotateZ:D3,rotate:D3,skewX:e=>Yu(Math.atan(e[4])),skewY:e=>Yu(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function DS(e){return e.includes("scale")?1:0}function RS(e,t){if(!e||e==="none")return DS(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=LW,a=n;else{const f=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=kW,a=f}if(!a)return DS(t);const s=r[t],c=a[1].split(",").map(FW);return typeof s=="function"?s(c):c[s]}const BW=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return RS(n,t)};function FW(e){return parseFloat(e.trim())}const xh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vh=new Set(xh),P3=e=>e===ph||e===Ct,UW=new Set(["x","y","z"]),zW=xh.filter(e=>!UW.has(e));function VW(e){const t=[];return zW.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Ju={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>RS(t,"x"),y:(e,{transform:t})=>RS(t,"y")};Ju.translateX=Ju.x;Ju.translateY=Ju.y;const ed=new Set;let IS=!1,PS=!1,kS=!1;function c8(){if(PS){const e=Array.from(ed).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const a=VW(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([s,c])=>{var f;(f=r.getValue(s))==null||f.set(c)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}PS=!1,IS=!1,ed.forEach(e=>e.complete(kS)),ed.clear()}function u8(){ed.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(PS=!0)})}function $W(){kS=!0,u8(),c8(),kS=!1}class VA{constructor(t,n,r,a,s,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=s,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ed.add(this),IS||(IS=!0,tr.read(u8),tr.resolveKeyframes(c8))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;if(t[0]===null){const s=a==null?void 0:a.get(),c=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const f=r.readValue(n,c);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=c),a&&s===void 0&&a.set(t[0])}PW(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ed.delete(this)}cancel(){this.state==="scheduled"&&(ed.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const HW=e=>e.startsWith("--");function qW(e,t,n){HW(t)?e.style.setProperty(t,n):e.style[t]=n}const YW=TA(()=>window.ScrollTimeline!==void 0),WW={};function GW(e,t){const n=TA(e);return()=>WW[t]??n()}const d8=GW(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),$m=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,k3={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$m([0,.65,.55,1]),circOut:$m([.55,0,1,.45]),backIn:$m([.31,.01,.66,-.59]),backOut:$m([.33,1.53,.69,.99])};function f8(e,t){if(e)return typeof e=="function"?d8()?s8(e,t):"ease-out":Xk(e)?$m(e):Array.isArray(e)?e.map(n=>f8(n,t)||k3.easeOut):k3[e]}function KW(e,t,n,{delay:r=0,duration:a=300,repeat:s=0,repeatType:c="loop",ease:f="easeOut",times:m}={},h=void 0){const p={[t]:n};m&&(p.offset=m);const v=f8(f,a);Array.isArray(v)&&(p.easing=v);const j={delay:r,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:s+1,direction:c==="reverse"?"alternate":"normal"};return h&&(j.pseudoElement=h),e.animate(p,j)}function h8(e){return typeof e=="function"&&"applyToOptions"in e}function XW({type:e,...t}){return h8(e)&&d8()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class QW extends UA{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:a,pseudoElement:s,allowFlatten:c=!1,finalKeyframe:f,onComplete:m}=t;this.isPseudoElement=!!s,this.allowFlatten=c,this.options=t,CA(typeof t.type!="string");const h=XW(t);this.animation=KW(n,r,a,h,s),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const p=FA(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(p):qW(n,r,p),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Co(Number(t))}get time(){return Co(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=_o(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&YW()?(this.animation.timeline=t,gs):n(this)}}const m8={anticipate:Yk,backInOut:qk,circInOut:Gk};function ZW(e){return e in m8}function JW(e){typeof e.ease=="string"&&ZW(e.ease)&&(e.ease=m8[e.ease])}const L3=10;class eG extends QW{constructor(t){JW(t),l8(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:a,element:s,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const f=new zA({...c,autoplay:!1}),m=_o(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-L3).value,f.sample(m).value,L3),f.stop()}}const B3=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Bc.test(e)||e==="0")&&!e.startsWith("url("));function tG(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function nG(e,t,n,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],c=B3(a,t),f=B3(s,t);return!c||!f?!1:tG(e)||(n==="spring"||h8(n))&&r}function LS(e){e.duration=0,e.type}const rG=new Set(["opacity","clipPath","filter","transform"]),aG=TA(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function iG(e){var p;const{motionValue:t,name:n,repeatDelay:r,repeatType:a,damping:s,type:c}=e;if(!(((p=t==null?void 0:t.owner)==null?void 0:p.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:h}=t.owner.getProps();return aG()&&n&&rG.has(n)&&(n!=="transform"||!h)&&!m&&!r&&a!=="mirror"&&s!==0&&c!=="inertia"}const sG=40;class oG extends UA{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:c="loop",keyframes:f,name:m,motionValue:h,element:p,...v}){var O;super(),this.stop=()=>{var T,_;this._animation&&(this._animation.stop(),(T=this.stopTimeline)==null||T.call(this)),(_=this.keyframeResolver)==null||_.cancel()},this.createdAt=vi.now();const j={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:s,repeatType:c,name:m,motionValue:h,element:p,...v},E=(p==null?void 0:p.KeyframeResolver)||VA;this.keyframeResolver=new E(f,(T,_,D)=>this.onKeyframesResolved(T,_,j,!D),m,h,p),(O=this.keyframeResolver)==null||O.scheduleResolve()}onKeyframesResolved(t,n,r,a){this.keyframeResolver=void 0;const{name:s,type:c,velocity:f,delay:m,isHandoff:h,onUpdate:p}=r;this.resolvedAt=vi.now(),nG(t,s,c,f)||((Al.instantAnimations||!m)&&(p==null||p(FA(t,r,n))),t[0]=t[t.length-1],LS(r),r.repeat=0);const j={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>sG?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},E=!h&&iG(j)?new eG({...j,element:j.motionValue.owner.current}):new zA(j);E.finished.then(()=>this.notifyFinished()).catch(gs),this.pendingTimeline&&(this.stopTimeline=E.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=E}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),$W()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const lG=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function cG(e){const t=lG.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}function g8(e,t,n=1){const[r,a]=cG(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const c=s.trim();return Lk(c)?parseFloat(c):c}return IA(a)?g8(a,t,n+1):a}function $A(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const p8=new Set(["width","height","top","left","right","bottom",...xh]),uG={test:e=>e==="auto",parse:e=>e},x8=e=>t=>t.test(e),v8=[ph,Ct,To,Oc,tW,eW,uG],F3=e=>v8.find(x8(e));function dG(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Fk(e):!0}const fG=new Set(["brightness","contrast","saturate","opacity"]);function hG(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(PA)||[];if(!r)return e;const a=n.replace(r,"");let s=fG.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+a+")"}const mG=/\b([a-z-]*)\(.*?\)/gu,BS={...Bc,getAnimatableNone:e=>{const t=e.match(mG);return t?t.map(hG).join(" "):e}},U3={...ph,transform:Math.round},gG={rotate:Oc,rotateX:Oc,rotateY:Oc,rotateZ:Oc,scale:Dp,scaleX:Dp,scaleY:Dp,scaleZ:Dp,skew:Oc,skewX:Oc,skewY:Oc,distance:Ct,translateX:Ct,translateY:Ct,translateZ:Ct,x:Ct,y:Ct,z:Ct,perspective:Ct,transformPerspective:Ct,opacity:c0,originX:N3,originY:N3,originZ:Ct},HA={borderWidth:Ct,borderTopWidth:Ct,borderRightWidth:Ct,borderBottomWidth:Ct,borderLeftWidth:Ct,borderRadius:Ct,radius:Ct,borderTopLeftRadius:Ct,borderTopRightRadius:Ct,borderBottomRightRadius:Ct,borderBottomLeftRadius:Ct,width:Ct,maxWidth:Ct,height:Ct,maxHeight:Ct,top:Ct,right:Ct,bottom:Ct,left:Ct,padding:Ct,paddingTop:Ct,paddingRight:Ct,paddingBottom:Ct,paddingLeft:Ct,margin:Ct,marginTop:Ct,marginRight:Ct,marginBottom:Ct,marginLeft:Ct,backgroundPositionX:Ct,backgroundPositionY:Ct,...gG,zIndex:U3,fillOpacity:c0,strokeOpacity:c0,numOctaves:U3},pG={...HA,color:Gr,backgroundColor:Gr,outlineColor:Gr,fill:Gr,stroke:Gr,borderColor:Gr,borderTopColor:Gr,borderRightColor:Gr,borderBottomColor:Gr,borderLeftColor:Gr,filter:BS,WebkitFilter:BS},y8=e=>pG[e];function b8(e,t){let n=y8(e);return n!==BS&&(n=Bc),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const xG=new Set(["auto","none","0"]);function vG(e,t,n){let r=0,a;for(;r<e.length&&!a;){const s=e[r];typeof s=="string"&&!xG.has(s)&&u0(s).values.length&&(a=e[r]),r++}if(a&&n)for(const s of t)e[s]=b8(n,a)}class yG extends VA{constructor(t,n,r,a,s){super(t,n,r,a,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let h=t[m];if(typeof h=="string"&&(h=h.trim(),IA(h))){const p=g8(h,n.current);p!==void 0&&(t[m]=p),m===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!p8.has(r)||t.length!==2)return;const[a,s]=t,c=F3(a),f=F3(s);if(c!==f)if(P3(c)&&P3(f))for(let m=0;m<t.length;m++){const h=t[m];typeof h=="string"&&(t[m]=parseFloat(h))}else Ju[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)(t[a]===null||dG(t[a]))&&r.push(a);r.length&&vG(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ju[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){var f;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const s=r.length-1,c=r[s];r[s]=Ju[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([m,h])=>{t.getValue(m).set(h)}),this.resolveNoneKeyframes()}}function bG(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const a=(n==null?void 0:n[e])??r.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const w8=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function S8(e){return Bk(e)&&"offsetHeight"in e}const z3=30,wG=e=>!isNaN(parseFloat(e));class SG{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const a=vi.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=vi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=wG(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new OA);const r=this.events[t].add(n);return t==="change"?()=>{r(),tr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=vi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>z3)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,z3);return Uk(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Kf(e,t){return new SG(e,t)}const{schedule:qA}=Qk(queueMicrotask,!1),Ls={x:!1,y:!1};function j8(){return Ls.x||Ls.y}function jG(e){return e==="x"||e==="y"?Ls[e]?null:(Ls[e]=!0,()=>{Ls[e]=!1}):Ls.x||Ls.y?null:(Ls.x=Ls.y=!0,()=>{Ls.x=Ls.y=!1})}function A8(e,t){const n=bG(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[n,a,()=>r.abort()]}function V3(e){return!(e.pointerType==="touch"||j8())}function AG(e,t,n={}){const[r,a,s]=A8(e,n),c=f=>{if(!V3(f))return;const{target:m}=f,h=t(m,f);if(typeof h!="function"||!m)return;const p=v=>{V3(v)&&(h(v),m.removeEventListener("pointerleave",p))};m.addEventListener("pointerleave",p,a)};return r.forEach(f=>{f.addEventListener("pointerenter",c,a)}),s}const E8=(e,t)=>t?e===t?!0:E8(e,t.parentElement):!1,YA=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,EG=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function NG(e){return EG.has(e.tagName)||e.tabIndex!==-1}const ux=new WeakSet;function $3(e){return t=>{t.key==="Enter"&&e(t)}}function sw(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const _G=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=$3(()=>{if(ux.has(n))return;sw(n,"down");const a=$3(()=>{sw(n,"up")}),s=()=>sw(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function H3(e){return YA(e)&&!j8()}function CG(e,t,n={}){const[r,a,s]=A8(e,n),c=f=>{const m=f.currentTarget;if(!H3(f))return;ux.add(m);const h=t(m,f),p=(E,O)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",j),ux.has(m)&&ux.delete(m),H3(E)&&typeof h=="function"&&h(E,{success:O})},v=E=>{p(E,m===window||m===document||n.useGlobalTarget||E8(m,E.target))},j=E=>{p(E,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",j,a)};return r.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),S8(f)&&(f.addEventListener("focus",h=>_G(h,a)),!NG(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),s}function N8(e){return Bk(e)&&"ownerSVGElement"in e}function TG(e){return N8(e)&&e.tagName==="svg"}const Wa=e=>!!(e&&e.getVelocity),OG=[...v8,Gr,Bc],MG=e=>OG.find(x8(e)),WA=A.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class DG extends A.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=S8(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=a-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function RG({children:e,isPresent:t,anchorX:n,root:r}){const a=A.useId(),s=A.useRef(null),c=A.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=A.useContext(WA);return A.useInsertionEffect(()=>{const{width:m,height:h,top:p,left:v,right:j}=c.current;if(t||!s.current||!m||!h)return;const E=n==="left"?`left: ${v}`:`right: ${j}`;s.current.dataset.motionPopId=a;const O=document.createElement("style");f&&(O.nonce=f);const T=r??document.head;return T.appendChild(O),O.sheet&&O.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${h}px !important;
            ${E}px !important;
            top: ${p}px !important;
          }
        `),()=>{T.contains(O)&&T.removeChild(O)}},[t]),i.jsx(DG,{isPresent:t,childRef:s,sizeRef:c,children:A.cloneElement(e,{ref:s})})}const IG=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:s,mode:c,anchorX:f,root:m})=>{const h=AA(PG),p=A.useId();let v=!0,j=A.useMemo(()=>(v=!1,{id:p,initial:t,isPresent:n,custom:a,onExitComplete:E=>{h.set(E,!0);for(const O of h.values())if(!O)return;r&&r()},register:E=>(h.set(E,!1),()=>h.delete(E))}),[n,h,r]);return s&&v&&(j={...j}),A.useMemo(()=>{h.forEach((E,O)=>h.set(O,!1))},[n]),A.useEffect(()=>{!n&&!h.size&&r&&r()},[n]),c==="popLayout"&&(e=i.jsx(RG,{isPresent:n,anchorX:f,root:m,children:e})),i.jsx(O1.Provider,{value:j,children:e})};function PG(){return new Map}function _8(e=!0){const t=A.useContext(O1);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,s=A.useId();A.useEffect(()=>{if(e)return a(s)},[e]);const c=A.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,c]:[!0]}const Rp=e=>e.key||"";function q3(e){const t=[];return A.Children.forEach(e,n=>{A.isValidElement(n)&&t.push(n)}),t}const kG=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:s="sync",propagate:c=!1,anchorX:f="left",root:m})=>{const[h,p]=_8(c),v=A.useMemo(()=>q3(e),[e]),j=c&&!h?[]:v.map(Rp),E=A.useRef(!0),O=A.useRef(v),T=AA(()=>new Map),[_,D]=A.useState(v),[P,I]=A.useState(v);kk(()=>{E.current=!1,O.current=v;for(let L=0;L<P.length;L++){const B=Rp(P[L]);j.includes(B)?T.delete(B):T.get(B)!==!0&&T.set(B,!1)}},[P,j.length,j.join("-")]);const U=[];if(v!==_){let L=[...v];for(let B=0;B<P.length;B++){const $=P[B],z=Rp($);j.includes(z)||(L.splice(B,0,$),U.push($))}return s==="wait"&&U.length&&(L=U),I(q3(L)),D(v),null}const{forceRender:F}=A.useContext(jA);return i.jsx(i.Fragment,{children:P.map(L=>{const B=Rp(L),$=c&&!h?!1:v===P||j.includes(B),z=()=>{if(T.has(B))T.set(B,!0);else return;let H=!0;T.forEach(X=>{X||(H=!1)}),H&&(F==null||F(),I(O.current),c&&(p==null||p()),r&&r())};return i.jsx(IG,{isPresent:$,initial:!E.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:s,root:m,onExitComplete:$?void 0:z,anchorX:f,children:L},B)})})},C8=A.createContext({strict:!1}),Y3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xf={};for(const e in Y3)Xf[e]={isEnabled:t=>Y3[e].some(n=>!!t[n])};function LG(e){for(const t in e)Xf[t]={...Xf[t],...e[t]}}const BG=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Nx(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||BG.has(e)}let T8=e=>!Nx(e);function FG(e){typeof e=="function"&&(T8=t=>t.startsWith("on")?!Nx(t):e(t))}try{FG(require("@emotion/is-prop-valid").default)}catch{}function UG(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(T8(a)||n===!0&&Nx(a)||!t&&!Nx(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}const M1=A.createContext({});function D1(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function d0(e){return typeof e=="string"||Array.isArray(e)}const GA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],KA=["initial",...GA];function R1(e){return D1(e.animate)||KA.some(t=>d0(e[t]))}function O8(e){return!!(R1(e)||e.variants)}function zG(e,t){if(R1(e)){const{initial:n,animate:r}=e;return{initial:n===!1||d0(n)?n:void 0,animate:d0(r)?r:void 0}}return e.inherit!==!1?t:{}}function VG(e){const{initial:t,animate:n}=zG(e,A.useContext(M1));return A.useMemo(()=>({initial:t,animate:n}),[W3(t),W3(n)])}function W3(e){return Array.isArray(e)?e.join(" "):e}const f0={};function $G(e){for(const t in e)f0[t]=e[t],RA(t)&&(f0[t].isCSSVariable=!0)}function M8(e,{layout:t,layoutId:n}){return vh.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!f0[e]||e==="opacity")}const HG={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qG=xh.length;function YG(e,t,n){let r="",a=!0;for(let s=0;s<qG;s++){const c=xh[s],f=e[c];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(c.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const h=w8(f,HA[c]);if(!m){a=!1;const p=HG[c]||c;r+=`${p}(${h}) `}n&&(t[c]=h)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function XA(e,t,n){const{style:r,vars:a,transformOrigin:s}=e;let c=!1,f=!1;for(const m in t){const h=t[m];if(vh.has(m)){c=!0;continue}else if(RA(m)){a[m]=h;continue}else{const p=w8(h,HA[m]);m.startsWith("origin")?(f=!0,s[m]=p):r[m]=p}}if(t.transform||(c||n?r.transform=YG(t,e.transform,n):r.transform&&(r.transform="none")),f){const{originX:m="50%",originY:h="50%",originZ:p=0}=s;r.transformOrigin=`${m} ${h} ${p}`}}const QA=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function D8(e,t,n){for(const r in t)!Wa(t[r])&&!M8(r,n)&&(e[r]=t[r])}function WG({transformTemplate:e},t){return A.useMemo(()=>{const n=QA();return XA(n,t,e),Object.assign({},n.vars,n.style)},[t])}function GG(e,t){const n=e.style||{},r={};return D8(r,n,e),Object.assign(r,WG(e,t)),r}function KG(e,t){const n={},r=GG(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const XG={offset:"stroke-dashoffset",array:"stroke-dasharray"},QG={offset:"strokeDashoffset",array:"strokeDasharray"};function ZG(e,t,n=1,r=0,a=!0){e.pathLength=1;const s=a?XG:QG;e[s.offset]=Ct.transform(-r);const c=Ct.transform(t),f=Ct.transform(n);e[s.array]=`${c} ${f}`}function R8(e,{attrX:t,attrY:n,attrScale:r,pathLength:a,pathSpacing:s=1,pathOffset:c=0,...f},m,h,p){if(XA(e,f,h),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:j}=e;v.transform&&(j.transform=v.transform,delete v.transform),(j.transform||v.transformOrigin)&&(j.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),j.transform&&(j.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete v.transformBox),t!==void 0&&(v.x=t),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),a!==void 0&&ZG(v,a,s,c,!1)}const I8=()=>({...QA(),attrs:{}}),P8=e=>typeof e=="string"&&e.toLowerCase()==="svg";function JG(e,t,n,r){const a=A.useMemo(()=>{const s=I8();return R8(s,t,P8(r),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};D8(s,e.style,e),a.style={...s,...a.style}}return a}const eK=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ZA(e){return typeof e!="string"||e.includes("-")?!1:!!(eK.indexOf(e)>-1||/[A-Z]/u.test(e))}function tK(e,t,n,{latestValues:r},a,s=!1){const f=(ZA(e)?JG:KG)(t,r,a,e),m=UG(t,typeof e=="string",s),h=e!==A.Fragment?{...m,...f,ref:n}:{},{children:p}=t,v=A.useMemo(()=>Wa(p)?p.get():p,[p]);return A.createElement(e,{...h,children:v})}function G3(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function JA(e,t,n,r){if(typeof t=="function"){const[a,s]=G3(r);t=t(n!==void 0?n:e.custom,a,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,s]=G3(r);t=t(n!==void 0?n:e.custom,a,s)}return t}function dx(e){return Wa(e)?e.get():e}function nK({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,a){return{latestValues:rK(n,r,a,e),renderState:t()}}function rK(e,t,n,r){const a={},s=r(e,{});for(const j in s)a[j]=dx(s[j]);let{initial:c,animate:f}=e;const m=R1(e),h=O8(e);t&&h&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),f===void 0&&(f=t.animate));let p=n?n.initial===!1:!1;p=p||c===!1;const v=p?f:c;if(v&&typeof v!="boolean"&&!D1(v)){const j=Array.isArray(v)?v:[v];for(let E=0;E<j.length;E++){const O=JA(e,j[E]);if(O){const{transitionEnd:T,transition:_,...D}=O;for(const P in D){let I=D[P];if(Array.isArray(I)){const U=p?I.length-1:0;I=I[U]}I!==null&&(a[P]=I)}for(const P in T)a[P]=T[P]}}}return a}const k8=e=>(t,n)=>{const r=A.useContext(M1),a=A.useContext(O1),s=()=>nK(e,t,r,a);return n?s():AA(s)};function eE(e,t,n){var s;const{style:r}=e,a={};for(const c in r)(Wa(r[c])||t.style&&Wa(t.style[c])||M8(c,e)||((s=n==null?void 0:n.getValue(c))==null?void 0:s.liveStyle)!==void 0)&&(a[c]=r[c]);return a}const aK=k8({scrapeMotionValuesFromProps:eE,createRenderState:QA});function L8(e,t,n){const r=eE(e,t,n);for(const a in e)if(Wa(e[a])||Wa(t[a])){const s=xh.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[s]=e[a]}return r}const iK=k8({scrapeMotionValuesFromProps:L8,createRenderState:I8}),sK=Symbol.for("motionComponentSymbol");function If(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function oK(e,t,n){return A.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):If(n)&&(n.current=r))},[t])}const tE=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),lK="framerAppearId",B8="data-"+tE(lK),F8=A.createContext({});function cK(e,t,n,r,a){var T,_;const{visualElement:s}=A.useContext(M1),c=A.useContext(C8),f=A.useContext(O1),m=A.useContext(WA).reducedMotion,h=A.useRef(null);r=r||c.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:s,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const p=h.current,v=A.useContext(F8);p&&!p.projection&&a&&(p.type==="html"||p.type==="svg")&&uK(h.current,n,a,v);const j=A.useRef(!1);A.useInsertionEffect(()=>{p&&j.current&&p.update(n,f)});const E=n[B8],O=A.useRef(!!E&&!((T=window.MotionHandoffIsComplete)!=null&&T.call(window,E))&&((_=window.MotionHasOptimisedAnimation)==null?void 0:_.call(window,E)));return kk(()=>{p&&(j.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),O.current&&p.animationState&&p.animationState.animateChanges())}),A.useEffect(()=>{p&&(!O.current&&p.animationState&&p.animationState.animateChanges(),O.current&&(queueMicrotask(()=>{var D;(D=window.MotionHandoffMarkAsComplete)==null||D.call(window,E)}),O.current=!1),p.enteringChildren=void 0)}),p}function uK(e,t,n,r){const{layoutId:a,layout:s,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:h,layoutCrossfade:p}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:U8(e.parent)),e.projection.setOptions({layoutId:a,layout:s,alwaysMeasureLayout:!!c||f&&If(f),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:m,layoutRoot:h})}function U8(e){if(e)return e.options.allowProjection!==!1?e.projection:U8(e.parent)}function ow(e,{forwardMotionProps:t=!1}={},n,r){n&&LG(n);const a=ZA(e)?iK:aK;function s(f,m){let h;const p={...A.useContext(WA),...f,layoutId:dK(f)},{isStatic:v}=p,j=VG(f),E=a(f,v);if(!v&&EA){fK();const O=hK(p);h=O.MeasureLayout,j.visualElement=cK(e,E,p,r,O.ProjectionNode)}return i.jsxs(M1.Provider,{value:j,children:[h&&j.visualElement?i.jsx(h,{visualElement:j.visualElement,...p}):null,tK(e,f,oK(E,j.visualElement,m),E,v,t)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=A.forwardRef(s);return c[sK]=e,c}function dK({layoutId:e}){const t=A.useContext(jA).id;return t&&e!==void 0?t+"-"+e:e}function fK(e,t){A.useContext(C8).strict}function hK(e){const{drag:t,layout:n}=Xf;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function mK(e,t){if(typeof Proxy>"u")return ow;const n=new Map,r=(s,c)=>ow(s,c,e,t),a=(s,c)=>r(s,c);return new Proxy(a,{get:(s,c)=>c==="create"?r:(n.has(c)||n.set(c,ow(c,void 0,e,t)),n.get(c))})}function z8({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function gK({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function pK(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function lw(e){return e===void 0||e===1}function FS({scale:e,scaleX:t,scaleY:n}){return!lw(e)||!lw(t)||!lw(n)}function Fu(e){return FS(e)||V8(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function V8(e){return K3(e.x)||K3(e.y)}function K3(e){return e&&e!=="0%"}function _x(e,t,n){const r=e-n,a=t*r;return n+a}function X3(e,t,n,r,a){return a!==void 0&&(e=_x(e,a,r)),_x(e,n,r)+t}function US(e,t=0,n=1,r,a){e.min=X3(e.min,t,n,r,a),e.max=X3(e.max,t,n,r,a)}function $8(e,{x:t,y:n}){US(e.x,t.translate,t.scale,t.originPoint),US(e.y,n.translate,n.scale,n.originPoint)}const Q3=.999999999999,Z3=1.0000000000001;function xK(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let s,c;for(let f=0;f<a;f++){s=n[f],c=s.projectionDelta;const{visualElement:m}=s.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&kf(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,$8(e,c)),r&&Fu(s.latestValues)&&kf(e,s.latestValues))}t.x<Z3&&t.x>Q3&&(t.x=1),t.y<Z3&&t.y>Q3&&(t.y=1)}function Pf(e,t){e.min=e.min+t,e.max=e.max+t}function J3(e,t,n,r,a=.5){const s=hr(e.min,e.max,a);US(e,t,n,s,r)}function kf(e,t){J3(e.x,t.x,t.scaleX,t.scale,t.originX),J3(e.y,t.y,t.scaleY,t.scale,t.originY)}function H8(e,t){return z8(pK(e.getBoundingClientRect(),t))}function vK(e,t,n){const r=H8(e,n),{scroll:a}=t;return a&&(Pf(r.x,a.offset.x),Pf(r.y,a.offset.y)),r}const eO=()=>({translate:0,scale:1,origin:0,originPoint:0}),Lf=()=>({x:eO(),y:eO()}),tO=()=>({min:0,max:0}),Dr=()=>({x:tO(),y:tO()}),zS={current:null},q8={current:!1};function yK(){if(q8.current=!0,!!EA)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>zS.current=e.matches;e.addEventListener("change",t),t()}else zS.current=!1}const bK=new WeakMap;function wK(e,t,n){for(const r in t){const a=t[r],s=n[r];if(Wa(a))e.addValue(r,a);else if(Wa(s))e.addValue(r,Kf(a,{owner:e}));else if(s!==a)if(e.hasValue(r)){const c=e.getValue(r);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(r);e.addValue(r,Kf(c!==void 0?c:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const nO=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class SK{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:s,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=VA,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const j=vi.now();this.renderScheduledAt<j&&(this.renderScheduledAt=j,tr.render(this.render,!1,!0))};const{latestValues:m,renderState:h}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=h,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!s,this.isControllingVariants=R1(n),this.isVariantNode=O8(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const j in v){const E=v[j];m[j]!==void 0&&Wa(E)&&E.set(m[j])}}mount(t){var n;this.current=t,bK.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),q8.current||yK(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zS.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Lc(this.notifyUpdate),Lc(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=vh.has(t);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&tr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Xf){const n=Xf[t];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Dr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<nO.length;r++){const a=nO[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const s="on"+a,c=t[s];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=wK(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Kf(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Lk(r)||Fk(r))?r=parseFloat(r):!MG(r)&&Bc.test(n)&&(r=b8(t,n)),this.setBaseTarget(t,Wa(r)?r.get():r)),Wa(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const c=JA(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);c&&(r=c[t])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Wa(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new OA),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){qA.render(this.render)}}class Y8 extends SK{constructor(){super(...arguments),this.KeyframeResolver=yG}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Wa(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function W8(e,{style:t,vars:n},r,a){const s=e.style;let c;for(c in t)s[c]=t[c];a==null||a.applyProjectionStyles(s,r);for(c in n)s.setProperty(c,n[c])}function jK(e){return window.getComputedStyle(e)}class AK extends Y8{constructor(){super(...arguments),this.type="html",this.renderInstance=W8}readValueFromInstance(t,n){var r;if(vh.has(n))return(r=this.projection)!=null&&r.isProjecting?DS(n):BW(t,n);{const a=jK(t),s=(RA(n)?a.getPropertyValue(n):a[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return H8(t,n)}build(t,n,r){XA(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return eE(t,n,r)}}const G8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function EK(e,t,n,r){W8(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(G8.has(a)?a:tE(a),t.attrs[a])}class NK extends Y8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Dr}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(vh.has(n)){const r=y8(n);return r&&r.default||0}return n=G8.has(n)?n:tE(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return L8(t,n,r)}build(t,n,r){R8(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,a){EK(t,n,r,a)}mount(t){this.isSVGTag=P8(t.tagName),super.mount(t)}}const _K=(e,t)=>ZA(e)?new NK(t):new AK(t,{allowProjection:e!==A.Fragment});function zf(e,t,n){const r=e.getProps();return JA(r,t,n!==void 0?n:r.custom,e)}const VS=e=>Array.isArray(e);function CK(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Kf(n))}function TK(e){return VS(e)?e[e.length-1]||0:e}function OK(e,t){const n=zf(e,t);let{transitionEnd:r={},transition:a={},...s}=n||{};s={...s,...r};for(const c in s){const f=TK(s[c]);CK(e,c,f)}}function MK(e){return!!(Wa(e)&&e.add)}function $S(e,t){const n=e.getValue("willChange");if(MK(n))return n.add(t);if(!n&&Al.WillChange){const r=new Al.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function K8(e){return e.props[B8]}const DK=e=>e!==null;function RK(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter(DK),s=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[s]}const IK={type:"spring",stiffness:500,damping:25,restSpeed:10},PK=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),kK={type:"keyframes",duration:.8},LK={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},BK=(e,{keyframes:t})=>t.length>2?kK:vh.has(e)?e.startsWith("scale")?PK(t[1]):IK:LK;function FK({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:s,repeatType:c,repeatDelay:f,from:m,elapsed:h,...p}){return!!Object.keys(p).length}const nE=(e,t,n,r={},a,s)=>c=>{const f=$A(r,e)||{},m=f.delay||r.delay||0;let{elapsed:h=0}=r;h=h-_o(m);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-h,onUpdate:j=>{t.set(j),f.onUpdate&&f.onUpdate(j)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:e,motionValue:t,element:s?void 0:a};FK(f)||Object.assign(p,BK(e,p)),p.duration&&(p.duration=_o(p.duration)),p.repeatDelay&&(p.repeatDelay=_o(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let v=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(LS(p),p.delay===0&&(v=!0)),(Al.instantAnimations||Al.skipAnimations)&&(v=!0,LS(p),p.delay=0),p.allowFlatten=!f.type&&!f.ease,v&&!s&&t.get()!==void 0){const j=RK(p.keyframes,f);if(j!==void 0){tr.update(()=>{p.onUpdate(j),p.onComplete()});return}}return f.isSync?new zA(p):new oG(p)};function UK({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function X8(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:c,...f}=t;r&&(s=r);const m=[],h=a&&e.animationState&&e.animationState.getState()[a];for(const p in f){const v=e.getValue(p,e.latestValues[p]??null),j=f[p];if(j===void 0||h&&UK(h,p))continue;const E={delay:n,...$A(s||{},p)},O=v.get();if(O!==void 0&&!v.isAnimating&&!Array.isArray(j)&&j===O&&!E.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const D=K8(e);if(D){const P=window.MotionHandoffAnimation(D,p,tr);P!==null&&(E.startTime=P,T=!0)}}$S(e,p),v.start(nE(p,v,j,e.shouldReduceMotion&&p8.has(p)?{type:!1}:E,e,T));const _=v.animation;_&&m.push(_)}return c&&Promise.all(m).then(()=>{tr.update(()=>{c&&OK(e,c)})}),m}function Q8(e,t,n,r=0,a=1){const s=Array.from(e).sort((h,p)=>h.sortNodePosition(p)).indexOf(t),c=e.size,f=(c-1)*r;return typeof n=="function"?n(s,c):a===1?s*r:f-s*r}function HS(e,t,n={}){var m;const r=zf(e,t,n.type==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const s=r?()=>Promise.all(X8(e,r,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:v,staggerDirection:j}=a;return zK(e,t,h,p,v,j,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[h,p]=f==="beforeChildren"?[s,c]:[c,s];return h().then(()=>p())}else return Promise.all([s(),c(n.delay)])}function zK(e,t,n=0,r=0,a=0,s=1,c){const f=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),f.push(HS(m,t,{...c,delay:n+(typeof r=="function"?0:r)+Q8(e.variantChildren,m,r,a,s)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(f)}function VK(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(s=>HS(e,s,n));r=Promise.all(a)}else if(typeof t=="string")r=HS(e,t,n);else{const a=typeof t=="function"?zf(e,t,n.custom):t;r=Promise.all(X8(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function Z8(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const $K=KA.length;function J8(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?J8(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<$K;n++){const r=KA[n],a=e.props[r];(d0(a)||a===!1)&&(t[r]=a)}return t}const HK=[...GA].reverse(),qK=GA.length;function YK(e){return t=>Promise.all(t.map(({animation:n,options:r})=>VK(e,n,r)))}function WK(e){let t=YK(e),n=rO(),r=!0;const a=m=>(h,p)=>{var j;const v=zf(e,p,m==="exit"?(j=e.presenceContext)==null?void 0:j.custom:void 0);if(v){const{transition:E,transitionEnd:O,...T}=v;h={...h,...T,...O}}return h};function s(m){t=m(e)}function c(m){const{props:h}=e,p=J8(e.parent)||{},v=[],j=new Set;let E={},O=1/0;for(let _=0;_<qK;_++){const D=HK[_],P=n[D],I=h[D]!==void 0?h[D]:p[D],U=d0(I),F=D===m?P.isActive:null;F===!1&&(O=_);let L=I===p[D]&&I!==h[D]&&U;if(L&&r&&e.manuallyAnimateOnMount&&(L=!1),P.protectedKeys={...E},!P.isActive&&F===null||!I&&!P.prevProp||D1(I)||typeof I=="boolean")continue;const B=GK(P.prevProp,I);let $=B||D===m&&P.isActive&&!L&&U||_>O&&U,z=!1;const H=Array.isArray(I)?I:[I];let X=H.reduce(a(D),{});F===!1&&(X={});const{prevResolvedValues:K={}}=P,ee={...K,...X},ue=Q=>{$=!0,j.has(Q)&&(z=!0,j.delete(Q)),P.needsAnimating[Q]=!0;const ae=e.getValue(Q);ae&&(ae.liveStyle=!1)};for(const Q in ee){const ae=X[Q],he=K[Q];if(E.hasOwnProperty(Q))continue;let te=!1;VS(ae)&&VS(he)?te=!Z8(ae,he):te=ae!==he,te?ae!=null?ue(Q):j.add(Q):ae!==void 0&&j.has(Q)?ue(Q):P.protectedKeys[Q]=!0}P.prevProp=I,P.prevResolvedValues=X,P.isActive&&(E={...E,...X}),r&&e.blockInitialAnimation&&($=!1);const ne=L&&B;$&&(!ne||z)&&v.push(...H.map(Q=>{const ae={type:D};if(typeof Q=="string"&&r&&!ne&&e.manuallyAnimateOnMount&&e.parent){const{parent:he}=e,te=zf(he,Q);if(he.enteringChildren&&te){const{delayChildren:fe}=te.transition||{};ae.delay=Q8(he.enteringChildren,e,fe)}}return{animation:Q,options:ae}}))}if(j.size){const _={};if(typeof h.initial!="boolean"){const D=zf(e,Array.isArray(h.initial)?h.initial[0]:h.initial);D&&D.transition&&(_.transition=D.transition)}j.forEach(D=>{const P=e.getBaseTarget(D),I=e.getValue(D);I&&(I.liveStyle=!0),_[D]=P??null}),v.push({animation:_})}let T=!!v.length;return r&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(T=!1),r=!1,T?t(v):Promise.resolve()}function f(m,h){var v;if(n[m].isActive===h)return Promise.resolve();(v=e.variantChildren)==null||v.forEach(j=>{var E;return(E=j.animationState)==null?void 0:E.setActive(m,h)}),n[m].isActive=h;const p=c(m);for(const j in n)n[j].protectedKeys={};return p}return{animateChanges:c,setActive:f,setAnimateFunction:s,getState:()=>n,reset:()=>{n=rO(),r=!0}}}function GK(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Z8(t,e):!1}function ku(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rO(){return{animate:ku(!0),whileInView:ku(),whileHover:ku(),whileTap:ku(),whileDrag:ku(),whileFocus:ku(),exit:ku()}}class Kc{constructor(t){this.isMounted=!1,this.node=t}update(){}}class KK extends Kc{constructor(t){super(t),t.animationState||(t.animationState=WK(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();D1(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let XK=0;class QK extends Kc{constructor(){super(...arguments),this.id=XK++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const ZK={animation:{Feature:KK},exit:{Feature:QK}};function h0(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function $0(e){return{point:{x:e.pageX,y:e.pageY}}}const JK=e=>t=>YA(t)&&e(t,$0(t));function Jm(e,t,n,r){return h0(e,t,JK(n),r)}const e6=1e-4,eX=1-e6,tX=1+e6,t6=.01,nX=0-t6,rX=0+t6;function ri(e){return e.max-e.min}function aX(e,t,n){return Math.abs(e-t)<=n}function aO(e,t,n,r=.5){e.origin=r,e.originPoint=hr(t.min,t.max,e.origin),e.scale=ri(n)/ri(t),e.translate=hr(n.min,n.max,e.origin)-e.originPoint,(e.scale>=eX&&e.scale<=tX||isNaN(e.scale))&&(e.scale=1),(e.translate>=nX&&e.translate<=rX||isNaN(e.translate))&&(e.translate=0)}function e0(e,t,n,r){aO(e.x,t.x,n.x,r?r.originX:void 0),aO(e.y,t.y,n.y,r?r.originY:void 0)}function iO(e,t,n){e.min=n.min+t.min,e.max=e.min+ri(t)}function iX(e,t,n){iO(e.x,t.x,n.x),iO(e.y,t.y,n.y)}function sO(e,t,n){e.min=t.min-n.min,e.max=e.min+ri(t)}function t0(e,t,n){sO(e.x,t.x,n.x),sO(e.y,t.y,n.y)}function ds(e){return[e("x"),e("y")]}const n6=({current:e})=>e?e.ownerDocument.defaultView:null,oO=(e,t)=>Math.abs(e-t);function sX(e,t){const n=oO(e.x,t.x),r=oO(e.y,t.y);return Math.sqrt(n**2+r**2)}class r6{constructor(t,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:s=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=uw(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,O=sX(j.offset,{x:0,y:0})>=this.distanceThreshold;if(!E&&!O)return;const{point:T}=j,{timestamp:_}=Ta;this.history.push({...T,timestamp:_});const{onStart:D,onMove:P}=this.handlers;E||(D&&D(this.lastMoveEvent,j),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,j)},this.handlePointerMove=(j,E)=>{this.lastMoveEvent=j,this.lastMoveEventInfo=cw(E,this.transformPagePoint),tr.update(this.updatePoint,!0)},this.handlePointerUp=(j,E)=>{this.end();const{onEnd:O,onSessionEnd:T,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=uw(j.type==="pointercancel"?this.lastMoveEventInfo:cw(E,this.transformPagePoint),this.history);this.startEvent&&O&&O(j,D),T&&T(j,D)},!YA(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=a||window;const f=$0(t),m=cw(f,this.transformPagePoint),{point:h}=m,{timestamp:p}=Ta;this.history=[{...h,timestamp:p}];const{onSessionStart:v}=n;v&&v(t,uw(m,this.history)),this.removeListeners=U0(Jm(this.contextWindow,"pointermove",this.handlePointerMove),Jm(this.contextWindow,"pointerup",this.handlePointerUp),Jm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Lc(this.updatePoint)}}function cw(e,t){return t?{point:t(e.point)}:e}function lO(e,t){return{x:e.x-t.x,y:e.y-t.y}}function uw({point:e},t){return{point:e,delta:lO(e,a6(t)),offset:lO(e,oX(t)),velocity:lX(t,.1)}}function oX(e){return e[0]}function a6(e){return e[e.length-1]}function lX(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=a6(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>_o(t)));)n--;if(!r)return{x:0,y:0};const s=Co(a.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const c={x:(a.x-r.x)/s,y:(a.y-r.y)/s};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function cX(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?hr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?hr(n,e,r.max):Math.min(e,n)),e}function cO(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function uX(e,{top:t,left:n,bottom:r,right:a}){return{x:cO(e.x,n,a),y:cO(e.y,t,r)}}function uO(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function dX(e,t){return{x:uO(e.x,t.x),y:uO(e.y,t.y)}}function fX(e,t){let n=.5;const r=ri(e),a=ri(t);return a>r?n=l0(t.min,t.max-r,e.min):r>a&&(n=l0(e.min,e.max-a,t.min)),jl(0,1,n)}function hX(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const qS=.35;function mX(e=qS){return e===!1?e=0:e===!0&&(e=qS),{x:dO(e,"left","right"),y:dO(e,"top","bottom")}}function dO(e,t,n){return{min:fO(e,t),max:fO(e,n)}}function fO(e,t){return typeof e=="number"?e:e[t]||0}const gX=new WeakMap;class pX{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Dr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const s=v=>{const{dragSnapToOrigin:j}=this.getProps();j?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor($0(v).point)},c=(v,j)=>{const{drag:E,dragPropagation:O,onDragStart:T}=this.getProps();if(E&&!O&&(this.openDragLock&&this.openDragLock(),this.openDragLock=jG(E),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=j,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ds(D=>{let P=this.getAxisMotionValue(D).get()||0;if(To.test(P)){const{projection:I}=this.visualElement;if(I&&I.layout){const U=I.layout.layoutBox[D];U&&(P=ri(U)*(parseFloat(P)/100))}}this.originPoint[D]=P}),T&&tr.postRender(()=>T(v,j)),$S(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},f=(v,j)=>{this.latestPointerEvent=v,this.latestPanInfo=j;const{dragPropagation:E,dragDirectionLock:O,onDirectionLock:T,onDrag:_}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:D}=j;if(O&&this.currentDirection===null){this.currentDirection=xX(D),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",j.point,D),this.updateAxis("y",j.point,D),this.visualElement.render(),_&&_(v,j)},m=(v,j)=>{this.latestPointerEvent=v,this.latestPanInfo=j,this.stop(v,j),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>ds(v=>{var j;return this.getAnimationState(v)==="paused"&&((j=this.getAxisMotionValue(v).animation)==null?void 0:j.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new r6(t,{onSessionStart:s,onStart:c,onMove:f,onSessionEnd:m,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:r,contextWindow:n6(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,a=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!a||!r)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&tr.postRender(()=>f(r,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!Ip(t,a,this.currentDirection))return;const s=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=cX(c,this.constraints[t],this.elastic[t])),s.set(c)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,a=this.constraints;t&&If(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=uX(r.layoutBox,t):this.constraints=!1,this.elastic=mX(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ds(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=hX(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!If(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const s=vK(r,a.root,this.visualElement.getTransformPagePoint());let c=dX(a.layout.layoutBox,s);if(n){const f=n(gK(c));this.hasMutatedConstraints=!!f,f&&(c=z8(f))}return c}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:s,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},h=ds(p=>{if(!Ip(p,n,this.currentDirection))return;let v=m&&m[p]||{};c&&(v={min:0,max:0});const j=a?200:1e6,E=a?40:1e7,O={type:"inertia",velocity:r?t[p]:0,bounceStiffness:j,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...s,...v};return this.startAxisValueAnimation(p,O)});return Promise.all(h).then(f)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return $S(this.visualElement,t),r.start(nE(t,r,0,n,this.visualElement,!1))}stopAnimation(){ds(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ds(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ds(n=>{const{drag:r}=this.getProps();if(!Ip(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,s=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n];s.set(t[n]-hr(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!If(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ds(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();a[c]=fX({min:m,max:m},this.constraints[c])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ds(c=>{if(!Ip(c,t,null))return;const f=this.getAxisMotionValue(c),{min:m,max:h}=this.constraints[c];f.set(hr(m,h,a[c]))})}addListeners(){if(!this.visualElement.current)return;gX.set(this.visualElement,this);const t=this.visualElement.current,n=Jm(t,"pointerdown",m=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();If(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,s=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),tr.read(r);const c=h0(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",({delta:m,hasLayoutChanged:h})=>{this.isDragging&&h&&(ds(p=>{const v=this.getAxisMotionValue(p);v&&(this.originPoint[p]+=m[p].translate,v.set(v.get()+m[p].translate))}),this.visualElement.render())});return()=>{c(),n(),s(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:s=!1,dragElastic:c=qS,dragMomentum:f=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:s,dragElastic:c,dragMomentum:f}}}function Ip(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function xX(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class vX extends Kc{constructor(t){super(t),this.removeGroupControls=gs,this.removeListeners=gs,this.controls=new pX(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gs}unmount(){this.removeGroupControls(),this.removeListeners()}}const hO=e=>(t,n)=>{e&&tr.postRender(()=>e(t,n))};class yX extends Kc{constructor(){super(...arguments),this.removePointerDownListener=gs}onPointerDown(t){this.session=new r6(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:n6(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:hO(t),onStart:hO(n),onMove:r,onEnd:(s,c)=>{delete this.session,a&&tr.postRender(()=>a(s,c))}}}mount(){this.removePointerDownListener=Jm(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const fx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function mO(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Tm={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ct.test(e))e=parseFloat(e);else return e;const n=mO(e,t.target.x),r=mO(e,t.target.y);return`${n}% ${r}%`}},bX={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=Bc.parse(e);if(a.length>5)return r;const s=Bc.createTransformer(e),c=typeof a[0]!="number"?1:0,f=n.x.scale*t.x,m=n.y.scale*t.y;a[0+c]/=f,a[1+c]/=m;const h=hr(f,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=h),typeof a[3+c]=="number"&&(a[3+c]/=h),s(a)}};let dw=!1;class wX extends A.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:s}=t;$G(SX),s&&(n.group&&n.group.add(s),r&&r.register&&a&&r.register(s),dw&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),fx.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:s}=this.props,{projection:c}=r;return c&&(c.isPresent=s,dw=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==s?c.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?c.promote():c.relegate()||tr.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),qA.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;dw=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function i6(e){const[t,n]=_8(),r=A.useContext(jA);return i.jsx(wX,{...e,layoutGroup:r,switchLayoutGroup:A.useContext(F8),isPresent:t,safeToRemove:n})}const SX={borderRadius:{...Tm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Tm,borderTopRightRadius:Tm,borderBottomLeftRadius:Tm,borderBottomRightRadius:Tm,boxShadow:bX};function jX(e,t,n){const r=Wa(e)?e:Kf(e);return r.start(nE("",r,t,n)),r.animation}const AX=(e,t)=>e.depth-t.depth;class EX{constructor(){this.children=[],this.isDirty=!1}add(t){NA(this.children,t),this.isDirty=!0}remove(t){_A(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(AX),this.isDirty=!1,this.children.forEach(t)}}function NX(e,t){const n=vi.now(),r=({timestamp:a})=>{const s=a-n;s>=t&&(Lc(r),e(s-t))};return tr.setup(r,!0),()=>Lc(r)}const s6=["TopLeft","TopRight","BottomLeft","BottomRight"],_X=s6.length,gO=e=>typeof e=="string"?parseFloat(e):e,pO=e=>typeof e=="number"||Ct.test(e);function CX(e,t,n,r,a,s){a?(e.opacity=hr(0,n.opacity??1,TX(r)),e.opacityExit=hr(t.opacity??1,0,OX(r))):s&&(e.opacity=hr(t.opacity??1,n.opacity??1,r));for(let c=0;c<_X;c++){const f=`border${s6[c]}Radius`;let m=xO(t,f),h=xO(n,f);if(m===void 0&&h===void 0)continue;m||(m=0),h||(h=0),m===0||h===0||pO(m)===pO(h)?(e[f]=Math.max(hr(gO(m),gO(h),r),0),(To.test(h)||To.test(m))&&(e[f]+="%")):e[f]=h}(t.rotate||n.rotate)&&(e.rotate=hr(t.rotate||0,n.rotate||0,r))}function xO(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const TX=o6(0,.5,Wk),OX=o6(.5,.95,gs);function o6(e,t,n){return r=>r<e?0:r>t?1:n(l0(e,t,r))}function vO(e,t){e.min=t.min,e.max=t.max}function os(e,t){vO(e.x,t.x),vO(e.y,t.y)}function yO(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function bO(e,t,n,r,a){return e-=t,e=_x(e,1/n,r),a!==void 0&&(e=_x(e,1/a,r)),e}function MX(e,t=0,n=1,r=.5,a,s=e,c=e){if(To.test(t)&&(t=parseFloat(t),t=hr(c.min,c.max,t/100)-c.min),typeof t!="number")return;let f=hr(s.min,s.max,r);e===s&&(f-=t),e.min=bO(e.min,t,n,f,a),e.max=bO(e.max,t,n,f,a)}function wO(e,t,[n,r,a],s,c){MX(e,t[n],t[r],t[a],t.scale,s,c)}const DX=["x","scaleX","originX"],RX=["y","scaleY","originY"];function SO(e,t,n,r){wO(e.x,t,DX,n?n.x:void 0,r?r.x:void 0),wO(e.y,t,RX,n?n.y:void 0,r?r.y:void 0)}function jO(e){return e.translate===0&&e.scale===1}function l6(e){return jO(e.x)&&jO(e.y)}function AO(e,t){return e.min===t.min&&e.max===t.max}function IX(e,t){return AO(e.x,t.x)&&AO(e.y,t.y)}function EO(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function c6(e,t){return EO(e.x,t.x)&&EO(e.y,t.y)}function NO(e){return ri(e.x)/ri(e.y)}function _O(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class PX{constructor(){this.members=[]}add(t){NA(this.members,t),t.scheduleRender()}remove(t){if(_A(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const s=this.members[a];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function kX(e,t,n){let r="";const a=e.x.translate/t.x,s=e.y.translate/t.y,c=(n==null?void 0:n.z)||0;if((a||s||c)&&(r=`translate3d(${a}px, ${s}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:h,rotate:p,rotateX:v,rotateY:j,skewX:E,skewY:O}=n;h&&(r=`perspective(${h}px) ${r}`),p&&(r+=`rotate(${p}deg) `),v&&(r+=`rotateX(${v}deg) `),j&&(r+=`rotateY(${j}deg) `),E&&(r+=`skewX(${E}deg) `),O&&(r+=`skewY(${O}deg) `)}const f=e.x.scale*t.x,m=e.y.scale*t.y;return(f!==1||m!==1)&&(r+=`scale(${f}, ${m})`),r||"none"}const fw=["","X","Y","Z"],LX=1e3;let BX=0;function hw(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function u6(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=K8(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",tr,!(a||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&u6(r)}function d6({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(c={},f=t==null?void 0:t()){this.id=BX++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(zX),this.nodes.forEach(qX),this.nodes.forEach(YX),this.nodes.forEach(VX)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new EX)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new OA),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=N8(c)&&!TG(c),this.instance=c;const{layoutId:f,layout:m,visualElement:h}=this.options;if(h&&!h.current&&h.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),e){let p,v=0;const j=()=>this.root.updateBlockedByResize=!1;tr.read(()=>{v=window.innerWidth}),e(c,()=>{const E=window.innerWidth;E!==v&&(v=E,this.root.updateBlockedByResize=!0,p&&p(),p=NX(j,250),fx.hasAnimatedSinceResize&&(fx.hasAnimatedSinceResize=!1,this.nodes.forEach(OO)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&h&&(f||m)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:v,hasRelativeLayoutChanged:j,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const O=this.options.transition||h.getDefaultTransition()||QX,{onLayoutAnimationStart:T,onLayoutAnimationComplete:_}=h.getProps(),D=!this.targetLayout||!c6(this.targetLayout,E),P=!v&&j;if(this.options.layoutRoot||this.resumeFrom||P||v&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const I={...$A(O,"layout"),onPlay:T,onComplete:_};(h.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I),this.setAnimationOrigin(p,P)}else v||OO(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Lc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(WX),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&u6(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const v=this.path[p];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(CO);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(TO);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(HX),this.nodes.forEach(FX),this.nodes.forEach(UX)):this.nodes.forEach(TO),this.clearAllSnapshots();const f=vi.now();Ta.delta=jl(0,1e3/60,f-Ta.timestamp),Ta.timestamp=f,Ta.isProcessing=!0,nw.update.process(Ta),nw.preRender.process(Ta),nw.render.process(Ta),Ta.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($X),this.sharedNodes.forEach(GX)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ri(this.snapshot.measuredBox.x)&&!ri(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Dr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!l6(this.projectionDelta),m=this.getTransformTemplate(),h=m?m(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;c&&this.instance&&(f||Fu(this.latestValues)||p)&&(a(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),ZX(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:c}=this.options;if(!c)return Dr();const f=c.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(JX))){const{scroll:p}=this.root;p&&(Pf(f.x,p.offset.x),Pf(f.y,p.offset.y))}return f}removeElementScroll(c){var m;const f=Dr();if(os(f,c),(m=this.scroll)!=null&&m.wasRoot)return f;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:v,options:j}=p;p!==this.root&&v&&j.layoutScroll&&(v.wasRoot&&os(f,c),Pf(f.x,v.offset.x),Pf(f.y,v.offset.y))}return f}applyTransform(c,f=!1){const m=Dr();os(m,c);for(let h=0;h<this.path.length;h++){const p=this.path[h];!f&&p.options.layoutScroll&&p.scroll&&p!==p.root&&kf(m,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Fu(p.latestValues)&&kf(m,p.latestValues)}return Fu(this.latestValues)&&kf(m,this.latestValues),m}removeTransform(c){const f=Dr();os(f,c);for(let m=0;m<this.path.length;m++){const h=this.path[m];if(!h.instance||!Fu(h.latestValues))continue;FS(h.latestValues)&&h.updateSnapshot();const p=Dr(),v=h.measurePageBox();os(p,v),SO(f,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return Fu(this.latestValues)&&SO(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ta.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var j;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(j=this.parent)!=null&&j.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:v}=this.options;if(!(!this.layout||!(p||v))){if(this.resolvedRelativeTargetAt=Ta.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dr(),this.relativeTargetOrigin=Dr(),t0(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),os(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Dr(),this.targetWithTransforms=Dr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),iX(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):os(this.target,this.layout.layoutBox),$8(this.target,this.targetDelta)):os(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dr(),this.relativeTargetOrigin=Dr(),t0(this.relativeTargetOrigin,this.target,E.target),os(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||FS(this.parent.latestValues)||V8(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var O;const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(O=this.parent)!=null&&O.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Ta.timestamp&&(m=!1),m)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;os(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,j=this.treeScale.y;xK(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Dr());const{target:E}=c;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(yO(this.prevProjectionDelta.x,this.projectionDelta.x),yO(this.prevProjectionDelta.y,this.projectionDelta.y)),e0(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==j||!_O(this.projectionDelta.x,this.prevProjectionDelta.x)||!_O(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Lf(),this.projectionDelta=Lf(),this.projectionDeltaWithTransform=Lf()}setAnimationOrigin(c,f=!1){const m=this.snapshot,h=m?m.latestValues:{},p={...this.latestValues},v=Lf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const j=Dr(),E=m?m.source:void 0,O=this.layout?this.layout.source:void 0,T=E!==O,_=this.getStack(),D=!_||_.members.length<=1,P=!!(T&&!D&&this.options.crossfade===!0&&!this.path.some(XX));this.animationProgress=0;let I;this.mixTargetDelta=U=>{const F=U/1e3;MO(v.x,c.x,F),MO(v.y,c.y,F),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(t0(j,this.layout.layoutBox,this.relativeParent.layout.layoutBox),KX(this.relativeTarget,this.relativeTargetOrigin,j,F),I&&IX(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=Dr()),os(I,this.relativeTarget)),T&&(this.animationValues=p,CX(p,h,this.latestValues,F,P,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var f,m,h;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(h=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||h.stop(),this.pendingAnimation&&(Lc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tr.update(()=>{fx.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Kf(0)),this.currentAnimation=jX(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),c.onUpdate&&c.onUpdate(p)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(LX),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:h,latestValues:p}=c;if(!(!f||!m||!h)){if(this!==c&&this.layout&&h&&f6(this.options.animationType,this.layout.layoutBox,h.layoutBox)){m=this.target||Dr();const v=ri(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+v;const j=ri(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+j}os(f,m),kf(f,p),e0(this.projectionDeltaWithTransform,this.layoutCorrected,f,p)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new PX),this.sharedNodes.get(c).add(f);const h=f.options.initialPromotionConfig;f.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var f;const{layoutId:c}=this.options;return c?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:c}=this.options;return c?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const h=this.getStack();h&&h.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const h={};m.z&&hw("z",c,h,this.animationValues);for(let p=0;p<fw.length;p++)hw(`rotate${fw[p]}`,c,h,this.animationValues),hw(`skew${fw[p]}`,c,h,this.animationValues);c.render();for(const p in h)c.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=dx(f==null?void 0:f.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=dx(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!Fu(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const p=h.animationValues||h.latestValues;this.applyTransformsToTarget();let v=kX(this.projectionDeltaWithTransform,this.treeScale,p);m&&(v=m(p,v)),c.transform=v;const{x:j,y:E}=this.projectionDelta;c.transformOrigin=`${j.origin*100}% ${E.origin*100}% 0`,h.animationValues?c.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const O in f0){if(p[O]===void 0)continue;const{correct:T,applyTo:_,isCSSVariable:D}=f0[O],P=v==="none"?p[O]:T(p[O],h);if(_){const I=_.length;for(let U=0;U<I;U++)c[_[U]]=P}else D?this.options.visualElement.renderState.vars[O]=P:c[O]=P}this.options.layoutId&&(c.pointerEvents=h===this?dx(f==null?void 0:f.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(CO),this.root.sharedNodes.clear()}}}function FX(e){e.updateLayout()}function UX(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:s}=e.options,c=t.source!==e.layout.source;s==="size"?ds(v=>{const j=c?t.measuredBox[v]:t.layoutBox[v],E=ri(j);j.min=r[v].min,j.max=j.min+E}):f6(s,t.layoutBox,r)&&ds(v=>{const j=c?t.measuredBox[v]:t.layoutBox[v],E=ri(r[v]);j.max=j.min+E,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[v].max=e.relativeTarget[v].min+E)});const f=Lf();e0(f,r,t.layoutBox);const m=Lf();c?e0(m,e.applyTransform(a,!0),t.measuredBox):e0(m,r,t.layoutBox);const h=!l6(f);let p=!1;if(!e.resumeFrom){const v=e.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:j,layout:E}=v;if(j&&E){const O=Dr();t0(O,t.layoutBox,j.layoutBox);const T=Dr();t0(T,r,E.layoutBox),c6(O,T)||(p=!0),v.options.layoutRoot&&(e.relativeTarget=T,e.relativeTargetOrigin=O,e.relativeParent=v)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:m,layoutDelta:f,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function zX(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function VX(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function $X(e){e.clearSnapshot()}function CO(e){e.clearMeasurements()}function TO(e){e.isLayoutDirty=!1}function HX(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function OO(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function qX(e){e.resolveTargetDelta()}function YX(e){e.calcProjection()}function WX(e){e.resetSkewAndRotation()}function GX(e){e.removeLeadSnapshot()}function MO(e,t,n){e.translate=hr(t.translate,0,n),e.scale=hr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function DO(e,t,n,r){e.min=hr(t.min,n.min,r),e.max=hr(t.max,n.max,r)}function KX(e,t,n,r){DO(e.x,t.x,n.x,r),DO(e.y,t.y,n.y,r)}function XX(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const QX={duration:.45,ease:[.4,0,.1,1]},RO=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),IO=RO("applewebkit/")&&!RO("chrome/")?Math.round:gs;function PO(e){e.min=IO(e.min),e.max=IO(e.max)}function ZX(e){PO(e.x),PO(e.y)}function f6(e,t,n){return e==="position"||e==="preserve-aspect"&&!aX(NO(t),NO(n),.2)}function JX(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const eQ=d6({attachResizeListener:(e,t)=>h0(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),mw={current:void 0},h6=d6({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!mw.current){const e=new eQ({});e.mount(window),e.setOptions({layoutScroll:!0}),mw.current=e}return mw.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),tQ={pan:{Feature:yX},drag:{Feature:vX,ProjectionNode:h6,MeasureLayout:i6}};function kO(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,s=r[a];s&&tr.postRender(()=>s(t,$0(t)))}class nQ extends Kc{mount(){const{current:t}=this.node;t&&(this.unmount=AG(t,(n,r)=>(kO(this.node,r,"Start"),a=>kO(this.node,a,"End"))))}unmount(){}}class rQ extends Kc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=U0(h0(this.node.current,"focus",()=>this.onFocus()),h0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function LO(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),s=r[a];s&&tr.postRender(()=>s(t,$0(t)))}class aQ extends Kc{mount(){const{current:t}=this.node;t&&(this.unmount=CG(t,(n,r)=>(LO(this.node,r,"Start"),(a,{success:s})=>LO(this.node,a,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const YS=new WeakMap,gw=new WeakMap,iQ=e=>{const t=YS.get(e.target);t&&t(e)},sQ=e=>{e.forEach(iQ)};function oQ({root:e,...t}){const n=e||document;gw.has(n)||gw.set(n,{});const r=gw.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(sQ,{root:e,...t})),r[a]}function lQ(e,t,n){const r=oQ(t);return YS.set(e,n),r.observe(e),()=>{YS.delete(e),r.unobserve(e)}}const cQ={some:0,all:1};class uQ extends Kc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:s}=t,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:cQ[a]},f=m=>{const{isIntersecting:h}=m;if(this.isInView===h||(this.isInView=h,s&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:v}=this.node.getProps(),j=h?p:v;j&&j(m)};return lQ(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(dQ(t,n))&&this.startObserver()}unmount(){}}function dQ({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const fQ={inView:{Feature:uQ},tap:{Feature:aQ},focus:{Feature:rQ},hover:{Feature:nQ}},hQ={layout:{ProjectionNode:h6,MeasureLayout:i6}},mQ={...ZK,...fQ,...tQ,...hQ},Ye=mK(mQ,_K);function BO(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function I1(...e){return t=>{let n=!1;const r=e.map(a=>{const s=BO(a,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let a=0;a<r.length;a++){const s=r[a];typeof s=="function"?s():BO(e[a],null)}}}}function Rn(...e){return A.useCallback(I1(...e),e)}function id(e){const t=gQ(e),n=A.forwardRef((r,a)=>{const{children:s,...c}=r,f=A.Children.toArray(s),m=f.find(xQ);if(m){const h=m.props.children,p=f.map(v=>v===m?A.Children.count(h)>1?A.Children.only(null):A.isValidElement(h)?h.props.children:null:v);return i.jsx(t,{...c,ref:a,children:A.isValidElement(h)?A.cloneElement(h,void 0,p):null})}return i.jsx(t,{...c,ref:a,children:s})});return n.displayName=`${e}.Slot`,n}var m6=id("Slot");function gQ(e){const t=A.forwardRef((n,r)=>{const{children:a,...s}=n;if(A.isValidElement(a)){const c=yQ(a),f=vQ(s,a.props);return a.type!==A.Fragment&&(f.ref=r?I1(r,c):c),A.cloneElement(a,f)}return A.Children.count(a)>1?A.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var pQ=Symbol("radix.slottable");function xQ(e){return A.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===pQ}function vQ(e,t){const n={...t};for(const r in t){const a=e[r],s=t[r];/^on[A-Z]/.test(r)?a&&s?n[r]=(...f)=>{const m=s(...f);return a(...f),m}:a&&(n[r]=a):r==="style"?n[r]={...a,...s}:r==="className"&&(n[r]=[a,s].filter(Boolean).join(" "))}return{...e,...n}}function yQ(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function g6(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=g6(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function en(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=g6(e))&&(r&&(r+=" "),r+=t);return r}const FO=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,UO=en,rE=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return UO(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:s}=t,c=Object.keys(a).map(h=>{const p=n==null?void 0:n[h],v=s==null?void 0:s[h];if(p===null)return null;const j=FO(p)||FO(v);return a[h][j]}),f=n&&Object.entries(n).reduce((h,p)=>{let[v,j]=p;return j===void 0||(h[v]=j),h},{}),m=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((h,p)=>{let{class:v,className:j,...E}=p;return Object.entries(E).every(O=>{let[T,_]=O;return Array.isArray(_)?_.includes({...s,...f}[T]):{...s,...f}[T]===_})?[...h,v,j]:h},[]);return UO(e,c,m,n==null?void 0:n.class,n==null?void 0:n.className)},aE="-",bQ=e=>{const t=SQ(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:c=>{const f=c.split(aE);return f[0]===""&&f.length!==1&&f.shift(),p6(f,t)||wQ(c)},getConflictingClassGroupIds:(c,f)=>{const m=n[c]||[];return f&&r[c]?[...m,...r[c]]:m}}},p6=(e,t)=>{var c;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?p6(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(aE);return(c=t.validators.find(({validator:f})=>f(s)))==null?void 0:c.classGroupId},zO=/^\[(.+)\]$/,wQ=e=>{if(zO.test(e)){const t=zO.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},SQ=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const a in n)WS(n[a],r,a,t);return r},WS=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:VO(t,a);s.classGroupId=n;return}if(typeof a=="function"){if(jQ(a)){WS(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([s,c])=>{WS(c,VO(t,s),n,r)})})},VO=(e,t)=>{let n=e;return t.split(aE).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},jQ=e=>e.isThemeGetter,AQ=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(s,c)=>{n.set(s,c),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let c=n.get(s);if(c!==void 0)return c;if((c=r.get(s))!==void 0)return a(s,c),c},set(s,c){n.has(s)?n.set(s,c):a(s,c)}}},GS="!",KS=":",EQ=KS.length,NQ=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=a=>{const s=[];let c=0,f=0,m=0,h;for(let O=0;O<a.length;O++){let T=a[O];if(c===0&&f===0){if(T===KS){s.push(a.slice(m,O)),m=O+EQ;continue}if(T==="/"){h=O;continue}}T==="["?c++:T==="]"?c--:T==="("?f++:T===")"&&f--}const p=s.length===0?a:a.substring(m),v=_Q(p),j=v!==p,E=h&&h>m?h-m:void 0;return{modifiers:s,hasImportantModifier:j,baseClassName:v,maybePostfixModifierPosition:E}};if(t){const a=t+KS,s=r;r=c=>c.startsWith(a)?s(c.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const a=r;r=s=>n({className:s,parseClassName:a})}return r},_Q=e=>e.endsWith(GS)?e.substring(0,e.length-1):e.startsWith(GS)?e.substring(1):e,CQ=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const a=[];let s=[];return r.forEach(c=>{c[0]==="["||t[c]?(a.push(...s.sort(),c),s=[]):s.push(c)}),a.push(...s.sort()),a}},TQ=e=>({cache:AQ(e.cacheSize),parseClassName:NQ(e),sortModifiers:CQ(e),...bQ(e)}),OQ=/\s+/,MQ=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:s}=t,c=[],f=e.trim().split(OQ);let m="";for(let h=f.length-1;h>=0;h-=1){const p=f[h],{isExternal:v,modifiers:j,hasImportantModifier:E,baseClassName:O,maybePostfixModifierPosition:T}=n(p);if(v){m=p+(m.length>0?" "+m:m);continue}let _=!!T,D=r(_?O.substring(0,T):O);if(!D){if(!_){m=p+(m.length>0?" "+m:m);continue}if(D=r(O),!D){m=p+(m.length>0?" "+m:m);continue}_=!1}const P=s(j).join(":"),I=E?P+GS:P,U=I+D;if(c.includes(U))continue;c.push(U);const F=a(D,_);for(let L=0;L<F.length;++L){const B=F[L];c.push(I+B)}m=p+(m.length>0?" "+m:m)}return m};function DQ(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=x6(t))&&(r&&(r+=" "),r+=n);return r}const x6=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=x6(e[r]))&&(n&&(n+=" "),n+=t);return n};function RQ(e,...t){let n,r,a,s=c;function c(m){const h=t.reduce((p,v)=>v(p),e());return n=TQ(h),r=n.cache.get,a=n.cache.set,s=f,f(m)}function f(m){const h=r(m);if(h)return h;const p=MQ(m,n);return a(m,p),p}return function(){return s(DQ.apply(null,arguments))}}const sa=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},v6=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,y6=/^\((?:(\w[\w-]*):)?(.+)\)$/i,IQ=/^\d+\/\d+$/,PQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,kQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,LQ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,BQ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,FQ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Sf=e=>IQ.test(e),$t=e=>!!e&&!Number.isNaN(Number(e)),jc=e=>!!e&&Number.isInteger(Number(e)),pw=e=>e.endsWith("%")&&$t(e.slice(0,-1)),ol=e=>PQ.test(e),UQ=()=>!0,zQ=e=>kQ.test(e)&&!LQ.test(e),b6=()=>!1,VQ=e=>BQ.test(e),$Q=e=>FQ.test(e),HQ=e=>!ut(e)&&!dt(e),qQ=e=>yh(e,j6,b6),ut=e=>v6.test(e),Lu=e=>yh(e,A6,zQ),xw=e=>yh(e,XQ,$t),$O=e=>yh(e,w6,b6),YQ=e=>yh(e,S6,$Q),Pp=e=>yh(e,E6,VQ),dt=e=>y6.test(e),Om=e=>bh(e,A6),WQ=e=>bh(e,QQ),HO=e=>bh(e,w6),GQ=e=>bh(e,j6),KQ=e=>bh(e,S6),kp=e=>bh(e,E6,!0),yh=(e,t,n)=>{const r=v6.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},bh=(e,t,n=!1)=>{const r=y6.exec(e);return r?r[1]?t(r[1]):n:!1},w6=e=>e==="position"||e==="percentage",S6=e=>e==="image"||e==="url",j6=e=>e==="length"||e==="size"||e==="bg-size",A6=e=>e==="length",XQ=e=>e==="number",QQ=e=>e==="family-name",E6=e=>e==="shadow",ZQ=()=>{const e=sa("color"),t=sa("font"),n=sa("text"),r=sa("font-weight"),a=sa("tracking"),s=sa("leading"),c=sa("breakpoint"),f=sa("container"),m=sa("spacing"),h=sa("radius"),p=sa("shadow"),v=sa("inset-shadow"),j=sa("text-shadow"),E=sa("drop-shadow"),O=sa("blur"),T=sa("perspective"),_=sa("aspect"),D=sa("ease"),P=sa("animate"),I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],F=()=>[...U(),dt,ut],L=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto","contain","none"],$=()=>[dt,ut,m],z=()=>[Sf,"full","auto",...$()],H=()=>[jc,"none","subgrid",dt,ut],X=()=>["auto",{span:["full",jc,dt,ut]},jc,dt,ut],K=()=>[jc,"auto",dt,ut],ee=()=>["auto","min","max","fr",dt,ut],ue=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ne=()=>["start","end","center","stretch","center-safe","end-safe"],G=()=>["auto",...$()],Q=()=>[Sf,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...$()],ae=()=>[e,dt,ut],he=()=>[...U(),HO,$O,{position:[dt,ut]}],te=()=>["no-repeat",{repeat:["","x","y","space","round"]}],fe=()=>["auto","cover","contain",GQ,qQ,{size:[dt,ut]}],se=()=>[pw,Om,Lu],me=()=>["","none","full",h,dt,ut],Re=()=>["",$t,Om,Lu],ye=()=>["solid","dashed","dotted","double"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pe=()=>[$t,pw,HO,$O],Ie=()=>["","none",O,dt,ut],xe=()=>["none",$t,dt,ut],Fe=()=>["none",$t,dt,ut],Le=()=>[$t,dt,ut],Ne=()=>[Sf,"full",...$()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ol],breakpoint:[ol],color:[UQ],container:[ol],"drop-shadow":[ol],ease:["in","out","in-out"],font:[HQ],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ol],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ol],shadow:[ol],spacing:["px",$t],text:[ol],"text-shadow":[ol],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Sf,ut,dt,_]}],container:["container"],columns:[{columns:[$t,ut,dt,f]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:F()}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:z()}],"inset-x":[{"inset-x":z()}],"inset-y":[{"inset-y":z()}],start:[{start:z()}],end:[{end:z()}],top:[{top:z()}],right:[{right:z()}],bottom:[{bottom:z()}],left:[{left:z()}],visibility:["visible","invisible","collapse"],z:[{z:[jc,"auto",dt,ut]}],basis:[{basis:[Sf,"full","auto",f,...$()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[$t,Sf,"auto","initial","none",ut]}],grow:[{grow:["",$t,dt,ut]}],shrink:[{shrink:["",$t,dt,ut]}],order:[{order:[jc,"first","last","none",dt,ut]}],"grid-cols":[{"grid-cols":H()}],"col-start-end":[{col:X()}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":H()}],"row-start-end":[{row:X()}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ee()}],"auto-rows":[{"auto-rows":ee()}],gap:[{gap:$()}],"gap-x":[{"gap-x":$()}],"gap-y":[{"gap-y":$()}],"justify-content":[{justify:[...ue(),"normal"]}],"justify-items":[{"justify-items":[...ne(),"normal"]}],"justify-self":[{"justify-self":["auto",...ne()]}],"align-content":[{content:["normal",...ue()]}],"align-items":[{items:[...ne(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ne(),{baseline:["","last"]}]}],"place-content":[{"place-content":ue()}],"place-items":[{"place-items":[...ne(),"baseline"]}],"place-self":[{"place-self":["auto",...ne()]}],p:[{p:$()}],px:[{px:$()}],py:[{py:$()}],ps:[{ps:$()}],pe:[{pe:$()}],pt:[{pt:$()}],pr:[{pr:$()}],pb:[{pb:$()}],pl:[{pl:$()}],m:[{m:G()}],mx:[{mx:G()}],my:[{my:G()}],ms:[{ms:G()}],me:[{me:G()}],mt:[{mt:G()}],mr:[{mr:G()}],mb:[{mb:G()}],ml:[{ml:G()}],"space-x":[{"space-x":$()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":$()}],"space-y-reverse":["space-y-reverse"],size:[{size:Q()}],w:[{w:[f,"screen",...Q()]}],"min-w":[{"min-w":[f,"screen","none",...Q()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[c]},...Q()]}],h:[{h:["screen","lh",...Q()]}],"min-h":[{"min-h":["screen","lh","none",...Q()]}],"max-h":[{"max-h":["screen","lh",...Q()]}],"font-size":[{text:["base",n,Om,Lu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,dt,xw]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",pw,ut]}],"font-family":[{font:[WQ,ut,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,dt,ut]}],"line-clamp":[{"line-clamp":[$t,"none",dt,xw]}],leading:[{leading:[s,...$()]}],"list-image":[{"list-image":["none",dt,ut]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",dt,ut]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ae()}],"text-color":[{text:ae()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ye(),"wavy"]}],"text-decoration-thickness":[{decoration:[$t,"from-font","auto",dt,Lu]}],"text-decoration-color":[{decoration:ae()}],"underline-offset":[{"underline-offset":[$t,"auto",dt,ut]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",dt,ut]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",dt,ut]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:he()}],"bg-repeat":[{bg:te()}],"bg-size":[{bg:fe()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},jc,dt,ut],radial:["",dt,ut],conic:[jc,dt,ut]},KQ,YQ]}],"bg-color":[{bg:ae()}],"gradient-from-pos":[{from:se()}],"gradient-via-pos":[{via:se()}],"gradient-to-pos":[{to:se()}],"gradient-from":[{from:ae()}],"gradient-via":[{via:ae()}],"gradient-to":[{to:ae()}],rounded:[{rounded:me()}],"rounded-s":[{"rounded-s":me()}],"rounded-e":[{"rounded-e":me()}],"rounded-t":[{"rounded-t":me()}],"rounded-r":[{"rounded-r":me()}],"rounded-b":[{"rounded-b":me()}],"rounded-l":[{"rounded-l":me()}],"rounded-ss":[{"rounded-ss":me()}],"rounded-se":[{"rounded-se":me()}],"rounded-ee":[{"rounded-ee":me()}],"rounded-es":[{"rounded-es":me()}],"rounded-tl":[{"rounded-tl":me()}],"rounded-tr":[{"rounded-tr":me()}],"rounded-br":[{"rounded-br":me()}],"rounded-bl":[{"rounded-bl":me()}],"border-w":[{border:Re()}],"border-w-x":[{"border-x":Re()}],"border-w-y":[{"border-y":Re()}],"border-w-s":[{"border-s":Re()}],"border-w-e":[{"border-e":Re()}],"border-w-t":[{"border-t":Re()}],"border-w-r":[{"border-r":Re()}],"border-w-b":[{"border-b":Re()}],"border-w-l":[{"border-l":Re()}],"divide-x":[{"divide-x":Re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ye(),"hidden","none"]}],"divide-style":[{divide:[...ye(),"hidden","none"]}],"border-color":[{border:ae()}],"border-color-x":[{"border-x":ae()}],"border-color-y":[{"border-y":ae()}],"border-color-s":[{"border-s":ae()}],"border-color-e":[{"border-e":ae()}],"border-color-t":[{"border-t":ae()}],"border-color-r":[{"border-r":ae()}],"border-color-b":[{"border-b":ae()}],"border-color-l":[{"border-l":ae()}],"divide-color":[{divide:ae()}],"outline-style":[{outline:[...ye(),"none","hidden"]}],"outline-offset":[{"outline-offset":[$t,dt,ut]}],"outline-w":[{outline:["",$t,Om,Lu]}],"outline-color":[{outline:ae()}],shadow:[{shadow:["","none",p,kp,Pp]}],"shadow-color":[{shadow:ae()}],"inset-shadow":[{"inset-shadow":["none",v,kp,Pp]}],"inset-shadow-color":[{"inset-shadow":ae()}],"ring-w":[{ring:Re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ae()}],"ring-offset-w":[{"ring-offset":[$t,Lu]}],"ring-offset-color":[{"ring-offset":ae()}],"inset-ring-w":[{"inset-ring":Re()}],"inset-ring-color":[{"inset-ring":ae()}],"text-shadow":[{"text-shadow":["none",j,kp,Pp]}],"text-shadow-color":[{"text-shadow":ae()}],opacity:[{opacity:[$t,dt,ut]}],"mix-blend":[{"mix-blend":[...oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":oe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[$t]}],"mask-image-linear-from-pos":[{"mask-linear-from":pe()}],"mask-image-linear-to-pos":[{"mask-linear-to":pe()}],"mask-image-linear-from-color":[{"mask-linear-from":ae()}],"mask-image-linear-to-color":[{"mask-linear-to":ae()}],"mask-image-t-from-pos":[{"mask-t-from":pe()}],"mask-image-t-to-pos":[{"mask-t-to":pe()}],"mask-image-t-from-color":[{"mask-t-from":ae()}],"mask-image-t-to-color":[{"mask-t-to":ae()}],"mask-image-r-from-pos":[{"mask-r-from":pe()}],"mask-image-r-to-pos":[{"mask-r-to":pe()}],"mask-image-r-from-color":[{"mask-r-from":ae()}],"mask-image-r-to-color":[{"mask-r-to":ae()}],"mask-image-b-from-pos":[{"mask-b-from":pe()}],"mask-image-b-to-pos":[{"mask-b-to":pe()}],"mask-image-b-from-color":[{"mask-b-from":ae()}],"mask-image-b-to-color":[{"mask-b-to":ae()}],"mask-image-l-from-pos":[{"mask-l-from":pe()}],"mask-image-l-to-pos":[{"mask-l-to":pe()}],"mask-image-l-from-color":[{"mask-l-from":ae()}],"mask-image-l-to-color":[{"mask-l-to":ae()}],"mask-image-x-from-pos":[{"mask-x-from":pe()}],"mask-image-x-to-pos":[{"mask-x-to":pe()}],"mask-image-x-from-color":[{"mask-x-from":ae()}],"mask-image-x-to-color":[{"mask-x-to":ae()}],"mask-image-y-from-pos":[{"mask-y-from":pe()}],"mask-image-y-to-pos":[{"mask-y-to":pe()}],"mask-image-y-from-color":[{"mask-y-from":ae()}],"mask-image-y-to-color":[{"mask-y-to":ae()}],"mask-image-radial":[{"mask-radial":[dt,ut]}],"mask-image-radial-from-pos":[{"mask-radial-from":pe()}],"mask-image-radial-to-pos":[{"mask-radial-to":pe()}],"mask-image-radial-from-color":[{"mask-radial-from":ae()}],"mask-image-radial-to-color":[{"mask-radial-to":ae()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":U()}],"mask-image-conic-pos":[{"mask-conic":[$t]}],"mask-image-conic-from-pos":[{"mask-conic-from":pe()}],"mask-image-conic-to-pos":[{"mask-conic-to":pe()}],"mask-image-conic-from-color":[{"mask-conic-from":ae()}],"mask-image-conic-to-color":[{"mask-conic-to":ae()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:he()}],"mask-repeat":[{mask:te()}],"mask-size":[{mask:fe()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",dt,ut]}],filter:[{filter:["","none",dt,ut]}],blur:[{blur:Ie()}],brightness:[{brightness:[$t,dt,ut]}],contrast:[{contrast:[$t,dt,ut]}],"drop-shadow":[{"drop-shadow":["","none",E,kp,Pp]}],"drop-shadow-color":[{"drop-shadow":ae()}],grayscale:[{grayscale:["",$t,dt,ut]}],"hue-rotate":[{"hue-rotate":[$t,dt,ut]}],invert:[{invert:["",$t,dt,ut]}],saturate:[{saturate:[$t,dt,ut]}],sepia:[{sepia:["",$t,dt,ut]}],"backdrop-filter":[{"backdrop-filter":["","none",dt,ut]}],"backdrop-blur":[{"backdrop-blur":Ie()}],"backdrop-brightness":[{"backdrop-brightness":[$t,dt,ut]}],"backdrop-contrast":[{"backdrop-contrast":[$t,dt,ut]}],"backdrop-grayscale":[{"backdrop-grayscale":["",$t,dt,ut]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[$t,dt,ut]}],"backdrop-invert":[{"backdrop-invert":["",$t,dt,ut]}],"backdrop-opacity":[{"backdrop-opacity":[$t,dt,ut]}],"backdrop-saturate":[{"backdrop-saturate":[$t,dt,ut]}],"backdrop-sepia":[{"backdrop-sepia":["",$t,dt,ut]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":$()}],"border-spacing-x":[{"border-spacing-x":$()}],"border-spacing-y":[{"border-spacing-y":$()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",dt,ut]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[$t,"initial",dt,ut]}],ease:[{ease:["linear","initial",D,dt,ut]}],delay:[{delay:[$t,dt,ut]}],animate:[{animate:["none",P,dt,ut]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[T,dt,ut]}],"perspective-origin":[{"perspective-origin":F()}],rotate:[{rotate:xe()}],"rotate-x":[{"rotate-x":xe()}],"rotate-y":[{"rotate-y":xe()}],"rotate-z":[{"rotate-z":xe()}],scale:[{scale:Fe()}],"scale-x":[{"scale-x":Fe()}],"scale-y":[{"scale-y":Fe()}],"scale-z":[{"scale-z":Fe()}],"scale-3d":["scale-3d"],skew:[{skew:Le()}],"skew-x":[{"skew-x":Le()}],"skew-y":[{"skew-y":Le()}],transform:[{transform:[dt,ut,"","none","gpu","cpu"]}],"transform-origin":[{origin:F()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ne()}],"translate-x":[{"translate-x":Ne()}],"translate-y":[{"translate-y":Ne()}],"translate-z":[{"translate-z":Ne()}],"translate-none":["translate-none"],accent:[{accent:ae()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ae()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",dt,ut]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",dt,ut]}],fill:[{fill:["none",...ae()]}],"stroke-w":[{stroke:[$t,Om,Lu,xw]}],stroke:[{stroke:["none",...ae()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},JQ=RQ(ZQ);function Et(...e){return JQ(en(e))}const eZ=rE("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function De({className:e,variant:t,size:n,asChild:r=!1,...a}){const s=r?m6:"button";return i.jsx(s,{"data-slot":"button",className:Et(eZ({variant:t,size:n,className:e})),...a})}function be({className:e,...t}){return i.jsx("div",{"data-slot":"card",className:Et("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function Pe({className:e,...t}){return i.jsx("div",{"data-slot":"card-header",className:Et("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function ke({className:e,...t}){return i.jsx("div",{"data-slot":"card-title",className:Et("leading-none font-semibold",e),...t})}function rt({className:e,...t}){return i.jsx("div",{"data-slot":"card-description",className:Et("text-muted-foreground text-sm",e),...t})}function we({className:e,...t}){return i.jsx("div",{"data-slot":"card-content",className:Et("px-6",e),...t})}/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tZ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nZ=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),qO=e=>{const t=nZ(e);return t.charAt(0).toUpperCase()+t.slice(1)},N6=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),rZ=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iZ=A.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:s,iconNode:c,...f},m)=>A.createElement("svg",{ref:m,...aZ,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:N6("lucide",a),...!s&&!rZ(f)&&{"aria-hidden":"true"},...f},[...c.map(([h,p])=>A.createElement(h,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=(e,t)=>{const n=A.forwardRef(({className:r,...a},s)=>A.createElement(iZ,{ref:s,iconNode:t,className:N6(`lucide-${tZ(qO(e))}`,`lucide-${e}`,r),...a}));return n.displayName=qO(e),n};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sZ=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],iE=it("activity",sZ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oZ=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],H0=it("arrow-left",oZ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lZ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],n0=it("arrow-right",lZ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cZ=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],uZ=it("arrow-up-down",cZ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dZ=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],_6=it("bell",dZ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fZ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],bi=it("calendar",fZ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hZ=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16",key:"qmtpty"}],["path",{d:"M9.5 4h5L17 7h3a2 2 0 0 1 2 2v7.5",key:"1ufyfc"}],["path",{d:"M14.121 15.121A3 3 0 1 1 9.88 10.88",key:"11zox6"}]],mZ=it("camera-off",hZ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gZ=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],hx=it("camera",gZ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pZ=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],Hs=it("car",pZ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xZ=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],sE=it("chart-column",xZ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vZ=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],yZ=it("check",vZ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bZ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],C6=it("chevron-down",bZ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wZ=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],SZ=it("chevron-right",wZ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jZ=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],AZ=it("chevron-up",jZ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],T6=it("circle-alert",EZ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NZ=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],fs=it("circle-check-big",NZ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Z=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],mx=it("circle-x",_Z);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CZ=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ba=it("clock",CZ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TZ=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],O6=it("copy",TZ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OZ=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Io=it("credit-card",OZ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MZ=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Xr=it("dollar-sign",MZ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DZ=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Zs=it("download",DZ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RZ=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],IZ=it("external-link",RZ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PZ=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],wi=it("eye-off",PZ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kZ=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mr=it("eye",kZ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LZ=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],q0=it("funnel",LZ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],oE=it("globe",BZ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FZ=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],m0=it("history",FZ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UZ=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],zZ=it("layout-dashboard",UZ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VZ=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Fc=it("loader-circle",VZ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Z=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],HZ=it("log-out",$Z);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qZ=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],lE=it("mail",qZ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YZ=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],El=it("map-pin",YZ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WZ=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],YO=it("menu",WZ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GZ=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],KZ=it("message-square",GZ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XZ=[["path",{d:"M5 12h14",key:"1ays0h"}]],M6=it("minus",XZ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QZ=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],ZZ=it("moon",QZ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JZ=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],WO=it("navigation",JZ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eJ=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],tJ=it("phone",eJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nJ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ps=it("plus",nJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rJ=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Ar=it("qr-code",rJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aJ=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],P1=it("refresh-cw",aJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iJ=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],sJ=it("save",iJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oJ=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],lJ=it("scan",oJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cJ=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Pl=it("search",cJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uJ=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],g0=it("settings",uJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dJ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],gx=it("shield-check",dJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fJ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],qs=it("shield",fJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hJ=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],GO=it("shopping-cart",hJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mJ=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],r0=it("smartphone",mJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gJ=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],cE=it("sparkles",gJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pJ=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],D6=it("square-pen",pJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xJ=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],p0=it("star",xJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vJ=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],Qf=it("store",vJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yJ=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],bJ=it("sun",yJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],k1=it("target",wJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SJ=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],si=it("ticket",SJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jJ=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],AJ=it("trash-2",jJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EJ=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Nl=it("trending-down",EJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NJ=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Kn=it("trending-up",NJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _J=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Zf=it("triangle-alert",_J);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CJ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],TJ=it("user-plus",CJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OJ=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Cx=it("user",OJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MJ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ga=it("users",MJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DJ=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],sd=it("wallet",DJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RJ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],L1=it("x",RJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IJ=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],uE=it("zap",IJ),PJ=[{icon:sd,title:"Digital Wallet",description:"Secure digital wallet with instant payments, balance management, and real-time transaction tracking."},{icon:Ar,title:"QR Payments",description:"Lightning-fast QR code payments for transport, events, and merchant transactions."},{icon:si,title:"Event Tickets",description:"Buy, manage, and validate event tickets with blockchain-secured authenticity."},{icon:qs,title:"Bank-Grade Security",description:"End-to-end encryption, multi-factor authentication, and fraud prevention."},{icon:Kn,title:"Analytics Dashboard",description:"Comprehensive insights into spending patterns, earnings, and financial health."},{icon:uE,title:"Instant Transfers",description:"Real-time money transfers with zero fees between Tickets users."}],kJ=[{icon:Ga,value:"50,000+",label:"Active Users",growth:"+25% this month"},{icon:Io,value:"$2.5M+",label:"Transaction Volume",growth:"+40% this quarter"},{icon:El,value:"12+",label:"Cities Covered",growth:"Expanding rapidly"},{icon:qs,value:"99.99%",label:"Uptime",growth:"Enterprise-grade"}],LJ=[{name:"Ahmed Al-Rashid",role:"Business Owner",content:"Tickets transformed how I handle payments. The QR system is incredibly efficient for my restaurant.",avatar:"👨‍💼"},{name:"Sarah Hassan",role:"University Student",content:"Perfect for buying event tickets and managing my daily transport expenses. Love the analytics!",avatar:"👩‍🎓"},{name:"Omar Farouk",role:"Driver",content:"The driver platform is amazing. I can track my earnings in real-time and get paid instantly.",avatar:"🚗"}];function BJ(){const{t:e,language:t,setLanguage:n}=tn();return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[i.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),i.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),i.jsx("div",{className:"absolute top-40 left-1/2 w-80 h-80 bg-indigo-500 rounded-full mix-blend-multiply filter blur-xl opacity-10 animate-pulse"})]}),i.jsx("header",{className:"relative border-b border-white/10 bg-black/20 backdrop-blur-xl",children:i.jsxs("div",{className:"container mx-auto flex h-20 items-center justify-between px-4",children:[i.jsxs(Ye.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center gap-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:"/logo.svg",alt:"Tickets Logo",className:"h-10 w-10"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-400 rounded-lg blur opacity-50"})]}),i.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Tickets"})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(De,{variant:"ghost",size:"sm",onClick:()=>n(t==="en"?"ar":"en"),className:"text-white/70 hover:text-white hover:bg-white/10",children:[i.jsx(oE,{className:"h-4 w-4 mr-2"}),t==="en"?"العربية":"English"]}),i.jsx(Ht,{to:"/login",children:i.jsx(De,{variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:"Sign In"})}),i.jsx(Ht,{to:"/register",children:i.jsx(De,{size:"sm",className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 border-0",children:"Get Started"})})]})]})}),i.jsx("section",{className:"relative py-32",children:i.jsx("div",{className:"container mx-auto px-4 text-center",children:i.jsxs(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[i.jsx("div",{className:"flex items-center justify-center mb-6",children:i.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-blue-500/20 to-purple-500/20 backdrop-blur-sm rounded-full px-4 py-2 border border-white/10",children:[i.jsx(cE,{className:"h-4 w-4 text-yellow-400"}),i.jsx("span",{className:"text-sm text-white/80",children:"The Future of Digital Payments"})]})}),i.jsxs("h1",{className:"text-5xl md:text-7xl font-bold mb-8 leading-tight",children:[i.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-purple-100 bg-clip-text text-transparent",children:"Digital Payments"}),i.jsx("br",{}),i.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Reimagined"})]}),i.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-3xl mx-auto leading-relaxed",children:"Experience the next generation of digital payments with our comprehensive platform for wallets, QR payments, event tickets, and merchant solutions. Built for the modern economy."}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center mb-16",children:[i.jsx(Ht,{to:"/register",children:i.jsxs(De,{size:"lg",className:"group bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 px-8 py-4 text-lg border-0",children:["Start Your Journey",i.jsx(n0,{className:"ml-2 h-5 w-5 transition-transform group-hover:translate-x-1"})]})}),i.jsx(Ht,{to:"/login",children:i.jsx(De,{variant:"outline",size:"lg",className:"border-white/20 text-white hover:bg-white/10 px-8 py-4 text-lg",children:"Watch Demo"})})]}),i.jsx(Ye.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:1,delay:.3},className:"relative mx-auto max-w-4xl",children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-3xl blur-xl"}),i.jsx("div",{className:"relative bg-black/40 backdrop-blur-xl rounded-3xl p-8 border border-white/10",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-blue-600/20 rounded-xl p-6 border border-blue-400/20",children:[i.jsx(sd,{className:"h-12 w-12 text-blue-400 mb-4"}),i.jsx("h3",{className:"text-white font-semibold mb-2",children:"Digital Wallet"}),i.jsx("p",{className:"text-gray-400 text-sm",children:"Secure & instant"})]}),i.jsxs("div",{className:"bg-gradient-to-br from-purple-500/20 to-purple-600/20 rounded-xl p-6 border border-purple-400/20",children:[i.jsx(Ar,{className:"h-12 w-12 text-purple-400 mb-4"}),i.jsx("h3",{className:"text-white font-semibold mb-2",children:"QR Payments"}),i.jsx("p",{className:"text-gray-400 text-sm",children:"Lightning fast"})]}),i.jsxs("div",{className:"bg-gradient-to-br from-indigo-500/20 to-indigo-600/20 rounded-xl p-6 border border-indigo-400/20",children:[i.jsx(si,{className:"h-12 w-12 text-indigo-400 mb-4"}),i.jsx("h3",{className:"text-white font-semibold mb-2",children:"Event Tickets"}),i.jsx("p",{className:"text-gray-400 text-sm",children:"Blockchain secured"})]})]})})]})})]})})}),i.jsx("section",{className:"relative py-20 border-y border-white/10 bg-black/20",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:kJ.map((r,a)=>i.jsxs(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:a*.1},className:"text-center",children:[i.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-br from-blue-500/20 to-purple-500/20 border border-white/10",children:i.jsx(r.icon,{className:"h-8 w-8 text-blue-400"})}),i.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:r.value}),i.jsx("div",{className:"text-gray-300 font-medium mb-1",children:r.label}),i.jsx("div",{className:"text-xs text-green-400",children:r.growth})]},r.label))})})}),i.jsx("section",{className:"relative py-32",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsx("div",{className:"text-center mb-20",children:i.jsxs(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[i.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:i.jsx("span",{className:"bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Everything You Need"})}),i.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"A comprehensive platform designed for individuals, businesses, and enterprises."})]})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:PJ.map((r,a)=>i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:a*.1},children:i.jsxs(be,{className:"h-full bg-black/40 backdrop-blur-xl border-white/10 hover:border-white/20 transition-all duration-300 hover:scale-105",children:[i.jsxs(Pe,{children:[i.jsx("div",{className:"mb-4 flex h-14 w-14 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500/20 to-purple-500/20 border border-white/10",children:i.jsx(r.icon,{className:"h-7 w-7 text-blue-400"})}),i.jsx(ke,{className:"text-xl text-white",children:r.title})]}),i.jsx(we,{children:i.jsx(rt,{className:"text-gray-400 leading-relaxed",children:r.description})})]})},r.title))})]})}),i.jsx("section",{className:"relative py-32 bg-black/20",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"text-center mb-20",children:[i.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:i.jsx("span",{className:"bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Loved by Users"})}),i.jsx("p",{className:"text-xl text-gray-400",children:"Join thousands of satisfied users across the region"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:LJ.map((r,a)=>i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:a*.2},children:i.jsx(be,{className:"h-full bg-black/40 backdrop-blur-xl border-white/10",children:i.jsxs(we,{className:"p-6",children:[i.jsx("div",{className:"flex items-center mb-4",children:[...Array(5)].map((s,c)=>i.jsx(p0,{className:"h-4 w-4 text-yellow-400 fill-current"},c))}),i.jsxs("p",{className:"text-gray-300 mb-6 italic",children:['"',r.content,'"']}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"text-2xl",children:r.avatar}),i.jsxs("div",{children:[i.jsx("div",{className:"text-white font-semibold",children:r.name}),i.jsx("div",{className:"text-gray-400 text-sm",children:r.role})]})]})]})})},r.name))})]})}),i.jsx("section",{className:"relative py-32",children:i.jsx("div",{className:"container mx-auto px-4 text-center",children:i.jsxs(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"relative",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-3xl blur-xl"}),i.jsxs("div",{className:"relative bg-black/40 backdrop-blur-xl rounded-3xl p-16 border border-white/10",children:[i.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:[i.jsx("span",{className:"bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Ready to Transform"}),i.jsx("br",{}),i.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Your Payments?"})]}),i.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-2xl mx-auto",children:"Join the digital payment revolution. Get started in minutes and experience the future of finance."}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[i.jsx(Ht,{to:"/register",children:i.jsxs(De,{size:"lg",className:"group bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 px-8 py-4 text-lg border-0",children:["Get Started Now",i.jsx(n0,{className:"ml-2 h-5 w-5 transition-transform group-hover:translate-x-1"})]})}),i.jsx(Ht,{to:"/login",children:i.jsx(De,{variant:"outline",size:"lg",className:"border-white/20 text-white hover:bg-white/10 px-8 py-4 text-lg",children:"Talk to Sales"})})]})]})]})})}),i.jsx("footer",{className:"relative border-t border-white/10 bg-black/40 py-16",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-12",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("img",{src:"/logo.svg",alt:"Tickets Logo",className:"h-8 w-8"}),i.jsx("h3",{className:"text-xl font-bold text-white",children:"Tickets"})]}),i.jsx("p",{className:"text-gray-400 mb-6 max-w-md",children:"The next generation digital payment platform, designed for the modern economy."}),i.jsxs("div",{className:"flex items-center gap-2 text-green-400",children:[i.jsx(fs,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm",children:"SOC 2 Type II Certified"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-white font-semibold mb-4",children:"Product"}),i.jsxs("ul",{className:"space-y-2 text-gray-400",children:[i.jsx("li",{children:"Digital Wallet"}),i.jsx("li",{children:"QR Payments"}),i.jsx("li",{children:"Event Tickets"}),i.jsx("li",{children:"Analytics"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-white font-semibold mb-4",children:"Company"}),i.jsxs("ul",{className:"space-y-2 text-gray-400",children:[i.jsx("li",{children:"About Us"}),i.jsx("li",{children:"Careers"}),i.jsx("li",{children:"Contact"}),i.jsx("li",{children:"Support"})]})]})]}),i.jsx("div",{className:"border-t border-white/10 pt-8 text-center",children:i.jsx("p",{className:"text-gray-400",children:"© 2024 Tickets. All rights reserved. | Built with ❤️ for the future of payments."})})]})})]})}function qt({className:e,type:t,...n}){return i.jsx("input",{type:t,"data-slot":"input",className:Et("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var FJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ot=FJ.reduce((e,t)=>{const n=id(`Primitive.${t}`),r=A.forwardRef((a,s)=>{const{asChild:c,...f}=a,m=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(m,{...f,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function R6(e,t){e&&yd.flushSync(()=>e.dispatchEvent(t))}var UJ="Label",I6=A.forwardRef((e,t)=>i.jsx(Ot.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));I6.displayName=UJ;var zJ=I6;function pt({className:e,...t}){return i.jsx(zJ,{"data-slot":"label",className:Et("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}const VJ=rE("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Ys({className:e,variant:t,...n}){return i.jsx("div",{"data-slot":"alert",role:"alert",className:Et(VJ({variant:t}),e),...n})}function Ws({className:e,...t}){return i.jsx("div",{"data-slot":"alert-description",className:Et("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}function $J(){const[e,t]=A.useState({email:"",password:""}),[n,r]=A.useState(!1),[a,s]=A.useState(""),[c,f]=A.useState(!1),{signIn:m}=yn(),{t:h}=tn(),p=Il(),v=async E=>{E.preventDefault(),s(""),f(!0);try{const{error:O}=await m(e.email,e.password);O?s(O.message):p("/")}catch{s("An unexpected error occurred")}finally{f(!1)}},j=(E,O)=>{t(T=>({...T,[E]:O}))};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:[i.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),i.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"})]}),i.jsxs(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md relative",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs(Ht,{to:"/",className:"inline-flex items-center gap-2 text-white/70 hover:text-white transition-colors mb-6",children:[i.jsx(H0,{className:"h-4 w-4"}),"Back to Home"]}),i.jsxs(Ye.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2},className:"flex items-center justify-center gap-3 mb-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:"/logo.svg",alt:"Tickets Logo",className:"h-12 w-12"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-400 rounded-lg blur opacity-50"})]}),i.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Tickets"})]}),i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[i.jsx(cE,{className:"h-4 w-4 text-yellow-400"}),i.jsx("span",{className:"text-white/70 text-sm",children:"Welcome back"})]})]}),i.jsxs(be,{className:"bg-black/40 backdrop-blur-xl border-white/10 shadow-2xl",children:[i.jsxs(Pe,{className:"text-center pb-2",children:[i.jsx(ke,{className:"text-2xl font-bold text-white",children:"Sign In"}),i.jsx(rt,{className:"text-gray-400",children:"Access your digital wallet and manage your payments"})]}),i.jsxs(we,{className:"space-y-6",children:[i.jsxs("form",{onSubmit:v,className:"space-y-4",children:[a&&i.jsx(Ys,{variant:"destructive",className:"bg-red-500/10 border-red-500/20",children:i.jsx(Ws,{className:"text-red-400",children:a})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pt,{htmlFor:"email",className:"text-white",children:"Email Address"}),i.jsx(qt,{id:"email",type:"email",value:e.email,onChange:E=>j("email",E.target.value),placeholder:"your@email.com",required:!0,className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-blue-400/50 focus:ring-blue-400/20"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pt,{htmlFor:"password",className:"text-white",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(qt,{id:"password",type:n?"text":"password",value:e.password,onChange:E=>j("password",E.target.value),placeholder:"Enter your password",required:!0,className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-blue-400/50 focus:ring-blue-400/20 pr-12"}),i.jsx(De,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent text-gray-400 hover:text-white",onClick:()=>r(!n),children:n?i.jsx(wi,{className:"h-4 w-4"}):i.jsx(mr,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("div",{className:"text-gray-400",children:"Remember me"}),i.jsx(Ht,{to:"/forgot-password",className:"text-blue-400 hover:text-blue-300 transition-colors",children:"Forgot password?"})]}),i.jsx(Ye.div,{whileHover:{scale:1.01},whileTap:{scale:.99},children:i.jsxs(De,{type:"submit",className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 border-0 text-white py-6 text-lg font-semibold transition-all duration-300 shadow-lg hover:shadow-xl",disabled:c,children:[c&&i.jsx(Fc,{className:"mr-2 h-5 w-5 animate-spin"}),"Sign In"]})})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("span",{className:"w-full border-t border-white/10"})}),i.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:i.jsx("span",{className:"bg-black/40 px-2 text-gray-400",children:"Or continue with"})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Ye.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:i.jsxs(De,{variant:"outline",className:"w-full border-white/10 text-white hover:bg-white/5 bg-white/5 transition-all duration-200",children:[i.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[i.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),i.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),i.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),i.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]})}),i.jsx(Ye.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:i.jsxs(De,{variant:"outline",className:"w-full border-white/10 text-white hover:bg-white/5 bg-white/5 transition-all duration-200",children:[i.jsx("svg",{className:"mr-2 h-4 w-4",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Facebook"]})})]}),i.jsx("div",{className:"text-center",children:i.jsxs("div",{className:"text-sm text-gray-400",children:["Don't have an account?"," ",i.jsx(Ht,{to:"/register",className:"text-blue-400 hover:text-blue-300 transition-colors font-semibold",children:"Sign up for free"})]})})]})]}),i.jsx("div",{className:"mt-8 text-center",children:i.jsxs("div",{className:"flex items-center justify-center gap-6 text-xs text-gray-500",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),i.jsx("span",{children:"Secure"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),i.jsx("span",{children:"Encrypted"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),i.jsx("span",{children:"Private"})]})]})})]})]})}function KO(e,[t,n]){return Math.min(n,Math.max(t,e))}function mt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function HJ(e,t){const n=A.createContext(t),r=s=>{const{children:c,...f}=s,m=A.useMemo(()=>f,Object.values(f));return i.jsx(n.Provider,{value:m,children:c})};r.displayName=e+"Provider";function a(s){const c=A.useContext(n);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,a]}function Js(e,t=[]){let n=[];function r(s,c){const f=A.createContext(c),m=n.length;n=[...n,c];const h=v=>{var D;const{scope:j,children:E,...O}=v,T=((D=j==null?void 0:j[e])==null?void 0:D[m])||f,_=A.useMemo(()=>O,Object.values(O));return i.jsx(T.Provider,{value:_,children:E})};h.displayName=s+"Provider";function p(v,j){var T;const E=((T=j==null?void 0:j[e])==null?void 0:T[m])||f,O=A.useContext(E);if(O)return O;if(c!==void 0)return c;throw new Error(`\`${v}\` must be used within \`${s}\``)}return[h,p]}const a=()=>{const s=n.map(c=>A.createContext(c));return function(f){const m=(f==null?void 0:f[e])||s;return A.useMemo(()=>({[`__scope${e}`]:{...f,[e]:m}}),[f,m])}};return a.scopeName=e,[r,qJ(a,...t)]}function qJ(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const c=r.reduce((f,{useScope:m,scopeName:h})=>{const v=m(s)[`__scope${h}`];return{...f,...v}},{});return A.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return n.scopeName=t.scopeName,n}function dE(e){const t=e+"CollectionProvider",[n,r]=Js(t),[a,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),c=T=>{const{scope:_,children:D}=T,P=Ke.useRef(null),I=Ke.useRef(new Map).current;return i.jsx(a,{scope:_,itemMap:I,collectionRef:P,children:D})};c.displayName=t;const f=e+"CollectionSlot",m=id(f),h=Ke.forwardRef((T,_)=>{const{scope:D,children:P}=T,I=s(f,D),U=Rn(_,I.collectionRef);return i.jsx(m,{ref:U,children:P})});h.displayName=f;const p=e+"CollectionItemSlot",v="data-radix-collection-item",j=id(p),E=Ke.forwardRef((T,_)=>{const{scope:D,children:P,...I}=T,U=Ke.useRef(null),F=Rn(_,U),L=s(p,D);return Ke.useEffect(()=>(L.itemMap.set(U,{ref:U,...I}),()=>void L.itemMap.delete(U))),i.jsx(j,{[v]:"",ref:F,children:P})});E.displayName=p;function O(T){const _=s(e+"CollectionConsumer",T);return Ke.useCallback(()=>{const P=_.collectionRef.current;if(!P)return[];const I=Array.from(P.querySelectorAll(`[${v}]`));return Array.from(_.itemMap.values()).sort((L,B)=>I.indexOf(L.ref.current)-I.indexOf(B.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:c,Slot:h,ItemSlot:E},O,r]}var YJ=A.createContext(void 0);function B1(e){const t=A.useContext(YJ);return e||t||"ltr"}function Gs(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e}),A.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function WJ(e,t=globalThis==null?void 0:globalThis.document){const n=Gs(e);A.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var GJ="DismissableLayer",XS="dismissableLayer.update",KJ="dismissableLayer.pointerDownOutside",XJ="dismissableLayer.focusOutside",XO,P6=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),F1=A.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:c,onDismiss:f,...m}=e,h=A.useContext(P6),[p,v]=A.useState(null),j=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,E]=A.useState({}),O=Rn(t,B=>v(B)),T=Array.from(h.layers),[_]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),D=T.indexOf(_),P=p?T.indexOf(p):-1,I=h.layersWithOutsidePointerEventsDisabled.size>0,U=P>=D,F=JJ(B=>{const $=B.target,z=[...h.branches].some(H=>H.contains($));!U||z||(a==null||a(B),c==null||c(B),B.defaultPrevented||f==null||f())},j),L=eee(B=>{const $=B.target;[...h.branches].some(H=>H.contains($))||(s==null||s(B),c==null||c(B),B.defaultPrevented||f==null||f())},j);return WJ(B=>{P===h.layers.size-1&&(r==null||r(B),!B.defaultPrevented&&f&&(B.preventDefault(),f()))},j),A.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(XO=j.body.style.pointerEvents,j.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),QO(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(j.body.style.pointerEvents=XO)}},[p,j,n,h]),A.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),QO())},[p,h]),A.useEffect(()=>{const B=()=>E({});return document.addEventListener(XS,B),()=>document.removeEventListener(XS,B)},[]),i.jsx(Ot.div,{...m,ref:O,style:{pointerEvents:I?U?"auto":"none":void 0,...e.style},onFocusCapture:mt(e.onFocusCapture,L.onFocusCapture),onBlurCapture:mt(e.onBlurCapture,L.onBlurCapture),onPointerDownCapture:mt(e.onPointerDownCapture,F.onPointerDownCapture)})});F1.displayName=GJ;var QJ="DismissableLayerBranch",ZJ=A.forwardRef((e,t)=>{const n=A.useContext(P6),r=A.useRef(null),a=Rn(t,r);return A.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),i.jsx(Ot.div,{...e,ref:a})});ZJ.displayName=QJ;function JJ(e,t=globalThis==null?void 0:globalThis.document){const n=Gs(e),r=A.useRef(!1),a=A.useRef(()=>{});return A.useEffect(()=>{const s=f=>{if(f.target&&!r.current){let m=function(){k6(KJ,n,h,{discrete:!0})};const h={originalEvent:f};f.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=m,t.addEventListener("click",a.current,{once:!0})):m()}else t.removeEventListener("click",a.current);r.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function eee(e,t=globalThis==null?void 0:globalThis.document){const n=Gs(e),r=A.useRef(!1);return A.useEffect(()=>{const a=s=>{s.target&&!r.current&&k6(XJ,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function QO(){const e=new CustomEvent(XS);document.dispatchEvent(e)}function k6(e,t,n,{discrete:r}){const a=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?R6(a,s):a.dispatchEvent(s)}var vw=0;function fE(){A.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ZO()),document.body.insertAdjacentElement("beforeend",e[1]??ZO()),vw++,()=>{vw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),vw--}},[])}function ZO(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var yw="focusScope.autoFocusOnMount",bw="focusScope.autoFocusOnUnmount",JO={bubbles:!1,cancelable:!0},tee="FocusScope",U1=A.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...c}=e,[f,m]=A.useState(null),h=Gs(a),p=Gs(s),v=A.useRef(null),j=Rn(t,T=>m(T)),E=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(r){let T=function(I){if(E.paused||!f)return;const U=I.target;f.contains(U)?v.current=U:Mc(v.current,{select:!0})},_=function(I){if(E.paused||!f)return;const U=I.relatedTarget;U!==null&&(f.contains(U)||Mc(v.current,{select:!0}))},D=function(I){if(document.activeElement===document.body)for(const F of I)F.removedNodes.length>0&&Mc(f)};document.addEventListener("focusin",T),document.addEventListener("focusout",_);const P=new MutationObserver(D);return f&&P.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",_),P.disconnect()}}},[r,f,E.paused]),A.useEffect(()=>{if(f){tM.add(E);const T=document.activeElement;if(!f.contains(T)){const D=new CustomEvent(yw,JO);f.addEventListener(yw,h),f.dispatchEvent(D),D.defaultPrevented||(nee(oee(L6(f)),{select:!0}),document.activeElement===T&&Mc(f))}return()=>{f.removeEventListener(yw,h),setTimeout(()=>{const D=new CustomEvent(bw,JO);f.addEventListener(bw,p),f.dispatchEvent(D),D.defaultPrevented||Mc(T??document.body,{select:!0}),f.removeEventListener(bw,p),tM.remove(E)},0)}}},[f,h,p,E]);const O=A.useCallback(T=>{if(!n&&!r||E.paused)return;const _=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,D=document.activeElement;if(_&&D){const P=T.currentTarget,[I,U]=ree(P);I&&U?!T.shiftKey&&D===U?(T.preventDefault(),n&&Mc(I,{select:!0})):T.shiftKey&&D===I&&(T.preventDefault(),n&&Mc(U,{select:!0})):D===P&&T.preventDefault()}},[n,r,E.paused]);return i.jsx(Ot.div,{tabIndex:-1,...c,ref:j,onKeyDown:O})});U1.displayName=tee;function nee(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Mc(r,{select:t}),document.activeElement!==n)return}function ree(e){const t=L6(e),n=eM(t,e),r=eM(t.reverse(),e);return[n,r]}function L6(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function eM(e,t){for(const n of e)if(!aee(n,{upTo:t}))return n}function aee(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function iee(e){return e instanceof HTMLInputElement&&"select"in e}function Mc(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&iee(e)&&t&&e.select()}}var tM=see();function see(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=nM(e,t),e.unshift(t)},remove(t){var n;e=nM(e,t),(n=e[0])==null||n.resume()}}}function nM(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function oee(e){return e.filter(t=>t.tagName!=="A")}var la=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{},lee=QP[" useId ".trim().toString()]||(()=>{}),cee=0;function Oo(e){const[t,n]=A.useState(lee());return la(()=>{n(r=>r??String(cee++))},[e]),e||(t?`radix-${t}`:"")}const uee=["top","right","bottom","left"],Uc=Math.min,Ui=Math.max,Tx=Math.round,Lp=Math.floor,Mo=e=>({x:e,y:e}),dee={left:"right",right:"left",bottom:"top",top:"bottom"},fee={start:"end",end:"start"};function QS(e,t,n){return Ui(e,Uc(t,n))}function _l(e,t){return typeof e=="function"?e(t):e}function Cl(e){return e.split("-")[0]}function wh(e){return e.split("-")[1]}function hE(e){return e==="x"?"y":"x"}function mE(e){return e==="y"?"height":"width"}function xl(e){return["top","bottom"].includes(Cl(e))?"y":"x"}function gE(e){return hE(xl(e))}function hee(e,t,n){n===void 0&&(n=!1);const r=wh(e),a=gE(e),s=mE(a);let c=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(c=Ox(c)),[c,Ox(c)]}function mee(e){const t=Ox(e);return[ZS(e),t,ZS(t)]}function ZS(e){return e.replace(/start|end/g,t=>fee[t])}function gee(e,t,n){const r=["left","right"],a=["right","left"],s=["top","bottom"],c=["bottom","top"];switch(e){case"top":case"bottom":return n?t?a:r:t?r:a;case"left":case"right":return t?s:c;default:return[]}}function pee(e,t,n,r){const a=wh(e);let s=gee(Cl(e),n==="start",r);return a&&(s=s.map(c=>c+"-"+a),t&&(s=s.concat(s.map(ZS)))),s}function Ox(e){return e.replace(/left|right|bottom|top/g,t=>dee[t])}function xee(e){return{top:0,right:0,bottom:0,left:0,...e}}function B6(e){return typeof e!="number"?xee(e):{top:e,right:e,bottom:e,left:e}}function Mx(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function rM(e,t,n){let{reference:r,floating:a}=e;const s=xl(t),c=gE(t),f=mE(c),m=Cl(t),h=s==="y",p=r.x+r.width/2-a.width/2,v=r.y+r.height/2-a.height/2,j=r[f]/2-a[f]/2;let E;switch(m){case"top":E={x:p,y:r.y-a.height};break;case"bottom":E={x:p,y:r.y+r.height};break;case"right":E={x:r.x+r.width,y:v};break;case"left":E={x:r.x-a.width,y:v};break;default:E={x:r.x,y:r.y}}switch(wh(t)){case"start":E[c]-=j*(n&&h?-1:1);break;case"end":E[c]+=j*(n&&h?-1:1);break}return E}const vee=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:s=[],platform:c}=n,f=s.filter(Boolean),m=await(c.isRTL==null?void 0:c.isRTL(t));let h=await c.getElementRects({reference:e,floating:t,strategy:a}),{x:p,y:v}=rM(h,r,m),j=r,E={},O=0;for(let T=0;T<f.length;T++){const{name:_,fn:D}=f[T],{x:P,y:I,data:U,reset:F}=await D({x:p,y:v,initialPlacement:r,placement:j,strategy:a,middlewareData:E,rects:h,platform:c,elements:{reference:e,floating:t}});p=P??p,v=I??v,E={...E,[_]:{...E[_],...U}},F&&O<=50&&(O++,typeof F=="object"&&(F.placement&&(j=F.placement),F.rects&&(h=F.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:a}):F.rects),{x:p,y:v}=rM(h,j,m)),T=-1)}return{x:p,y:v,placement:j,strategy:a,middlewareData:E}};async function x0(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:s,rects:c,elements:f,strategy:m}=e,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:v="floating",altBoundary:j=!1,padding:E=0}=_l(t,e),O=B6(E),_=f[j?v==="floating"?"reference":"floating":v],D=Mx(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(_)))==null||n?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(f.floating)),boundary:h,rootBoundary:p,strategy:m})),P=v==="floating"?{x:r,y:a,width:c.floating.width,height:c.floating.height}:c.reference,I=await(s.getOffsetParent==null?void 0:s.getOffsetParent(f.floating)),U=await(s.isElement==null?void 0:s.isElement(I))?await(s.getScale==null?void 0:s.getScale(I))||{x:1,y:1}:{x:1,y:1},F=Mx(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:P,offsetParent:I,strategy:m}):P);return{top:(D.top-F.top+O.top)/U.y,bottom:(F.bottom-D.bottom+O.bottom)/U.y,left:(D.left-F.left+O.left)/U.x,right:(F.right-D.right+O.right)/U.x}}const yee=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:s,platform:c,elements:f,middlewareData:m}=t,{element:h,padding:p=0}=_l(e,t)||{};if(h==null)return{};const v=B6(p),j={x:n,y:r},E=gE(a),O=mE(E),T=await c.getDimensions(h),_=E==="y",D=_?"top":"left",P=_?"bottom":"right",I=_?"clientHeight":"clientWidth",U=s.reference[O]+s.reference[E]-j[E]-s.floating[O],F=j[E]-s.reference[E],L=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h));let B=L?L[I]:0;(!B||!await(c.isElement==null?void 0:c.isElement(L)))&&(B=f.floating[I]||s.floating[O]);const $=U/2-F/2,z=B/2-T[O]/2-1,H=Uc(v[D],z),X=Uc(v[P],z),K=H,ee=B-T[O]-X,ue=B/2-T[O]/2+$,ne=QS(K,ue,ee),G=!m.arrow&&wh(a)!=null&&ue!==ne&&s.reference[O]/2-(ue<K?H:X)-T[O]/2<0,Q=G?ue<K?ue-K:ue-ee:0;return{[E]:j[E]+Q,data:{[E]:ne,centerOffset:ue-ne-Q,...G&&{alignmentOffset:Q}},reset:G}}}),bee=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:s,rects:c,initialPlacement:f,platform:m,elements:h}=t,{mainAxis:p=!0,crossAxis:v=!0,fallbackPlacements:j,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:O="none",flipAlignment:T=!0,..._}=_l(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const D=Cl(a),P=xl(f),I=Cl(f)===f,U=await(m.isRTL==null?void 0:m.isRTL(h.floating)),F=j||(I||!T?[Ox(f)]:mee(f)),L=O!=="none";!j&&L&&F.push(...pee(f,T,O,U));const B=[f,...F],$=await x0(t,_),z=[];let H=((r=s.flip)==null?void 0:r.overflows)||[];if(p&&z.push($[D]),v){const ne=hee(a,c,U);z.push($[ne[0]],$[ne[1]])}if(H=[...H,{placement:a,overflows:z}],!z.every(ne=>ne<=0)){var X,K;const ne=(((X=s.flip)==null?void 0:X.index)||0)+1,G=B[ne];if(G){var ee;const ae=v==="alignment"?P!==xl(G):!1,he=((ee=H[0])==null?void 0:ee.overflows[0])>0;if(!ae||he)return{data:{index:ne,overflows:H},reset:{placement:G}}}let Q=(K=H.filter(ae=>ae.overflows[0]<=0).sort((ae,he)=>ae.overflows[1]-he.overflows[1])[0])==null?void 0:K.placement;if(!Q)switch(E){case"bestFit":{var ue;const ae=(ue=H.filter(he=>{if(L){const te=xl(he.placement);return te===P||te==="y"}return!0}).map(he=>[he.placement,he.overflows.filter(te=>te>0).reduce((te,fe)=>te+fe,0)]).sort((he,te)=>he[1]-te[1])[0])==null?void 0:ue[0];ae&&(Q=ae);break}case"initialPlacement":Q=f;break}if(a!==Q)return{reset:{placement:Q}}}return{}}}};function aM(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function iM(e){return uee.some(t=>e[t]>=0)}const wee=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=_l(e,t);switch(r){case"referenceHidden":{const s=await x0(t,{...a,elementContext:"reference"}),c=aM(s,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:iM(c)}}}case"escaped":{const s=await x0(t,{...a,altBoundary:!0}),c=aM(s,n.floating);return{data:{escapedOffsets:c,escaped:iM(c)}}}default:return{}}}}};async function See(e,t){const{placement:n,platform:r,elements:a}=e,s=await(r.isRTL==null?void 0:r.isRTL(a.floating)),c=Cl(n),f=wh(n),m=xl(n)==="y",h=["left","top"].includes(c)?-1:1,p=s&&m?-1:1,v=_l(t,e);let{mainAxis:j,crossAxis:E,alignmentAxis:O}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return f&&typeof O=="number"&&(E=f==="end"?O*-1:O),m?{x:E*p,y:j*h}:{x:j*h,y:E*p}}const jee=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:s,placement:c,middlewareData:f}=t,m=await See(t,e);return c===((n=f.offset)==null?void 0:n.placement)&&(r=f.arrow)!=null&&r.alignmentOffset?{}:{x:a+m.x,y:s+m.y,data:{...m,placement:c}}}}},Aee=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:s=!0,crossAxis:c=!1,limiter:f={fn:_=>{let{x:D,y:P}=_;return{x:D,y:P}}},...m}=_l(e,t),h={x:n,y:r},p=await x0(t,m),v=xl(Cl(a)),j=hE(v);let E=h[j],O=h[v];if(s){const _=j==="y"?"top":"left",D=j==="y"?"bottom":"right",P=E+p[_],I=E-p[D];E=QS(P,E,I)}if(c){const _=v==="y"?"top":"left",D=v==="y"?"bottom":"right",P=O+p[_],I=O-p[D];O=QS(P,O,I)}const T=f.fn({...t,[j]:E,[v]:O});return{...T,data:{x:T.x-n,y:T.y-r,enabled:{[j]:s,[v]:c}}}}}},Eee=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:s,middlewareData:c}=t,{offset:f=0,mainAxis:m=!0,crossAxis:h=!0}=_l(e,t),p={x:n,y:r},v=xl(a),j=hE(v);let E=p[j],O=p[v];const T=_l(f,t),_=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(m){const I=j==="y"?"height":"width",U=s.reference[j]-s.floating[I]+_.mainAxis,F=s.reference[j]+s.reference[I]-_.mainAxis;E<U?E=U:E>F&&(E=F)}if(h){var D,P;const I=j==="y"?"width":"height",U=["top","left"].includes(Cl(a)),F=s.reference[v]-s.floating[I]+(U&&((D=c.offset)==null?void 0:D[v])||0)+(U?0:_.crossAxis),L=s.reference[v]+s.reference[I]+(U?0:((P=c.offset)==null?void 0:P[v])||0)-(U?_.crossAxis:0);O<F?O=F:O>L&&(O=L)}return{[j]:E,[v]:O}}}},Nee=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:s,platform:c,elements:f}=t,{apply:m=()=>{},...h}=_l(e,t),p=await x0(t,h),v=Cl(a),j=wh(a),E=xl(a)==="y",{width:O,height:T}=s.floating;let _,D;v==="top"||v==="bottom"?(_=v,D=j===(await(c.isRTL==null?void 0:c.isRTL(f.floating))?"start":"end")?"left":"right"):(D=v,_=j==="end"?"top":"bottom");const P=T-p.top-p.bottom,I=O-p.left-p.right,U=Uc(T-p[_],P),F=Uc(O-p[D],I),L=!t.middlewareData.shift;let B=U,$=F;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&($=I),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(B=P),L&&!j){const H=Ui(p.left,0),X=Ui(p.right,0),K=Ui(p.top,0),ee=Ui(p.bottom,0);E?$=O-2*(H!==0||X!==0?H+X:Ui(p.left,p.right)):B=T-2*(K!==0||ee!==0?K+ee:Ui(p.top,p.bottom))}await m({...t,availableWidth:$,availableHeight:B});const z=await c.getDimensions(f.floating);return O!==z.width||T!==z.height?{reset:{rects:!0}}:{}}}};function z1(){return typeof window<"u"}function Sh(e){return F6(e)?(e.nodeName||"").toLowerCase():"#document"}function qi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function zo(e){var t;return(t=(F6(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function F6(e){return z1()?e instanceof Node||e instanceof qi(e).Node:!1}function Ks(e){return z1()?e instanceof Element||e instanceof qi(e).Element:!1}function Po(e){return z1()?e instanceof HTMLElement||e instanceof qi(e).HTMLElement:!1}function sM(e){return!z1()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof qi(e).ShadowRoot}function Y0(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=Xs(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(a)}function _ee(e){return["table","td","th"].includes(Sh(e))}function V1(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function pE(e){const t=xE(),n=Ks(e)?Xs(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Cee(e){let t=zc(e);for(;Po(t)&&!Jf(t);){if(pE(t))return t;if(V1(t))return null;t=zc(t)}return null}function xE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Jf(e){return["html","body","#document"].includes(Sh(e))}function Xs(e){return qi(e).getComputedStyle(e)}function $1(e){return Ks(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function zc(e){if(Sh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||sM(e)&&e.host||zo(e);return sM(t)?t.host:t}function U6(e){const t=zc(e);return Jf(t)?e.ownerDocument?e.ownerDocument.body:e.body:Po(t)&&Y0(t)?t:U6(t)}function v0(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=U6(e),s=a===((r=e.ownerDocument)==null?void 0:r.body),c=qi(a);if(s){const f=JS(c);return t.concat(c,c.visualViewport||[],Y0(a)?a:[],f&&n?v0(f):[])}return t.concat(a,v0(a,[],n))}function JS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function z6(e){const t=Xs(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Po(e),s=a?e.offsetWidth:n,c=a?e.offsetHeight:r,f=Tx(n)!==s||Tx(r)!==c;return f&&(n=s,r=c),{width:n,height:r,$:f}}function vE(e){return Ks(e)?e:e.contextElement}function Vf(e){const t=vE(e);if(!Po(t))return Mo(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:s}=z6(t);let c=(s?Tx(n.width):n.width)/r,f=(s?Tx(n.height):n.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!f||!Number.isFinite(f))&&(f=1),{x:c,y:f}}const Tee=Mo(0);function V6(e){const t=qi(e);return!xE()||!t.visualViewport?Tee:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Oee(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==qi(e)?!1:t}function od(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),s=vE(e);let c=Mo(1);t&&(r?Ks(r)&&(c=Vf(r)):c=Vf(e));const f=Oee(s,n,r)?V6(s):Mo(0);let m=(a.left+f.x)/c.x,h=(a.top+f.y)/c.y,p=a.width/c.x,v=a.height/c.y;if(s){const j=qi(s),E=r&&Ks(r)?qi(r):r;let O=j,T=JS(O);for(;T&&r&&E!==O;){const _=Vf(T),D=T.getBoundingClientRect(),P=Xs(T),I=D.left+(T.clientLeft+parseFloat(P.paddingLeft))*_.x,U=D.top+(T.clientTop+parseFloat(P.paddingTop))*_.y;m*=_.x,h*=_.y,p*=_.x,v*=_.y,m+=I,h+=U,O=qi(T),T=JS(O)}}return Mx({width:p,height:v,x:m,y:h})}function yE(e,t){const n=$1(e).scrollLeft;return t?t.left+n:od(zo(e)).left+n}function $6(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-(n?0:yE(e,r)),s=r.top+t.scrollTop;return{x:a,y:s}}function Mee(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const s=a==="fixed",c=zo(r),f=t?V1(t.floating):!1;if(r===c||f&&s)return n;let m={scrollLeft:0,scrollTop:0},h=Mo(1);const p=Mo(0),v=Po(r);if((v||!v&&!s)&&((Sh(r)!=="body"||Y0(c))&&(m=$1(r)),Po(r))){const E=od(r);h=Vf(r),p.x=E.x+r.clientLeft,p.y=E.y+r.clientTop}const j=c&&!v&&!s?$6(c,m,!0):Mo(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-m.scrollLeft*h.x+p.x+j.x,y:n.y*h.y-m.scrollTop*h.y+p.y+j.y}}function Dee(e){return Array.from(e.getClientRects())}function Ree(e){const t=zo(e),n=$1(e),r=e.ownerDocument.body,a=Ui(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Ui(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+yE(e);const f=-n.scrollTop;return Xs(r).direction==="rtl"&&(c+=Ui(t.clientWidth,r.clientWidth)-a),{width:a,height:s,x:c,y:f}}function Iee(e,t){const n=qi(e),r=zo(e),a=n.visualViewport;let s=r.clientWidth,c=r.clientHeight,f=0,m=0;if(a){s=a.width,c=a.height;const h=xE();(!h||h&&t==="fixed")&&(f=a.offsetLeft,m=a.offsetTop)}return{width:s,height:c,x:f,y:m}}function Pee(e,t){const n=od(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,s=Po(e)?Vf(e):Mo(1),c=e.clientWidth*s.x,f=e.clientHeight*s.y,m=a*s.x,h=r*s.y;return{width:c,height:f,x:m,y:h}}function oM(e,t,n){let r;if(t==="viewport")r=Iee(e,n);else if(t==="document")r=Ree(zo(e));else if(Ks(t))r=Pee(t,n);else{const a=V6(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Mx(r)}function H6(e,t){const n=zc(e);return n===t||!Ks(n)||Jf(n)?!1:Xs(n).position==="fixed"||H6(n,t)}function kee(e,t){const n=t.get(e);if(n)return n;let r=v0(e,[],!1).filter(f=>Ks(f)&&Sh(f)!=="body"),a=null;const s=Xs(e).position==="fixed";let c=s?zc(e):e;for(;Ks(c)&&!Jf(c);){const f=Xs(c),m=pE(c);!m&&f.position==="fixed"&&(a=null),(s?!m&&!a:!m&&f.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Y0(c)&&!m&&H6(e,c))?r=r.filter(p=>p!==c):a=f,c=zc(c)}return t.set(e,r),r}function Lee(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const c=[...n==="clippingAncestors"?V1(t)?[]:kee(t,this._c):[].concat(n),r],f=c[0],m=c.reduce((h,p)=>{const v=oM(t,p,a);return h.top=Ui(v.top,h.top),h.right=Uc(v.right,h.right),h.bottom=Uc(v.bottom,h.bottom),h.left=Ui(v.left,h.left),h},oM(t,f,a));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function Bee(e){const{width:t,height:n}=z6(e);return{width:t,height:n}}function Fee(e,t,n){const r=Po(t),a=zo(t),s=n==="fixed",c=od(e,!0,s,t);let f={scrollLeft:0,scrollTop:0};const m=Mo(0);function h(){m.x=yE(a)}if(r||!r&&!s)if((Sh(t)!=="body"||Y0(a))&&(f=$1(t)),r){const E=od(t,!0,s,t);m.x=E.x+t.clientLeft,m.y=E.y+t.clientTop}else a&&h();s&&!r&&a&&h();const p=a&&!r&&!s?$6(a,f):Mo(0),v=c.left+f.scrollLeft-m.x-p.x,j=c.top+f.scrollTop-m.y-p.y;return{x:v,y:j,width:c.width,height:c.height}}function ww(e){return Xs(e).position==="static"}function lM(e,t){if(!Po(e)||Xs(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return zo(e)===n&&(n=n.ownerDocument.body),n}function q6(e,t){const n=qi(e);if(V1(e))return n;if(!Po(e)){let a=zc(e);for(;a&&!Jf(a);){if(Ks(a)&&!ww(a))return a;a=zc(a)}return n}let r=lM(e,t);for(;r&&_ee(r)&&ww(r);)r=lM(r,t);return r&&Jf(r)&&ww(r)&&!pE(r)?n:r||Cee(e)||n}const Uee=async function(e){const t=this.getOffsetParent||q6,n=this.getDimensions,r=await n(e.floating);return{reference:Fee(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function zee(e){return Xs(e).direction==="rtl"}const Vee={convertOffsetParentRelativeRectToViewportRelativeRect:Mee,getDocumentElement:zo,getClippingRect:Lee,getOffsetParent:q6,getElementRects:Uee,getClientRects:Dee,getDimensions:Bee,getScale:Vf,isElement:Ks,isRTL:zee};function Y6(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function $ee(e,t){let n=null,r;const a=zo(e);function s(){var f;clearTimeout(r),(f=n)==null||f.disconnect(),n=null}function c(f,m){f===void 0&&(f=!1),m===void 0&&(m=1),s();const h=e.getBoundingClientRect(),{left:p,top:v,width:j,height:E}=h;if(f||t(),!j||!E)return;const O=Lp(v),T=Lp(a.clientWidth-(p+j)),_=Lp(a.clientHeight-(v+E)),D=Lp(p),I={rootMargin:-O+"px "+-T+"px "+-_+"px "+-D+"px",threshold:Ui(0,Uc(1,m))||1};let U=!0;function F(L){const B=L[0].intersectionRatio;if(B!==m){if(!U)return c();B?c(!1,B):r=setTimeout(()=>{c(!1,1e-7)},1e3)}B===1&&!Y6(h,e.getBoundingClientRect())&&c(),U=!1}try{n=new IntersectionObserver(F,{...I,root:a.ownerDocument})}catch{n=new IntersectionObserver(F,I)}n.observe(e)}return c(!0),s}function Hee(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:m=!1}=r,h=vE(e),p=a||s?[...h?v0(h):[],...v0(t)]:[];p.forEach(D=>{a&&D.addEventListener("scroll",n,{passive:!0}),s&&D.addEventListener("resize",n)});const v=h&&f?$ee(h,n):null;let j=-1,E=null;c&&(E=new ResizeObserver(D=>{let[P]=D;P&&P.target===h&&E&&(E.unobserve(t),cancelAnimationFrame(j),j=requestAnimationFrame(()=>{var I;(I=E)==null||I.observe(t)})),n()}),h&&!m&&E.observe(h),E.observe(t));let O,T=m?od(e):null;m&&_();function _(){const D=od(e);T&&!Y6(T,D)&&n(),T=D,O=requestAnimationFrame(_)}return n(),()=>{var D;p.forEach(P=>{a&&P.removeEventListener("scroll",n),s&&P.removeEventListener("resize",n)}),v==null||v(),(D=E)==null||D.disconnect(),E=null,m&&cancelAnimationFrame(O)}}const qee=jee,Yee=Aee,Wee=bee,Gee=Nee,Kee=wee,cM=yee,Xee=Eee,Qee=(e,t,n)=>{const r=new Map,a={platform:Vee,...n},s={...a.platform,_c:r};return vee(e,t,{...a,platform:s})};var px=typeof document<"u"?A.useLayoutEffect:A.useEffect;function Dx(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Dx(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const s=a[r];if(!(s==="_owner"&&e.$$typeof)&&!Dx(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function W6(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function uM(e,t){const n=W6(e);return Math.round(t*n)/n}function Sw(e){const t=A.useRef(e);return px(()=>{t.current=e}),t}function Zee(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:s,floating:c}={},transform:f=!0,whileElementsMounted:m,open:h}=e,[p,v]=A.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[j,E]=A.useState(r);Dx(j,r)||E(r);const[O,T]=A.useState(null),[_,D]=A.useState(null),P=A.useCallback(ae=>{ae!==L.current&&(L.current=ae,T(ae))},[]),I=A.useCallback(ae=>{ae!==B.current&&(B.current=ae,D(ae))},[]),U=s||O,F=c||_,L=A.useRef(null),B=A.useRef(null),$=A.useRef(p),z=m!=null,H=Sw(m),X=Sw(a),K=Sw(h),ee=A.useCallback(()=>{if(!L.current||!B.current)return;const ae={placement:t,strategy:n,middleware:j};X.current&&(ae.platform=X.current),Qee(L.current,B.current,ae).then(he=>{const te={...he,isPositioned:K.current!==!1};ue.current&&!Dx($.current,te)&&($.current=te,yd.flushSync(()=>{v(te)}))})},[j,t,n,X,K]);px(()=>{h===!1&&$.current.isPositioned&&($.current.isPositioned=!1,v(ae=>({...ae,isPositioned:!1})))},[h]);const ue=A.useRef(!1);px(()=>(ue.current=!0,()=>{ue.current=!1}),[]),px(()=>{if(U&&(L.current=U),F&&(B.current=F),U&&F){if(H.current)return H.current(U,F,ee);ee()}},[U,F,ee,H,z]);const ne=A.useMemo(()=>({reference:L,floating:B,setReference:P,setFloating:I}),[P,I]),G=A.useMemo(()=>({reference:U,floating:F}),[U,F]),Q=A.useMemo(()=>{const ae={position:n,left:0,top:0};if(!G.floating)return ae;const he=uM(G.floating,p.x),te=uM(G.floating,p.y);return f?{...ae,transform:"translate("+he+"px, "+te+"px)",...W6(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:he,top:te}},[n,f,G.floating,p.x,p.y]);return A.useMemo(()=>({...p,update:ee,refs:ne,elements:G,floatingStyles:Q}),[p,ee,ne,G,Q])}const Jee=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?cM({element:r.current,padding:a}).fn(n):{}:r?cM({element:r,padding:a}).fn(n):{}}}},ete=(e,t)=>({...qee(e),options:[e,t]}),tte=(e,t)=>({...Yee(e),options:[e,t]}),nte=(e,t)=>({...Xee(e),options:[e,t]}),rte=(e,t)=>({...Wee(e),options:[e,t]}),ate=(e,t)=>({...Gee(e),options:[e,t]}),ite=(e,t)=>({...Kee(e),options:[e,t]}),ste=(e,t)=>({...Jee(e),options:[e,t]});var ote="Arrow",G6=A.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...s}=e;return i.jsx(Ot.svg,{...s,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});G6.displayName=ote;var lte=G6;function K6(e){const[t,n]=A.useState(void 0);return la(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let c,f;if("borderBoxSize"in s){const m=s.borderBoxSize,h=Array.isArray(m)?m[0]:m;c=h.inlineSize,f=h.blockSize}else c=e.offsetWidth,f=e.offsetHeight;n({width:c,height:f})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var bE="Popper",[X6,H1]=Js(bE),[cte,Q6]=X6(bE),Z6=e=>{const{__scopePopper:t,children:n}=e,[r,a]=A.useState(null);return i.jsx(cte,{scope:t,anchor:r,onAnchorChange:a,children:n})};Z6.displayName=bE;var J6="PopperAnchor",e5=A.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,s=Q6(J6,n),c=A.useRef(null),f=Rn(t,c);return A.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||c.current)}),r?null:i.jsx(Ot.div,{...a,ref:f})});e5.displayName=J6;var wE="PopperContent",[ute,dte]=X6(wE),t5=A.forwardRef((e,t)=>{var pe,Ie,xe,Fe,Le,Ne;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:s="center",alignOffset:c=0,arrowPadding:f=0,avoidCollisions:m=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:v="partial",hideWhenDetached:j=!1,updatePositionStrategy:E="optimized",onPlaced:O,...T}=e,_=Q6(wE,n),[D,P]=A.useState(null),I=Rn(t,Xe=>P(Xe)),[U,F]=A.useState(null),L=K6(U),B=(L==null?void 0:L.width)??0,$=(L==null?void 0:L.height)??0,z=r+(s!=="center"?"-"+s:""),H=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},X=Array.isArray(h)?h:[h],K=X.length>0,ee={padding:H,boundary:X.filter(hte),altBoundary:K},{refs:ue,floatingStyles:ne,placement:G,isPositioned:Q,middlewareData:ae}=Zee({strategy:"fixed",placement:z,whileElementsMounted:(...Xe)=>Hee(...Xe,{animationFrame:E==="always"}),elements:{reference:_.anchor},middleware:[ete({mainAxis:a+$,alignmentAxis:c}),m&&tte({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?nte():void 0,...ee}),m&&rte({...ee}),ate({...ee,apply:({elements:Xe,rects:$e,availableWidth:Ze,availableHeight:Mt})=>{const{width:ht,height:Nt}=$e.reference,Qe=Xe.floating.style;Qe.setProperty("--radix-popper-available-width",`${Ze}px`),Qe.setProperty("--radix-popper-available-height",`${Mt}px`),Qe.setProperty("--radix-popper-anchor-width",`${ht}px`),Qe.setProperty("--radix-popper-anchor-height",`${Nt}px`)}}),U&&ste({element:U,padding:f}),mte({arrowWidth:B,arrowHeight:$}),j&&ite({strategy:"referenceHidden",...ee})]}),[he,te]=a5(G),fe=Gs(O);la(()=>{Q&&(fe==null||fe())},[Q,fe]);const se=(pe=ae.arrow)==null?void 0:pe.x,me=(Ie=ae.arrow)==null?void 0:Ie.y,Re=((xe=ae.arrow)==null?void 0:xe.centerOffset)!==0,[ye,oe]=A.useState();return la(()=>{D&&oe(window.getComputedStyle(D).zIndex)},[D]),i.jsx("div",{ref:ue.setFloating,"data-radix-popper-content-wrapper":"",style:{...ne,transform:Q?ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ye,"--radix-popper-transform-origin":[(Fe=ae.transformOrigin)==null?void 0:Fe.x,(Le=ae.transformOrigin)==null?void 0:Le.y].join(" "),...((Ne=ae.hide)==null?void 0:Ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(ute,{scope:n,placedSide:he,onArrowChange:F,arrowX:se,arrowY:me,shouldHideArrow:Re,children:i.jsx(Ot.div,{"data-side":he,"data-align":te,...T,ref:I,style:{...T.style,animation:Q?void 0:"none"}})})})});t5.displayName=wE;var n5="PopperArrow",fte={top:"bottom",right:"left",bottom:"top",left:"right"},r5=A.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,s=dte(n5,r),c=fte[s.placedSide];return i.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:i.jsx(lte,{...a,ref:n,style:{...a.style,display:"block"}})})});r5.displayName=n5;function hte(e){return e!==null}var mte=e=>({name:"transformOrigin",options:e,fn(t){var _,D,P;const{placement:n,rects:r,middlewareData:a}=t,c=((_=a.arrow)==null?void 0:_.centerOffset)!==0,f=c?0:e.arrowWidth,m=c?0:e.arrowHeight,[h,p]=a5(n),v={start:"0%",center:"50%",end:"100%"}[p],j=(((D=a.arrow)==null?void 0:D.x)??0)+f/2,E=(((P=a.arrow)==null?void 0:P.y)??0)+m/2;let O="",T="";return h==="bottom"?(O=c?v:`${j}px`,T=`${-m}px`):h==="top"?(O=c?v:`${j}px`,T=`${r.floating.height+m}px`):h==="right"?(O=`${-m}px`,T=c?v:`${E}px`):h==="left"&&(O=`${r.floating.width+m}px`,T=c?v:`${E}px`),{data:{x:O,y:T}}}});function a5(e){const[t,n="center"]=e.split("-");return[t,n]}var i5=Z6,s5=e5,o5=t5,l5=r5,gte="Portal",q1=A.forwardRef((e,t)=>{var f;const{container:n,...r}=e,[a,s]=A.useState(!1);la(()=>s(!0),[]);const c=n||a&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return c?Pk.createPortal(i.jsx(Ot.div,{...r,ref:t}),c):null});q1.displayName=gte;var pte=QP[" useInsertionEffect ".trim().toString()]||la;function ld({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,s,c]=xte({defaultProp:t,onChange:n}),f=e!==void 0,m=f?e:a;{const p=A.useRef(e!==void 0);A.useEffect(()=>{const v=p.current;v!==f&&console.warn(`${r} is changing from ${v?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=f},[f,r])}const h=A.useCallback(p=>{var v;if(f){const j=vte(p)?p(e):p;j!==e&&((v=c.current)==null||v.call(c,j))}else s(p)},[f,e,s,c]);return[m,h]}function xte({defaultProp:e,onChange:t}){const[n,r]=A.useState(e),a=A.useRef(n),s=A.useRef(t);return pte(()=>{s.current=t},[t]),A.useEffect(()=>{var c;a.current!==n&&((c=s.current)==null||c.call(s,n),a.current=n)},[n,a]),[n,r,s]}function vte(e){return typeof e=="function"}function c5(e){const t=A.useRef({value:e,previous:e});return A.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var u5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),yte="VisuallyHidden",bte=A.forwardRef((e,t)=>i.jsx(Ot.span,{...e,ref:t,style:{...u5,...e.style}}));bte.displayName=yte;var wte=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},jf=new WeakMap,Bp=new WeakMap,Fp={},jw=0,d5=function(e){return e&&(e.host||d5(e.parentNode))},Ste=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=d5(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},jte=function(e,t,n,r){var a=Ste(t,Array.isArray(e)?e:[e]);Fp[n]||(Fp[n]=new WeakMap);var s=Fp[n],c=[],f=new Set,m=new Set(a),h=function(v){!v||f.has(v)||(f.add(v),h(v.parentNode))};a.forEach(h);var p=function(v){!v||m.has(v)||Array.prototype.forEach.call(v.children,function(j){if(f.has(j))p(j);else try{var E=j.getAttribute(r),O=E!==null&&E!=="false",T=(jf.get(j)||0)+1,_=(s.get(j)||0)+1;jf.set(j,T),s.set(j,_),c.push(j),T===1&&O&&Bp.set(j,!0),_===1&&j.setAttribute(n,"true"),O||j.setAttribute(r,"true")}catch(D){console.error("aria-hidden: cannot operate on ",j,D)}})};return p(t),f.clear(),jw++,function(){c.forEach(function(v){var j=jf.get(v)-1,E=s.get(v)-1;jf.set(v,j),s.set(v,E),j||(Bp.has(v)||v.removeAttribute(r),Bp.delete(v)),E||v.removeAttribute(n)}),jw--,jw||(jf=new WeakMap,jf=new WeakMap,Bp=new WeakMap,Fp={})}},SE=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=wte(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),jte(r,a,n,"aria-hidden")):function(){return null}},So=function(){return So=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},So.apply(this,arguments)};function f5(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function Ate(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,s;r<a;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var xx="right-scroll-bar-position",vx="width-before-scroll-bar",Ete="with-scroll-bars-hidden",Nte="--removed-body-scroll-bar-size";function Aw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function _te(e,t){var n=A.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var Cte=typeof window<"u"?A.useLayoutEffect:A.useEffect,dM=new WeakMap;function Tte(e,t){var n=_te(null,function(r){return e.forEach(function(a){return Aw(a,r)})});return Cte(function(){var r=dM.get(n);if(r){var a=new Set(r),s=new Set(e),c=n.current;a.forEach(function(f){s.has(f)||Aw(f,null)}),s.forEach(function(f){a.has(f)||Aw(f,c)})}dM.set(n,e)},[e]),n}function Ote(e){return e}function Mte(e,t){t===void 0&&(t=Ote);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var c=t(s,r);return n.push(c),function(){n=n.filter(function(f){return f!==c})}},assignSyncMedium:function(s){for(r=!0;n.length;){var c=n;n=[],c.forEach(s)}n={push:function(f){return s(f)},filter:function(){return n}}},assignMedium:function(s){r=!0;var c=[];if(n.length){var f=n;n=[],f.forEach(s),c=n}var m=function(){var p=c;c=[],p.forEach(s)},h=function(){return Promise.resolve().then(m)};h(),n={push:function(p){c.push(p),h()},filter:function(p){return c=c.filter(p),n}}}};return a}function Dte(e){e===void 0&&(e={});var t=Mte(null);return t.options=So({async:!0,ssr:!1},e),t}var h5=function(e){var t=e.sideCar,n=f5(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return A.createElement(r,So({},n))};h5.isSideCarExport=!0;function Rte(e,t){return e.useMedium(t),h5}var m5=Dte(),Ew=function(){},Y1=A.forwardRef(function(e,t){var n=A.useRef(null),r=A.useState({onScrollCapture:Ew,onWheelCapture:Ew,onTouchMoveCapture:Ew}),a=r[0],s=r[1],c=e.forwardProps,f=e.children,m=e.className,h=e.removeScrollBar,p=e.enabled,v=e.shards,j=e.sideCar,E=e.noRelative,O=e.noIsolation,T=e.inert,_=e.allowPinchZoom,D=e.as,P=D===void 0?"div":D,I=e.gapMode,U=f5(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),F=j,L=Tte([n,t]),B=So(So({},U),a);return A.createElement(A.Fragment,null,p&&A.createElement(F,{sideCar:m5,removeScrollBar:h,shards:v,noRelative:E,noIsolation:O,inert:T,setCallbacks:s,allowPinchZoom:!!_,lockRef:n,gapMode:I}),c?A.cloneElement(A.Children.only(f),So(So({},B),{ref:L})):A.createElement(P,So({},B,{className:m,ref:L}),f))});Y1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Y1.classNames={fullWidth:vx,zeroRight:xx};var Ite=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Pte(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Ite();return t&&e.setAttribute("nonce",t),e}function kte(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Lte(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Bte=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Pte())&&(kte(t,n),Lte(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Fte=function(){var e=Bte();return function(t,n){A.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},g5=function(){var e=Fte(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},Ute={left:0,top:0,right:0,gap:0},Nw=function(e){return parseInt(e||"",10)||0},zte=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Nw(n),Nw(r),Nw(a)]},Vte=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Ute;var t=zte(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},$te=g5(),$f="data-scroll-locked",Hte=function(e,t,n,r){var a=e.left,s=e.top,c=e.right,f=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Ete,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(f,"px ").concat(r,`;
  }
  body[`).concat($f,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(f,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xx,` {
    right: `).concat(f,"px ").concat(r,`;
  }
  
  .`).concat(vx,` {
    margin-right: `).concat(f,"px ").concat(r,`;
  }
  
  .`).concat(xx," .").concat(xx,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(vx," .").concat(vx,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat($f,`] {
    `).concat(Nte,": ").concat(f,`px;
  }
`)},fM=function(){var e=parseInt(document.body.getAttribute($f)||"0",10);return isFinite(e)?e:0},qte=function(){A.useEffect(function(){return document.body.setAttribute($f,(fM()+1).toString()),function(){var e=fM()-1;e<=0?document.body.removeAttribute($f):document.body.setAttribute($f,e.toString())}},[])},Yte=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;qte();var s=A.useMemo(function(){return Vte(a)},[a]);return A.createElement($te,{styles:Hte(s,!t,a,n?"":"!important")})},ej=!1;if(typeof window<"u")try{var Up=Object.defineProperty({},"passive",{get:function(){return ej=!0,!0}});window.addEventListener("test",Up,Up),window.removeEventListener("test",Up,Up)}catch{ej=!1}var Af=ej?{passive:!1}:!1,Wte=function(e){return e.tagName==="TEXTAREA"},p5=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Wte(e)&&n[t]==="visible")},Gte=function(e){return p5(e,"overflowY")},Kte=function(e){return p5(e,"overflowX")},hM=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=x5(e,r);if(a){var s=v5(e,r),c=s[1],f=s[2];if(c>f)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Xte=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Qte=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},x5=function(e,t){return e==="v"?Gte(t):Kte(t)},v5=function(e,t){return e==="v"?Xte(t):Qte(t)},Zte=function(e,t){return e==="h"&&t==="rtl"?-1:1},Jte=function(e,t,n,r,a){var s=Zte(e,window.getComputedStyle(t).direction),c=s*r,f=n.target,m=t.contains(f),h=!1,p=c>0,v=0,j=0;do{var E=v5(e,f),O=E[0],T=E[1],_=E[2],D=T-_-s*O;(O||D)&&x5(e,f)&&(v+=D,j+=O),f=f.parentNode.host||f.parentNode}while(!m&&f!==document.body||m&&(t.contains(f)||t===f));return(p&&Math.abs(v)<1||!p&&Math.abs(j)<1)&&(h=!0),h},zp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},mM=function(e){return[e.deltaX,e.deltaY]},gM=function(e){return e&&"current"in e?e.current:e},ene=function(e,t){return e[0]===t[0]&&e[1]===t[1]},tne=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},nne=0,Ef=[];function rne(e){var t=A.useRef([]),n=A.useRef([0,0]),r=A.useRef(),a=A.useState(nne++)[0],s=A.useState(g5)[0],c=A.useRef(e);A.useEffect(function(){c.current=e},[e]),A.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var T=Ate([e.lockRef.current],(e.shards||[]).map(gM),!0).filter(Boolean);return T.forEach(function(_){return _.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),T.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var f=A.useCallback(function(T,_){if("touches"in T&&T.touches.length===2||T.type==="wheel"&&T.ctrlKey)return!c.current.allowPinchZoom;var D=zp(T),P=n.current,I="deltaX"in T?T.deltaX:P[0]-D[0],U="deltaY"in T?T.deltaY:P[1]-D[1],F,L=T.target,B=Math.abs(I)>Math.abs(U)?"h":"v";if("touches"in T&&B==="h"&&L.type==="range")return!1;var $=hM(B,L);if(!$)return!0;if($?F=B:(F=B==="v"?"h":"v",$=hM(B,L)),!$)return!1;if(!r.current&&"changedTouches"in T&&(I||U)&&(r.current=F),!F)return!0;var z=r.current||F;return Jte(z,_,T,z==="h"?I:U)},[]),m=A.useCallback(function(T){var _=T;if(!(!Ef.length||Ef[Ef.length-1]!==s)){var D="deltaY"in _?mM(_):zp(_),P=t.current.filter(function(F){return F.name===_.type&&(F.target===_.target||_.target===F.shadowParent)&&ene(F.delta,D)})[0];if(P&&P.should){_.cancelable&&_.preventDefault();return}if(!P){var I=(c.current.shards||[]).map(gM).filter(Boolean).filter(function(F){return F.contains(_.target)}),U=I.length>0?f(_,I[0]):!c.current.noIsolation;U&&_.cancelable&&_.preventDefault()}}},[]),h=A.useCallback(function(T,_,D,P){var I={name:T,delta:_,target:D,should:P,shadowParent:ane(D)};t.current.push(I),setTimeout(function(){t.current=t.current.filter(function(U){return U!==I})},1)},[]),p=A.useCallback(function(T){n.current=zp(T),r.current=void 0},[]),v=A.useCallback(function(T){h(T.type,mM(T),T.target,f(T,e.lockRef.current))},[]),j=A.useCallback(function(T){h(T.type,zp(T),T.target,f(T,e.lockRef.current))},[]);A.useEffect(function(){return Ef.push(s),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:j}),document.addEventListener("wheel",m,Af),document.addEventListener("touchmove",m,Af),document.addEventListener("touchstart",p,Af),function(){Ef=Ef.filter(function(T){return T!==s}),document.removeEventListener("wheel",m,Af),document.removeEventListener("touchmove",m,Af),document.removeEventListener("touchstart",p,Af)}},[]);var E=e.removeScrollBar,O=e.inert;return A.createElement(A.Fragment,null,O?A.createElement(s,{styles:tne(a)}):null,E?A.createElement(Yte,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function ane(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const ine=Rte(m5,rne);var W1=A.forwardRef(function(e,t){return A.createElement(Y1,So({},e,{ref:t,sideCar:ine}))});W1.classNames=Y1.classNames;var sne=[" ","Enter","ArrowUp","ArrowDown"],one=[" ","Enter"],cd="Select",[G1,K1,lne]=dE(cd),[jh,dAe]=Js(cd,[lne,H1]),X1=H1(),[cne,Xc]=jh(cd),[une,dne]=jh(cd),y5=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:a,onOpenChange:s,value:c,defaultValue:f,onValueChange:m,dir:h,name:p,autoComplete:v,disabled:j,required:E,form:O}=e,T=X1(t),[_,D]=A.useState(null),[P,I]=A.useState(null),[U,F]=A.useState(!1),L=B1(h),[B,$]=ld({prop:r,defaultProp:a??!1,onChange:s,caller:cd}),[z,H]=ld({prop:c,defaultProp:f,onChange:m,caller:cd}),X=A.useRef(null),K=_?O||!!_.closest("form"):!0,[ee,ue]=A.useState(new Set),ne=Array.from(ee).map(G=>G.props.value).join(";");return i.jsx(i5,{...T,children:i.jsxs(cne,{required:E,scope:t,trigger:_,onTriggerChange:D,valueNode:P,onValueNodeChange:I,valueNodeHasChildren:U,onValueNodeHasChildrenChange:F,contentId:Oo(),value:z,onValueChange:H,open:B,onOpenChange:$,dir:L,triggerPointerDownPosRef:X,disabled:j,children:[i.jsx(G1.Provider,{scope:t,children:i.jsx(une,{scope:e.__scopeSelect,onNativeOptionAdd:A.useCallback(G=>{ue(Q=>new Set(Q).add(G))},[]),onNativeOptionRemove:A.useCallback(G=>{ue(Q=>{const ae=new Set(Q);return ae.delete(G),ae})},[]),children:n})}),K?i.jsxs(z5,{"aria-hidden":!0,required:E,tabIndex:-1,name:p,autoComplete:v,value:z,onChange:G=>H(G.target.value),disabled:j,form:O,children:[z===void 0?i.jsx("option",{value:""}):null,Array.from(ee)]},ne):null]})})};y5.displayName=cd;var b5="SelectTrigger",w5=A.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...a}=e,s=X1(n),c=Xc(b5,n),f=c.disabled||r,m=Rn(t,c.onTriggerChange),h=K1(n),p=A.useRef("touch"),[v,j,E]=$5(T=>{const _=h().filter(I=>!I.disabled),D=_.find(I=>I.value===c.value),P=H5(_,T,D);P!==void 0&&c.onValueChange(P.value)}),O=T=>{f||(c.onOpenChange(!0),E()),T&&(c.triggerPointerDownPosRef.current={x:Math.round(T.pageX),y:Math.round(T.pageY)})};return i.jsx(s5,{asChild:!0,...s,children:i.jsx(Ot.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":V5(c.value)?"":void 0,...a,ref:m,onClick:mt(a.onClick,T=>{T.currentTarget.focus(),p.current!=="mouse"&&O(T)}),onPointerDown:mt(a.onPointerDown,T=>{p.current=T.pointerType;const _=T.target;_.hasPointerCapture(T.pointerId)&&_.releasePointerCapture(T.pointerId),T.button===0&&T.ctrlKey===!1&&T.pointerType==="mouse"&&(O(T),T.preventDefault())}),onKeyDown:mt(a.onKeyDown,T=>{const _=v.current!=="";!(T.ctrlKey||T.altKey||T.metaKey)&&T.key.length===1&&j(T.key),!(_&&T.key===" ")&&sne.includes(T.key)&&(O(),T.preventDefault())})})})});w5.displayName=b5;var S5="SelectValue",j5=A.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,children:s,placeholder:c="",...f}=e,m=Xc(S5,n),{onValueNodeHasChildrenChange:h}=m,p=s!==void 0,v=Rn(t,m.onValueNodeChange);return la(()=>{h(p)},[h,p]),i.jsx(Ot.span,{...f,ref:v,style:{pointerEvents:"none"},children:V5(m.value)?i.jsx(i.Fragment,{children:c}):s})});j5.displayName=S5;var fne="SelectIcon",A5=A.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...a}=e;return i.jsx(Ot.span,{"aria-hidden":!0,...a,ref:t,children:r||"▼"})});A5.displayName=fne;var hne="SelectPortal",E5=e=>i.jsx(q1,{asChild:!0,...e});E5.displayName=hne;var ud="SelectContent",N5=A.forwardRef((e,t)=>{const n=Xc(ud,e.__scopeSelect),[r,a]=A.useState();if(la(()=>{a(new DocumentFragment)},[]),!n.open){const s=r;return s?yd.createPortal(i.jsx(_5,{scope:e.__scopeSelect,children:i.jsx(G1.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),s):null}return i.jsx(C5,{...e,ref:t})});N5.displayName=ud;var Bs=10,[_5,Qc]=jh(ud),mne="SelectContentImpl",gne=id("SelectContent.RemoveScroll"),C5=A.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:c,side:f,sideOffset:m,align:h,alignOffset:p,arrowPadding:v,collisionBoundary:j,collisionPadding:E,sticky:O,hideWhenDetached:T,avoidCollisions:_,...D}=e,P=Xc(ud,n),[I,U]=A.useState(null),[F,L]=A.useState(null),B=Rn(t,pe=>U(pe)),[$,z]=A.useState(null),[H,X]=A.useState(null),K=K1(n),[ee,ue]=A.useState(!1),ne=A.useRef(!1);A.useEffect(()=>{if(I)return SE(I)},[I]),fE();const G=A.useCallback(pe=>{const[Ie,...xe]=K().map(Ne=>Ne.ref.current),[Fe]=xe.slice(-1),Le=document.activeElement;for(const Ne of pe)if(Ne===Le||(Ne==null||Ne.scrollIntoView({block:"nearest"}),Ne===Ie&&F&&(F.scrollTop=0),Ne===Fe&&F&&(F.scrollTop=F.scrollHeight),Ne==null||Ne.focus(),document.activeElement!==Le))return},[K,F]),Q=A.useCallback(()=>G([$,I]),[G,$,I]);A.useEffect(()=>{ee&&Q()},[ee,Q]);const{onOpenChange:ae,triggerPointerDownPosRef:he}=P;A.useEffect(()=>{if(I){let pe={x:0,y:0};const Ie=Fe=>{var Le,Ne;pe={x:Math.abs(Math.round(Fe.pageX)-(((Le=he.current)==null?void 0:Le.x)??0)),y:Math.abs(Math.round(Fe.pageY)-(((Ne=he.current)==null?void 0:Ne.y)??0))}},xe=Fe=>{pe.x<=10&&pe.y<=10?Fe.preventDefault():I.contains(Fe.target)||ae(!1),document.removeEventListener("pointermove",Ie),he.current=null};return he.current!==null&&(document.addEventListener("pointermove",Ie),document.addEventListener("pointerup",xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ie),document.removeEventListener("pointerup",xe,{capture:!0})}}},[I,ae,he]),A.useEffect(()=>{const pe=()=>ae(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[ae]);const[te,fe]=$5(pe=>{const Ie=K().filter(Le=>!Le.disabled),xe=Ie.find(Le=>Le.ref.current===document.activeElement),Fe=H5(Ie,pe,xe);Fe&&setTimeout(()=>Fe.ref.current.focus())}),se=A.useCallback((pe,Ie,xe)=>{const Fe=!ne.current&&!xe;(P.value!==void 0&&P.value===Ie||Fe)&&(z(pe),Fe&&(ne.current=!0))},[P.value]),me=A.useCallback(()=>I==null?void 0:I.focus(),[I]),Re=A.useCallback((pe,Ie,xe)=>{const Fe=!ne.current&&!xe;(P.value!==void 0&&P.value===Ie||Fe)&&X(pe)},[P.value]),ye=r==="popper"?tj:T5,oe=ye===tj?{side:f,sideOffset:m,align:h,alignOffset:p,arrowPadding:v,collisionBoundary:j,collisionPadding:E,sticky:O,hideWhenDetached:T,avoidCollisions:_}:{};return i.jsx(_5,{scope:n,content:I,viewport:F,onViewportChange:L,itemRefCallback:se,selectedItem:$,onItemLeave:me,itemTextRefCallback:Re,focusSelectedItem:Q,selectedItemText:H,position:r,isPositioned:ee,searchRef:te,children:i.jsx(W1,{as:gne,allowPinchZoom:!0,children:i.jsx(U1,{asChild:!0,trapped:P.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:mt(a,pe=>{var Ie;(Ie=P.trigger)==null||Ie.focus({preventScroll:!0}),pe.preventDefault()}),children:i.jsx(F1,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:c,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>P.onOpenChange(!1),children:i.jsx(ye,{role:"listbox",id:P.contentId,"data-state":P.open?"open":"closed",dir:P.dir,onContextMenu:pe=>pe.preventDefault(),...D,...oe,onPlaced:()=>ue(!0),ref:B,style:{display:"flex",flexDirection:"column",outline:"none",...D.style},onKeyDown:mt(D.onKeyDown,pe=>{const Ie=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!Ie&&pe.key.length===1&&fe(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let Fe=K().filter(Le=>!Le.disabled).map(Le=>Le.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(Fe=Fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const Le=pe.target,Ne=Fe.indexOf(Le);Fe=Fe.slice(Ne+1)}setTimeout(()=>G(Fe)),pe.preventDefault()}})})})})})})});C5.displayName=mne;var pne="SelectItemAlignedPosition",T5=A.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...a}=e,s=Xc(ud,n),c=Qc(ud,n),[f,m]=A.useState(null),[h,p]=A.useState(null),v=Rn(t,B=>p(B)),j=K1(n),E=A.useRef(!1),O=A.useRef(!0),{viewport:T,selectedItem:_,selectedItemText:D,focusSelectedItem:P}=c,I=A.useCallback(()=>{if(s.trigger&&s.valueNode&&f&&h&&T&&_&&D){const B=s.trigger.getBoundingClientRect(),$=h.getBoundingClientRect(),z=s.valueNode.getBoundingClientRect(),H=D.getBoundingClientRect();if(s.dir!=="rtl"){const Le=H.left-$.left,Ne=z.left-Le,Xe=B.left-Ne,$e=B.width+Xe,Ze=Math.max($e,$.width),Mt=window.innerWidth-Bs,ht=KO(Ne,[Bs,Math.max(Bs,Mt-Ze)]);f.style.minWidth=$e+"px",f.style.left=ht+"px"}else{const Le=$.right-H.right,Ne=window.innerWidth-z.right-Le,Xe=window.innerWidth-B.right-Ne,$e=B.width+Xe,Ze=Math.max($e,$.width),Mt=window.innerWidth-Bs,ht=KO(Ne,[Bs,Math.max(Bs,Mt-Ze)]);f.style.minWidth=$e+"px",f.style.right=ht+"px"}const X=j(),K=window.innerHeight-Bs*2,ee=T.scrollHeight,ue=window.getComputedStyle(h),ne=parseInt(ue.borderTopWidth,10),G=parseInt(ue.paddingTop,10),Q=parseInt(ue.borderBottomWidth,10),ae=parseInt(ue.paddingBottom,10),he=ne+G+ee+ae+Q,te=Math.min(_.offsetHeight*5,he),fe=window.getComputedStyle(T),se=parseInt(fe.paddingTop,10),me=parseInt(fe.paddingBottom,10),Re=B.top+B.height/2-Bs,ye=K-Re,oe=_.offsetHeight/2,pe=_.offsetTop+oe,Ie=ne+G+pe,xe=he-Ie;if(Ie<=Re){const Le=X.length>0&&_===X[X.length-1].ref.current;f.style.bottom="0px";const Ne=h.clientHeight-T.offsetTop-T.offsetHeight,Xe=Math.max(ye,oe+(Le?me:0)+Ne+Q),$e=Ie+Xe;f.style.height=$e+"px"}else{const Le=X.length>0&&_===X[0].ref.current;f.style.top="0px";const Xe=Math.max(Re,ne+T.offsetTop+(Le?se:0)+oe)+xe;f.style.height=Xe+"px",T.scrollTop=Ie-Re+T.offsetTop}f.style.margin=`${Bs}px 0`,f.style.minHeight=te+"px",f.style.maxHeight=K+"px",r==null||r(),requestAnimationFrame(()=>E.current=!0)}},[j,s.trigger,s.valueNode,f,h,T,_,D,s.dir,r]);la(()=>I(),[I]);const[U,F]=A.useState();la(()=>{h&&F(window.getComputedStyle(h).zIndex)},[h]);const L=A.useCallback(B=>{B&&O.current===!0&&(I(),P==null||P(),O.current=!1)},[I,P]);return i.jsx(vne,{scope:n,contentWrapper:f,shouldExpandOnScrollRef:E,onScrollButtonChange:L,children:i.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:U},children:i.jsx(Ot.div,{...a,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});T5.displayName=pne;var xne="SelectPopperPosition",tj=A.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=Bs,...s}=e,c=X1(n);return i.jsx(o5,{...c,...s,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});tj.displayName=xne;var[vne,jE]=jh(ud,{}),nj="SelectViewport",O5=A.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...a}=e,s=Qc(nj,n),c=jE(nj,n),f=Rn(t,s.onViewportChange),m=A.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(G1.Slot,{scope:n,children:i.jsx(Ot.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:mt(a.onScroll,h=>{const p=h.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:j}=c;if(j!=null&&j.current&&v){const E=Math.abs(m.current-p.scrollTop);if(E>0){const O=window.innerHeight-Bs*2,T=parseFloat(v.style.minHeight),_=parseFloat(v.style.height),D=Math.max(T,_);if(D<O){const P=D+E,I=Math.min(O,P),U=P-I;v.style.height=I+"px",v.style.bottom==="0px"&&(p.scrollTop=U>0?U:0,v.style.justifyContent="flex-end")}}}m.current=p.scrollTop})})})]})});O5.displayName=nj;var M5="SelectGroup",[yne,bne]=jh(M5),wne=A.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=Oo();return i.jsx(yne,{scope:n,id:a,children:i.jsx(Ot.div,{role:"group","aria-labelledby":a,...r,ref:t})})});wne.displayName=M5;var D5="SelectLabel",Sne=A.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=bne(D5,n);return i.jsx(Ot.div,{id:a.id,...r,ref:t})});Sne.displayName=D5;var Rx="SelectItem",[jne,R5]=jh(Rx),I5=A.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:s,...c}=e,f=Xc(Rx,n),m=Qc(Rx,n),h=f.value===r,[p,v]=A.useState(s??""),[j,E]=A.useState(!1),O=Rn(t,P=>{var I;return(I=m.itemRefCallback)==null?void 0:I.call(m,P,r,a)}),T=Oo(),_=A.useRef("touch"),D=()=>{a||(f.onValueChange(r),f.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(jne,{scope:n,value:r,disabled:a,textId:T,isSelected:h,onItemTextChange:A.useCallback(P=>{v(I=>I||((P==null?void 0:P.textContent)??"").trim())},[]),children:i.jsx(G1.ItemSlot,{scope:n,value:r,disabled:a,textValue:p,children:i.jsx(Ot.div,{role:"option","aria-labelledby":T,"data-highlighted":j?"":void 0,"aria-selected":h&&j,"data-state":h?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...c,ref:O,onFocus:mt(c.onFocus,()=>E(!0)),onBlur:mt(c.onBlur,()=>E(!1)),onClick:mt(c.onClick,()=>{_.current!=="mouse"&&D()}),onPointerUp:mt(c.onPointerUp,()=>{_.current==="mouse"&&D()}),onPointerDown:mt(c.onPointerDown,P=>{_.current=P.pointerType}),onPointerMove:mt(c.onPointerMove,P=>{var I;_.current=P.pointerType,a?(I=m.onItemLeave)==null||I.call(m):_.current==="mouse"&&P.currentTarget.focus({preventScroll:!0})}),onPointerLeave:mt(c.onPointerLeave,P=>{var I;P.currentTarget===document.activeElement&&((I=m.onItemLeave)==null||I.call(m))}),onKeyDown:mt(c.onKeyDown,P=>{var U;((U=m.searchRef)==null?void 0:U.current)!==""&&P.key===" "||(one.includes(P.key)&&D(),P.key===" "&&P.preventDefault())})})})})});I5.displayName=Rx;var Hm="SelectItemText",P5=A.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,...s}=e,c=Xc(Hm,n),f=Qc(Hm,n),m=R5(Hm,n),h=dne(Hm,n),[p,v]=A.useState(null),j=Rn(t,D=>v(D),m.onItemTextChange,D=>{var P;return(P=f.itemTextRefCallback)==null?void 0:P.call(f,D,m.value,m.disabled)}),E=p==null?void 0:p.textContent,O=A.useMemo(()=>i.jsx("option",{value:m.value,disabled:m.disabled,children:E},m.value),[m.disabled,m.value,E]),{onNativeOptionAdd:T,onNativeOptionRemove:_}=h;return la(()=>(T(O),()=>_(O)),[T,_,O]),i.jsxs(i.Fragment,{children:[i.jsx(Ot.span,{id:m.textId,...s,ref:j}),m.isSelected&&c.valueNode&&!c.valueNodeHasChildren?yd.createPortal(s.children,c.valueNode):null]})});P5.displayName=Hm;var k5="SelectItemIndicator",L5=A.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return R5(k5,n).isSelected?i.jsx(Ot.span,{"aria-hidden":!0,...r,ref:t}):null});L5.displayName=k5;var rj="SelectScrollUpButton",B5=A.forwardRef((e,t)=>{const n=Qc(rj,e.__scopeSelect),r=jE(rj,e.__scopeSelect),[a,s]=A.useState(!1),c=Rn(t,r.onScrollButtonChange);return la(()=>{if(n.viewport&&n.isPositioned){let f=function(){const h=m.scrollTop>0;s(h)};const m=n.viewport;return f(),m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[n.viewport,n.isPositioned]),a?i.jsx(U5,{...e,ref:c,onAutoScroll:()=>{const{viewport:f,selectedItem:m}=n;f&&m&&(f.scrollTop=f.scrollTop-m.offsetHeight)}}):null});B5.displayName=rj;var aj="SelectScrollDownButton",F5=A.forwardRef((e,t)=>{const n=Qc(aj,e.__scopeSelect),r=jE(aj,e.__scopeSelect),[a,s]=A.useState(!1),c=Rn(t,r.onScrollButtonChange);return la(()=>{if(n.viewport&&n.isPositioned){let f=function(){const h=m.scrollHeight-m.clientHeight,p=Math.ceil(m.scrollTop)<h;s(p)};const m=n.viewport;return f(),m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[n.viewport,n.isPositioned]),a?i.jsx(U5,{...e,ref:c,onAutoScroll:()=>{const{viewport:f,selectedItem:m}=n;f&&m&&(f.scrollTop=f.scrollTop+m.offsetHeight)}}):null});F5.displayName=aj;var U5=A.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=e,s=Qc("SelectScrollButton",n),c=A.useRef(null),f=K1(n),m=A.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return A.useEffect(()=>()=>m(),[m]),la(()=>{var p;const h=f().find(v=>v.ref.current===document.activeElement);(p=h==null?void 0:h.ref.current)==null||p.scrollIntoView({block:"nearest"})},[f]),i.jsx(Ot.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:mt(a.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(r,50))}),onPointerMove:mt(a.onPointerMove,()=>{var h;(h=s.onItemLeave)==null||h.call(s),c.current===null&&(c.current=window.setInterval(r,50))}),onPointerLeave:mt(a.onPointerLeave,()=>{m()})})}),Ane="SelectSeparator",Ene=A.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return i.jsx(Ot.div,{"aria-hidden":!0,...r,ref:t})});Ene.displayName=Ane;var ij="SelectArrow",Nne=A.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=X1(n),s=Xc(ij,n),c=Qc(ij,n);return s.open&&c.position==="popper"?i.jsx(l5,{...a,...r,ref:t}):null});Nne.displayName=ij;var _ne="SelectBubbleInput",z5=A.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const a=A.useRef(null),s=Rn(r,a),c=c5(t);return A.useEffect(()=>{const f=a.current;if(!f)return;const m=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(m,"value").set;if(c!==t&&p){const v=new Event("change",{bubbles:!0});p.call(f,t),f.dispatchEvent(v)}},[c,t]),i.jsx(Ot.select,{...n,style:{...u5,...n.style},ref:s,defaultValue:t})});z5.displayName=_ne;function V5(e){return e===""||e===void 0}function $5(e){const t=Gs(e),n=A.useRef(""),r=A.useRef(0),a=A.useCallback(c=>{const f=n.current+c;t(f),function m(h){n.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>m(""),1e3))}(f)},[t]),s=A.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return A.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,s]}function H5(e,t,n){const a=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let c=Cne(e,Math.max(s,0));a.length===1&&(c=c.filter(h=>h!==n));const m=c.find(h=>h.textValue.toLowerCase().startsWith(a.toLowerCase()));return m!==n?m:void 0}function Cne(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Tne=y5,One=w5,Mne=j5,Dne=A5,Rne=E5,Ine=N5,Pne=O5,kne=I5,Lne=P5,Bne=L5,Fne=B5,Une=F5;function Lr({...e}){return i.jsx(Tne,{"data-slot":"select",...e})}function Br({...e}){return i.jsx(Mne,{"data-slot":"select-value",...e})}function Fr({className:e,size:t="default",children:n,...r}){return i.jsxs(One,{"data-slot":"select-trigger","data-size":t,className:Et("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,i.jsx(Dne,{asChild:!0,children:i.jsx(C6,{className:"size-4 opacity-50"})})]})}function Ur({className:e,children:t,position:n="popper",...r}){return i.jsx(Rne,{children:i.jsxs(Ine,{"data-slot":"select-content",className:Et("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[i.jsx(zne,{}),i.jsx(Pne,{className:Et("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),i.jsx(Vne,{})]})})}function st({className:e,children:t,...n}){return i.jsxs(kne,{"data-slot":"select-item",className:Et("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[i.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:i.jsx(Bne,{children:i.jsx(yZ,{className:"size-4"})})}),i.jsx(Lne,{children:t})]})}function zne({className:e,...t}){return i.jsx(Fne,{"data-slot":"select-scroll-up-button",className:Et("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(AZ,{className:"size-4"})})}function Vne({className:e,...t}){return i.jsx(Une,{"data-slot":"select-scroll-down-button",className:Et("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(C6,{className:"size-4"})})}const $ne={passenger:["Digital wallet access","QR code payments","Event ticket purchases","Transaction history"],driver:["Driver dashboard","Earnings tracking","QR code generation","Trip management"],merchant:["Business dashboard","Payment processing","Analytics & insights","Customer management"],event_admin:["Event creation","Ticket management","Attendee analytics","Revenue tracking"]};function Hne(){const[e,t]=A.useState({email:"",password:"",confirmPassword:"",fullName:"",phoneNumber:"",userRole:"passenger"}),[n,r]=A.useState(!1),[a,s]=A.useState(!1),[c,f]=A.useState(""),[m,h]=A.useState(!1),{signUp:p}=yn(),{t:v}=tn(),j=Il(),E=async _=>{if(_.preventDefault(),f(""),e.password!==e.confirmPassword){f("Passwords do not match");return}if(e.password.length<6){f("Password must be at least 6 characters");return}h(!0);try{const{error:D}=await p(e.email,e.password,{full_name:e.fullName,phone_number:e.phoneNumber,user_role:e.userRole});D?f(D.message):j(`/otp-verification?type=email_verification&email=${encodeURIComponent(e.email)}`)}catch{f("An unexpected error occurred")}finally{h(!1)}},O=(_,D)=>{t(P=>({...P,[_]:D}))},T=$ne[e.userRole]||[];return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:[i.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),i.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),i.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-indigo-500 rounded-full mix-blend-multiply filter blur-xl opacity-10 animate-pulse"})]}),i.jsxs("div",{className:"w-full max-w-4xl relative",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs(Ht,{to:"/",className:"inline-flex items-center gap-2 text-white/70 hover:text-white transition-colors mb-6",children:[i.jsx(H0,{className:"h-4 w-4"}),"Back to Home"]}),i.jsxs(Ye.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2},className:"flex items-center justify-center gap-3 mb-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:"/logo.svg",alt:"Tickets Logo",className:"h-12 w-12"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-400 rounded-lg blur opacity-50"})]}),i.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Tickets"})]}),i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[i.jsx(TJ,{className:"h-4 w-4 text-green-400"}),i.jsx("span",{className:"text-white/70 text-sm",children:"Join the digital payment revolution"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsx(Ye.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},children:i.jsxs(be,{className:"bg-black/40 backdrop-blur-xl border-white/10 shadow-2xl",children:[i.jsxs(Pe,{className:"text-center",children:[i.jsx(ke,{className:"text-2xl font-bold text-white",children:"Create Account"}),i.jsx(rt,{className:"text-gray-400",children:"Get started with your digital wallet in minutes"})]}),i.jsxs(we,{className:"space-y-6",children:[i.jsxs("form",{onSubmit:E,className:"space-y-4",children:[c&&i.jsx(Ys,{variant:"destructive",className:"bg-red-500/10 border-red-500/20",children:i.jsx(Ws,{className:"text-red-400",children:c})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pt,{htmlFor:"fullName",className:"text-white",children:"Full Name"}),i.jsx(qt,{id:"fullName",type:"text",value:e.fullName,onChange:_=>O("fullName",_.target.value),placeholder:"Your full name",required:!0,className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-blue-400/50 focus:ring-blue-400/20"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pt,{htmlFor:"email",className:"text-white",children:"Email Address"}),i.jsx(qt,{id:"email",type:"email",value:e.email,onChange:_=>O("email",_.target.value),placeholder:"your@email.com",required:!0,className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-blue-400/50 focus:ring-blue-400/20"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pt,{htmlFor:"phoneNumber",className:"text-white",children:"Phone Number (Optional)"}),i.jsx(qt,{id:"phoneNumber",type:"tel",value:e.phoneNumber,onChange:_=>O("phoneNumber",_.target.value),placeholder:"+963 XXX XXX XXX",className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-blue-400/50 focus:ring-blue-400/20"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pt,{htmlFor:"userRole",className:"text-white",children:"Account Type"}),i.jsxs(Lr,{value:e.userRole,onValueChange:_=>O("userRole",_),children:[i.jsx(Fr,{className:"bg-white/5 border-white/10 text-white focus:border-blue-400/50 focus:ring-blue-400/20",children:i.jsx(Br,{})}),i.jsxs(Ur,{className:"bg-slate-900 border-white/10",children:[i.jsx(st,{value:"passenger",className:"text-white hover:bg-white/10",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),"Personal User"]})}),i.jsx(st,{value:"driver",className:"text-white hover:bg-white/10",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),"Driver"]})}),i.jsx(st,{value:"merchant",className:"text-white hover:bg-white/10",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),"Business Owner"]})}),i.jsx(st,{value:"event_admin",className:"text-white hover:bg-white/10",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),"Event Organizer"]})})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pt,{htmlFor:"password",className:"text-white",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(qt,{id:"password",type:n?"text":"password",value:e.password,onChange:_=>O("password",_.target.value),placeholder:"Create a strong password",required:!0,className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-blue-400/50 focus:ring-blue-400/20 pr-12"}),i.jsx(De,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent text-gray-400 hover:text-white",onClick:()=>r(!n),children:n?i.jsx(wi,{className:"h-4 w-4"}):i.jsx(mr,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pt,{htmlFor:"confirmPassword",className:"text-white",children:"Confirm Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(qt,{id:"confirmPassword",type:a?"text":"password",value:e.confirmPassword,onChange:_=>O("confirmPassword",_.target.value),placeholder:"Confirm your password",required:!0,className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-blue-400/50 focus:ring-blue-400/20 pr-12"}),i.jsx(De,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent text-gray-400 hover:text-white",onClick:()=>s(!a),children:a?i.jsx(wi,{className:"h-4 w-4"}):i.jsx(mr,{className:"h-4 w-4"})})]})]}),i.jsxs(De,{type:"submit",className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 border-0 text-white py-6 text-lg font-semibold",disabled:m,children:[m&&i.jsx(Fc,{className:"mr-2 h-5 w-5 animate-spin"}),"Create Account"]})]}),i.jsx("div",{className:"text-center",children:i.jsxs("div",{className:"text-sm text-gray-400",children:["Already have an account?"," ",i.jsx(Ht,{to:"/login",className:"text-blue-400 hover:text-blue-300 transition-colors font-semibold",children:"Sign in here"})]})})]})]})}),i.jsxs(Ye.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"space-y-6",children:[i.jsxs(be,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:[i.jsx(Pe,{children:i.jsxs(ke,{className:"text-white flex items-center gap-2",children:[i.jsx(cE,{className:"h-5 w-5 text-yellow-400"}),e.userRole==="passenger"&&"Personal Account Features",e.userRole==="driver"&&"Driver Account Features",e.userRole==="merchant"&&"Business Account Features",e.userRole==="event_admin"&&"Event Organizer Features"]})}),i.jsx(we,{children:i.jsx("ul",{className:"space-y-3",children:T.map((_,D)=>i.jsxs(Ye.li,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3,delay:D*.1},className:"flex items-center gap-3 text-gray-300",children:[i.jsx(fs,{className:"h-4 w-4 text-green-400 flex-shrink-0"}),_]},_))})})]}),i.jsx(be,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:i.jsxs(we,{className:"p-6",children:[i.jsx("h3",{className:"text-white font-semibold mb-4",children:"Why Choose Tickets?"}),i.jsxs("div",{className:"space-y-3 text-sm text-gray-400",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),i.jsx("span",{children:"Bank-grade security & encryption"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),i.jsx("span",{children:"Instant transactions & real-time updates"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),i.jsx("span",{children:"24/7 customer support"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),i.jsx("span",{children:"Low fees & transparent pricing"})]})]})]})})]})]}),i.jsx("div",{className:"mt-8 text-center",children:i.jsxs("div",{className:"flex items-center justify-center gap-6 text-xs text-gray-500",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),i.jsx("span",{children:"SOC 2 Certified"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),i.jsx("span",{children:"ISO 27001"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),i.jsx("span",{children:"PCI Compliant"})]})]})})]})]})}function qne(){const[e,t]=A.useState(""),[n,r]=A.useState(""),[a,s]=A.useState(""),[c,f]=A.useState(!1),{t:m}=tn(),h=Il(),p=async v=>{v.preventDefault(),s(""),r(""),f(!0);try{const{error:j}=await ot.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});j?s(j.message):h(`/otp-verification?type=password_reset&email=${encodeURIComponent(e)}`)}catch{s("An unexpected error occurred")}finally{f(!1)}};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 p-4",children:i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md",children:i.jsxs(be,{children:[i.jsxs(Pe,{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[i.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary text-white",children:i.jsx(si,{className:"h-6 w-6"})}),i.jsx("h1",{className:"text-2xl font-bold text-primary",children:m("app.name")})]}),i.jsx(ke,{className:"text-2xl font-bold",children:"Reset Password"}),i.jsx(rt,{children:"Enter your email address and we'll send you a link to reset your password"})]}),i.jsxs(we,{children:[i.jsxs("form",{onSubmit:p,className:"space-y-4",children:[a&&i.jsx(Ys,{variant:"destructive",children:i.jsx(Ws,{children:a})}),n&&i.jsx(Ys,{children:i.jsx(Ws,{children:n})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pt,{htmlFor:"email",children:m("auth.email")}),i.jsx(qt,{id:"email",type:"email",value:e,onChange:v=>t(v.target.value),placeholder:"your@email.com",required:!0})]}),i.jsxs(De,{type:"submit",className:"w-full",disabled:c,children:[c&&i.jsx(Fc,{className:"mr-2 h-4 w-4 animate-spin"}),"Send Reset Email"]})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs(Ht,{to:"/login",className:"inline-flex items-center text-sm text-primary hover:underline",children:[i.jsx(H0,{className:"mr-1 h-4 w-4"}),"Back to Login"]})})]})]})})})}var Yne=Object.defineProperty,Wne=Object.defineProperties,Gne=Object.getOwnPropertyDescriptors,Ix=Object.getOwnPropertySymbols,q5=Object.prototype.hasOwnProperty,Y5=Object.prototype.propertyIsEnumerable,pM=(e,t,n)=>t in e?Yne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Kne=(e,t)=>{for(var n in t||(t={}))q5.call(t,n)&&pM(e,n,t[n]);if(Ix)for(var n of Ix(t))Y5.call(t,n)&&pM(e,n,t[n]);return e},Xne=(e,t)=>Wne(e,Gne(t)),Qne=(e,t)=>{var n={};for(var r in e)q5.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Ix)for(var r of Ix(e))t.indexOf(r)<0&&Y5.call(e,r)&&(n[r]=e[r]);return n};function Zne(e){let t=setTimeout(e,0),n=setTimeout(e,10),r=setTimeout(e,50);return[t,n,r]}function Jne(e){let t=A.useRef();return A.useEffect(()=>{t.current=e}),t.current}var ere=18,W5=40,tre=`${W5}px`,nre=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function rre({containerRef:e,inputRef:t,pushPasswordManagerStrategy:n,isFocused:r}){let[a,s]=A.useState(!1),[c,f]=A.useState(!1),[m,h]=A.useState(!1),p=A.useMemo(()=>n==="none"?!1:(n==="increase-width"||n==="experimental-no-flickering")&&a&&c,[a,c,n]),v=A.useCallback(()=>{let j=e.current,E=t.current;if(!j||!E||m||n==="none")return;let O=j,T=O.getBoundingClientRect().left+O.offsetWidth,_=O.getBoundingClientRect().top+O.offsetHeight/2,D=T-ere,P=_;document.querySelectorAll(nre).length===0&&document.elementFromPoint(D,P)===j||(s(!0),h(!0))},[e,t,m,n]);return A.useEffect(()=>{let j=e.current;if(!j||n==="none")return;function E(){let T=window.innerWidth-j.getBoundingClientRect().right;f(T>=W5)}E();let O=setInterval(E,1e3);return()=>{clearInterval(O)}},[e,n]),A.useEffect(()=>{let j=r||document.activeElement===t.current;if(n==="none"||!j)return;let E=setTimeout(v,0),O=setTimeout(v,2e3),T=setTimeout(v,5e3),_=setTimeout(()=>{h(!0)},6e3);return()=>{clearTimeout(E),clearTimeout(O),clearTimeout(T),clearTimeout(_)}},[t,r,n,v]),{hasPWMBadge:a,willPushPWMBadge:p,PWM_BADGE_SPACE_WIDTH:tre}}var G5=A.createContext({}),K5=A.forwardRef((e,t)=>{var n=e,{value:r,onChange:a,maxLength:s,textAlign:c="left",pattern:f,placeholder:m,inputMode:h="numeric",onComplete:p,pushPasswordManagerStrategy:v="increase-width",pasteTransformer:j,containerClassName:E,noScriptCSSFallback:O=are,render:T,children:_}=n,D=Qne(n,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),P,I,U,F,L;let[B,$]=A.useState(typeof D.defaultValue=="string"?D.defaultValue:""),z=r??B,H=Jne(z),X=A.useCallback($e=>{a==null||a($e),$($e)},[a]),K=A.useMemo(()=>f?typeof f=="string"?new RegExp(f):f:null,[f]),ee=A.useRef(null),ue=A.useRef(null),ne=A.useRef({value:z,onChange:X,isIOS:typeof window<"u"&&((I=(P=window==null?void 0:window.CSS)==null?void 0:P.supports)==null?void 0:I.call(P,"-webkit-touch-callout","none"))}),G=A.useRef({prev:[(U=ee.current)==null?void 0:U.selectionStart,(F=ee.current)==null?void 0:F.selectionEnd,(L=ee.current)==null?void 0:L.selectionDirection]});A.useImperativeHandle(t,()=>ee.current,[]),A.useEffect(()=>{let $e=ee.current,Ze=ue.current;if(!$e||!Ze)return;ne.current.value!==$e.value&&ne.current.onChange($e.value),G.current.prev=[$e.selectionStart,$e.selectionEnd,$e.selectionDirection];function Mt(){if(document.activeElement!==$e){se(null),Re(null);return}let Qe=$e.selectionStart,ir=$e.selectionEnd,et=$e.selectionDirection,dn=$e.maxLength,$r=$e.value,sr=G.current.prev,Ia=-1,xn=-1,zn;if($r.length!==0&&Qe!==null&&ir!==null){let Es=Qe===ir,Qi=Qe===$r.length&&$r.length<dn;if(Es&&!Qi){let nn=Qe;if(nn===0)Ia=0,xn=1,zn="forward";else if(nn===dn)Ia=nn-1,xn=nn,zn="backward";else if(dn>1&&$r.length>1){let Ge=0;if(sr[0]!==null&&sr[1]!==null){zn=nn<sr[1]?"backward":"forward";let fn=sr[0]===sr[1]&&sr[0]<dn;zn==="backward"&&!fn&&(Ge=-1)}Ia=Ge+nn,xn=Ge+nn+1}}Ia!==-1&&xn!==-1&&Ia!==xn&&ee.current.setSelectionRange(Ia,xn,zn)}let or=Ia!==-1?Ia:Qe,Zt=xn!==-1?xn:ir,ji=zn??et;se(or),Re(Zt),G.current.prev=[or,Zt,ji]}if(document.addEventListener("selectionchange",Mt,{capture:!0}),Mt(),document.activeElement===$e&&te(!0),!document.getElementById("input-otp-style")){let Qe=document.createElement("style");if(Qe.id="input-otp-style",document.head.appendChild(Qe),Qe.sheet){let ir="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";Mm(Qe.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),Mm(Qe.sheet,`[data-input-otp]:autofill { ${ir} }`),Mm(Qe.sheet,`[data-input-otp]:-webkit-autofill { ${ir} }`),Mm(Qe.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),Mm(Qe.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let ht=()=>{Ze&&Ze.style.setProperty("--root-height",`${$e.clientHeight}px`)};ht();let Nt=new ResizeObserver(ht);return Nt.observe($e),()=>{document.removeEventListener("selectionchange",Mt,{capture:!0}),Nt.disconnect()}},[]);let[Q,ae]=A.useState(!1),[he,te]=A.useState(!1),[fe,se]=A.useState(null),[me,Re]=A.useState(null);A.useEffect(()=>{Zne(()=>{var $e,Ze,Mt,ht;($e=ee.current)==null||$e.dispatchEvent(new Event("input"));let Nt=(Ze=ee.current)==null?void 0:Ze.selectionStart,Qe=(Mt=ee.current)==null?void 0:Mt.selectionEnd,ir=(ht=ee.current)==null?void 0:ht.selectionDirection;Nt!==null&&Qe!==null&&(se(Nt),Re(Qe),G.current.prev=[Nt,Qe,ir])})},[z,he]),A.useEffect(()=>{H!==void 0&&z!==H&&H.length<s&&z.length===s&&(p==null||p(z))},[s,p,H,z]);let ye=rre({containerRef:ue,inputRef:ee,pushPasswordManagerStrategy:v,isFocused:he}),oe=A.useCallback($e=>{let Ze=$e.currentTarget.value.slice(0,s);if(Ze.length>0&&K&&!K.test(Ze)){$e.preventDefault();return}typeof H=="string"&&Ze.length<H.length&&document.dispatchEvent(new Event("selectionchange")),X(Ze)},[s,X,H,K]),pe=A.useCallback(()=>{var $e;if(ee.current){let Ze=Math.min(ee.current.value.length,s-1),Mt=ee.current.value.length;($e=ee.current)==null||$e.setSelectionRange(Ze,Mt),se(Ze),Re(Mt)}te(!0)},[s]),Ie=A.useCallback($e=>{var Ze,Mt;let ht=ee.current;if(!j&&(!ne.current.isIOS||!$e.clipboardData||!ht))return;let Nt=$e.clipboardData.getData("text/plain"),Qe=j?j(Nt):Nt;$e.preventDefault();let ir=(Ze=ee.current)==null?void 0:Ze.selectionStart,et=(Mt=ee.current)==null?void 0:Mt.selectionEnd,dn=(ir!==et?z.slice(0,ir)+Qe+z.slice(et):z.slice(0,ir)+Qe+z.slice(ir)).slice(0,s);if(dn.length>0&&K&&!K.test(dn))return;ht.value=dn,X(dn);let $r=Math.min(dn.length,s-1),sr=dn.length;ht.setSelectionRange($r,sr),se($r),Re(sr)},[s,X,K,z]),xe=A.useMemo(()=>({position:"relative",cursor:D.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[D.disabled]),Fe=A.useMemo(()=>({position:"absolute",inset:0,width:ye.willPushPWMBadge?`calc(100% + ${ye.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:ye.willPushPWMBadge?`inset(0 ${ye.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:c,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[ye.PWM_BADGE_SPACE_WIDTH,ye.willPushPWMBadge,c]),Le=A.useMemo(()=>A.createElement("input",Xne(Kne({autoComplete:D.autoComplete||"one-time-code"},D),{"data-input-otp":!0,"data-input-otp-placeholder-shown":z.length===0||void 0,"data-input-otp-mss":fe,"data-input-otp-mse":me,inputMode:h,pattern:K==null?void 0:K.source,"aria-placeholder":m,style:Fe,maxLength:s,value:z,ref:ee,onPaste:$e=>{var Ze;Ie($e),(Ze=D.onPaste)==null||Ze.call(D,$e)},onChange:oe,onMouseOver:$e=>{var Ze;ae(!0),(Ze=D.onMouseOver)==null||Ze.call(D,$e)},onMouseLeave:$e=>{var Ze;ae(!1),(Ze=D.onMouseLeave)==null||Ze.call(D,$e)},onFocus:$e=>{var Ze;pe(),(Ze=D.onFocus)==null||Ze.call(D,$e)},onBlur:$e=>{var Ze;te(!1),(Ze=D.onBlur)==null||Ze.call(D,$e)}})),[oe,pe,Ie,h,Fe,s,me,fe,D,K==null?void 0:K.source,z]),Ne=A.useMemo(()=>({slots:Array.from({length:s}).map(($e,Ze)=>{var Mt;let ht=he&&fe!==null&&me!==null&&(fe===me&&Ze===fe||Ze>=fe&&Ze<me),Nt=z[Ze]!==void 0?z[Ze]:null,Qe=z[0]!==void 0?null:(Mt=m==null?void 0:m[Ze])!=null?Mt:null;return{char:Nt,placeholderChar:Qe,isActive:ht,hasFakeCaret:ht&&Nt===null}}),isFocused:he,isHovering:!D.disabled&&Q}),[he,Q,s,me,fe,D.disabled,z]),Xe=A.useMemo(()=>T?T(Ne):A.createElement(G5.Provider,{value:Ne},_),[_,Ne,T]);return A.createElement(A.Fragment,null,O!==null&&A.createElement("noscript",null,A.createElement("style",null,O)),A.createElement("div",{ref:ue,"data-input-otp-container":!0,style:xe,className:E},Xe,A.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},Le)))});K5.displayName="Input";function Mm(e,t){try{e.insertRule(t)}catch{console.error("input-otp could not insert CSS rule:",t)}}var are=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;function ire({className:e,containerClassName:t,...n}){return i.jsx(K5,{"data-slot":"input-otp",containerClassName:Et("flex items-center gap-2 has-disabled:opacity-50",t),className:Et("disabled:cursor-not-allowed",e),...n})}function sre({className:e,...t}){return i.jsx("div",{"data-slot":"input-otp-group",className:Et("flex items-center",e),...t})}function Nf({index:e,className:t,...n}){const r=A.useContext(G5),{char:a,hasFakeCaret:s,isActive:c}=(r==null?void 0:r.slots[e])??{};return i.jsxs("div",{"data-slot":"input-otp-slot","data-active":c,className:Et("data-[active=true]:border-ring data-[active=true]:ring-ring/50 data-[active=true]:aria-invalid:ring-destructive/20 dark:data-[active=true]:aria-invalid:ring-destructive/40 aria-invalid:border-destructive data-[active=true]:aria-invalid:border-destructive dark:bg-input/30 border-input relative flex h-9 w-9 items-center justify-center border-y border-r text-sm shadow-xs transition-all outline-none first:rounded-l-md first:border-l last:rounded-r-md data-[active=true]:z-10 data-[active=true]:ring-[3px]",t),...n,children:[a,s&&i.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:i.jsx("div",{className:"animate-caret-blink bg-foreground h-4 w-px duration-1000"})})]})}function ore(){const[e,t]=A.useState(""),[n,r]=A.useState(""),[a,s]=A.useState(!1),[c,f]=A.useState(!1),[m,h]=A.useState(""),[p,v]=A.useState(60),[j,E]=A.useState(!1),[O]=Ik(),T=Il(),{t:_}=tn(),{user:D}=yn(),P=O.get("type")||"email_verification",I=O.get("email")||(D==null?void 0:D.email)||"",U=O.get("phone")||"";A.useEffect(()=>{if(p>0){const H=setTimeout(()=>v(p-1),1e3);return()=>clearTimeout(H)}else E(!0)},[p]);const L=(()=>{switch(P){case"email_verification":return{title:"Verify Your Email",description:`We've sent a 6-digit verification code to ${I}. Please enter it below to verify your email address.`,icon:i.jsx(lE,{className:"h-6 w-6"}),successMessage:"Email verified successfully!",resendText:"Resend verification email"};case"password_reset":return{title:"Reset Your Password",description:`We've sent a 6-digit code to ${I}. Enter it below to reset your password.`,icon:i.jsx(gx,{className:"h-6 w-6"}),successMessage:"Code verified! You can now reset your password.",resendText:"Resend reset code"};case"phone_verification":return{title:"Verify Your Phone",description:`We've sent a 6-digit verification code to ${U}. Please enter it below.`,icon:i.jsx(gx,{className:"h-6 w-6"}),successMessage:"Phone number verified successfully!",resendText:"Resend SMS code"};default:return{title:"Verify Code",description:"Please enter the verification code sent to you.",icon:i.jsx(gx,{className:"h-6 w-6"}),successMessage:"Code verified successfully!",resendText:"Resend code"}}})(),B=async()=>{if(e.length!==6){r("Please enter a 6-digit code");return}r(""),s(!0);try{switch(P){case"email_verification":const{error:H}=await ot.auth.verifyOtp({email:I,token:e,type:"signup"});H?r(H.message):(h(L.successMessage),setTimeout(()=>T("/"),2e3));break;case"password_reset":const{error:X}=await ot.auth.verifyOtp({email:I,token:e,type:"recovery"});X?r(X.message):(h(L.successMessage),setTimeout(()=>T(`/reset-password?token=${e}&email=${I}`),2e3));break;case"phone_verification":const{error:K}=await ot.auth.verifyOtp({phone:U,token:e,type:"sms"});K?r(K.message):(h(L.successMessage),setTimeout(()=>T("/"),2e3));break;default:r("Invalid verification type")}}catch{r("An unexpected error occurred. Please try again.")}finally{s(!1)}},$=async()=>{f(!0),r(""),h("");try{switch(P){case"email_verification":const{error:H}=await ot.auth.resend({type:"signup",email:I});H?r(H.message):(h("Verification email sent again!"),v(60),E(!1));break;case"password_reset":const{error:X}=await ot.auth.resetPasswordForEmail(I,{redirectTo:`${window.location.origin}/otp-verification?type=password_reset&email=${I}`});X?r(X.message):(h("Reset code sent again!"),v(60),E(!1));break;case"phone_verification":h("SMS code sent again!"),v(60),E(!1);break}}catch{r("Failed to resend code. Please try again.")}finally{f(!1)}},z=H=>{t(H),r(""),H.length===6&&setTimeout(B,500)};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:[i.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),i.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"})]}),i.jsxs(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md relative",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs(Ht,{to:"/login",className:"inline-flex items-center gap-2 text-white/70 hover:text-white transition-colors mb-6",children:[i.jsx(H0,{className:"h-4 w-4"}),"Back to Login"]}),i.jsxs(Ye.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2},className:"flex items-center justify-center gap-3 mb-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:"/logo.svg",alt:"Tickets Logo",className:"h-12 w-12"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-400 rounded-lg blur opacity-50"})]}),i.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Tickets"})]})]}),i.jsxs(be,{className:"bg-black/40 backdrop-blur-xl border-white/10 shadow-2xl",children:[i.jsxs(Pe,{className:"text-center",children:[i.jsx("div",{className:"flex items-center justify-center mb-6",children:i.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-br from-blue-500/20 to-purple-500/20 border border-white/10",children:L.icon})}),i.jsx(ke,{className:"text-2xl font-bold text-white",children:L.title}),i.jsx(rt,{className:"text-center text-gray-400 leading-relaxed",children:L.description})]}),i.jsxs(we,{className:"space-y-6",children:[n&&i.jsx(Ys,{variant:"destructive",className:"bg-red-500/10 border-red-500/20",children:i.jsx(Ws,{className:"text-red-400",children:n})}),m&&i.jsxs(Ys,{className:"bg-green-500/10 border-green-500/20",children:[i.jsx(fs,{className:"h-4 w-4 text-green-400"}),i.jsx(Ws,{className:"text-green-400",children:m})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(pt,{className:"text-center block text-white",children:"Enter 6-digit verification code"}),i.jsx("div",{className:"flex justify-center",children:i.jsx(ire,{maxLength:6,value:e,onChange:z,className:"gap-3",children:i.jsxs(sre,{children:[i.jsx(Nf,{index:0,className:"h-14 w-14 text-xl bg-white/5 border-white/10 text-white focus:border-blue-400/50"}),i.jsx(Nf,{index:1,className:"h-14 w-14 text-xl bg-white/5 border-white/10 text-white focus:border-blue-400/50"}),i.jsx(Nf,{index:2,className:"h-14 w-14 text-xl bg-white/5 border-white/10 text-white focus:border-blue-400/50"}),i.jsx(Nf,{index:3,className:"h-14 w-14 text-xl bg-white/5 border-white/10 text-white focus:border-blue-400/50"}),i.jsx(Nf,{index:4,className:"h-14 w-14 text-xl bg-white/5 border-white/10 text-white focus:border-blue-400/50"}),i.jsx(Nf,{index:5,className:"h-14 w-14 text-xl bg-white/5 border-white/10 text-white focus:border-blue-400/50"})]})})})]}),i.jsxs(De,{onClick:B,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 border-0 text-white py-6 text-lg font-semibold",disabled:a||e.length!==6,children:[a&&i.jsx(Fc,{className:"mr-2 h-5 w-5 animate-spin"}),"Verify Code"]}),i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("p",{className:"text-sm text-gray-400",children:"Didn't receive the code?"}),j?i.jsxs(De,{variant:"ghost",onClick:$,disabled:c,className:"text-blue-400 hover:text-blue-300 hover:bg-blue-400/10",children:[c?i.jsx(Fc,{className:"mr-2 h-4 w-4 animate-spin"}):i.jsx(P1,{className:"mr-2 h-4 w-4"}),L.resendText]}):i.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-400",children:[i.jsx(ba,{className:"h-4 w-4"}),i.jsxs("span",{children:["Resend available in ",p,"s"]})]})]})]})]}),i.jsx("div",{className:"mt-8 text-center",children:i.jsxs("div",{className:"flex items-center justify-center gap-6 text-xs text-gray-500",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),i.jsx("span",{children:"Secure Verification"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),i.jsx("span",{children:"Encrypted"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),i.jsx("span",{children:"Protected"})]})]})})]})]})}function lre(){const[e,t]=A.useState({password:"",confirmPassword:""}),[n,r]=A.useState(!1),[a,s]=A.useState(!1),[c,f]=A.useState(""),[m,h]=A.useState(!1),[p,v]=A.useState(""),[j]=Ik(),E=Il(),{t:O}=tn(),T=j.get("token");j.get("email"),A.useEffect(()=>{T||E("/forgot-password")},[T,E]);const _=async P=>{if(P.preventDefault(),f(""),v(""),e.password!==e.confirmPassword){f("Passwords do not match");return}if(e.password.length<6){f("Password must be at least 6 characters");return}if(!T){f("Invalid reset token");return}h(!0);try{const{error:I}=await ot.auth.updateUser({password:e.password});I?f(I.message):(v("Password updated successfully! Redirecting to login..."),setTimeout(()=>E("/login"),3e3))}catch{f("An unexpected error occurred")}finally{h(!1)}},D=(P,I)=>{t(U=>({...U,[P]:I})),f("")};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:[i.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),i.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"})]}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md",children:i.jsxs(be,{children:[i.jsxs(Pe,{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[i.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary text-white",children:i.jsx(si,{className:"h-6 w-6"})}),i.jsx("h1",{className:"text-2xl font-bold text-primary",children:O("app.name")})]}),i.jsx("div",{className:"flex items-center justify-center mb-4",children:i.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 text-primary",children:i.jsx(gx,{className:"h-6 w-6"})})}),i.jsx(ke,{className:"text-2xl font-bold",children:"Reset Your Password"}),i.jsx(rt,{children:"Enter your new password below"})]}),i.jsxs(we,{children:[i.jsxs("form",{onSubmit:_,className:"space-y-4",children:[c&&i.jsx(Ys,{variant:"destructive",children:i.jsx(Ws,{children:c})}),p&&i.jsx(Ys,{children:i.jsx(Ws,{className:"text-green-600",children:p})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pt,{htmlFor:"password",children:"New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(qt,{id:"password",type:n?"text":"password",value:e.password,onChange:P=>D("password",P.target.value),placeholder:"Enter new password",required:!0,minLength:6}),i.jsx(De,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>r(!n),children:n?i.jsx(wi,{className:"h-4 w-4"}):i.jsx(mr,{className:"h-4 w-4"})})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Password must be at least 6 characters long"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pt,{htmlFor:"confirmPassword",children:"Confirm New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(qt,{id:"confirmPassword",type:a?"text":"password",value:e.confirmPassword,onChange:P=>D("confirmPassword",P.target.value),placeholder:"Confirm new password",required:!0}),i.jsx(De,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>s(!a),children:a?i.jsx(wi,{className:"h-4 w-4"}):i.jsx(mr,{className:"h-4 w-4"})})]})]}),i.jsxs(De,{type:"submit",className:"w-full",disabled:m,children:[m&&i.jsx(Fc,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Password"]})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs(Ht,{to:"/login",className:"inline-flex items-center text-sm text-primary hover:underline",children:[i.jsx(H0,{className:"mr-1 h-4 w-4"}),"Back to Login"]})})]})]})})]})}var _w={exports:{}},Cw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xM;function cre(){if(xM)return Cw;xM=1;var e=uh();function t(v,j){return v===j&&(v!==0||1/v===1/j)||v!==v&&j!==j}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,a=e.useEffect,s=e.useLayoutEffect,c=e.useDebugValue;function f(v,j){var E=j(),O=r({inst:{value:E,getSnapshot:j}}),T=O[0].inst,_=O[1];return s(function(){T.value=E,T.getSnapshot=j,m(T)&&_({inst:T})},[v,E,j]),a(function(){return m(T)&&_({inst:T}),v(function(){m(T)&&_({inst:T})})},[v]),c(E),E}function m(v){var j=v.getSnapshot;v=v.value;try{var E=j();return!n(v,E)}catch{return!0}}function h(v,j){return j()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:f;return Cw.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Cw}var vM;function X5(){return vM||(vM=1,_w.exports=cre()),_w.exports}var ure=X5();function dre(){return ure.useSyncExternalStore(fre,()=>!0,()=>!1)}function fre(){return()=>{}}var AE="Avatar",[hre,fAe]=Js(AE),[mre,Q5]=hre(AE),Z5=A.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[a,s]=A.useState("idle");return i.jsx(mre,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:s,children:i.jsx(Ot.span,{...r,ref:t})})});Z5.displayName=AE;var J5="AvatarImage",eL=A.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:a=()=>{},...s}=e,c=Q5(J5,n),f=gre(r,s),m=Gs(h=>{a(h),c.onImageLoadingStatusChange(h)});return la(()=>{f!=="idle"&&m(f)},[f,m]),f==="loaded"?i.jsx(Ot.img,{...s,ref:t,src:r}):null});eL.displayName=J5;var tL="AvatarFallback",nL=A.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...a}=e,s=Q5(tL,n),[c,f]=A.useState(r===void 0);return A.useEffect(()=>{if(r!==void 0){const m=window.setTimeout(()=>f(!0),r);return()=>window.clearTimeout(m)}},[r]),c&&s.imageLoadingStatus!=="loaded"?i.jsx(Ot.span,{...a,ref:t}):null});nL.displayName=tL;function yM(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function gre(e,{referrerPolicy:t,crossOrigin:n}){const r=dre(),a=A.useRef(null),s=r?(a.current||(a.current=new window.Image),a.current):null,[c,f]=A.useState(()=>yM(s,e));return la(()=>{f(yM(s,e))},[s,e]),la(()=>{const m=v=>()=>{f(v)};if(!s)return;const h=m("loaded"),p=m("error");return s.addEventListener("load",h),s.addEventListener("error",p),t&&(s.referrerPolicy=t),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",h),s.removeEventListener("error",p)}},[s,n,t]),c}var pre=Z5,xre=eL,vre=nL;function sj({className:e,...t}){return i.jsx(pre,{"data-slot":"avatar",className:Et("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function oj({className:e,...t}){return i.jsx(xre,{"data-slot":"avatar-image",className:Et("aspect-square size-full",e),...t})}function lj({className:e,...t}){return i.jsx(vre,{"data-slot":"avatar-fallback",className:Et("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}const yre=rE("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function At({className:e,variant:t,asChild:n=!1,...r}){const a=n?m6:"span";return i.jsx(a,{"data-slot":"badge",className:Et(yre({variant:t}),e),...r})}var bre="Separator",bM="horizontal",wre=["horizontal","vertical"],rL=A.forwardRef((e,t)=>{const{decorative:n,orientation:r=bM,...a}=e,s=Sre(r)?r:bM,f=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return i.jsx(Ot.div,{"data-orientation":s,...f,...a,ref:t})});rL.displayName=bre;function Sre(e){return wre.includes(e)}var jre=rL;function Vc({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return i.jsx(jre,{"data-slot":"separator-root",decorative:n,orientation:t,className:Et("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}function Are(e,t){return A.useReducer((n,r)=>t[n][r]??n,e)}var kl=e=>{const{present:t,children:n}=e,r=Ere(t),a=typeof n=="function"?n({present:r.isPresent}):A.Children.only(n),s=Rn(r.ref,Nre(a));return typeof n=="function"||r.isPresent?A.cloneElement(a,{ref:s}):null};kl.displayName="Presence";function Ere(e){const[t,n]=A.useState(),r=A.useRef(null),a=A.useRef(e),s=A.useRef("none"),c=e?"mounted":"unmounted",[f,m]=Are(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const h=Vp(r.current);s.current=f==="mounted"?h:"none"},[f]),la(()=>{const h=r.current,p=a.current;if(p!==e){const j=s.current,E=Vp(h);e?m("MOUNT"):E==="none"||(h==null?void 0:h.display)==="none"?m("UNMOUNT"):m(p&&j!==E?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,m]),la(()=>{if(t){let h;const p=t.ownerDocument.defaultView??window,v=E=>{const T=Vp(r.current).includes(E.animationName);if(E.target===t&&T&&(m("ANIMATION_END"),!a.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",h=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},j=E=>{E.target===t&&(s.current=Vp(r.current))};return t.addEventListener("animationstart",j),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{p.clearTimeout(h),t.removeEventListener("animationstart",j),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:A.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function Vp(e){return(e==null?void 0:e.animationName)||"none"}function Nre(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Tw="rovingFocusGroup.onEntryFocus",_re={bubbles:!1,cancelable:!0},W0="RovingFocusGroup",[cj,aL,Cre]=dE(W0),[Tre,Q1]=Js(W0,[Cre]),[Ore,Mre]=Tre(W0),iL=A.forwardRef((e,t)=>i.jsx(cj.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(cj.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Dre,{...e,ref:t})})}));iL.displayName=W0;var Dre=A.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:s,currentTabStopId:c,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:m,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...v}=e,j=A.useRef(null),E=Rn(t,j),O=B1(s),[T,_]=ld({prop:c,defaultProp:f??null,onChange:m,caller:W0}),[D,P]=A.useState(!1),I=Gs(h),U=aL(n),F=A.useRef(!1),[L,B]=A.useState(0);return A.useEffect(()=>{const $=j.current;if($)return $.addEventListener(Tw,I),()=>$.removeEventListener(Tw,I)},[I]),i.jsx(Ore,{scope:n,orientation:r,dir:O,loop:a,currentTabStopId:T,onItemFocus:A.useCallback($=>_($),[_]),onItemShiftTab:A.useCallback(()=>P(!0),[]),onFocusableItemAdd:A.useCallback(()=>B($=>$+1),[]),onFocusableItemRemove:A.useCallback(()=>B($=>$-1),[]),children:i.jsx(Ot.div,{tabIndex:D||L===0?-1:0,"data-orientation":r,...v,ref:E,style:{outline:"none",...e.style},onMouseDown:mt(e.onMouseDown,()=>{F.current=!0}),onFocus:mt(e.onFocus,$=>{const z=!F.current;if($.target===$.currentTarget&&z&&!D){const H=new CustomEvent(Tw,_re);if($.currentTarget.dispatchEvent(H),!H.defaultPrevented){const X=U().filter(G=>G.focusable),K=X.find(G=>G.active),ee=X.find(G=>G.id===T),ne=[K,ee,...X].filter(Boolean).map(G=>G.ref.current);lL(ne,p)}}F.current=!1}),onBlur:mt(e.onBlur,()=>P(!1))})})}),sL="RovingFocusGroupItem",oL=A.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:s,children:c,...f}=e,m=Oo(),h=s||m,p=Mre(sL,n),v=p.currentTabStopId===h,j=aL(n),{onFocusableItemAdd:E,onFocusableItemRemove:O,currentTabStopId:T}=p;return A.useEffect(()=>{if(r)return E(),()=>O()},[r,E,O]),i.jsx(cj.ItemSlot,{scope:n,id:h,focusable:r,active:a,children:i.jsx(Ot.span,{tabIndex:v?0:-1,"data-orientation":p.orientation,...f,ref:t,onMouseDown:mt(e.onMouseDown,_=>{r?p.onItemFocus(h):_.preventDefault()}),onFocus:mt(e.onFocus,()=>p.onItemFocus(h)),onKeyDown:mt(e.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){p.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const D=Pre(_,p.orientation,p.dir);if(D!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let I=j().filter(U=>U.focusable).map(U=>U.ref.current);if(D==="last")I.reverse();else if(D==="prev"||D==="next"){D==="prev"&&I.reverse();const U=I.indexOf(_.currentTarget);I=p.loop?kre(I,U+1):I.slice(U+1)}setTimeout(()=>lL(I))}}),children:typeof c=="function"?c({isCurrentTabStop:v,hasTabStop:T!=null}):c})})});oL.displayName=sL;var Rre={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ire(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Pre(e,t,n){const r=Ire(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Rre[r]}function lL(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function kre(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var cL=iL,uL=oL,uj=["Enter"," "],Lre=["ArrowDown","PageUp","Home"],dL=["ArrowUp","PageDown","End"],Bre=[...Lre,...dL],Fre={ltr:[...uj,"ArrowRight"],rtl:[...uj,"ArrowLeft"]},Ure={ltr:["ArrowLeft"],rtl:["ArrowRight"]},G0="Menu",[y0,zre,Vre]=dE(G0),[bd,fL]=Js(G0,[Vre,H1,Q1]),Z1=H1(),hL=Q1(),[$re,wd]=bd(G0),[Hre,K0]=bd(G0),mL=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:a,onOpenChange:s,modal:c=!0}=e,f=Z1(t),[m,h]=A.useState(null),p=A.useRef(!1),v=Gs(s),j=B1(a);return A.useEffect(()=>{const E=()=>{p.current=!0,document.addEventListener("pointerdown",O,{capture:!0,once:!0}),document.addEventListener("pointermove",O,{capture:!0,once:!0})},O=()=>p.current=!1;return document.addEventListener("keydown",E,{capture:!0}),()=>{document.removeEventListener("keydown",E,{capture:!0}),document.removeEventListener("pointerdown",O,{capture:!0}),document.removeEventListener("pointermove",O,{capture:!0})}},[]),i.jsx(i5,{...f,children:i.jsx($re,{scope:t,open:n,onOpenChange:v,content:m,onContentChange:h,children:i.jsx(Hre,{scope:t,onClose:A.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:p,dir:j,modal:c,children:r})})})};mL.displayName=G0;var qre="MenuAnchor",EE=A.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=Z1(n);return i.jsx(s5,{...a,...r,ref:t})});EE.displayName=qre;var NE="MenuPortal",[Yre,gL]=bd(NE,{forceMount:void 0}),pL=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:a}=e,s=wd(NE,t);return i.jsx(Yre,{scope:t,forceMount:n,children:i.jsx(kl,{present:n||s.open,children:i.jsx(q1,{asChild:!0,container:a,children:r})})})};pL.displayName=NE;var xs="MenuContent",[Wre,_E]=bd(xs),xL=A.forwardRef((e,t)=>{const n=gL(xs,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,s=wd(xs,e.__scopeMenu),c=K0(xs,e.__scopeMenu);return i.jsx(y0.Provider,{scope:e.__scopeMenu,children:i.jsx(kl,{present:r||s.open,children:i.jsx(y0.Slot,{scope:e.__scopeMenu,children:c.modal?i.jsx(Gre,{...a,ref:t}):i.jsx(Kre,{...a,ref:t})})})})}),Gre=A.forwardRef((e,t)=>{const n=wd(xs,e.__scopeMenu),r=A.useRef(null),a=Rn(t,r);return A.useEffect(()=>{const s=r.current;if(s)return SE(s)},[]),i.jsx(CE,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:mt(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Kre=A.forwardRef((e,t)=>{const n=wd(xs,e.__scopeMenu);return i.jsx(CE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Xre=id("MenuContent.ScrollLock"),CE=A.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:c,disableOutsidePointerEvents:f,onEntryFocus:m,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:v,onInteractOutside:j,onDismiss:E,disableOutsideScroll:O,...T}=e,_=wd(xs,n),D=K0(xs,n),P=Z1(n),I=hL(n),U=zre(n),[F,L]=A.useState(null),B=A.useRef(null),$=Rn(t,B,_.onContentChange),z=A.useRef(0),H=A.useRef(""),X=A.useRef(0),K=A.useRef(null),ee=A.useRef("right"),ue=A.useRef(0),ne=O?W1:A.Fragment,G=O?{as:Xre,allowPinchZoom:!0}:void 0,Q=he=>{var pe,Ie;const te=H.current+he,fe=U().filter(xe=>!xe.disabled),se=document.activeElement,me=(pe=fe.find(xe=>xe.ref.current===se))==null?void 0:pe.textValue,Re=fe.map(xe=>xe.textValue),ye=lae(Re,te,me),oe=(Ie=fe.find(xe=>xe.textValue===ye))==null?void 0:Ie.ref.current;(function xe(Fe){H.current=Fe,window.clearTimeout(z.current),Fe!==""&&(z.current=window.setTimeout(()=>xe(""),1e3))})(te),oe&&setTimeout(()=>oe.focus())};A.useEffect(()=>()=>window.clearTimeout(z.current),[]),fE();const ae=A.useCallback(he=>{var fe,se;return ee.current===((fe=K.current)==null?void 0:fe.side)&&uae(he,(se=K.current)==null?void 0:se.area)},[]);return i.jsx(Wre,{scope:n,searchRef:H,onItemEnter:A.useCallback(he=>{ae(he)&&he.preventDefault()},[ae]),onItemLeave:A.useCallback(he=>{var te;ae(he)||((te=B.current)==null||te.focus(),L(null))},[ae]),onTriggerLeave:A.useCallback(he=>{ae(he)&&he.preventDefault()},[ae]),pointerGraceTimerRef:X,onPointerGraceIntentChange:A.useCallback(he=>{K.current=he},[]),children:i.jsx(ne,{...G,children:i.jsx(U1,{asChild:!0,trapped:a,onMountAutoFocus:mt(s,he=>{var te;he.preventDefault(),(te=B.current)==null||te.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:i.jsx(F1,{asChild:!0,disableOutsidePointerEvents:f,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:v,onInteractOutside:j,onDismiss:E,children:i.jsx(cL,{asChild:!0,...I,dir:D.dir,orientation:"vertical",loop:r,currentTabStopId:F,onCurrentTabStopIdChange:L,onEntryFocus:mt(m,he=>{D.isUsingKeyboardRef.current||he.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(o5,{role:"menu","aria-orientation":"vertical","data-state":RL(_.open),"data-radix-menu-content":"",dir:D.dir,...P,...T,ref:$,style:{outline:"none",...T.style},onKeyDown:mt(T.onKeyDown,he=>{const fe=he.target.closest("[data-radix-menu-content]")===he.currentTarget,se=he.ctrlKey||he.altKey||he.metaKey,me=he.key.length===1;fe&&(he.key==="Tab"&&he.preventDefault(),!se&&me&&Q(he.key));const Re=B.current;if(he.target!==Re||!Bre.includes(he.key))return;he.preventDefault();const oe=U().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);dL.includes(he.key)&&oe.reverse(),sae(oe)}),onBlur:mt(e.onBlur,he=>{he.currentTarget.contains(he.target)||(window.clearTimeout(z.current),H.current="")}),onPointerMove:mt(e.onPointerMove,b0(he=>{const te=he.target,fe=ue.current!==he.clientX;if(he.currentTarget.contains(te)&&fe){const se=he.clientX>ue.current?"right":"left";ee.current=se,ue.current=he.clientX}}))})})})})})})});xL.displayName=xs;var Qre="MenuGroup",TE=A.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(Ot.div,{role:"group",...r,ref:t})});TE.displayName=Qre;var Zre="MenuLabel",vL=A.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(Ot.div,{...r,ref:t})});vL.displayName=Zre;var Px="MenuItem",wM="menu.itemSelect",J1=A.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...a}=e,s=A.useRef(null),c=K0(Px,e.__scopeMenu),f=_E(Px,e.__scopeMenu),m=Rn(t,s),h=A.useRef(!1),p=()=>{const v=s.current;if(!n&&v){const j=new CustomEvent(wM,{bubbles:!0,cancelable:!0});v.addEventListener(wM,E=>r==null?void 0:r(E),{once:!0}),R6(v,j),j.defaultPrevented?h.current=!1:c.onClose()}};return i.jsx(yL,{...a,ref:m,disabled:n,onClick:mt(e.onClick,p),onPointerDown:v=>{var j;(j=e.onPointerDown)==null||j.call(e,v),h.current=!0},onPointerUp:mt(e.onPointerUp,v=>{var j;h.current||(j=v.currentTarget)==null||j.click()}),onKeyDown:mt(e.onKeyDown,v=>{const j=f.searchRef.current!=="";n||j&&v.key===" "||uj.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});J1.displayName=Px;var yL=A.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...s}=e,c=_E(Px,n),f=hL(n),m=A.useRef(null),h=Rn(t,m),[p,v]=A.useState(!1),[j,E]=A.useState("");return A.useEffect(()=>{const O=m.current;O&&E((O.textContent??"").trim())},[s.children]),i.jsx(y0.ItemSlot,{scope:n,disabled:r,textValue:a??j,children:i.jsx(uL,{asChild:!0,...f,focusable:!r,children:i.jsx(Ot.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:h,onPointerMove:mt(e.onPointerMove,b0(O=>{r?c.onItemLeave(O):(c.onItemEnter(O),O.defaultPrevented||O.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:mt(e.onPointerLeave,b0(O=>c.onItemLeave(O))),onFocus:mt(e.onFocus,()=>v(!0)),onBlur:mt(e.onBlur,()=>v(!1))})})})}),Jre="MenuCheckboxItem",bL=A.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return i.jsx(EL,{scope:e.__scopeMenu,checked:n,children:i.jsx(J1,{role:"menuitemcheckbox","aria-checked":kx(n)?"mixed":n,...a,ref:t,"data-state":ME(n),onSelect:mt(a.onSelect,()=>r==null?void 0:r(kx(n)?!0:!n),{checkForDefaultPrevented:!1})})})});bL.displayName=Jre;var wL="MenuRadioGroup",[eae,tae]=bd(wL,{value:void 0,onValueChange:()=>{}}),SL=A.forwardRef((e,t)=>{const{value:n,onValueChange:r,...a}=e,s=Gs(r);return i.jsx(eae,{scope:e.__scopeMenu,value:n,onValueChange:s,children:i.jsx(TE,{...a,ref:t})})});SL.displayName=wL;var jL="MenuRadioItem",AL=A.forwardRef((e,t)=>{const{value:n,...r}=e,a=tae(jL,e.__scopeMenu),s=n===a.value;return i.jsx(EL,{scope:e.__scopeMenu,checked:s,children:i.jsx(J1,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":ME(s),onSelect:mt(r.onSelect,()=>{var c;return(c=a.onValueChange)==null?void 0:c.call(a,n)},{checkForDefaultPrevented:!1})})})});AL.displayName=jL;var OE="MenuItemIndicator",[EL,nae]=bd(OE,{checked:!1}),NL=A.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...a}=e,s=nae(OE,n);return i.jsx(kl,{present:r||kx(s.checked)||s.checked===!0,children:i.jsx(Ot.span,{...a,ref:t,"data-state":ME(s.checked)})})});NL.displayName=OE;var rae="MenuSeparator",_L=A.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(Ot.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});_L.displayName=rae;var aae="MenuArrow",CL=A.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=Z1(n);return i.jsx(l5,{...a,...r,ref:t})});CL.displayName=aae;var iae="MenuSub",[hAe,TL]=bd(iae),qm="MenuSubTrigger",OL=A.forwardRef((e,t)=>{const n=wd(qm,e.__scopeMenu),r=K0(qm,e.__scopeMenu),a=TL(qm,e.__scopeMenu),s=_E(qm,e.__scopeMenu),c=A.useRef(null),{pointerGraceTimerRef:f,onPointerGraceIntentChange:m}=s,h={__scopeMenu:e.__scopeMenu},p=A.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return A.useEffect(()=>p,[p]),A.useEffect(()=>{const v=f.current;return()=>{window.clearTimeout(v),m(null)}},[f,m]),i.jsx(EE,{asChild:!0,...h,children:i.jsx(yL,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":RL(n.open),...e,ref:I1(t,a.onTriggerChange),onClick:v=>{var j;(j=e.onClick)==null||j.call(e,v),!(e.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:mt(e.onPointerMove,b0(v=>{s.onItemEnter(v),!v.defaultPrevented&&!e.disabled&&!n.open&&!c.current&&(s.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:mt(e.onPointerLeave,b0(v=>{var E,O;p();const j=(E=n.content)==null?void 0:E.getBoundingClientRect();if(j){const T=(O=n.content)==null?void 0:O.dataset.side,_=T==="right",D=_?-5:5,P=j[_?"left":"right"],I=j[_?"right":"left"];s.onPointerGraceIntentChange({area:[{x:v.clientX+D,y:v.clientY},{x:P,y:j.top},{x:I,y:j.top},{x:I,y:j.bottom},{x:P,y:j.bottom}],side:T}),window.clearTimeout(f.current),f.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(v),v.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:mt(e.onKeyDown,v=>{var E;const j=s.searchRef.current!=="";e.disabled||j&&v.key===" "||Fre[r.dir].includes(v.key)&&(n.onOpenChange(!0),(E=n.content)==null||E.focus(),v.preventDefault())})})})});OL.displayName=qm;var ML="MenuSubContent",DL=A.forwardRef((e,t)=>{const n=gL(xs,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,s=wd(xs,e.__scopeMenu),c=K0(xs,e.__scopeMenu),f=TL(ML,e.__scopeMenu),m=A.useRef(null),h=Rn(t,m);return i.jsx(y0.Provider,{scope:e.__scopeMenu,children:i.jsx(kl,{present:r||s.open,children:i.jsx(y0.Slot,{scope:e.__scopeMenu,children:i.jsx(CE,{id:f.contentId,"aria-labelledby":f.triggerId,...a,ref:h,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var v;c.isUsingKeyboardRef.current&&((v=m.current)==null||v.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:mt(e.onFocusOutside,p=>{p.target!==f.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:mt(e.onEscapeKeyDown,p=>{c.onClose(),p.preventDefault()}),onKeyDown:mt(e.onKeyDown,p=>{var E;const v=p.currentTarget.contains(p.target),j=Ure[c.dir].includes(p.key);v&&j&&(s.onOpenChange(!1),(E=f.trigger)==null||E.focus(),p.preventDefault())})})})})})});DL.displayName=ML;function RL(e){return e?"open":"closed"}function kx(e){return e==="indeterminate"}function ME(e){return kx(e)?"indeterminate":e?"checked":"unchecked"}function sae(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function oae(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function lae(e,t,n){const a=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let c=oae(e,Math.max(s,0));a.length===1&&(c=c.filter(h=>h!==n));const m=c.find(h=>h.toLowerCase().startsWith(a.toLowerCase()));return m!==n?m:void 0}function cae(e,t){const{x:n,y:r}=e;let a=!1;for(let s=0,c=t.length-1;s<t.length;c=s++){const f=t[s],m=t[c],h=f.x,p=f.y,v=m.x,j=m.y;p>r!=j>r&&n<(v-h)*(r-p)/(j-p)+h&&(a=!a)}return a}function uae(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return cae(n,t)}function b0(e){return t=>t.pointerType==="mouse"?e(t):void 0}var dae=mL,fae=EE,hae=pL,mae=xL,gae=TE,pae=vL,xae=J1,vae=bL,yae=SL,bae=AL,wae=NL,Sae=_L,jae=CL,Aae=OL,Eae=DL,ev="DropdownMenu",[Nae,mAe]=Js(ev,[fL]),li=fL(),[_ae,IL]=Nae(ev),PL=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:a,defaultOpen:s,onOpenChange:c,modal:f=!0}=e,m=li(t),h=A.useRef(null),[p,v]=ld({prop:a,defaultProp:s??!1,onChange:c,caller:ev});return i.jsx(_ae,{scope:t,triggerId:Oo(),triggerRef:h,contentId:Oo(),open:p,onOpenChange:v,onOpenToggle:A.useCallback(()=>v(j=>!j),[v]),modal:f,children:i.jsx(dae,{...m,open:p,onOpenChange:v,dir:r,modal:f,children:n})})};PL.displayName=ev;var kL="DropdownMenuTrigger",LL=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,s=IL(kL,n),c=li(n);return i.jsx(fae,{asChild:!0,...c,children:i.jsx(Ot.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:I1(t,s.triggerRef),onPointerDown:mt(e.onPointerDown,f=>{!r&&f.button===0&&f.ctrlKey===!1&&(s.onOpenToggle(),s.open||f.preventDefault())}),onKeyDown:mt(e.onKeyDown,f=>{r||(["Enter"," "].includes(f.key)&&s.onOpenToggle(),f.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(f.key)&&f.preventDefault())})})})});LL.displayName=kL;var Cae="DropdownMenuPortal",BL=e=>{const{__scopeDropdownMenu:t,...n}=e,r=li(t);return i.jsx(hae,{...r,...n})};BL.displayName=Cae;var FL="DropdownMenuContent",UL=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=IL(FL,n),s=li(n),c=A.useRef(!1);return i.jsx(mae,{id:a.contentId,"aria-labelledby":a.triggerId,...s,...r,ref:t,onCloseAutoFocus:mt(e.onCloseAutoFocus,f=>{var m;c.current||(m=a.triggerRef.current)==null||m.focus(),c.current=!1,f.preventDefault()}),onInteractOutside:mt(e.onInteractOutside,f=>{const m=f.detail.originalEvent,h=m.button===0&&m.ctrlKey===!0,p=m.button===2||h;(!a.modal||p)&&(c.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});UL.displayName=FL;var Tae="DropdownMenuGroup",Oae=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=li(n);return i.jsx(gae,{...a,...r,ref:t})});Oae.displayName=Tae;var Mae="DropdownMenuLabel",zL=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=li(n);return i.jsx(pae,{...a,...r,ref:t})});zL.displayName=Mae;var Dae="DropdownMenuItem",VL=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=li(n);return i.jsx(xae,{...a,...r,ref:t})});VL.displayName=Dae;var Rae="DropdownMenuCheckboxItem",Iae=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=li(n);return i.jsx(vae,{...a,...r,ref:t})});Iae.displayName=Rae;var Pae="DropdownMenuRadioGroup",kae=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=li(n);return i.jsx(yae,{...a,...r,ref:t})});kae.displayName=Pae;var Lae="DropdownMenuRadioItem",Bae=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=li(n);return i.jsx(bae,{...a,...r,ref:t})});Bae.displayName=Lae;var Fae="DropdownMenuItemIndicator",Uae=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=li(n);return i.jsx(wae,{...a,...r,ref:t})});Uae.displayName=Fae;var zae="DropdownMenuSeparator",$L=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=li(n);return i.jsx(Sae,{...a,...r,ref:t})});$L.displayName=zae;var Vae="DropdownMenuArrow",$ae=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=li(n);return i.jsx(jae,{...a,...r,ref:t})});$ae.displayName=Vae;var Hae="DropdownMenuSubTrigger",qae=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=li(n);return i.jsx(Aae,{...a,...r,ref:t})});qae.displayName=Hae;var Yae="DropdownMenuSubContent",Wae=A.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=li(n);return i.jsx(Eae,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Wae.displayName=Yae;var Gae=PL,Kae=LL,Xae=BL,Qae=UL,Zae=zL,Jae=VL,eie=$L;function tie({...e}){return i.jsx(Gae,{"data-slot":"dropdown-menu",...e})}function nie({...e}){return i.jsx(Kae,{"data-slot":"dropdown-menu-trigger",...e})}function rie({className:e,sideOffset:t=4,...n}){return i.jsx(Xae,{children:i.jsx(Qae,{"data-slot":"dropdown-menu-content",sideOffset:t,className:Et("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function Ow({className:e,inset:t,variant:n="default",...r}){return i.jsx(Jae,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:Et("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function aie({className:e,inset:t,...n}){return i.jsx(Zae,{"data-slot":"dropdown-menu-label","data-inset":t,className:Et("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...n})}function SM({className:e,...t}){return i.jsx(eie,{"data-slot":"dropdown-menu-separator",className:Et("bg-border -mx-1 my-1 h-px",e),...t})}var tv="Dialog",[HL,gAe]=Js(tv),[iie,eo]=HL(tv),qL=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:s,modal:c=!0}=e,f=A.useRef(null),m=A.useRef(null),[h,p]=ld({prop:r,defaultProp:a??!1,onChange:s,caller:tv});return i.jsx(iie,{scope:t,triggerRef:f,contentRef:m,contentId:Oo(),titleId:Oo(),descriptionId:Oo(),open:h,onOpenChange:p,onOpenToggle:A.useCallback(()=>p(v=>!v),[p]),modal:c,children:n})};qL.displayName=tv;var YL="DialogTrigger",WL=A.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=eo(YL,n),s=Rn(t,a.triggerRef);return i.jsx(Ot.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":IE(a.open),...r,ref:s,onClick:mt(e.onClick,a.onOpenToggle)})});WL.displayName=YL;var DE="DialogPortal",[sie,GL]=HL(DE,{forceMount:void 0}),KL=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,s=eo(DE,t);return i.jsx(sie,{scope:t,forceMount:n,children:A.Children.map(r,c=>i.jsx(kl,{present:n||s.open,children:i.jsx(q1,{asChild:!0,container:a,children:c})}))})};KL.displayName=DE;var Lx="DialogOverlay",XL=A.forwardRef((e,t)=>{const n=GL(Lx,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,s=eo(Lx,e.__scopeDialog);return s.modal?i.jsx(kl,{present:r||s.open,children:i.jsx(lie,{...a,ref:t})}):null});XL.displayName=Lx;var oie=id("DialogOverlay.RemoveScroll"),lie=A.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=eo(Lx,n);return i.jsx(W1,{as:oie,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(Ot.div,{"data-state":IE(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),dd="DialogContent",QL=A.forwardRef((e,t)=>{const n=GL(dd,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,s=eo(dd,e.__scopeDialog);return i.jsx(kl,{present:r||s.open,children:s.modal?i.jsx(cie,{...a,ref:t}):i.jsx(uie,{...a,ref:t})})});QL.displayName=dd;var cie=A.forwardRef((e,t)=>{const n=eo(dd,e.__scopeDialog),r=A.useRef(null),a=Rn(t,n.contentRef,r);return A.useEffect(()=>{const s=r.current;if(s)return SE(s)},[]),i.jsx(ZL,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:mt(e.onCloseAutoFocus,s=>{var c;s.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:mt(e.onPointerDownOutside,s=>{const c=s.detail.originalEvent,f=c.button===0&&c.ctrlKey===!0;(c.button===2||f)&&s.preventDefault()}),onFocusOutside:mt(e.onFocusOutside,s=>s.preventDefault())})}),uie=A.forwardRef((e,t)=>{const n=eo(dd,e.__scopeDialog),r=A.useRef(!1),a=A.useRef(!1);return i.jsx(ZL,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var c,f;(c=e.onCloseAutoFocus)==null||c.call(e,s),s.defaultPrevented||(r.current||(f=n.triggerRef.current)==null||f.focus(),s.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:s=>{var m,h;(m=e.onInteractOutside)==null||m.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=s.target;((h=n.triggerRef.current)==null?void 0:h.contains(c))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),ZL=A.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:s,...c}=e,f=eo(dd,n),m=A.useRef(null),h=Rn(t,m);return fE(),i.jsxs(i.Fragment,{children:[i.jsx(U1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(F1,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":IE(f.open),...c,ref:h,onDismiss:()=>f.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(die,{titleId:f.titleId}),i.jsx(hie,{contentRef:m,descriptionId:f.descriptionId})]})]})}),RE="DialogTitle",JL=A.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=eo(RE,n);return i.jsx(Ot.h2,{id:a.titleId,...r,ref:t})});JL.displayName=RE;var e7="DialogDescription",t7=A.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=eo(e7,n);return i.jsx(Ot.p,{id:a.descriptionId,...r,ref:t})});t7.displayName=e7;var n7="DialogClose",r7=A.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=eo(n7,n);return i.jsx(Ot.button,{type:"button",...r,ref:t,onClick:mt(e.onClick,()=>a.onOpenChange(!1))})});r7.displayName=n7;function IE(e){return e?"open":"closed"}var a7="DialogTitleWarning",[pAe,i7]=HJ(a7,{contentName:dd,titleName:RE,docsSlug:"dialog"}),die=({titleId:e})=>{const t=i7(a7),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return A.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},fie="DialogDescriptionWarning",hie=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${i7(fie).contentName}}.`;return A.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},s7=qL,o7=WL,l7=KL,c7=XL,u7=QL,mie=JL,gie=t7,d7=r7;function pie({...e}){return i.jsx(s7,{"data-slot":"sheet",...e})}function xie({...e}){return i.jsx(o7,{"data-slot":"sheet-trigger",...e})}function vie({...e}){return i.jsx(l7,{"data-slot":"sheet-portal",...e})}function yie({className:e,...t}){return i.jsx(c7,{"data-slot":"sheet-overlay",className:Et("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function bie({className:e,children:t,side:n="right",...r}){return i.jsxs(vie,{children:[i.jsx(yie,{}),i.jsxs(u7,{"data-slot":"sheet-content",className:Et("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...r,children:[t,i.jsxs(d7,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[i.jsx(L1,{className:"size-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}const wie=[{label:"nav.dashboard",href:"",icon:zZ,roles:["passenger","driver","merchant","event_admin","admin"]},{label:"nav.wallet",href:"wallet",icon:sd,roles:["passenger","driver","merchant","event_admin"]},{label:"nav.scanner",href:"scanner",icon:Ar,roles:["passenger"]},{label:"nav.transactions",href:"transactions",icon:m0,roles:["passenger","driver","merchant","event_admin","admin"]},{label:"nav.events",href:"events",icon:bi,roles:["passenger","event_admin"]},{label:"nav.tickets",href:"tickets",icon:si,roles:["passenger"]},{label:"nav.earnings",href:"earnings",icon:Kn,roles:["driver"]},{label:"nav.trips",href:"trips",icon:Hs,roles:["driver"]},{label:"nav.qrcode",href:"qr-code",icon:Ar,roles:["driver","merchant"]},{label:"nav.business",href:"business",icon:Qf,roles:["merchant"]},{label:"nav.management",href:"management",icon:bi,roles:["event_admin"]},{label:"nav.analytics",href:"analytics",icon:sE,roles:["admin"]},{label:"nav.users",href:"users",icon:Ga,roles:["admin"]},{label:"nav.disputes",href:"disputes",icon:qs,roles:["admin"]}];function X0({children:e,userType:t}){var _;const[n,r]=A.useState(!1),{profile:a,signOut:s}=yn(),{t:c,language:f,setLanguage:m,isRTL:h}=tn(),p=Uo(),v=Il(),j=wie.filter(D=>D.roles.includes(t)),E=async()=>{await s(),v("/login")},O=D=>{switch(D){case"passenger":return"bg-blue-500";case"driver":return"bg-green-500";case"merchant":return"bg-purple-500";case"event_admin":return"bg-orange-500";case"admin":return"bg-red-500";default:return"bg-gray-500"}},T=()=>{var D;return i.jsxs("div",{className:"flex h-full flex-col",children:[i.jsxs("div",{className:"flex h-16 items-center gap-2 border-b px-6",children:[i.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-white",children:i.jsx(si,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-xl font-bold text-primary",children:c("app.name")})]}),i.jsx("div",{className:"border-b p-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(sj,{className:"h-10 w-10",children:[i.jsx(oj,{src:a==null?void 0:a.avatar_url,alt:a==null?void 0:a.full_name}),i.jsx(lj,{children:(D=a==null?void 0:a.full_name)==null?void 0:D.split(" ").map(P=>P[0]).join("").toUpperCase()})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"truncate text-sm font-medium",children:a==null?void 0:a.full_name}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(At,{variant:"secondary",className:`text-xs text-white ${O(t)}`,children:c(`auth.${t}`)}),(a==null?void 0:a.is_verified)&&i.jsx(uE,{className:"h-3 w-3 text-yellow-500"})]})]})]})}),i.jsx("nav",{className:"flex-1 space-y-1 px-3 py-4",children:j.map(P=>{const I=p.pathname===`/${t}/${P.href}`||P.href===""&&p.pathname===`/${t}`;return i.jsxs(Ht,{to:`/${t}/${P.href}`,className:`flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors ${I?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"}`,onClick:()=>r(!1),children:[i.jsx(P.icon,{className:"h-5 w-5"}),i.jsx("span",{className:"flex-1",children:c(P.label)}),P.badge&&i.jsx(At,{variant:"secondary",className:"text-xs",children:P.badge}),i.jsx(SZ,{className:"h-4 w-4"})]},P.href)})}),i.jsx(Vc,{}),i.jsxs("div",{className:"space-y-1 p-3",children:[i.jsxs(Ht,{to:`/${t}/profile`,className:"flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium text-muted-foreground transition-colors hover:bg-accent hover:text-accent-foreground",onClick:()=>r(!1),children:[i.jsx(Cx,{className:"h-5 w-5"}),i.jsx("span",{children:c("nav.profile")})]}),i.jsxs(Ht,{to:`/${t}/settings`,className:"flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium text-muted-foreground transition-colors hover:bg-accent hover:text-accent-foreground",onClick:()=>r(!1),children:[i.jsx(g0,{className:"h-5 w-5"}),i.jsx("span",{children:c("nav.settings")})]})]})]})};return i.jsxs("div",{className:`flex h-screen bg-background ${h?"rtl":"ltr"}`,children:[i.jsx("aside",{className:"hidden lg:flex lg:flex-col lg:w-72 lg:border-r",children:i.jsx(T,{})}),i.jsxs(pie,{open:n,onOpenChange:r,children:[i.jsx(xie,{asChild:!0,className:"lg:hidden",children:i.jsx(De,{variant:"ghost",size:"icon",className:"fixed top-4 left-4 z-50",children:i.jsx(YO,{className:"h-5 w-5"})})}),i.jsx(bie,{side:h?"right":"left",className:"w-72 p-0",children:i.jsx(T,{})})]}),i.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[i.jsxs("header",{className:"flex h-16 items-center justify-between border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 px-4 lg:px-6",children:[i.jsx("div",{className:"flex items-center gap-4",children:i.jsx(De,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>r(!0),children:i.jsx(YO,{className:"h-5 w-5"})})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(De,{variant:"ghost",size:"sm",onClick:()=>m(f==="en"?"ar":"en"),children:[i.jsx(oE,{className:"h-4 w-4 mr-2"}),f==="en"?"العربية":"English"]}),i.jsxs(De,{variant:"ghost",size:"icon",className:"relative",children:[i.jsx(_6,{className:"h-5 w-5"}),i.jsx("span",{className:"absolute -top-1 -right-1 h-4 w-4 rounded-full bg-red-500 text-xs text-white flex items-center justify-center",children:"3"})]}),i.jsxs(tie,{children:[i.jsx(nie,{asChild:!0,children:i.jsx(De,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:i.jsxs(sj,{className:"h-8 w-8",children:[i.jsx(oj,{src:a==null?void 0:a.avatar_url,alt:a==null?void 0:a.full_name}),i.jsx(lj,{children:(_=a==null?void 0:a.full_name)==null?void 0:_.split(" ").map(D=>D[0]).join("").toUpperCase()})]})})}),i.jsxs(rie,{className:"w-56",align:"end",forceMount:!0,children:[i.jsx(aie,{className:"font-normal",children:i.jsxs("div",{className:"flex flex-col space-y-1",children:[i.jsx("p",{className:"text-sm font-medium",children:a==null?void 0:a.full_name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:a==null?void 0:a.email})]})}),i.jsx(SM,{}),i.jsx(Ow,{asChild:!0,children:i.jsxs(Ht,{to:`/${t}/profile`,children:[i.jsx(Cx,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:c("nav.profile")})]})}),i.jsx(Ow,{asChild:!0,children:i.jsxs(Ht,{to:`/${t}/settings`,children:[i.jsx(g0,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:c("nav.settings")})]})}),i.jsx(SM,{}),i.jsxs(Ow,{onClick:E,children:[i.jsx(HZ,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:c("auth.logout")})]})]})]})]})]}),i.jsx("main",{className:"flex-1 overflow-auto",children:i.jsx(kG,{mode:"wait",children:i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"h-full",children:e},p.pathname)})})]})]})}function Sie(){var U;const[e,t]=A.useState(null),[n,r]=A.useState([]),[a,s]=A.useState([]),[c,f]=A.useState([]),[m,h]=A.useState(!0),[p,v]=A.useState(!0),{profile:j}=yn(),{t:E,isRTL:O}=tn();A.useEffect(()=>{j&&T()},[j]);const T=async()=>{try{const{data:F}=await ot.from("wallets").select("*").eq("user_id",j==null?void 0:j.id).single();F&&t(F);const{data:L}=await ot.from("transactions").select(`
          *,
          from_profile:profiles!transactions_from_user_id_fkey(full_name),
          to_profile:profiles!transactions_to_user_id_fkey(full_name)
        `).or(`from_user_id.eq.${j==null?void 0:j.id},to_user_id.eq.${j==null?void 0:j.id}`).order("created_at",{ascending:!1}).limit(5);if(L){const z=L.map(H=>{var X,K;return{...H,from_user_name:(X=H.from_profile)==null?void 0:X.full_name,to_user_name:(K=H.to_profile)==null?void 0:K.full_name}});r(z)}const{data:B}=await ot.from("events").select("*").eq("is_active",!0).gte("start_date",new Date().toISOString()).order("start_date",{ascending:!0}).limit(3);B&&s(B);const{data:$}=await ot.from("user_tickets").select("*").eq("user_id",j==null?void 0:j.id).eq("status","active").order("purchased_at",{ascending:!1}).limit(3);$&&f($)}catch(F){console.error("Error fetching dashboard data:",F)}finally{v(!1)}},_=F=>new Intl.NumberFormat(O?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0,maximumFractionDigits:0}).format(F),D=F=>new Date(F).toLocaleDateString(O?"ar-SY":"en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),P=(F,L)=>F==="recharge"?i.jsx(ps,{className:"h-4 w-4 text-green-600"}):L?i.jsx(Nl,{className:"h-4 w-4 text-red-600"}):i.jsx(Kn,{className:"h-4 w-4 text-green-600"}),I=()=>i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Ht,{to:"/passenger/scanner",children:i.jsx(be,{className:"cursor-pointer transition-all hover:shadow-md hover:scale-105",children:i.jsxs(we,{className:"flex flex-col items-center justify-center p-6",children:[i.jsx("div",{className:"rounded-full bg-primary/10 p-3 mb-3",children:i.jsx(Ar,{className:"h-6 w-6 text-primary"})}),i.jsx("h3",{className:"font-medium text-center",children:E("scanner.title")}),i.jsx("p",{className:"text-xs text-muted-foreground text-center mt-1",children:"Pay with QR code"})]})})}),i.jsx(Ht,{to:"/passenger/wallet",children:i.jsx(be,{className:"cursor-pointer transition-all hover:shadow-md hover:scale-105",children:i.jsxs(we,{className:"flex flex-col items-center justify-center p-6",children:[i.jsx("div",{className:"rounded-full bg-green-500/10 p-3 mb-3",children:i.jsx(ps,{className:"h-6 w-6 text-green-600"})}),i.jsx("h3",{className:"font-medium text-center",children:E("wallet.recharge")}),i.jsx("p",{className:"text-xs text-muted-foreground text-center mt-1",children:"Add money to wallet"})]})})})]});return p?i.jsx("div",{className:"flex h-full items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:E("common.loading")})]})}):i.jsxs("div",{className:"h-full p-4 lg:p-6 space-y-6",children:[i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold",children:[E("app.welcome"),", ",(U=j==null?void 0:j.full_name)==null?void 0:U.split(" ")[0],"!"]}),i.jsx("p",{className:"text-muted-foreground",children:new Date().toLocaleDateString(O?"ar-SY":"en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),i.jsx(At,{variant:"outline",className:"hidden sm:flex",children:E("auth.passenger")})]})}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:i.jsx(be,{className:"bg-gradient-to-r from-primary via-primary/90 to-primary/80 text-white",children:i.jsxs(we,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(sd,{className:"h-5 w-5"}),i.jsx("span",{className:"font-medium",children:E("wallet.title")})]}),i.jsx(De,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20",onClick:()=>h(!m),children:m?i.jsx(wi,{className:"h-4 w-4"}):i.jsx(mr,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm opacity-90",children:E("wallet.balance")}),i.jsx("p",{className:"text-3xl font-bold",children:m?_((e==null?void 0:e.balance)||0):"••••••"}),(e==null?void 0:e.is_frozen)&&i.jsx(At,{variant:"destructive",className:"mt-2",children:"Account Frozen"})]}),i.jsxs("div",{className:"flex gap-2 mt-6",children:[i.jsx(Ht,{to:"/passenger/wallet",className:"flex-1",children:i.jsxs(De,{variant:"secondary",className:"w-full",children:[i.jsx(ps,{className:"h-4 w-4 mr-2"}),E("wallet.recharge")]})}),i.jsx(Ht,{to:"/passenger/transactions",className:"flex-1",children:i.jsxs(De,{variant:"outline",className:"w-full border-white/20 text-white hover:bg-white/10",children:[i.jsx(Kn,{className:"h-4 w-4 mr-2"}),"History"]})})]})]})})}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:i.jsx(I,{})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between",children:[i.jsx(ke,{className:"text-lg",children:E("transactions.recent")}),i.jsx(Ht,{to:"/passenger/transactions",children:i.jsxs(De,{variant:"ghost",size:"sm",children:["View All",i.jsx(n0,{className:"h-4 w-4 ml-1"})]})})]}),i.jsx(we,{className:"space-y-4",children:n.length>0?n.map(F=>{const L=F.from_user_id===(j==null?void 0:j.id),B=L?F.to_user_name:F.from_user_name;return i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[P(F.transaction_type,L),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:F.description||`${L?"Payment to":"Payment from"} ${B}`}),i.jsx("p",{className:"text-xs text-muted-foreground",children:D(F.created_at)})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:`font-medium text-sm ${L?"text-red-600":"text-green-600"}`,children:[L?"-":"+",_(F.amount)]}),i.jsx(At,{variant:F.status==="completed"?"default":"secondary",className:"text-xs",children:F.status})]})]},F.id)}):i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(Io,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No transactions yet"})]})})]})}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between",children:[i.jsx(ke,{className:"text-lg",children:E("events.upcoming")}),i.jsx(Ht,{to:"/passenger/events",children:i.jsxs(De,{variant:"ghost",size:"sm",children:["View All",i.jsx(n0,{className:"h-4 w-4 ml-1"})]})})]}),i.jsx(we,{className:"space-y-4",children:a.length>0?a.map(F=>i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center",children:i.jsx(bi,{className:"h-6 w-6 text-primary"})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium text-sm truncate",children:F.title}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[i.jsx(ba,{className:"h-3 w-3"}),i.jsx("span",{children:D(F.start_date)})]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[i.jsx(El,{className:"h-3 w-3"}),i.jsx("span",{className:"truncate",children:F.location})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"font-medium text-sm",children:_(F.price||0)}),i.jsx(Ht,{to:"/passenger/events",children:i.jsx(De,{size:"sm",variant:"outline",className:"mt-1",children:"Buy"})})]})]},F.id)):i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(bi,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No upcoming events"})]})})]})})]}),c.length>0&&i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},children:i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between",children:[i.jsx(ke,{className:"text-lg",children:E("nav.tickets")}),i.jsx(Ht,{to:"/passenger/tickets",children:i.jsxs(De,{variant:"ghost",size:"sm",children:["View All",i.jsx(n0,{className:"h-4 w-4 ml-1"})]})})]}),i.jsx(we,{children:i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(F=>{var L;return i.jsxs("div",{className:"p-4 rounded-lg border bg-gradient-to-br from-blue-50 to-purple-50",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(si,{className:"h-4 w-4 text-primary"}),i.jsxs("span",{className:"text-sm font-medium",children:["#",F.ticket_number.slice(-6)]})]}),i.jsx("h4",{className:"font-medium text-sm mb-1",children:(L=F.event_details_snapshot)==null?void 0:L.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:D(F.purchased_at)}),i.jsx(At,{variant:"secondary",className:"mt-2 text-xs",children:F.status})]},F.id)})})})]})})]})}function Zc({...e}){return i.jsx(s7,{"data-slot":"dialog",...e})}function Q0({...e}){return i.jsx(o7,{"data-slot":"dialog-trigger",...e})}function jie({...e}){return i.jsx(l7,{"data-slot":"dialog-portal",...e})}function Aie({className:e,...t}){return i.jsx(c7,{"data-slot":"dialog-overlay",className:Et("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Jc({className:e,children:t,...n}){return i.jsxs(jie,{"data-slot":"dialog-portal",children:[i.jsx(Aie,{}),i.jsxs(u7,{"data-slot":"dialog-content",className:Et("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,i.jsxs(d7,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[i.jsx(L1,{}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function eu({className:e,...t}){return i.jsx("div",{"data-slot":"dialog-header",className:Et("flex flex-col gap-2 text-center sm:text-left",e),...t})}function tu({className:e,...t}){return i.jsx(mie,{"data-slot":"dialog-title",className:Et("text-lg leading-none font-semibold",e),...t})}function nu({className:e,...t}){return i.jsx(gie,{"data-slot":"dialog-description",className:Et("text-muted-foreground text-sm",e),...t})}function Eie(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const Nie=e=>{switch(e){case"success":return Tie;case"info":return Mie;case"warning":return Oie;case"error":return Die;default:return null}},_ie=Array(12).fill(0),Cie=({visible:e,className:t})=>Ke.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Ke.createElement("div",{className:"sonner-spinner"},_ie.map((n,r)=>Ke.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Tie=Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ke.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Oie=Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ke.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Mie=Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ke.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Die=Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ke.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Rie=Ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ke.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ke.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Iie=()=>{const[e,t]=Ke.useState(document.hidden);return Ke.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let dj=1;class Pie{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...a}=t,s=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:dj++,c=this.toasts.find(m=>m.id===s),f=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),c?this.toasts=this.toasts.map(m=>m.id===s?(this.publish({...m,...t,id:s,title:r}),{...m,...t,id:s,dismissible:f,title:r}):m):this.addToast({title:r,...a,dismissible:f,id:s}),s},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let s=r!==void 0,c;const f=a.then(async h=>{if(c=["resolve",h],Ke.isValidElement(h))s=!1,this.create({id:r,type:"default",message:h});else if(Lie(h)&&!h.ok){s=!1;const v=typeof n.error=="function"?await n.error(`HTTP error! status: ${h.status}`):n.error,j=typeof n.description=="function"?await n.description(`HTTP error! status: ${h.status}`):n.description,O=typeof v=="object"&&!Ke.isValidElement(v)?v:{message:v};this.create({id:r,type:"error",description:j,...O})}else if(h instanceof Error){s=!1;const v=typeof n.error=="function"?await n.error(h):n.error,j=typeof n.description=="function"?await n.description(h):n.description,O=typeof v=="object"&&!Ke.isValidElement(v)?v:{message:v};this.create({id:r,type:"error",description:j,...O})}else if(n.success!==void 0){s=!1;const v=typeof n.success=="function"?await n.success(h):n.success,j=typeof n.description=="function"?await n.description(h):n.description,O=typeof v=="object"&&!Ke.isValidElement(v)?v:{message:v};this.create({id:r,type:"success",description:j,...O})}}).catch(async h=>{if(c=["reject",h],n.error!==void 0){s=!1;const p=typeof n.error=="function"?await n.error(h):n.error,v=typeof n.description=="function"?await n.description(h):n.description,E=typeof p=="object"&&!Ke.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:v,...E})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),m=()=>new Promise((h,p)=>f.then(()=>c[0]==="reject"?p(c[1]):h(c[1])).catch(p));return typeof r!="string"&&typeof r!="number"?{unwrap:m}:Object.assign(r,{unwrap:m})},this.custom=(t,n)=>{const r=(n==null?void 0:n.id)||dj++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const pi=new Pie,kie=(e,t)=>{const n=(t==null?void 0:t.id)||dj++;return pi.addToast({title:e,...t,id:n}),n},Lie=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Bie=kie,Fie=()=>pi.toasts,Uie=()=>pi.getActiveToasts(),nt=Object.assign(Bie,{success:pi.success,info:pi.info,warning:pi.warning,error:pi.error,custom:pi.custom,message:pi.message,promise:pi.promise,dismiss:pi.dismiss,loading:pi.loading},{getHistory:Fie,getToasts:Uie});Eie("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function $p(e){return e.label!==void 0}const zie=3,Vie="24px",$ie="16px",jM=4e3,Hie=356,qie=14,Yie=45,Wie=200;function bo(...e){return e.filter(Boolean).join(" ")}function Gie(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const Kie=e=>{var t,n,r,a,s,c,f,m,h;const{invert:p,toast:v,unstyled:j,interacting:E,setHeights:O,visibleToasts:T,heights:_,index:D,toasts:P,expanded:I,removeToast:U,defaultRichColors:F,closeButton:L,style:B,cancelButtonStyle:$,actionButtonStyle:z,className:H="",descriptionClassName:X="",duration:K,position:ee,gap:ue,expandByDefault:ne,classNames:G,icons:Q,closeButtonAriaLabel:ae="Close toast"}=e,[he,te]=Ke.useState(null),[fe,se]=Ke.useState(null),[me,Re]=Ke.useState(!1),[ye,oe]=Ke.useState(!1),[pe,Ie]=Ke.useState(!1),[xe,Fe]=Ke.useState(!1),[Le,Ne]=Ke.useState(!1),[Xe,$e]=Ke.useState(0),[Ze,Mt]=Ke.useState(0),ht=Ke.useRef(v.duration||K||jM),Nt=Ke.useRef(null),Qe=Ke.useRef(null),ir=D===0,et=D+1<=T,dn=v.type,$r=v.dismissible!==!1,sr=v.className||"",Ia=v.descriptionClassName||"",xn=Ke.useMemo(()=>_.findIndex(Tt=>Tt.toastId===v.id)||0,[_,v.id]),zn=Ke.useMemo(()=>{var Tt;return(Tt=v.closeButton)!=null?Tt:L},[v.closeButton,L]),or=Ke.useMemo(()=>v.duration||K||jM,[v.duration,K]),Zt=Ke.useRef(0),ji=Ke.useRef(0),Es=Ke.useRef(0),Qi=Ke.useRef(null),[nn,Ge]=ee.split("-"),fn=Ke.useMemo(()=>_.reduce((Tt,un,Xn)=>Xn>=xn?Tt:Tt+un.height,0),[_,xn]),rn=Iie(),bn=v.invert||p,Ns=dn==="loading";ji.current=Ke.useMemo(()=>xn*ue+fn,[xn,fn]),Ke.useEffect(()=>{ht.current=or},[or]),Ke.useEffect(()=>{Re(!0)},[]),Ke.useEffect(()=>{const Tt=Qe.current;if(Tt){const un=Tt.getBoundingClientRect().height;return Mt(un),O(Xn=>[{toastId:v.id,height:un,position:v.position},...Xn]),()=>O(Xn=>Xn.filter(sn=>sn.toastId!==v.id))}},[O,v.id]),Ke.useLayoutEffect(()=>{if(!me)return;const Tt=Qe.current,un=Tt.style.height;Tt.style.height="auto";const Xn=Tt.getBoundingClientRect().height;Tt.style.height=un,Mt(Xn),O(sn=>sn.find(Qn=>Qn.toastId===v.id)?sn.map(Qn=>Qn.toastId===v.id?{...Qn,height:Xn}:Qn):[{toastId:v.id,height:Xn,position:v.position},...sn])},[me,v.title,v.description,O,v.id,v.jsx,v.action,v.cancel]);const Qa=Ke.useCallback(()=>{oe(!0),$e(ji.current),O(Tt=>Tt.filter(un=>un.toastId!==v.id)),setTimeout(()=>{U(v)},Wie)},[v,U,O,ji]);Ke.useEffect(()=>{if(v.promise&&dn==="loading"||v.duration===1/0||v.type==="loading")return;let Tt;return I||E||rn?(()=>{if(Es.current<Zt.current){const sn=new Date().getTime()-Zt.current;ht.current=ht.current-sn}Es.current=new Date().getTime()})():(()=>{ht.current!==1/0&&(Zt.current=new Date().getTime(),Tt=setTimeout(()=>{v.onAutoClose==null||v.onAutoClose.call(v,v),Qa()},ht.current))})(),()=>clearTimeout(Tt)},[I,E,v,dn,rn,Qa]),Ke.useEffect(()=>{v.delete&&(Qa(),v.onDismiss==null||v.onDismiss.call(v,v))},[Qa,v.delete]);function cu(){var Tt;if(Q!=null&&Q.loading){var un;return Ke.createElement("div",{className:bo(G==null?void 0:G.loader,v==null||(un=v.classNames)==null?void 0:un.loader,"sonner-loader"),"data-visible":dn==="loading"},Q.loading)}return Ke.createElement(Cie,{className:bo(G==null?void 0:G.loader,v==null||(Tt=v.classNames)==null?void 0:Tt.loader),visible:dn==="loading"})}const Wt=v.icon||(Q==null?void 0:Q[dn])||Nie(dn);var Pa,uu;return Ke.createElement("li",{tabIndex:0,ref:Qe,className:bo(H,sr,G==null?void 0:G.toast,v==null||(t=v.classNames)==null?void 0:t.toast,G==null?void 0:G.default,G==null?void 0:G[dn],v==null||(n=v.classNames)==null?void 0:n[dn]),"data-sonner-toast":"","data-rich-colors":(Pa=v.richColors)!=null?Pa:F,"data-styled":!(v.jsx||v.unstyled||j),"data-mounted":me,"data-promise":!!v.promise,"data-swiped":Le,"data-removed":ye,"data-visible":et,"data-y-position":nn,"data-x-position":Ge,"data-index":D,"data-front":ir,"data-swiping":pe,"data-dismissible":$r,"data-type":dn,"data-invert":bn,"data-swipe-out":xe,"data-swipe-direction":fe,"data-expanded":!!(I||ne&&me),style:{"--index":D,"--toasts-before":D,"--z-index":P.length-D,"--offset":`${ye?Xe:ji.current}px`,"--initial-height":ne?"auto":`${Ze}px`,...B,...v.style},onDragEnd:()=>{Ie(!1),te(null),Qi.current=null},onPointerDown:Tt=>{Tt.button!==2&&(Ns||!$r||(Nt.current=new Date,$e(ji.current),Tt.target.setPointerCapture(Tt.pointerId),Tt.target.tagName!=="BUTTON"&&(Ie(!0),Qi.current={x:Tt.clientX,y:Tt.clientY})))},onPointerUp:()=>{var Tt,un,Xn;if(xe||!$r)return;Qi.current=null;const sn=Number(((Tt=Qe.current)==null?void 0:Tt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ci=Number(((un=Qe.current)==null?void 0:un.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Qn=new Date().getTime()-((Xn=Nt.current)==null?void 0:Xn.getTime()),hn=he==="x"?sn:ci,lr=Math.abs(hn)/Qn;if(Math.abs(hn)>=Yie||lr>.11){$e(ji.current),v.onDismiss==null||v.onDismiss.call(v,v),se(he==="x"?sn>0?"right":"left":ci>0?"down":"up"),Qa(),Fe(!0);return}else{var on,pr;(on=Qe.current)==null||on.style.setProperty("--swipe-amount-x","0px"),(pr=Qe.current)==null||pr.style.setProperty("--swipe-amount-y","0px")}Ne(!1),Ie(!1),te(null)},onPointerMove:Tt=>{var un,Xn,sn;if(!Qi.current||!$r||((un=window.getSelection())==null?void 0:un.toString().length)>0)return;const Qn=Tt.clientY-Qi.current.y,hn=Tt.clientX-Qi.current.x;var lr;const on=(lr=e.swipeDirections)!=null?lr:Gie(ee);!he&&(Math.abs(hn)>1||Math.abs(Qn)>1)&&te(Math.abs(hn)>Math.abs(Qn)?"x":"y");let pr={x:0,y:0};const Er=ja=>1/(1.5+Math.abs(ja)/20);if(he==="y"){if(on.includes("top")||on.includes("bottom"))if(on.includes("top")&&Qn<0||on.includes("bottom")&&Qn>0)pr.y=Qn;else{const ja=Qn*Er(Qn);pr.y=Math.abs(ja)<Math.abs(Qn)?ja:Qn}}else if(he==="x"&&(on.includes("left")||on.includes("right")))if(on.includes("left")&&hn<0||on.includes("right")&&hn>0)pr.x=hn;else{const ja=hn*Er(hn);pr.x=Math.abs(ja)<Math.abs(hn)?ja:hn}(Math.abs(pr.x)>0||Math.abs(pr.y)>0)&&Ne(!0),(Xn=Qe.current)==null||Xn.style.setProperty("--swipe-amount-x",`${pr.x}px`),(sn=Qe.current)==null||sn.style.setProperty("--swipe-amount-y",`${pr.y}px`)}},zn&&!v.jsx&&dn!=="loading"?Ke.createElement("button",{"aria-label":ae,"data-disabled":Ns,"data-close-button":!0,onClick:Ns||!$r?()=>{}:()=>{Qa(),v.onDismiss==null||v.onDismiss.call(v,v)},className:bo(G==null?void 0:G.closeButton,v==null||(r=v.classNames)==null?void 0:r.closeButton)},(uu=Q==null?void 0:Q.close)!=null?uu:Rie):null,(dn||v.icon||v.promise)&&v.icon!==null&&((Q==null?void 0:Q[dn])!==null||v.icon)?Ke.createElement("div",{"data-icon":"",className:bo(G==null?void 0:G.icon,v==null||(a=v.classNames)==null?void 0:a.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||cu():null,v.type!=="loading"?Wt:null):null,Ke.createElement("div",{"data-content":"",className:bo(G==null?void 0:G.content,v==null||(s=v.classNames)==null?void 0:s.content)},Ke.createElement("div",{"data-title":"",className:bo(G==null?void 0:G.title,v==null||(c=v.classNames)==null?void 0:c.title)},v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title),v.description?Ke.createElement("div",{"data-description":"",className:bo(X,Ia,G==null?void 0:G.description,v==null||(f=v.classNames)==null?void 0:f.description)},typeof v.description=="function"?v.description():v.description):null),Ke.isValidElement(v.cancel)?v.cancel:v.cancel&&$p(v.cancel)?Ke.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||$,onClick:Tt=>{$p(v.cancel)&&$r&&(v.cancel.onClick==null||v.cancel.onClick.call(v.cancel,Tt),Qa())},className:bo(G==null?void 0:G.cancelButton,v==null||(m=v.classNames)==null?void 0:m.cancelButton)},v.cancel.label):null,Ke.isValidElement(v.action)?v.action:v.action&&$p(v.action)?Ke.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||z,onClick:Tt=>{$p(v.action)&&(v.action.onClick==null||v.action.onClick.call(v.action,Tt),!Tt.defaultPrevented&&Qa())},className:bo(G==null?void 0:G.actionButton,v==null||(h=v.classNames)==null?void 0:h.actionButton)},v.action.label):null)};function AM(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Xie(e,t){const n={};return[e,t].forEach((r,a)=>{const s=a===1,c=s?"--mobile-offset":"--offset",f=s?$ie:Vie;function m(h){["top","right","bottom","left"].forEach(p=>{n[`${c}-${p}`]=typeof h=="number"?`${h}px`:h})}typeof r=="number"||typeof r=="string"?m(r):typeof r=="object"?["top","right","bottom","left"].forEach(h=>{r[h]===void 0?n[`${c}-${h}`]=f:n[`${c}-${h}`]=typeof r[h]=="number"?`${r[h]}px`:r[h]}):m(f)}),n}const Qie=Ke.forwardRef(function(t,n){const{invert:r,position:a="bottom-right",hotkey:s=["altKey","KeyT"],expand:c,closeButton:f,className:m,offset:h,mobileOffset:p,theme:v="light",richColors:j,duration:E,style:O,visibleToasts:T=zie,toastOptions:_,dir:D=AM(),gap:P=qie,icons:I,containerAriaLabel:U="Notifications"}=t,[F,L]=Ke.useState([]),B=Ke.useMemo(()=>Array.from(new Set([a].concat(F.filter(fe=>fe.position).map(fe=>fe.position)))),[F,a]),[$,z]=Ke.useState([]),[H,X]=Ke.useState(!1),[K,ee]=Ke.useState(!1),[ue,ne]=Ke.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),G=Ke.useRef(null),Q=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),ae=Ke.useRef(null),he=Ke.useRef(!1),te=Ke.useCallback(fe=>{L(se=>{var me;return(me=se.find(Re=>Re.id===fe.id))!=null&&me.delete||pi.dismiss(fe.id),se.filter(({id:Re})=>Re!==fe.id)})},[]);return Ke.useEffect(()=>pi.subscribe(fe=>{if(fe.dismiss){requestAnimationFrame(()=>{L(se=>se.map(me=>me.id===fe.id?{...me,delete:!0}:me))});return}setTimeout(()=>{Pk.flushSync(()=>{L(se=>{const me=se.findIndex(Re=>Re.id===fe.id);return me!==-1?[...se.slice(0,me),{...se[me],...fe},...se.slice(me+1)]:[fe,...se]})})})}),[F]),Ke.useEffect(()=>{if(v!=="system"){ne(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window>"u")return;const fe=window.matchMedia("(prefers-color-scheme: dark)");try{fe.addEventListener("change",({matches:se})=>{ne(se?"dark":"light")})}catch{fe.addListener(({matches:me})=>{try{ne(me?"dark":"light")}catch(Re){console.error(Re)}})}},[v]),Ke.useEffect(()=>{F.length<=1&&X(!1)},[F]),Ke.useEffect(()=>{const fe=se=>{var me;if(s.every(oe=>se[oe]||se.code===oe)){var ye;X(!0),(ye=G.current)==null||ye.focus()}se.code==="Escape"&&(document.activeElement===G.current||(me=G.current)!=null&&me.contains(document.activeElement))&&X(!1)};return document.addEventListener("keydown",fe),()=>document.removeEventListener("keydown",fe)},[s]),Ke.useEffect(()=>{if(G.current)return()=>{ae.current&&(ae.current.focus({preventScroll:!0}),ae.current=null,he.current=!1)}},[G.current]),Ke.createElement("section",{ref:n,"aria-label":`${U} ${Q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},B.map((fe,se)=>{var me;const[Re,ye]=fe.split("-");return F.length?Ke.createElement("ol",{key:fe,dir:D==="auto"?AM():D,tabIndex:-1,ref:G,className:m,"data-sonner-toaster":!0,"data-sonner-theme":ue,"data-y-position":Re,"data-x-position":ye,style:{"--front-toast-height":`${((me=$[0])==null?void 0:me.height)||0}px`,"--width":`${Hie}px`,"--gap":`${P}px`,...O,...Xie(h,p)},onBlur:oe=>{he.current&&!oe.currentTarget.contains(oe.relatedTarget)&&(he.current=!1,ae.current&&(ae.current.focus({preventScroll:!0}),ae.current=null))},onFocus:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||he.current||(he.current=!0,ae.current=oe.relatedTarget)},onMouseEnter:()=>X(!0),onMouseMove:()=>X(!0),onMouseLeave:()=>{K||X(!1)},onDragEnd:()=>X(!1),onPointerDown:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||ee(!0)},onPointerUp:()=>ee(!1)},F.filter(oe=>!oe.position&&se===0||oe.position===fe).map((oe,pe)=>{var Ie,xe;return Ke.createElement(Kie,{key:oe.id,icons:I,index:pe,toast:oe,defaultRichColors:j,duration:(Ie=_==null?void 0:_.duration)!=null?Ie:E,className:_==null?void 0:_.className,descriptionClassName:_==null?void 0:_.descriptionClassName,invert:r,visibleToasts:T,closeButton:(xe=_==null?void 0:_.closeButton)!=null?xe:f,interacting:K,position:fe,style:_==null?void 0:_.style,unstyled:_==null?void 0:_.unstyled,classNames:_==null?void 0:_.classNames,cancelButtonStyle:_==null?void 0:_.cancelButtonStyle,actionButtonStyle:_==null?void 0:_.actionButtonStyle,closeButtonAriaLabel:_==null?void 0:_.closeButtonAriaLabel,removeToast:te,toasts:F.filter(Fe=>Fe.position==oe.position),heights:$.filter(Fe=>Fe.position==oe.position),setHeights:z,expandByDefault:c,gap:P,expanded:H,swipeDirections:t.swipeDirections})})):null}))}),Hp=[{id:"mtn_cash",name:"MTN Cash",icon:r0,description:"Pay using MTN Cash mobile wallet",minAmount:1e3,maxAmount:5e5,fees:0,available:!0},{id:"syriatel_cash",name:"Syriatel Cash",icon:r0,description:"Pay using Syriatel Cash mobile wallet",minAmount:1e3,maxAmount:5e5,fees:0,available:!0},{id:"sham_cash",name:"ShamCash",icon:r0,description:"Pay using ShamCash mobile wallet",minAmount:1e3,maxAmount:3e5,fees:0,available:!0},{id:"fatora",name:"Fatora",icon:Io,description:"Pay using Fatora payment gateway",minAmount:500,maxAmount:1e6,fees:25,available:!0},{id:"stripe",name:"Credit Card",icon:Io,description:"International credit/debit cards via Stripe",minAmount:1e3,maxAmount:2e6,fees:50,available:!1}];function Zie(){const[e,t]=A.useState(null),[n,r]=A.useState([]),[a,s]=A.useState(!1),[c,f]=A.useState(""),[m,h]=A.useState(""),[p,v]=A.useState(!0),[j,E]=A.useState(!0),[O,T]=A.useState(!1),{profile:_}=yn(),{t:D,isRTL:P}=tn();A.useEffect(()=>{_&&(I(),U())},[_]);const I=async()=>{try{const{data:H,error:X}=await ot.from("wallets").select("*").eq("user_id",_==null?void 0:_.id).single();if(X)throw X;t(H)}catch(H){console.error("Error fetching wallet data:",H),nt.error("Failed to load wallet data")}finally{E(!1)}},U=async()=>{try{const{data:H,error:X}=await ot.from("transactions").select("*").or(`from_user_id.eq.${_==null?void 0:_.id},to_user_id.eq.${_==null?void 0:_.id}`).in("transaction_type",["recharge","withdrawal"]).order("created_at",{ascending:!1}).limit(10);if(X)throw X;r(H||[])}catch(H){console.error("Error fetching transactions:",H)}},F=async()=>{if(!c||!m)return;const H=parseFloat(m),X=Hp.find(K=>K.id===c);if(X){if(H<X.minAmount||H>X.maxAmount){nt.error(`Amount must be between ${L(X.minAmount)} and ${L(X.maxAmount)}`);return}T(!0);try{await new Promise(ue=>setTimeout(ue,2e3));const{data:K,error:ee}=await ot.rpc("handle_recharge",{p_user_id:_==null?void 0:_.id,p_amount:H,p_provider_type:X.name});if(ee)throw ee;if(K&&K.length>0){const ue=K[0];ue.error_message?nt.error(ue.error_message):(nt.success(D("wallet.rechargeSuccess")),s(!1),h(""),f(""),I(),U())}}catch(K){console.error("Error processing recharge:",K),nt.error("Failed to process recharge")}finally{T(!1)}}},L=H=>new Intl.NumberFormat(P?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0,maximumFractionDigits:0}).format(H),B=H=>new Date(H).toLocaleDateString(P?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),$=(H,X)=>X==="pending"?i.jsx(ba,{className:"h-4 w-4 text-yellow-500"}):X==="failed"?i.jsx(L1,{className:"h-4 w-4 text-red-500"}):H==="recharge"?i.jsx(Kn,{className:"h-4 w-4 text-green-500"}):i.jsx(Nl,{className:"h-4 w-4 text-red-500"}),z=H=>{switch(H){case"completed":return i.jsx(At,{className:"bg-green-500 text-white",children:D("transactions.completed")});case"pending":return i.jsx(At,{variant:"secondary",children:D("transactions.pending")});case"failed":return i.jsx(At,{variant:"destructive",children:D("transactions.failed")});default:return i.jsx(At,{variant:"outline",children:H})}};return j?i.jsx("div",{className:"flex h-full items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:D("common.loading")})]})}):i.jsxs("div",{className:"h-full p-4 lg:p-6 space-y-6",children:[i.jsxs(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:D("wallet.title")}),i.jsx("p",{className:"text-muted-foreground",children:"Manage your digital wallet and transactions"})]}),i.jsxs(Zc,{open:a,onOpenChange:s,children:[i.jsx(Q0,{asChild:!0,children:i.jsxs(De,{className:"gap-2",children:[i.jsx(ps,{className:"h-4 w-4"}),D("wallet.recharge")]})}),i.jsxs(Jc,{className:"sm:max-w-md",children:[i.jsxs(eu,{children:[i.jsx(tu,{children:D("wallet.recharge")}),i.jsx(nu,{children:"Add money to your wallet using various payment methods"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(pt,{htmlFor:"amount",children:D("wallet.rechargeAmount")}),i.jsx(qt,{id:"amount",type:"number",placeholder:"Enter amount",value:m,onChange:H=>h(H.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pt,{children:D("wallet.paymentMethod")}),i.jsxs(Lr,{value:c,onValueChange:f,children:[i.jsx(Fr,{children:i.jsx(Br,{placeholder:"Select payment method"})}),i.jsx(Ur,{children:Hp.map(H=>i.jsx(st,{value:H.id,disabled:!H.available,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(H.icon,{className:"h-4 w-4"}),i.jsx("span",{children:H.name}),!H.available&&i.jsx(At,{variant:"secondary",className:"text-xs",children:"Soon"})]})},H.id))})]})]}),c&&i.jsx(be,{children:i.jsx(we,{className:"p-4",children:(()=>{const H=Hp.find(X=>X.id===c);return H?i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-medium",children:H.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:H.description}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[i.jsxs("span",{children:["Min: ",L(H.minAmount)]}),i.jsxs("span",{children:["Max: ",L(H.maxAmount)]})]}),H.fees>0&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Processing fee: ",L(H.fees)]})]}):null})()})}),i.jsx(De,{onClick:F,disabled:!c||!m||O,className:"w-full",children:O?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-transparent border-t-current"}),"Processing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ps,{className:"mr-2 h-4 w-4"}),"Recharge ",m&&L(parseFloat(m))]})})]})]})]})]}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:i.jsx(be,{className:"bg-gradient-to-r from-primary via-primary/90 to-primary/80 text-white",children:i.jsxs(we,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(sd,{className:"h-6 w-6"}),i.jsx("span",{className:"font-medium",children:D("wallet.balance")})]}),i.jsx(De,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20",onClick:()=>v(!p),children:p?i.jsx(wi,{className:"h-4 w-4"}):i.jsx(mr,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-4xl font-bold",children:p?L((e==null?void 0:e.balance)||0):"••••••"}),i.jsx("p",{className:"text-sm opacity-90",children:(e==null?void 0:e.currency)||"SYP"})]}),(e==null?void 0:e.is_frozen)&&i.jsxs(Ys,{className:"border-red-200 bg-red-50 text-red-800",children:[i.jsx(qs,{className:"h-4 w-4"}),i.jsx(Ws,{children:"Your wallet is currently frozen. Contact support for assistance."})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm opacity-90",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"h-2 w-2 rounded-full bg-green-400"}),i.jsx("span",{children:"Active"})]}),i.jsx(Vc,{orientation:"vertical",className:"h-4 bg-white/20"}),i.jsxs("span",{children:["Updated ",B((e==null?void 0:e.updated_at)||"")]})]})]})]})})}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[i.jsxs(De,{variant:"outline",className:"h-20 flex-col gap-2",onClick:()=>s(!0),children:[i.jsx(ps,{className:"h-5 w-5"}),i.jsx("span",{className:"text-sm",children:"Recharge"})]}),i.jsxs(De,{variant:"outline",className:"h-20 flex-col gap-2",disabled:!0,children:[i.jsx(Nl,{className:"h-5 w-5"}),i.jsx("span",{className:"text-sm",children:"Withdraw"})]}),i.jsxs(De,{variant:"outline",className:"h-20 flex-col gap-2",disabled:!0,children:[i.jsx(uE,{className:"h-5 w-5"}),i.jsx("span",{className:"text-sm",children:"Auto-reload"})]}),i.jsxs(De,{variant:"outline",className:"h-20 flex-col gap-2",disabled:!0,children:[i.jsx(qs,{className:"h-5 w-5"}),i.jsx("span",{className:"text-sm",children:"Security"})]})]})}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(m0,{className:"h-5 w-5"}),D("transactions.recent")]}),i.jsx(rt,{children:"Recent wallet recharges and withdrawals"})]}),i.jsx(we,{children:n.length>0?i.jsx("div",{className:"space-y-4",children:n.map(H=>i.jsxs("div",{className:"flex items-center justify-between py-3 border-b last:border-b-0",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[$(H.transaction_type,H.status),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:H.description||`${H.transaction_type} transaction`}),i.jsx("p",{className:"text-xs text-muted-foreground",children:B(H.created_at)})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:`font-medium text-sm ${H.transaction_type==="recharge"?"text-green-600":"text-red-600"}`,children:[H.transaction_type==="recharge"?"+":"-",L(H.amount)]}),z(H.status)]})]},H.id))}):i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(Io,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No wallet transactions yet"}),i.jsx("p",{className:"text-sm",children:"Recharge your wallet to get started"})]})})]})}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:"Available Payment Methods"}),i.jsx(rt,{children:"Various ways to add money to your wallet"})]}),i.jsx(we,{children:i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Hp.map(H=>i.jsx(be,{className:H.available?"":"opacity-50",children:i.jsxs(we,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(H.icon,{className:"h-5 w-5 text-primary"}),i.jsx("span",{className:"font-medium",children:H.name}),!H.available&&i.jsx(At,{variant:"secondary",className:"text-xs",children:"Soon"})]}),i.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:H.description}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:[i.jsxs("p",{children:["Min: ",L(H.minAmount)]}),i.jsxs("p",{children:["Max: ",L(H.maxAmount)]}),H.fees>0&&i.jsxs("p",{children:["Fee: ",L(H.fees)]})]})]})},H.id))})})]})})]})}var nv="Tabs",[Jie,xAe]=Js(nv,[Q1]),f7=Q1(),[ese,PE]=Jie(nv),h7=A.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:s,orientation:c="horizontal",dir:f,activationMode:m="automatic",...h}=e,p=B1(f),[v,j]=ld({prop:r,onChange:a,defaultProp:s??"",caller:nv});return i.jsx(ese,{scope:n,baseId:Oo(),value:v,onValueChange:j,orientation:c,dir:p,activationMode:m,children:i.jsx(Ot.div,{dir:p,"data-orientation":c,...h,ref:t})})});h7.displayName=nv;var m7="TabsList",g7=A.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,s=PE(m7,n),c=f7(n);return i.jsx(cL,{asChild:!0,...c,orientation:s.orientation,dir:s.dir,loop:r,children:i.jsx(Ot.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:t})})});g7.displayName=m7;var p7="TabsTrigger",x7=A.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...s}=e,c=PE(p7,n),f=f7(n),m=b7(c.baseId,r),h=w7(c.baseId,r),p=r===c.value;return i.jsx(uL,{asChild:!0,...f,focusable:!a,active:p,children:i.jsx(Ot.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":h,"data-state":p?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:m,...s,ref:t,onMouseDown:mt(e.onMouseDown,v=>{!a&&v.button===0&&v.ctrlKey===!1?c.onValueChange(r):v.preventDefault()}),onKeyDown:mt(e.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&c.onValueChange(r)}),onFocus:mt(e.onFocus,()=>{const v=c.activationMode!=="manual";!p&&!a&&v&&c.onValueChange(r)})})})});x7.displayName=p7;var v7="TabsContent",y7=A.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:s,...c}=e,f=PE(v7,n),m=b7(f.baseId,r),h=w7(f.baseId,r),p=r===f.value,v=A.useRef(p);return A.useEffect(()=>{const j=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(j)},[]),i.jsx(kl,{present:a||p,children:({present:j})=>i.jsx(Ot.div,{"data-state":p?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":m,hidden:!j,id:h,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:v.current?"0s":void 0},children:j&&s})})});y7.displayName=v7;function b7(e,t){return`${e}-trigger-${t}`}function w7(e,t){return`${e}-content-${t}`}var tse=h7,nse=g7,rse=x7,ase=y7;function Ll({className:e,...t}){return i.jsx(tse,{"data-slot":"tabs",className:Et("flex flex-col gap-2",e),...t})}function Bl({className:e,...t}){return i.jsx(nse,{"data-slot":"tabs-list",className:Et("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function kt({className:e,...t}){return i.jsx(rse,{"data-slot":"tabs-trigger",className:Et("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Lt({className:e,...t}){return i.jsx(ase,{"data-slot":"tabs-content",className:Et("flex-1 outline-none",e),...t})}var at;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(at||(at={}));var EM=new Map([[at.QR_CODE,"QR_CODE"],[at.AZTEC,"AZTEC"],[at.CODABAR,"CODABAR"],[at.CODE_39,"CODE_39"],[at.CODE_93,"CODE_93"],[at.CODE_128,"CODE_128"],[at.DATA_MATRIX,"DATA_MATRIX"],[at.MAXICODE,"MAXICODE"],[at.ITF,"ITF"],[at.EAN_13,"EAN_13"],[at.EAN_8,"EAN_8"],[at.PDF_417,"PDF_417"],[at.RSS_14,"RSS_14"],[at.RSS_EXPANDED,"RSS_EXPANDED"],[at.UPC_A,"UPC_A"],[at.UPC_E,"UPC_E"],[at.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),NM;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(NM||(NM={}));function ise(e){return Object.values(at).includes(e)}var $c;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})($c||($c={}));var Us=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[$c.SCAN_TYPE_CAMERA,$c.SCAN_TYPE_FILE],e}(),S7=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!EM.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,EM.get(t))},e}(),_M=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),fj;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(fj||(fj={}));var j7=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:fj.UNKWOWN_ERROR}},e}(),A7=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function wo(e){return typeof e>"u"||e===null}function sse(e,t,n){return e>n?n:e<t?t:e}var Bf=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),On=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),CM=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),E7=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var a=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],s=new Set(a),c=Object.keys(t),f=0,m=c;f<m.length;f++){var h=m[f];if(s.has(h))return n.logError("".concat(h," is not supported videoConstaints."),!0),!1}return!0},e}(),Ym={exports:{}},ose=Ym.exports,TM;function lse(){return TM||(TM=1,function(e,t){(function(n,r){r(t)})(ose,function(n){function r(Y){return Y==null}var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,l){Y.__proto__=l}||function(Y,l){for(var d in l)l.hasOwnProperty(d)&&(Y[d]=l[d])};function s(Y,l){a(Y,l);function d(){this.constructor=Y}Y.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}function c(Y,l){var d=Object.setPrototypeOf;d?d(Y,l):Y.__proto__=l}function f(Y,l){l===void 0&&(l=Y.constructor);var d=Error.captureStackTrace;d&&d(Y,l)}var m=function(Y){s(l,Y);function l(d){var g=this.constructor,y=Y.call(this,d)||this;return Object.defineProperty(y,"name",{value:g.name,enumerable:!1}),c(y,g.prototype),f(y),y}return l}(Error);class h extends m{constructor(l=void 0){super(l),this.message=l}getKind(){return this.constructor.kind}}h.kind="Exception";class p extends h{}p.kind="ArgumentException";class v extends h{}v.kind="IllegalArgumentException";class j{constructor(l){if(this.binarizer=l,l===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(l,d){return this.binarizer.getBlackRow(l,d)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(l,d,g,y){const b=this.binarizer.getLuminanceSource().crop(l,d,g,y);return new j(this.binarizer.createBinarizer(b))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new j(this.binarizer.createBinarizer(l))}rotateCounterClockwise45(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new j(this.binarizer.createBinarizer(l))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class E extends h{static getChecksumInstance(){return new E}}E.kind="ChecksumException";class O{constructor(l){this.source=l}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class T{static arraycopy(l,d,g,y,b){for(;b--;)g[y++]=l[d++]}static currentTimeMillis(){return Date.now()}}class _ extends h{}_.kind="IndexOutOfBoundsException";class D extends _{constructor(l=void 0,d=void 0){super(d),this.index=l,this.message=d}}D.kind="ArrayIndexOutOfBoundsException";class P{static fill(l,d){for(let g=0,y=l.length;g<y;g++)l[g]=d}static fillWithin(l,d,g,y){P.rangeCheck(l.length,d,g);for(let b=d;b<g;b++)l[b]=y}static rangeCheck(l,d,g){if(d>g)throw new v("fromIndex("+d+") > toIndex("+g+")");if(d<0)throw new D(d);if(g>l)throw new D(g)}static asList(...l){return l}static create(l,d,g){return Array.from({length:l}).map(b=>Array.from({length:d}).fill(g))}static createInt32Array(l,d,g){return Array.from({length:l}).map(b=>Int32Array.from({length:d}).fill(g))}static equals(l,d){if(!l||!d||!l.length||!d.length||l.length!==d.length)return!1;for(let g=0,y=l.length;g<y;g++)if(l[g]!==d[g])return!1;return!0}static hashCode(l){if(l===null)return 0;let d=1;for(const g of l)d=31*d+g;return d}static fillUint8Array(l,d){for(let g=0;g!==l.length;g++)l[g]=d}static copyOf(l,d){return l.slice(0,d)}static copyOfUint8Array(l,d){if(l.length<=d){const g=new Uint8Array(d);return g.set(l),g}return l.slice(0,d)}static copyOfRange(l,d,g){const y=g-d,b=new Int32Array(y);return T.arraycopy(l,d,b,0,y),b}static binarySearch(l,d,g){g===void 0&&(g=P.numberComparator);let y=0,b=l.length-1;for(;y<=b;){const S=b+y>>1,N=g(d,l[S]);if(N>0)y=S+1;else if(N<0)b=S-1;else return S}return-y-1}static numberComparator(l,d){return l-d}}class I{static numberOfTrailingZeros(l){let d;if(l===0)return 32;let g=31;return d=l<<16,d!==0&&(g-=16,l=d),d=l<<8,d!==0&&(g-=8,l=d),d=l<<4,d!==0&&(g-=4,l=d),d=l<<2,d!==0&&(g-=2,l=d),g-(l<<1>>>31)}static numberOfLeadingZeros(l){if(l===0)return 32;let d=1;return l>>>16||(d+=16,l<<=16),l>>>24||(d+=8,l<<=8),l>>>28||(d+=4,l<<=4),l>>>30||(d+=2,l<<=2),d-=l>>>31,d}static toHexString(l){return l.toString(16)}static toBinaryString(l){return String(parseInt(String(l),2))}static bitCount(l){return l=l-(l>>>1&1431655765),l=(l&858993459)+(l>>>2&858993459),l=l+(l>>>4)&252645135,l=l+(l>>>8),l=l+(l>>>16),l&63}static truncDivision(l,d){return Math.trunc(l/d)}static parseInt(l,d=void 0){return parseInt(l,d)}}I.MIN_VALUE_32_BITS=-2147483648,I.MAX_VALUE=Number.MAX_SAFE_INTEGER;class U{constructor(l,d){l===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=l,d==null?this.bits=U.makeArray(l):this.bits=d)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(l){if(l>this.bits.length*32){const d=U.makeArray(l);T.arraycopy(this.bits,0,d,0,this.bits.length),this.bits=d}}get(l){return(this.bits[Math.floor(l/32)]&1<<(l&31))!==0}set(l){this.bits[Math.floor(l/32)]|=1<<(l&31)}flip(l){this.bits[Math.floor(l/32)]^=1<<(l&31)}getNextSet(l){const d=this.size;if(l>=d)return d;const g=this.bits;let y=Math.floor(l/32),b=g[y];b&=~((1<<(l&31))-1);const S=g.length;for(;b===0;){if(++y===S)return d;b=g[y]}const N=y*32+I.numberOfTrailingZeros(b);return N>d?d:N}getNextUnset(l){const d=this.size;if(l>=d)return d;const g=this.bits;let y=Math.floor(l/32),b=~g[y];b&=~((1<<(l&31))-1);const S=g.length;for(;b===0;){if(++y===S)return d;b=~g[y]}const N=y*32+I.numberOfTrailingZeros(b);return N>d?d:N}setBulk(l,d){this.bits[Math.floor(l/32)]=d}setRange(l,d){if(d<l||l<0||d>this.size)throw new v;if(d===l)return;d--;const g=Math.floor(l/32),y=Math.floor(d/32),b=this.bits;for(let S=g;S<=y;S++){const N=S>g?0:l&31,k=(2<<(S<y?31:d&31))-(1<<N);b[S]|=k}}clear(){const l=this.bits.length,d=this.bits;for(let g=0;g<l;g++)d[g]=0}isRange(l,d,g){if(d<l||l<0||d>this.size)throw new v;if(d===l)return!0;d--;const y=Math.floor(l/32),b=Math.floor(d/32),S=this.bits;for(let N=y;N<=b;N++){const M=N>y?0:l&31,V=(2<<(N<b?31:d&31))-(1<<M)&4294967295;if((S[N]&V)!==(g?V:0))return!1}return!0}appendBit(l){this.ensureCapacity(this.size+1),l&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(l,d){if(d<0||d>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+d);for(let g=d;g>0;g--)this.appendBit((l>>g-1&1)===1)}appendBitArray(l){const d=l.size;this.ensureCapacity(this.size+d);for(let g=0;g<d;g++)this.appendBit(l.get(g))}xor(l){if(this.size!==l.size)throw new v("Sizes don't match");const d=this.bits;for(let g=0,y=d.length;g<y;g++)d[g]^=l.bits[g]}toBytes(l,d,g,y){for(let b=0;b<y;b++){let S=0;for(let N=0;N<8;N++)this.get(l)&&(S|=1<<7-N),l++;d[g+b]=S}}getBitArray(){return this.bits}reverse(){const l=new Int32Array(this.bits.length),d=Math.floor((this.size-1)/32),g=d+1,y=this.bits;for(let b=0;b<g;b++){let S=y[b];S=S>>1&1431655765|(S&1431655765)<<1,S=S>>2&858993459|(S&858993459)<<2,S=S>>4&252645135|(S&252645135)<<4,S=S>>8&16711935|(S&16711935)<<8,S=S>>16&65535|(S&65535)<<16,l[d-b]=S}if(this.size!==g*32){const b=g*32-this.size;let S=l[0]>>>b;for(let N=1;N<g;N++){const M=l[N];S|=M<<32-b,l[N-1]=S,S=M>>>b}l[g-1]=S}this.bits=l}static makeArray(l){return new Int32Array(Math.floor((l+31)/32))}equals(l){if(!(l instanceof U))return!1;const d=l;return this.size===d.size&&P.equals(this.bits,d.bits)}hashCode(){return 31*this.size+P.hashCode(this.bits)}toString(){let l="";for(let d=0,g=this.size;d<g;d++)(d&7)===0&&(l+=" "),l+=this.get(d)?"X":".";return l}clone(){return new U(this.size,this.bits.slice())}}var F;(function(Y){Y[Y.OTHER=0]="OTHER",Y[Y.PURE_BARCODE=1]="PURE_BARCODE",Y[Y.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",Y[Y.TRY_HARDER=3]="TRY_HARDER",Y[Y.CHARACTER_SET=4]="CHARACTER_SET",Y[Y.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",Y[Y.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",Y[Y.ASSUME_GS1=7]="ASSUME_GS1",Y[Y.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",Y[Y.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",Y[Y.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(F||(F={}));var L=F;class B extends h{static getFormatInstance(){return new B}}B.kind="FormatException";var $;(function(Y){Y[Y.Cp437=0]="Cp437",Y[Y.ISO8859_1=1]="ISO8859_1",Y[Y.ISO8859_2=2]="ISO8859_2",Y[Y.ISO8859_3=3]="ISO8859_3",Y[Y.ISO8859_4=4]="ISO8859_4",Y[Y.ISO8859_5=5]="ISO8859_5",Y[Y.ISO8859_6=6]="ISO8859_6",Y[Y.ISO8859_7=7]="ISO8859_7",Y[Y.ISO8859_8=8]="ISO8859_8",Y[Y.ISO8859_9=9]="ISO8859_9",Y[Y.ISO8859_10=10]="ISO8859_10",Y[Y.ISO8859_11=11]="ISO8859_11",Y[Y.ISO8859_13=12]="ISO8859_13",Y[Y.ISO8859_14=13]="ISO8859_14",Y[Y.ISO8859_15=14]="ISO8859_15",Y[Y.ISO8859_16=15]="ISO8859_16",Y[Y.SJIS=16]="SJIS",Y[Y.Cp1250=17]="Cp1250",Y[Y.Cp1251=18]="Cp1251",Y[Y.Cp1252=19]="Cp1252",Y[Y.Cp1256=20]="Cp1256",Y[Y.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",Y[Y.UTF8=22]="UTF8",Y[Y.ASCII=23]="ASCII",Y[Y.Big5=24]="Big5",Y[Y.GB18030=25]="GB18030",Y[Y.EUC_KR=26]="EUC_KR"})($||($={}));class z{constructor(l,d,g,...y){this.valueIdentifier=l,this.name=g,typeof d=="number"?this.values=Int32Array.from([d]):this.values=d,this.otherEncodingNames=y,z.VALUE_IDENTIFIER_TO_ECI.set(l,this),z.NAME_TO_ECI.set(g,this);const b=this.values;for(let S=0,N=b.length;S!==N;S++){const M=b[S];z.VALUES_TO_ECI.set(M,this)}for(const S of y)z.NAME_TO_ECI.set(S,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(l){if(l<0||l>=900)throw new B("incorect value");const d=z.VALUES_TO_ECI.get(l);if(d===void 0)throw new B("incorect value");return d}static getCharacterSetECIByName(l){const d=z.NAME_TO_ECI.get(l);if(d===void 0)throw new B("incorect value");return d}equals(l){if(!(l instanceof z))return!1;const d=l;return this.getName()===d.getName()}}z.VALUE_IDENTIFIER_TO_ECI=new Map,z.VALUES_TO_ECI=new Map,z.NAME_TO_ECI=new Map,z.Cp437=new z($.Cp437,Int32Array.from([0,2]),"Cp437"),z.ISO8859_1=new z($.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),z.ISO8859_2=new z($.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),z.ISO8859_3=new z($.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),z.ISO8859_4=new z($.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),z.ISO8859_5=new z($.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),z.ISO8859_6=new z($.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),z.ISO8859_7=new z($.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),z.ISO8859_8=new z($.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),z.ISO8859_9=new z($.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),z.ISO8859_10=new z($.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),z.ISO8859_11=new z($.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),z.ISO8859_13=new z($.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),z.ISO8859_14=new z($.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),z.ISO8859_15=new z($.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),z.ISO8859_16=new z($.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),z.SJIS=new z($.SJIS,20,"SJIS","Shift_JIS"),z.Cp1250=new z($.Cp1250,21,"Cp1250","windows-1250"),z.Cp1251=new z($.Cp1251,22,"Cp1251","windows-1251"),z.Cp1252=new z($.Cp1252,23,"Cp1252","windows-1252"),z.Cp1256=new z($.Cp1256,24,"Cp1256","windows-1256"),z.UnicodeBigUnmarked=new z($.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),z.UTF8=new z($.UTF8,26,"UTF8","UTF-8"),z.ASCII=new z($.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),z.Big5=new z($.Big5,28,"Big5"),z.GB18030=new z($.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),z.EUC_KR=new z($.EUC_KR,30,"EUC_KR","EUC-KR");class H extends h{}H.kind="UnsupportedOperationException";class X{static decode(l,d){const g=this.encodingName(d);return this.customDecoder?this.customDecoder(l,g):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(g)?this.decodeFallback(l,g):new TextDecoder(g).decode(l)}static shouldDecodeOnFallback(l){return!X.isBrowser()&&l==="ISO-8859-1"}static encode(l,d){const g=this.encodingName(d);return this.customEncoder?this.customEncoder(l,g):typeof TextEncoder>"u"?this.encodeFallback(l):new TextEncoder().encode(l)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(l){return typeof l=="string"?l:l.getName()}static encodingCharacterSet(l){return l instanceof z?l:z.getCharacterSetECIByName(l)}static decodeFallback(l,d){const g=this.encodingCharacterSet(d);if(X.isDecodeFallbackSupported(g)){let y="";for(let b=0,S=l.length;b<S;b++){let N=l[b].toString(16);N.length<2&&(N="0"+N),y+="%"+N}return decodeURIComponent(y)}if(g.equals(z.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(l.buffer));throw new H(`Encoding ${this.encodingName(d)} not supported by fallback.`)}static isDecodeFallbackSupported(l){return l.equals(z.UTF8)||l.equals(z.ISO8859_1)||l.equals(z.ASCII)}static encodeFallback(l){const g=btoa(unescape(encodeURIComponent(l))).split(""),y=[];for(let b=0;b<g.length;b++)y.push(g[b].charCodeAt(0));return new Uint8Array(y)}}class K{static castAsNonUtf8Char(l,d=null){const g=d?d.getName():this.ISO88591;return X.decode(new Uint8Array([l]),g)}static guessEncoding(l,d){if(d!=null&&d.get(L.CHARACTER_SET)!==void 0)return d.get(L.CHARACTER_SET).toString();const g=l.length;let y=!0,b=!0,S=!0,N=0,M=0,k=0,V=0,W=0,Z=0,ie=0,ce=0,de=0,Se=0,Ce=0;const qe=l.length>3&&l[0]===239&&l[1]===187&&l[2]===191;for(let We=0;We<g&&(y||b||S);We++){const He=l[We]&255;S&&(N>0?(He&128)===0?S=!1:N--:(He&128)!==0&&((He&64)===0?S=!1:(N++,(He&32)===0?M++:(N++,(He&16)===0?k++:(N++,(He&8)===0?V++:S=!1))))),y&&(He>127&&He<160?y=!1:He>159&&(He<192||He===215||He===247)&&Ce++),b&&(W>0?He<64||He===127||He>252?b=!1:W--:He===128||He===160||He>239?b=!1:He>160&&He<224?(Z++,ce=0,ie++,ie>de&&(de=ie)):He>127?(W++,ie=0,ce++,ce>Se&&(Se=ce)):(ie=0,ce=0))}return S&&N>0&&(S=!1),b&&W>0&&(b=!1),S&&(qe||M+k+V>0)?K.UTF8:b&&(K.ASSUME_SHIFT_JIS||de>=3||Se>=3)?K.SHIFT_JIS:y&&b?de===2&&Z===2||Ce*10>=g?K.SHIFT_JIS:K.ISO88591:y?K.ISO88591:b?K.SHIFT_JIS:S?K.UTF8:K.PLATFORM_DEFAULT_ENCODING}static format(l,...d){let g=-1;function y(S,N,M,k,V,W){if(S==="%%")return"%";if(d[++g]===void 0)return;S=k?parseInt(k.substr(1)):void 0;let Z=V?parseInt(V.substr(1)):void 0,ie;switch(W){case"s":ie=d[g];break;case"c":ie=d[g][0];break;case"f":ie=parseFloat(d[g]).toFixed(S);break;case"p":ie=parseFloat(d[g]).toPrecision(S);break;case"e":ie=parseFloat(d[g]).toExponential(S);break;case"x":ie=parseInt(d[g]).toString(Z||16);break;case"d":ie=parseFloat(parseInt(d[g],Z||10).toPrecision(S)).toFixed(0);break}ie=typeof ie=="object"?JSON.stringify(ie):(+ie).toString(Z);let ce=parseInt(M),de=M&&M[0]+""=="0"?"0":" ";for(;ie.length<ce;)ie=N!==void 0?ie+de:de+ie;return ie}let b=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(b,y)}static getBytes(l,d){return X.encode(l,d)}static getCharCode(l,d=0){return l.charCodeAt(d)}static getCharAt(l){return String.fromCharCode(l)}}K.SHIFT_JIS=z.SJIS.getName(),K.GB2312="GB2312",K.ISO88591=z.ISO8859_1.getName(),K.EUC_JP="EUC_JP",K.UTF8=z.UTF8.getName(),K.PLATFORM_DEFAULT_ENCODING=K.UTF8,K.ASSUME_SHIFT_JIS=!1;class ee{constructor(l=""){this.value=l}enableDecoding(l){return this.encoding=l,this}append(l){return typeof l=="string"?this.value+=l.toString():this.encoding?this.value+=K.castAsNonUtf8Char(l,this.encoding):this.value+=String.fromCharCode(l),this}appendChars(l,d,g){for(let y=d;d<d+g;y++)this.append(l[y]);return this}length(){return this.value.length}charAt(l){return this.value.charAt(l)}deleteCharAt(l){this.value=this.value.substr(0,l)+this.value.substring(l+1)}setCharAt(l,d){this.value=this.value.substr(0,l)+d+this.value.substr(l+1)}substring(l,d){return this.value.substring(l,d)}setLengthToZero(){this.value=""}toString(){return this.value}insert(l,d){this.value=this.value.substr(0,l)+d+this.value.substr(l+d.length)}}class ue{constructor(l,d,g,y){if(this.width=l,this.height=d,this.rowSize=g,this.bits=y,d==null&&(d=l),this.height=d,l<1||d<1)throw new v("Both dimensions must be greater than 0");g==null&&(g=Math.floor((l+31)/32)),this.rowSize=g,y==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(l){const d=l.length,g=l[0].length,y=new ue(g,d);for(let b=0;b<d;b++){const S=l[b];for(let N=0;N<g;N++)S[N]&&y.set(N,b)}return y}static parseFromString(l,d,g){if(l===null)throw new v("stringRepresentation cannot be null");const y=new Array(l.length);let b=0,S=0,N=-1,M=0,k=0;for(;k<l.length;)if(l.charAt(k)===`
`||l.charAt(k)==="\r"){if(b>S){if(N===-1)N=b-S;else if(b-S!==N)throw new v("row lengths do not match");S=b,M++}k++}else if(l.substring(k,k+d.length)===d)k+=d.length,y[b]=!0,b++;else if(l.substring(k,k+g.length)===g)k+=g.length,y[b]=!1,b++;else throw new v("illegal character encountered: "+l.substring(k));if(b>S){if(N===-1)N=b-S;else if(b-S!==N)throw new v("row lengths do not match");M++}const V=new ue(N,M);for(let W=0;W<b;W++)y[W]&&V.set(Math.floor(W%N),Math.floor(W/N));return V}get(l,d){const g=d*this.rowSize+Math.floor(l/32);return(this.bits[g]>>>(l&31)&1)!==0}set(l,d){const g=d*this.rowSize+Math.floor(l/32);this.bits[g]|=1<<(l&31)&4294967295}unset(l,d){const g=d*this.rowSize+Math.floor(l/32);this.bits[g]&=~(1<<(l&31)&4294967295)}flip(l,d){const g=d*this.rowSize+Math.floor(l/32);this.bits[g]^=1<<(l&31)&4294967295}xor(l){if(this.width!==l.getWidth()||this.height!==l.getHeight()||this.rowSize!==l.getRowSize())throw new v("input matrix dimensions do not match");const d=new U(Math.floor(this.width/32)+1),g=this.rowSize,y=this.bits;for(let b=0,S=this.height;b<S;b++){const N=b*g,M=l.getRow(b,d).getBitArray();for(let k=0;k<g;k++)y[N+k]^=M[k]}}clear(){const l=this.bits,d=l.length;for(let g=0;g<d;g++)l[g]=0}setRegion(l,d,g,y){if(d<0||l<0)throw new v("Left and top must be nonnegative");if(y<1||g<1)throw new v("Height and width must be at least 1");const b=l+g,S=d+y;if(S>this.height||b>this.width)throw new v("The region must fit inside the matrix");const N=this.rowSize,M=this.bits;for(let k=d;k<S;k++){const V=k*N;for(let W=l;W<b;W++)M[V+Math.floor(W/32)]|=1<<(W&31)&4294967295}}getRow(l,d){d==null||d.getSize()<this.width?d=new U(this.width):d.clear();const g=this.rowSize,y=this.bits,b=l*g;for(let S=0;S<g;S++)d.setBulk(S*32,y[b+S]);return d}setRow(l,d){T.arraycopy(d.getBitArray(),0,this.bits,l*this.rowSize,this.rowSize)}rotate180(){const l=this.getWidth(),d=this.getHeight();let g=new U(l),y=new U(l);for(let b=0,S=Math.floor((d+1)/2);b<S;b++)g=this.getRow(b,g),y=this.getRow(d-1-b,y),g.reverse(),y.reverse(),this.setRow(b,y),this.setRow(d-1-b,g)}getEnclosingRectangle(){const l=this.width,d=this.height,g=this.rowSize,y=this.bits;let b=l,S=d,N=-1,M=-1;for(let k=0;k<d;k++)for(let V=0;V<g;V++){const W=y[k*g+V];if(W!==0){if(k<S&&(S=k),k>M&&(M=k),V*32<b){let Z=0;for(;(W<<31-Z&4294967295)===0;)Z++;V*32+Z<b&&(b=V*32+Z)}if(V*32+31>N){let Z=31;for(;!(W>>>Z);)Z--;V*32+Z>N&&(N=V*32+Z)}}}return N<b||M<S?null:Int32Array.from([b,S,N-b+1,M-S+1])}getTopLeftOnBit(){const l=this.rowSize,d=this.bits;let g=0;for(;g<d.length&&d[g]===0;)g++;if(g===d.length)return null;const y=g/l;let b=g%l*32;const S=d[g];let N=0;for(;(S<<31-N&4294967295)===0;)N++;return b+=N,Int32Array.from([b,y])}getBottomRightOnBit(){const l=this.rowSize,d=this.bits;let g=d.length-1;for(;g>=0&&d[g]===0;)g--;if(g<0)return null;const y=Math.floor(g/l);let b=Math.floor(g%l)*32;const S=d[g];let N=31;for(;!(S>>>N);)N--;return b+=N,Int32Array.from([b,y])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(l){if(!(l instanceof ue))return!1;const d=l;return this.width===d.width&&this.height===d.height&&this.rowSize===d.rowSize&&P.equals(this.bits,d.bits)}hashCode(){let l=this.width;return l=31*l+this.width,l=31*l+this.height,l=31*l+this.rowSize,l=31*l+P.hashCode(this.bits),l}toString(l="X ",d="  ",g=`
`){return this.buildToString(l,d,g)}buildToString(l,d,g){let y=new ee;for(let b=0,S=this.height;b<S;b++){for(let N=0,M=this.width;N<M;N++)y.append(this.get(N,b)?l:d);y.append(g)}return y.toString()}clone(){return new ue(this.width,this.height,this.rowSize,this.bits.slice())}}class ne extends h{static getNotFoundInstance(){return new ne}}ne.kind="NotFoundException";class G extends O{constructor(l){super(l),this.luminances=G.EMPTY,this.buckets=new Int32Array(G.LUMINANCE_BUCKETS)}getBlackRow(l,d){const g=this.getLuminanceSource(),y=g.getWidth();d==null||d.getSize()<y?d=new U(y):d.clear(),this.initArrays(y);const b=g.getRow(l,this.luminances),S=this.buckets;for(let M=0;M<y;M++)S[(b[M]&255)>>G.LUMINANCE_SHIFT]++;const N=G.estimateBlackPoint(S);if(y<3)for(let M=0;M<y;M++)(b[M]&255)<N&&d.set(M);else{let M=b[0]&255,k=b[1]&255;for(let V=1;V<y-1;V++){const W=b[V+1]&255;(k*4-M-W)/2<N&&d.set(V),M=k,k=W}}return d}getBlackMatrix(){const l=this.getLuminanceSource(),d=l.getWidth(),g=l.getHeight(),y=new ue(d,g);this.initArrays(d);const b=this.buckets;for(let M=1;M<5;M++){const k=Math.floor(g*M/5),V=l.getRow(k,this.luminances),W=Math.floor(d*4/5);for(let Z=Math.floor(d/5);Z<W;Z++){const ie=V[Z]&255;b[ie>>G.LUMINANCE_SHIFT]++}}const S=G.estimateBlackPoint(b),N=l.getMatrix();for(let M=0;M<g;M++){const k=M*d;for(let V=0;V<d;V++)(N[k+V]&255)<S&&y.set(V,M)}return y}createBinarizer(l){return new G(l)}initArrays(l){this.luminances.length<l&&(this.luminances=new Uint8ClampedArray(l));const d=this.buckets;for(let g=0;g<G.LUMINANCE_BUCKETS;g++)d[g]=0}static estimateBlackPoint(l){const d=l.length;let g=0,y=0,b=0;for(let V=0;V<d;V++)l[V]>b&&(y=V,b=l[V]),l[V]>g&&(g=l[V]);let S=0,N=0;for(let V=0;V<d;V++){const W=V-y,Z=l[V]*W*W;Z>N&&(S=V,N=Z)}if(y>S){const V=y;y=S,S=V}if(S-y<=d/16)throw new ne;let M=S-1,k=-1;for(let V=S-1;V>y;V--){const W=V-y,Z=W*W*(S-V)*(g-l[V]);Z>k&&(M=V,k=Z)}return M<<G.LUMINANCE_SHIFT}}G.LUMINANCE_BITS=5,G.LUMINANCE_SHIFT=8-G.LUMINANCE_BITS,G.LUMINANCE_BUCKETS=1<<G.LUMINANCE_BITS,G.EMPTY=Uint8ClampedArray.from([0]);class Q extends G{constructor(l){super(l),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const l=this.getLuminanceSource(),d=l.getWidth(),g=l.getHeight();if(d>=Q.MINIMUM_DIMENSION&&g>=Q.MINIMUM_DIMENSION){const y=l.getMatrix();let b=d>>Q.BLOCK_SIZE_POWER;(d&Q.BLOCK_SIZE_MASK)!==0&&b++;let S=g>>Q.BLOCK_SIZE_POWER;(g&Q.BLOCK_SIZE_MASK)!==0&&S++;const N=Q.calculateBlackPoints(y,b,S,d,g),M=new ue(d,g);Q.calculateThresholdForBlock(y,b,S,d,g,N,M),this.matrix=M}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(l){return new Q(l)}static calculateThresholdForBlock(l,d,g,y,b,S,N){const M=b-Q.BLOCK_SIZE,k=y-Q.BLOCK_SIZE;for(let V=0;V<g;V++){let W=V<<Q.BLOCK_SIZE_POWER;W>M&&(W=M);const Z=Q.cap(V,2,g-3);for(let ie=0;ie<d;ie++){let ce=ie<<Q.BLOCK_SIZE_POWER;ce>k&&(ce=k);const de=Q.cap(ie,2,d-3);let Se=0;for(let qe=-2;qe<=2;qe++){const We=S[Z+qe];Se+=We[de-2]+We[de-1]+We[de]+We[de+1]+We[de+2]}const Ce=Se/25;Q.thresholdBlock(l,ce,W,Ce,y,N)}}}static cap(l,d,g){return l<d?d:l>g?g:l}static thresholdBlock(l,d,g,y,b,S){for(let N=0,M=g*b+d;N<Q.BLOCK_SIZE;N++,M+=b)for(let k=0;k<Q.BLOCK_SIZE;k++)(l[M+k]&255)<=y&&S.set(d+k,g+N)}static calculateBlackPoints(l,d,g,y,b){const S=b-Q.BLOCK_SIZE,N=y-Q.BLOCK_SIZE,M=new Array(g);for(let k=0;k<g;k++){M[k]=new Int32Array(d);let V=k<<Q.BLOCK_SIZE_POWER;V>S&&(V=S);for(let W=0;W<d;W++){let Z=W<<Q.BLOCK_SIZE_POWER;Z>N&&(Z=N);let ie=0,ce=255,de=0;for(let Ce=0,qe=V*y+Z;Ce<Q.BLOCK_SIZE;Ce++,qe+=y){for(let We=0;We<Q.BLOCK_SIZE;We++){const He=l[qe+We]&255;ie+=He,He<ce&&(ce=He),He>de&&(de=He)}if(de-ce>Q.MIN_DYNAMIC_RANGE)for(Ce++,qe+=y;Ce<Q.BLOCK_SIZE;Ce++,qe+=y)for(let We=0;We<Q.BLOCK_SIZE;We++)ie+=l[qe+We]&255}let Se=ie>>Q.BLOCK_SIZE_POWER*2;if(de-ce<=Q.MIN_DYNAMIC_RANGE&&(Se=ce/2,k>0&&W>0)){const Ce=(M[k-1][W]+2*M[k][W-1]+M[k-1][W-1])/4;ce<Ce&&(Se=Ce)}M[k][W]=Se}}return M}}Q.BLOCK_SIZE_POWER=3,Q.BLOCK_SIZE=1<<Q.BLOCK_SIZE_POWER,Q.BLOCK_SIZE_MASK=Q.BLOCK_SIZE-1,Q.MINIMUM_DIMENSION=Q.BLOCK_SIZE*5,Q.MIN_DYNAMIC_RANGE=24;class ae{constructor(l,d){this.width=l,this.height=d}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(l,d,g,y){throw new H("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new H("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new H("This luminance source does not support rotation by 45 degrees.")}toString(){const l=new Uint8ClampedArray(this.width);let d=new ee;for(let g=0;g<this.height;g++){const y=this.getRow(g,l);for(let b=0;b<this.width;b++){const S=y[b]&255;let N;S<64?N="#":S<128?N="+":S<192?N=".":N=" ",d.append(N)}d.append(`
`)}return d.toString()}}class he extends ae{constructor(l){super(l.getWidth(),l.getHeight()),this.delegate=l}getRow(l,d){const g=this.delegate.getRow(l,d),y=this.getWidth();for(let b=0;b<y;b++)g[b]=255-(g[b]&255);return g}getMatrix(){const l=this.delegate.getMatrix(),d=this.getWidth()*this.getHeight(),g=new Uint8ClampedArray(d);for(let y=0;y<d;y++)g[y]=255-(l[y]&255);return g}isCropSupported(){return this.delegate.isCropSupported()}crop(l,d,g,y){return new he(this.delegate.crop(l,d,g,y))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new he(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new he(this.delegate.rotateCounterClockwise45())}}class te extends ae{constructor(l){super(l.width,l.height),this.canvas=l,this.tempCanvasElement=null,this.buffer=te.makeBufferFromCanvasImageData(l)}static makeBufferFromCanvasImageData(l){const d=l.getContext("2d").getImageData(0,0,l.width,l.height);return te.toGrayscaleBuffer(d.data,l.width,l.height)}static toGrayscaleBuffer(l,d,g){const y=new Uint8ClampedArray(d*g);for(let b=0,S=0,N=l.length;b<N;b+=4,S++){let M;if(l[b+3]===0)M=255;else{const V=l[b],W=l[b+1],Z=l[b+2];M=306*V+601*W+117*Z+512>>10}y[S]=M}return y}getRow(l,d){if(l<0||l>=this.getHeight())throw new v("Requested row is outside the image: "+l);const g=this.getWidth(),y=l*g;return d===null?d=this.buffer.slice(y,y+g):(d.length<g&&(d=new Uint8ClampedArray(g)),d.set(this.buffer.slice(y,y+g))),d}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(l,d,g,y){return super.crop(l,d,g,y),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const l=this.canvas.ownerDocument.createElement("canvas");l.width=this.canvas.width,l.height=this.canvas.height,this.tempCanvasElement=l}return this.tempCanvasElement}rotate(l){const d=this.getTempCanvasElement(),g=d.getContext("2d"),y=l*te.DEGREE_TO_RADIANS,b=this.canvas.width,S=this.canvas.height,N=Math.ceil(Math.abs(Math.cos(y))*b+Math.abs(Math.sin(y))*S),M=Math.ceil(Math.abs(Math.sin(y))*b+Math.abs(Math.cos(y))*S);return d.width=N,d.height=M,g.translate(N/2,M/2),g.rotate(y),g.drawImage(this.canvas,b/-2,S/-2),this.buffer=te.makeBufferFromCanvasImageData(d),this}invert(){return new he(this)}}te.DEGREE_TO_RADIANS=Math.PI/180;class fe{constructor(l,d,g){this.deviceId=l,this.label=d,this.kind="videoinput",this.groupId=g||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var se=(globalThis||Ep||self||window||void 0)&&(globalThis||Ep||self||window||void 0).__awaiter||function(Y,l,d,g){function y(b){return b instanceof d?b:new d(function(S){S(b)})}return new(d||(d=Promise))(function(b,S){function N(V){try{k(g.next(V))}catch(W){S(W)}}function M(V){try{k(g.throw(V))}catch(W){S(W)}}function k(V){V.done?b(V.value):y(V.value).then(N,M)}k((g=g.apply(Y,l||[])).next())})};class me{constructor(l,d=500,g){this.reader=l,this.timeBetweenScansMillis=d,this._hints=g,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(l){this._timeBetweenDecodingAttempts=l<0?0:l}set hints(l){this._hints=l||null}get hints(){return this._hints}listVideoInputDevices(){return se(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const l=yield navigator.mediaDevices.enumerateDevices(),d=[];for(const g of l){const y=g.kind==="video"?"videoinput":g.kind;if(y!=="videoinput")continue;const b=g.deviceId||g.id,S=g.label||`Video device ${d.length+1}`,N=g.groupId,M={deviceId:b,label:S,kind:y,groupId:N};d.push(M)}return d})}getVideoInputDevices(){return se(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(d=>new fe(d.deviceId,d.label))})}findDeviceById(l){return se(this,void 0,void 0,function*(){const d=yield this.listVideoInputDevices();return d?d.find(g=>g.deviceId===l):null})}decodeFromInputVideoDevice(l,d){return se(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(l,d)})}decodeOnceFromVideoDevice(l,d){return se(this,void 0,void 0,function*(){this.reset();let g;l?g={deviceId:{exact:l}}:g={facingMode:"environment"};const y={video:g};return yield this.decodeOnceFromConstraints(y,d)})}decodeOnceFromConstraints(l,d){return se(this,void 0,void 0,function*(){const g=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeOnceFromStream(g,d)})}decodeOnceFromStream(l,d){return se(this,void 0,void 0,function*(){this.reset();const g=yield this.attachStreamToVideo(l,d);return yield this.decodeOnce(g)})}decodeFromInputVideoDeviceContinuously(l,d,g){return se(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(l,d,g)})}decodeFromVideoDevice(l,d,g){return se(this,void 0,void 0,function*(){let y;l?y={deviceId:{exact:l}}:y={facingMode:"environment"};const b={video:y};return yield this.decodeFromConstraints(b,d,g)})}decodeFromConstraints(l,d,g){return se(this,void 0,void 0,function*(){const y=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeFromStream(y,d,g)})}decodeFromStream(l,d,g){return se(this,void 0,void 0,function*(){this.reset();const y=yield this.attachStreamToVideo(l,d);return yield this.decodeContinuously(y,g)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(l,d){return se(this,void 0,void 0,function*(){const g=this.prepareVideoElement(d);return this.addVideoSource(g,l),this.videoElement=g,this.stream=l,yield this.playVideoOnLoadAsync(g),g})}playVideoOnLoadAsync(l){return new Promise((d,g)=>this.playVideoOnLoad(l,()=>d()))}playVideoOnLoad(l,d){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(l),l.addEventListener("ended",this.videoEndedListener),l.addEventListener("canplay",this.videoCanPlayListener),l.addEventListener("playing",d),this.tryPlayVideo(l)}isVideoPlaying(l){return l.currentTime>0&&!l.paused&&!l.ended&&l.readyState>2}tryPlayVideo(l){return se(this,void 0,void 0,function*(){if(this.isVideoPlaying(l)){console.warn("Trying to play video that is already playing.");return}try{yield l.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(l,d){const g=document.getElementById(l);if(!g)throw new p(`element with id '${l}' not found`);if(g.nodeName.toLowerCase()!==d.toLowerCase())throw new p(`element with id '${l}' must be an ${d} element`);return g}decodeFromImage(l,d){if(!l&&!d)throw new p("either imageElement with a src set or an url must be provided");return d&&!l?this.decodeFromImageUrl(d):this.decodeFromImageElement(l)}decodeFromVideo(l,d){if(!l&&!d)throw new p("Either an element with a src set or an URL must be provided");return d&&!l?this.decodeFromVideoUrl(d):this.decodeFromVideoElement(l)}decodeFromVideoContinuously(l,d,g){if(l===void 0&&d===void 0)throw new p("Either an element with a src set or an URL must be provided");return d&&!l?this.decodeFromVideoUrlContinuously(d,g):this.decodeFromVideoElementContinuously(l,g)}decodeFromImageElement(l){if(!l)throw new p("An image element must be provided.");this.reset();const d=this.prepareImageElement(l);this.imageElement=d;let g;return this.isImageLoaded(d)?g=this.decodeOnce(d,!1,!0):g=this._decodeOnLoadImage(d),g}decodeFromVideoElement(l){const d=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideo(d)}decodeFromVideoElementContinuously(l,d){const g=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideoContinuously(g,d)}_decodeFromVideoElementSetup(l){if(!l)throw new p("A video element must be provided.");this.reset();const d=this.prepareVideoElement(l);return this.videoElement=d,d}decodeFromImageUrl(l){if(!l)throw new p("An URL must be provided.");this.reset();const d=this.prepareImageElement();this.imageElement=d;const g=this._decodeOnLoadImage(d);return d.src=l,g}decodeFromVideoUrl(l){if(!l)throw new p("An URL must be provided.");this.reset();const d=this.prepareVideoElement(),g=this.decodeFromVideoElement(d);return d.src=l,g}decodeFromVideoUrlContinuously(l,d){if(!l)throw new p("An URL must be provided.");this.reset();const g=this.prepareVideoElement(),y=this.decodeFromVideoElementContinuously(g,d);return g.src=l,y}_decodeOnLoadImage(l){return new Promise((d,g)=>{this.imageLoadedListener=()=>this.decodeOnce(l,!1,!0).then(d,g),l.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(l){return se(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(l),yield this.decodeOnce(l)})}_decodeOnLoadVideoContinuously(l,d){return se(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(l),this.decodeContinuously(l,d)})}isImageLoaded(l){return!(!l.complete||l.naturalWidth===0)}prepareImageElement(l){let d;return typeof l>"u"&&(d=document.createElement("img"),d.width=200,d.height=200),typeof l=="string"&&(d=this.getMediaElement(l,"img")),l instanceof HTMLImageElement&&(d=l),d}prepareVideoElement(l){let d;return!l&&typeof document<"u"&&(d=document.createElement("video"),d.width=200,d.height=200),typeof l=="string"&&(d=this.getMediaElement(l,"video")),l instanceof HTMLVideoElement&&(d=l),d.setAttribute("autoplay","true"),d.setAttribute("muted","true"),d.setAttribute("playsinline","true"),d}decodeOnce(l,d=!0,g=!0){this._stopAsyncDecode=!1;const y=(b,S)=>{if(this._stopAsyncDecode){S(new ne("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const N=this.decode(l);b(N)}catch(N){const M=d&&N instanceof ne,V=(N instanceof E||N instanceof B)&&g;if(M||V)return setTimeout(y,this._timeBetweenDecodingAttempts,b,S);S(N)}};return new Promise((b,S)=>y(b,S))}decodeContinuously(l,d){this._stopContinuousDecode=!1;const g=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const y=this.decode(l);d(y,null),setTimeout(g,this.timeBetweenScansMillis)}catch(y){d(null,y);const b=y instanceof E||y instanceof B,S=y instanceof ne;(b||S)&&setTimeout(g,this._timeBetweenDecodingAttempts)}};g()}decode(l){const d=this.createBinaryBitmap(l);return this.decodeBitmap(d)}_isHTMLVideoElement(l){return l.videoWidth!==0}drawFrameOnCanvas(l,d,g){d||(d={sx:0,sy:0,sWidth:l.videoWidth,sHeight:l.videoHeight,dx:0,dy:0,dWidth:l.videoWidth,dHeight:l.videoHeight}),g||(g=this.captureCanvasContext),g.drawImage(l,d.sx,d.sy,d.sWidth,d.sHeight,d.dx,d.dy,d.dWidth,d.dHeight)}drawImageOnCanvas(l,d,g=this.captureCanvasContext){d||(d={sx:0,sy:0,sWidth:l.naturalWidth,sHeight:l.naturalHeight,dx:0,dy:0,dWidth:l.naturalWidth,dHeight:l.naturalHeight}),g||(g=this.captureCanvasContext),g.drawImage(l,d.sx,d.sy,d.sWidth,d.sHeight,d.dx,d.dy,d.dWidth,d.dHeight)}createBinaryBitmap(l){this.getCaptureCanvasContext(l),this._isHTMLVideoElement(l)?this.drawFrameOnCanvas(l):this.drawImageOnCanvas(l);const d=this.getCaptureCanvas(l),g=new te(d),y=new Q(g);return new j(y)}getCaptureCanvasContext(l){if(!this.captureCanvasContext){const g=this.getCaptureCanvas(l).getContext("2d");this.captureCanvasContext=g}return this.captureCanvasContext}getCaptureCanvas(l){if(!this.captureCanvas){const d=this.createCaptureCanvas(l);this.captureCanvas=d}return this.captureCanvas}decodeBitmap(l){return this.reader.decode(l,this._hints)}createCaptureCanvas(l){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const d=document.createElement("canvas");let g,y;return typeof l<"u"&&(l instanceof HTMLVideoElement?(g=l.videoWidth,y=l.videoHeight):l instanceof HTMLImageElement&&(g=l.naturalWidth||l.width,y=l.naturalHeight||l.height)),d.style.width=g+"px",d.style.height=y+"px",d.width=g,d.height=y,d}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(l=>l.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(l,d){try{l.srcObject=d}catch{l.src=URL.createObjectURL(d)}}cleanVideoSource(l){try{l.srcObject=null}catch{l.src=""}this.videoElement.removeAttribute("src")}}class Re{constructor(l,d,g=d==null?0:8*d.length,y,b,S=T.currentTimeMillis()){this.text=l,this.rawBytes=d,this.numBits=g,this.resultPoints=y,this.format=b,this.timestamp=S,this.text=l,this.rawBytes=d,g==null?this.numBits=d==null?0:8*d.length:this.numBits=g,this.resultPoints=y,this.format=b,this.resultMetadata=null,S==null?this.timestamp=T.currentTimeMillis():this.timestamp=S}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(l,d){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(l,d)}putAllMetadata(l){l!==null&&(this.resultMetadata===null?this.resultMetadata=l:this.resultMetadata=new Map(l))}addResultPoints(l){const d=this.resultPoints;if(d===null)this.resultPoints=l;else if(l!==null&&l.length>0){const g=new Array(d.length+l.length);T.arraycopy(d,0,g,0,d.length),T.arraycopy(l,0,g,d.length,l.length),this.resultPoints=g}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ye;(function(Y){Y[Y.AZTEC=0]="AZTEC",Y[Y.CODABAR=1]="CODABAR",Y[Y.CODE_39=2]="CODE_39",Y[Y.CODE_93=3]="CODE_93",Y[Y.CODE_128=4]="CODE_128",Y[Y.DATA_MATRIX=5]="DATA_MATRIX",Y[Y.EAN_8=6]="EAN_8",Y[Y.EAN_13=7]="EAN_13",Y[Y.ITF=8]="ITF",Y[Y.MAXICODE=9]="MAXICODE",Y[Y.PDF_417=10]="PDF_417",Y[Y.QR_CODE=11]="QR_CODE",Y[Y.RSS_14=12]="RSS_14",Y[Y.RSS_EXPANDED=13]="RSS_EXPANDED",Y[Y.UPC_A=14]="UPC_A",Y[Y.UPC_E=15]="UPC_E",Y[Y.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ye||(ye={}));var oe=ye,pe;(function(Y){Y[Y.OTHER=0]="OTHER",Y[Y.ORIENTATION=1]="ORIENTATION",Y[Y.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",Y[Y.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",Y[Y.ISSUE_NUMBER=4]="ISSUE_NUMBER",Y[Y.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",Y[Y.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",Y[Y.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",Y[Y.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",Y[Y.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",Y[Y.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(pe||(pe={}));var Ie=pe;class xe{constructor(l,d,g,y,b=-1,S=-1){this.rawBytes=l,this.text=d,this.byteSegments=g,this.ecLevel=y,this.structuredAppendSequenceNumber=b,this.structuredAppendParity=S,this.numBits=l==null?0:8*l.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(l){this.numBits=l}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(l){this.errorsCorrected=l}getErasures(){return this.erasures}setErasures(l){this.erasures=l}getOther(){return this.other}setOther(l){this.other=l}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Fe{exp(l){return this.expTable[l]}log(l){if(l===0)throw new v;return this.logTable[l]}static addOrSubtract(l,d){return l^d}}class Le{constructor(l,d){if(d.length===0)throw new v;this.field=l;const g=d.length;if(g>1&&d[0]===0){let y=1;for(;y<g&&d[y]===0;)y++;y===g?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(g-y),T.arraycopy(d,y,this.coefficients,0,this.coefficients.length))}else this.coefficients=d}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);const d=this.coefficients;let g;if(l===1){g=0;for(let S=0,N=d.length;S!==N;S++){const M=d[S];g=Fe.addOrSubtract(g,M)}return g}g=d[0];const y=d.length,b=this.field;for(let S=1;S<y;S++)g=Fe.addOrSubtract(b.multiply(l,g),d[S]);return g}addOrSubtract(l){if(!this.field.equals(l.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return l;if(l.isZero())return this;let d=this.coefficients,g=l.coefficients;if(d.length>g.length){const S=d;d=g,g=S}let y=new Int32Array(g.length);const b=g.length-d.length;T.arraycopy(g,0,y,0,b);for(let S=b;S<g.length;S++)y[S]=Fe.addOrSubtract(d[S-b],g[S]);return new Le(this.field,y)}multiply(l){if(!this.field.equals(l.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||l.isZero())return this.field.getZero();const d=this.coefficients,g=d.length,y=l.coefficients,b=y.length,S=new Int32Array(g+b-1),N=this.field;for(let M=0;M<g;M++){const k=d[M];for(let V=0;V<b;V++)S[M+V]=Fe.addOrSubtract(S[M+V],N.multiply(k,y[V]))}return new Le(N,S)}multiplyScalar(l){if(l===0)return this.field.getZero();if(l===1)return this;const d=this.coefficients.length,g=this.field,y=new Int32Array(d),b=this.coefficients;for(let S=0;S<d;S++)y[S]=g.multiply(b[S],l);return new Le(g,y)}multiplyByMonomial(l,d){if(l<0)throw new v;if(d===0)return this.field.getZero();const g=this.coefficients,y=g.length,b=new Int32Array(y+l),S=this.field;for(let N=0;N<y;N++)b[N]=S.multiply(g[N],d);return new Le(S,b)}divide(l){if(!this.field.equals(l.field))throw new v("GenericGFPolys do not have same GenericGF field");if(l.isZero())throw new v("Divide by 0");const d=this.field;let g=d.getZero(),y=this;const b=l.getCoefficient(l.getDegree()),S=d.inverse(b);for(;y.getDegree()>=l.getDegree()&&!y.isZero();){const N=y.getDegree()-l.getDegree(),M=d.multiply(y.getCoefficient(y.getDegree()),S),k=l.multiplyByMonomial(N,M),V=d.buildMonomial(N,M);g=g.addOrSubtract(V),y=y.addOrSubtract(k)}return[g,y]}toString(){let l="";for(let d=this.getDegree();d>=0;d--){let g=this.getCoefficient(d);if(g!==0){if(g<0?(l+=" - ",g=-g):l.length>0&&(l+=" + "),d===0||g!==1){const y=this.field.log(g);y===0?l+="1":y===1?l+="a":(l+="a^",l+=y)}d!==0&&(d===1?l+="x":(l+="x^",l+=d))}}return l}}class Ne extends h{}Ne.kind="ArithmeticException";class Xe extends Fe{constructor(l,d,g){super(),this.primitive=l,this.size=d,this.generatorBase=g;const y=new Int32Array(d);let b=1;for(let N=0;N<d;N++)y[N]=b,b*=2,b>=d&&(b^=l,b&=d-1);this.expTable=y;const S=new Int32Array(d);for(let N=0;N<d-1;N++)S[y[N]]=N;this.logTable=S,this.zero=new Le(this,Int32Array.from([0])),this.one=new Le(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,d){if(l<0)throw new v;if(d===0)return this.zero;const g=new Int32Array(l+1);return g[0]=d,new Le(this,g)}inverse(l){if(l===0)throw new Ne;return this.expTable[this.size-this.logTable[l]-1]}multiply(l,d){return l===0||d===0?0:this.expTable[(this.logTable[l]+this.logTable[d])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+I.toHexString(this.primitive)+","+this.size+")"}equals(l){return l===this}}Xe.AZTEC_DATA_12=new Xe(4201,4096,1),Xe.AZTEC_DATA_10=new Xe(1033,1024,1),Xe.AZTEC_DATA_6=new Xe(67,64,1),Xe.AZTEC_PARAM=new Xe(19,16,1),Xe.QR_CODE_FIELD_256=new Xe(285,256,0),Xe.DATA_MATRIX_FIELD_256=new Xe(301,256,1),Xe.AZTEC_DATA_8=Xe.DATA_MATRIX_FIELD_256,Xe.MAXICODE_FIELD_64=Xe.AZTEC_DATA_6;class $e extends h{}$e.kind="ReedSolomonException";class Ze extends h{}Ze.kind="IllegalStateException";class Mt{constructor(l){this.field=l}decode(l,d){const g=this.field,y=new Le(g,l),b=new Int32Array(d);let S=!0;for(let ie=0;ie<d;ie++){const ce=y.evaluateAt(g.exp(ie+g.getGeneratorBase()));b[b.length-1-ie]=ce,ce!==0&&(S=!1)}if(S)return;const N=new Le(g,b),M=this.runEuclideanAlgorithm(g.buildMonomial(d,1),N,d),k=M[0],V=M[1],W=this.findErrorLocations(k),Z=this.findErrorMagnitudes(V,W);for(let ie=0;ie<W.length;ie++){const ce=l.length-1-g.log(W[ie]);if(ce<0)throw new $e("Bad error location");l[ce]=Xe.addOrSubtract(l[ce],Z[ie])}}runEuclideanAlgorithm(l,d,g){if(l.getDegree()<d.getDegree()){const ie=l;l=d,d=ie}const y=this.field;let b=l,S=d,N=y.getZero(),M=y.getOne();for(;S.getDegree()>=(g/2|0);){let ie=b,ce=N;if(b=S,N=M,b.isZero())throw new $e("r_{i-1} was zero");S=ie;let de=y.getZero();const Se=b.getCoefficient(b.getDegree()),Ce=y.inverse(Se);for(;S.getDegree()>=b.getDegree()&&!S.isZero();){const qe=S.getDegree()-b.getDegree(),We=y.multiply(S.getCoefficient(S.getDegree()),Ce);de=de.addOrSubtract(y.buildMonomial(qe,We)),S=S.addOrSubtract(b.multiplyByMonomial(qe,We))}if(M=de.multiply(N).addOrSubtract(ce),S.getDegree()>=b.getDegree())throw new Ze("Division algorithm failed to reduce polynomial?")}const k=M.getCoefficient(0);if(k===0)throw new $e("sigmaTilde(0) was zero");const V=y.inverse(k),W=M.multiplyScalar(V),Z=S.multiplyScalar(V);return[W,Z]}findErrorLocations(l){const d=l.getDegree();if(d===1)return Int32Array.from([l.getCoefficient(1)]);const g=new Int32Array(d);let y=0;const b=this.field;for(let S=1;S<b.getSize()&&y<d;S++)l.evaluateAt(S)===0&&(g[y]=b.inverse(S),y++);if(y!==d)throw new $e("Error locator degree does not match number of roots");return g}findErrorMagnitudes(l,d){const g=d.length,y=new Int32Array(g),b=this.field;for(let S=0;S<g;S++){const N=b.inverse(d[S]);let M=1;for(let k=0;k<g;k++)if(S!==k){const V=b.multiply(d[k],N),W=(V&1)===0?V|1:V&-2;M=b.multiply(M,W)}y[S]=b.multiply(l.evaluateAt(N),b.inverse(M)),b.getGeneratorBase()!==0&&(y[S]=b.multiply(y[S],N))}return y}}var ht;(function(Y){Y[Y.UPPER=0]="UPPER",Y[Y.LOWER=1]="LOWER",Y[Y.MIXED=2]="MIXED",Y[Y.DIGIT=3]="DIGIT",Y[Y.PUNCT=4]="PUNCT",Y[Y.BINARY=5]="BINARY"})(ht||(ht={}));class Nt{decode(l){this.ddata=l;let d=l.getBits(),g=this.extractBits(d),y=this.correctBits(g),b=Nt.convertBoolArrayToByteArray(y),S=Nt.getEncodedData(y),N=new xe(b,S,null,null);return N.setNumBits(y.length),N}static highLevelDecode(l){return this.getEncodedData(l)}static getEncodedData(l){let d=l.length,g=ht.UPPER,y=ht.UPPER,b="",S=0;for(;S<d;)if(y===ht.BINARY){if(d-S<5)break;let N=Nt.readCode(l,S,5);if(S+=5,N===0){if(d-S<11)break;N=Nt.readCode(l,S,11)+31,S+=11}for(let M=0;M<N;M++){if(d-S<8){S=d;break}const k=Nt.readCode(l,S,8);b+=K.castAsNonUtf8Char(k),S+=8}y=g}else{let N=y===ht.DIGIT?4:5;if(d-S<N)break;let M=Nt.readCode(l,S,N);S+=N;let k=Nt.getCharacter(y,M);k.startsWith("CTRL_")?(g=y,y=Nt.getTable(k.charAt(5)),k.charAt(6)==="L"&&(g=y)):(b+=k,y=g)}return b}static getTable(l){switch(l){case"L":return ht.LOWER;case"P":return ht.PUNCT;case"M":return ht.MIXED;case"D":return ht.DIGIT;case"B":return ht.BINARY;case"U":default:return ht.UPPER}}static getCharacter(l,d){switch(l){case ht.UPPER:return Nt.UPPER_TABLE[d];case ht.LOWER:return Nt.LOWER_TABLE[d];case ht.MIXED:return Nt.MIXED_TABLE[d];case ht.PUNCT:return Nt.PUNCT_TABLE[d];case ht.DIGIT:return Nt.DIGIT_TABLE[d];default:throw new Ze("Bad table")}}correctBits(l){let d,g;this.ddata.getNbLayers()<=2?(g=6,d=Xe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(g=8,d=Xe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(g=10,d=Xe.AZTEC_DATA_10):(g=12,d=Xe.AZTEC_DATA_12);let y=this.ddata.getNbDatablocks(),b=l.length/g;if(b<y)throw new B;let S=l.length%g,N=new Int32Array(b);for(let Z=0;Z<b;Z++,S+=g)N[Z]=Nt.readCode(l,S,g);try{new Mt(d).decode(N,b-y)}catch(Z){throw new B(Z)}let M=(1<<g)-1,k=0;for(let Z=0;Z<y;Z++){let ie=N[Z];if(ie===0||ie===M)throw new B;(ie===1||ie===M-1)&&k++}let V=new Array(y*g-k),W=0;for(let Z=0;Z<y;Z++){let ie=N[Z];if(ie===1||ie===M-1)V.fill(ie>1,W,W+g-1),W+=g-1;else for(let ce=g-1;ce>=0;--ce)V[W++]=(ie&1<<ce)!==0}return V}extractBits(l){let d=this.ddata.isCompact(),g=this.ddata.getNbLayers(),y=(d?11:14)+g*4,b=new Int32Array(y),S=new Array(this.totalBitsInLayer(g,d));if(d)for(let N=0;N<b.length;N++)b[N]=N;else{let N=y+1+2*I.truncDivision(I.truncDivision(y,2)-1,15),M=y/2,k=I.truncDivision(N,2);for(let V=0;V<M;V++){let W=V+I.truncDivision(V,15);b[M-V-1]=k-W-1,b[M+V]=k+W+1}}for(let N=0,M=0;N<g;N++){let k=(g-N)*4+(d?9:12),V=N*2,W=y-1-V;for(let Z=0;Z<k;Z++){let ie=Z*2;for(let ce=0;ce<2;ce++)S[M+ie+ce]=l.get(b[V+ce],b[V+Z]),S[M+2*k+ie+ce]=l.get(b[V+Z],b[W-ce]),S[M+4*k+ie+ce]=l.get(b[W-ce],b[W-Z]),S[M+6*k+ie+ce]=l.get(b[W-Z],b[V+ce])}M+=k*8}return S}static readCode(l,d,g){let y=0;for(let b=d;b<d+g;b++)y<<=1,l[b]&&(y|=1);return y}static readByte(l,d){let g=l.length-d;return g>=8?Nt.readCode(l,d,8):Nt.readCode(l,d,g)<<8-g}static convertBoolArrayToByteArray(l){let d=new Uint8Array((l.length+7)/8);for(let g=0;g<d.length;g++)d[g]=Nt.readByte(l,8*g);return d}totalBitsInLayer(l,d){return((d?88:112)+16*l)*l}}Nt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Nt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Nt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Nt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Nt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Qe{constructor(){}static round(l){return l===NaN?0:l<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:l>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:l+(l<0?-.5:.5)|0}static distance(l,d,g,y){const b=l-g,S=d-y;return Math.sqrt(b*b+S*S)}static sum(l){let d=0;for(let g=0,y=l.length;g!==y;g++){const b=l[g];d+=b}return d}}class ir{static floatToIntBits(l){return l}}ir.MAX_VALUE=Number.MAX_SAFE_INTEGER;class et{constructor(l,d){this.x=l,this.y=d}getX(){return this.x}getY(){return this.y}equals(l){if(l instanceof et){const d=l;return this.x===d.x&&this.y===d.y}return!1}hashCode(){return 31*ir.floatToIntBits(this.x)+ir.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(l){const d=this.distance(l[0],l[1]),g=this.distance(l[1],l[2]),y=this.distance(l[0],l[2]);let b,S,N;if(g>=d&&g>=y?(S=l[0],b=l[1],N=l[2]):y>=g&&y>=d?(S=l[1],b=l[0],N=l[2]):(S=l[2],b=l[0],N=l[1]),this.crossProductZ(b,S,N)<0){const M=b;b=N,N=M}l[0]=b,l[1]=S,l[2]=N}static distance(l,d){return Qe.distance(l.x,l.y,d.x,d.y)}static crossProductZ(l,d,g){const y=d.x,b=d.y;return(g.x-y)*(l.y-b)-(g.y-b)*(l.x-y)}}class dn{constructor(l,d){this.bits=l,this.points=d}getBits(){return this.bits}getPoints(){return this.points}}class $r extends dn{constructor(l,d,g,y,b){super(l,d),this.compact=g,this.nbDatablocks=y,this.nbLayers=b}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class sr{constructor(l,d,g,y){this.image=l,this.height=l.getHeight(),this.width=l.getWidth(),d==null&&(d=sr.INIT_SIZE),g==null&&(g=l.getWidth()/2|0),y==null&&(y=l.getHeight()/2|0);const b=d/2|0;if(this.leftInit=g-b,this.rightInit=g+b,this.upInit=y-b,this.downInit=y+b,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ne}detect(){let l=this.leftInit,d=this.rightInit,g=this.upInit,y=this.downInit,b=!1,S=!0,N=!1,M=!1,k=!1,V=!1,W=!1;const Z=this.width,ie=this.height;for(;S;){S=!1;let ce=!0;for(;(ce||!M)&&d<Z;)ce=this.containsBlackPoint(g,y,d,!1),ce?(d++,S=!0,M=!0):M||d++;if(d>=Z){b=!0;break}let de=!0;for(;(de||!k)&&y<ie;)de=this.containsBlackPoint(l,d,y,!0),de?(y++,S=!0,k=!0):k||y++;if(y>=ie){b=!0;break}let Se=!0;for(;(Se||!V)&&l>=0;)Se=this.containsBlackPoint(g,y,l,!1),Se?(l--,S=!0,V=!0):V||l--;if(l<0){b=!0;break}let Ce=!0;for(;(Ce||!W)&&g>=0;)Ce=this.containsBlackPoint(l,d,g,!0),Ce?(g--,S=!0,W=!0):W||g--;if(g<0){b=!0;break}S&&(N=!0)}if(!b&&N){const ce=d-l;let de=null;for(let We=1;de===null&&We<ce;We++)de=this.getBlackPointOnSegment(l,y-We,l+We,y);if(de==null)throw new ne;let Se=null;for(let We=1;Se===null&&We<ce;We++)Se=this.getBlackPointOnSegment(l,g+We,l+We,g);if(Se==null)throw new ne;let Ce=null;for(let We=1;Ce===null&&We<ce;We++)Ce=this.getBlackPointOnSegment(d,g+We,d-We,g);if(Ce==null)throw new ne;let qe=null;for(let We=1;qe===null&&We<ce;We++)qe=this.getBlackPointOnSegment(d,y-We,d-We,y);if(qe==null)throw new ne;return this.centerEdges(qe,de,Ce,Se)}else throw new ne}getBlackPointOnSegment(l,d,g,y){const b=Qe.round(Qe.distance(l,d,g,y)),S=(g-l)/b,N=(y-d)/b,M=this.image;for(let k=0;k<b;k++){const V=Qe.round(l+k*S),W=Qe.round(d+k*N);if(M.get(V,W))return new et(V,W)}return null}centerEdges(l,d,g,y){const b=l.getX(),S=l.getY(),N=d.getX(),M=d.getY(),k=g.getX(),V=g.getY(),W=y.getX(),Z=y.getY(),ie=sr.CORR;return b<this.width/2?[new et(W-ie,Z+ie),new et(N+ie,M+ie),new et(k-ie,V-ie),new et(b+ie,S-ie)]:[new et(W+ie,Z+ie),new et(N+ie,M-ie),new et(k-ie,V+ie),new et(b-ie,S-ie)]}containsBlackPoint(l,d,g,y){const b=this.image;if(y){for(let S=l;S<=d;S++)if(b.get(S,g))return!0}else for(let S=l;S<=d;S++)if(b.get(g,S))return!0;return!1}}sr.INIT_SIZE=10,sr.CORR=1;class Ia{static checkAndNudgePoints(l,d){const g=l.getWidth(),y=l.getHeight();let b=!0;for(let S=0;S<d.length&&b;S+=2){const N=Math.floor(d[S]),M=Math.floor(d[S+1]);if(N<-1||N>g||M<-1||M>y)throw new ne;b=!1,N===-1?(d[S]=0,b=!0):N===g&&(d[S]=g-1,b=!0),M===-1?(d[S+1]=0,b=!0):M===y&&(d[S+1]=y-1,b=!0)}b=!0;for(let S=d.length-2;S>=0&&b;S-=2){const N=Math.floor(d[S]),M=Math.floor(d[S+1]);if(N<-1||N>g||M<-1||M>y)throw new ne;b=!1,N===-1?(d[S]=0,b=!0):N===g&&(d[S]=g-1,b=!0),M===-1?(d[S+1]=0,b=!0):M===y&&(d[S+1]=y-1,b=!0)}}}class xn{constructor(l,d,g,y,b,S,N,M,k){this.a11=l,this.a21=d,this.a31=g,this.a12=y,this.a22=b,this.a32=S,this.a13=N,this.a23=M,this.a33=k}static quadrilateralToQuadrilateral(l,d,g,y,b,S,N,M,k,V,W,Z,ie,ce,de,Se){const Ce=xn.quadrilateralToSquare(l,d,g,y,b,S,N,M);return xn.squareToQuadrilateral(k,V,W,Z,ie,ce,de,Se).times(Ce)}transformPoints(l){const d=l.length,g=this.a11,y=this.a12,b=this.a13,S=this.a21,N=this.a22,M=this.a23,k=this.a31,V=this.a32,W=this.a33;for(let Z=0;Z<d;Z+=2){const ie=l[Z],ce=l[Z+1],de=b*ie+M*ce+W;l[Z]=(g*ie+S*ce+k)/de,l[Z+1]=(y*ie+N*ce+V)/de}}transformPointsWithValues(l,d){const g=this.a11,y=this.a12,b=this.a13,S=this.a21,N=this.a22,M=this.a23,k=this.a31,V=this.a32,W=this.a33,Z=l.length;for(let ie=0;ie<Z;ie++){const ce=l[ie],de=d[ie],Se=b*ce+M*de+W;l[ie]=(g*ce+S*de+k)/Se,d[ie]=(y*ce+N*de+V)/Se}}static squareToQuadrilateral(l,d,g,y,b,S,N,M){const k=l-g+b-N,V=d-y+S-M;if(k===0&&V===0)return new xn(g-l,b-g,l,y-d,S-y,d,0,0,1);{const W=g-b,Z=N-b,ie=y-S,ce=M-S,de=W*ce-Z*ie,Se=(k*ce-Z*V)/de,Ce=(W*V-k*ie)/de;return new xn(g-l+Se*g,N-l+Ce*N,l,y-d+Se*y,M-d+Ce*M,d,Se,Ce,1)}}static quadrilateralToSquare(l,d,g,y,b,S,N,M){return xn.squareToQuadrilateral(l,d,g,y,b,S,N,M).buildAdjoint()}buildAdjoint(){return new xn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(l){return new xn(this.a11*l.a11+this.a21*l.a12+this.a31*l.a13,this.a11*l.a21+this.a21*l.a22+this.a31*l.a23,this.a11*l.a31+this.a21*l.a32+this.a31*l.a33,this.a12*l.a11+this.a22*l.a12+this.a32*l.a13,this.a12*l.a21+this.a22*l.a22+this.a32*l.a23,this.a12*l.a31+this.a22*l.a32+this.a32*l.a33,this.a13*l.a11+this.a23*l.a12+this.a33*l.a13,this.a13*l.a21+this.a23*l.a22+this.a33*l.a23,this.a13*l.a31+this.a23*l.a32+this.a33*l.a33)}}class zn extends Ia{sampleGrid(l,d,g,y,b,S,N,M,k,V,W,Z,ie,ce,de,Se,Ce,qe,We){const He=xn.quadrilateralToQuadrilateral(y,b,S,N,M,k,V,W,Z,ie,ce,de,Se,Ce,qe,We);return this.sampleGridWithTransform(l,d,g,He)}sampleGridWithTransform(l,d,g,y){if(d<=0||g<=0)throw new ne;const b=new ue(d,g),S=new Float32Array(2*d);for(let N=0;N<g;N++){const M=S.length,k=N+.5;for(let V=0;V<M;V+=2)S[V]=V/2+.5,S[V+1]=k;y.transformPoints(S),Ia.checkAndNudgePoints(l,S);try{for(let V=0;V<M;V+=2)l.get(Math.floor(S[V]),Math.floor(S[V+1]))&&b.set(V/2,N)}catch{throw new ne}}return b}}class or{static setGridSampler(l){or.gridSampler=l}static getInstance(){return or.gridSampler}}or.gridSampler=new zn;class Zt{constructor(l,d){this.x=l,this.y=d}toResultPoint(){return new et(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ji{constructor(l){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=l}detect(){return this.detectMirror(!1)}detectMirror(l){let d=this.getMatrixCenter(),g=this.getBullsEyeCorners(d);if(l){let S=g[0];g[0]=g[2],g[2]=S}this.extractParameters(g);let y=this.sampleGrid(this.image,g[this.shift%4],g[(this.shift+1)%4],g[(this.shift+2)%4],g[(this.shift+3)%4]),b=this.getMatrixCornerPoints(g);return new $r(y,b,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(l){if(!this.isValidPoint(l[0])||!this.isValidPoint(l[1])||!this.isValidPoint(l[2])||!this.isValidPoint(l[3]))throw new ne;let d=2*this.nbCenterLayers,g=new Int32Array([this.sampleLine(l[0],l[1],d),this.sampleLine(l[1],l[2],d),this.sampleLine(l[2],l[3],d),this.sampleLine(l[3],l[0],d)]);this.shift=this.getRotation(g,d);let y=0;for(let S=0;S<4;S++){let N=g[(this.shift+S)%4];this.compact?(y<<=7,y+=N>>1&127):(y<<=10,y+=(N>>2&992)+(N>>1&31))}let b=this.getCorrectedParameterData(y,this.compact);this.compact?(this.nbLayers=(b>>6)+1,this.nbDataBlocks=(b&63)+1):(this.nbLayers=(b>>11)+1,this.nbDataBlocks=(b&2047)+1)}getRotation(l,d){let g=0;l.forEach((y,b,S)=>{let N=(y>>d-2<<1)+(y&1);g=(g<<3)+N}),g=((g&1)<<11)+(g>>1);for(let y=0;y<4;y++)if(I.bitCount(g^this.EXPECTED_CORNER_BITS[y])<=2)return y;throw new ne}getCorrectedParameterData(l,d){let g,y;d?(g=7,y=2):(g=10,y=4);let b=g-y,S=new Int32Array(g);for(let M=g-1;M>=0;--M)S[M]=l&15,l>>=4;try{new Mt(Xe.AZTEC_PARAM).decode(S,b)}catch{throw new ne}let N=0;for(let M=0;M<y;M++)N=(N<<4)+S[M];return N}getBullsEyeCorners(l){let d=l,g=l,y=l,b=l,S=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let W=this.getFirstDifferent(d,S,1,-1),Z=this.getFirstDifferent(g,S,1,1),ie=this.getFirstDifferent(y,S,-1,1),ce=this.getFirstDifferent(b,S,-1,-1);if(this.nbCenterLayers>2){let de=this.distancePoint(ce,W)*this.nbCenterLayers/(this.distancePoint(b,d)*(this.nbCenterLayers+2));if(de<.75||de>1.25||!this.isWhiteOrBlackRectangle(W,Z,ie,ce))break}d=W,g=Z,y=ie,b=ce,S=!S}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ne;this.compact=this.nbCenterLayers===5;let N=new et(d.getX()+.5,d.getY()-.5),M=new et(g.getX()+.5,g.getY()+.5),k=new et(y.getX()-.5,y.getY()+.5),V=new et(b.getX()-.5,b.getY()-.5);return this.expandSquare([N,M,k,V],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let l,d,g,y;try{let N=new sr(this.image).detect();l=N[0],d=N[1],g=N[2],y=N[3]}catch{let M=this.image.getWidth()/2,k=this.image.getHeight()/2;l=this.getFirstDifferent(new Zt(M+7,k-7),!1,1,-1).toResultPoint(),d=this.getFirstDifferent(new Zt(M+7,k+7),!1,1,1).toResultPoint(),g=this.getFirstDifferent(new Zt(M-7,k+7),!1,-1,1).toResultPoint(),y=this.getFirstDifferent(new Zt(M-7,k-7),!1,-1,-1).toResultPoint()}let b=Qe.round((l.getX()+y.getX()+d.getX()+g.getX())/4),S=Qe.round((l.getY()+y.getY()+d.getY()+g.getY())/4);try{let N=new sr(this.image,15,b,S).detect();l=N[0],d=N[1],g=N[2],y=N[3]}catch{l=this.getFirstDifferent(new Zt(b+7,S-7),!1,1,-1).toResultPoint(),d=this.getFirstDifferent(new Zt(b+7,S+7),!1,1,1).toResultPoint(),g=this.getFirstDifferent(new Zt(b-7,S+7),!1,-1,1).toResultPoint(),y=this.getFirstDifferent(new Zt(b-7,S-7),!1,-1,-1).toResultPoint()}return b=Qe.round((l.getX()+y.getX()+d.getX()+g.getX())/4),S=Qe.round((l.getY()+y.getY()+d.getY()+g.getY())/4),new Zt(b,S)}getMatrixCornerPoints(l){return this.expandSquare(l,2*this.nbCenterLayers,this.getDimension())}sampleGrid(l,d,g,y,b){let S=or.getInstance(),N=this.getDimension(),M=N/2-this.nbCenterLayers,k=N/2+this.nbCenterLayers;return S.sampleGrid(l,N,N,M,M,k,M,k,k,M,k,d.getX(),d.getY(),g.getX(),g.getY(),y.getX(),y.getY(),b.getX(),b.getY())}sampleLine(l,d,g){let y=0,b=this.distanceResultPoint(l,d),S=b/g,N=l.getX(),M=l.getY(),k=S*(d.getX()-l.getX())/b,V=S*(d.getY()-l.getY())/b;for(let W=0;W<g;W++)this.image.get(Qe.round(N+W*k),Qe.round(M+W*V))&&(y|=1<<g-W-1);return y}isWhiteOrBlackRectangle(l,d,g,y){let b=3;l=new Zt(l.getX()-b,l.getY()+b),d=new Zt(d.getX()-b,d.getY()-b),g=new Zt(g.getX()+b,g.getY()-b),y=new Zt(y.getX()+b,y.getY()+b);let S=this.getColor(y,l);if(S===0)return!1;let N=this.getColor(l,d);return N!==S||(N=this.getColor(d,g),N!==S)?!1:(N=this.getColor(g,y),N===S)}getColor(l,d){let g=this.distancePoint(l,d),y=(d.getX()-l.getX())/g,b=(d.getY()-l.getY())/g,S=0,N=l.getX(),M=l.getY(),k=this.image.get(l.getX(),l.getY()),V=Math.ceil(g);for(let Z=0;Z<V;Z++)N+=y,M+=b,this.image.get(Qe.round(N),Qe.round(M))!==k&&S++;let W=S/g;return W>.1&&W<.9?0:W<=.1===k?1:-1}getFirstDifferent(l,d,g,y){let b=l.getX()+g,S=l.getY()+y;for(;this.isValid(b,S)&&this.image.get(b,S)===d;)b+=g,S+=y;for(b-=g,S-=y;this.isValid(b,S)&&this.image.get(b,S)===d;)b+=g;for(b-=g;this.isValid(b,S)&&this.image.get(b,S)===d;)S+=y;return S-=y,new Zt(b,S)}expandSquare(l,d,g){let y=g/(2*d),b=l[0].getX()-l[2].getX(),S=l[0].getY()-l[2].getY(),N=(l[0].getX()+l[2].getX())/2,M=(l[0].getY()+l[2].getY())/2,k=new et(N+y*b,M+y*S),V=new et(N-y*b,M-y*S);b=l[1].getX()-l[3].getX(),S=l[1].getY()-l[3].getY(),N=(l[1].getX()+l[3].getX())/2,M=(l[1].getY()+l[3].getY())/2;let W=new et(N+y*b,M+y*S),Z=new et(N-y*b,M-y*S);return[k,W,V,Z]}isValid(l,d){return l>=0&&l<this.image.getWidth()&&d>0&&d<this.image.getHeight()}isValidPoint(l){let d=Qe.round(l.getX()),g=Qe.round(l.getY());return this.isValid(d,g)}distancePoint(l,d){return Qe.distance(l.getX(),l.getY(),d.getX(),d.getY())}distanceResultPoint(l,d){return Qe.distance(l.getX(),l.getY(),d.getX(),d.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(I.truncDivision(this.nbLayers-4,8)+1)+15}}class Es{decode(l,d=null){let g=null,y=new ji(l.getBlackMatrix()),b=null,S=null;try{let V=y.detectMirror(!1);b=V.getPoints(),this.reportFoundResultPoints(d,b),S=new Nt().decode(V)}catch(V){g=V}if(S==null)try{let V=y.detectMirror(!0);b=V.getPoints(),this.reportFoundResultPoints(d,b),S=new Nt().decode(V)}catch(V){throw g??V}let N=new Re(S.getText(),S.getRawBytes(),S.getNumBits(),b,oe.AZTEC,T.currentTimeMillis()),M=S.getByteSegments();M!=null&&N.putMetadata(Ie.BYTE_SEGMENTS,M);let k=S.getECLevel();return k!=null&&N.putMetadata(Ie.ERROR_CORRECTION_LEVEL,k),N}reportFoundResultPoints(l,d){if(l!=null){let g=l.get(L.NEED_RESULT_POINT_CALLBACK);g!=null&&d.forEach((y,b,S)=>{g.foundPossibleResultPoint(y)})}}reset(){}}class Qi extends me{constructor(l=500){super(new Es,l)}}class nn{decode(l,d){try{return this.doDecode(l,d)}catch{if(d&&d.get(L.TRY_HARDER)===!0&&l.isRotateSupported()){const b=l.rotateCounterClockwise(),S=this.doDecode(b,d),N=S.getResultMetadata();let M=270;N!==null&&N.get(Ie.ORIENTATION)===!0&&(M=M+N.get(Ie.ORIENTATION)%360),S.putMetadata(Ie.ORIENTATION,M);const k=S.getResultPoints();if(k!==null){const V=b.getHeight();for(let W=0;W<k.length;W++)k[W]=new et(V-k[W].getY()-1,k[W].getX())}return S}else throw new ne}}reset(){}doDecode(l,d){const g=l.getWidth(),y=l.getHeight();let b=new U(g);const S=d&&d.get(L.TRY_HARDER)===!0,N=Math.max(1,y>>(S?8:5));let M;S?M=y:M=15;const k=Math.trunc(y/2);for(let V=0;V<M;V++){const W=Math.trunc((V+1)/2),Z=(V&1)===0,ie=k+N*(Z?W:-W);if(ie<0||ie>=y)break;try{b=l.getBlackRow(ie,b)}catch{continue}for(let ce=0;ce<2;ce++){if(ce===1&&(b.reverse(),d&&d.get(L.NEED_RESULT_POINT_CALLBACK)===!0)){const de=new Map;d.forEach((Se,Ce)=>de.set(Ce,Se)),de.delete(L.NEED_RESULT_POINT_CALLBACK),d=de}try{const de=this.decodeRow(ie,b,d);if(ce===1){de.putMetadata(Ie.ORIENTATION,180);const Se=de.getResultPoints();Se!==null&&(Se[0]=new et(g-Se[0].getX()-1,Se[0].getY()),Se[1]=new et(g-Se[1].getX()-1,Se[1].getY()))}return de}catch{}}}throw new ne}static recordPattern(l,d,g){const y=g.length;for(let k=0;k<y;k++)g[k]=0;const b=l.getSize();if(d>=b)throw new ne;let S=!l.get(d),N=0,M=d;for(;M<b;){if(l.get(M)!==S)g[N]++;else{if(++N===y)break;g[N]=1,S=!S}M++}if(!(N===y||N===y-1&&M===b))throw new ne}static recordPatternInReverse(l,d,g){let y=g.length,b=l.get(d);for(;d>0&&y>=0;)l.get(--d)!==b&&(y--,b=!b);if(y>=0)throw new ne;nn.recordPattern(l,d+1,g)}static patternMatchVariance(l,d,g){const y=l.length;let b=0,S=0;for(let k=0;k<y;k++)b+=l[k],S+=d[k];if(b<S)return Number.POSITIVE_INFINITY;const N=b/S;g*=N;let M=0;for(let k=0;k<y;k++){const V=l[k],W=d[k]*N,Z=V>W?V-W:W-V;if(Z>g)return Number.POSITIVE_INFINITY;M+=Z}return M/b}}class Ge extends nn{static findStartPattern(l){const d=l.getSize(),g=l.getNextSet(0);let y=0,b=Int32Array.from([0,0,0,0,0,0]),S=g,N=!1;const M=6;for(let k=g;k<d;k++)if(l.get(k)!==N)b[y]++;else{if(y===M-1){let V=Ge.MAX_AVG_VARIANCE,W=-1;for(let Z=Ge.CODE_START_A;Z<=Ge.CODE_START_C;Z++){const ie=nn.patternMatchVariance(b,Ge.CODE_PATTERNS[Z],Ge.MAX_INDIVIDUAL_VARIANCE);ie<V&&(V=ie,W=Z)}if(W>=0&&l.isRange(Math.max(0,S-(k-S)/2),S,!1))return Int32Array.from([S,k,W]);S+=b[0]+b[1],b=b.slice(2,b.length-1),b[y-1]=0,b[y]=0,y--}else y++;b[y]=1,N=!N}throw new ne}static decodeCode(l,d,g){nn.recordPattern(l,g,d);let y=Ge.MAX_AVG_VARIANCE,b=-1;for(let S=0;S<Ge.CODE_PATTERNS.length;S++){const N=Ge.CODE_PATTERNS[S],M=this.patternMatchVariance(d,N,Ge.MAX_INDIVIDUAL_VARIANCE);M<y&&(y=M,b=S)}if(b>=0)return b;throw new ne}decodeRow(l,d,g){const y=g&&g.get(L.ASSUME_GS1)===!0,b=Ge.findStartPattern(d),S=b[2];let N=0;const M=new Uint8Array(20);M[N++]=S;let k;switch(S){case Ge.CODE_START_A:k=Ge.CODE_CODE_A;break;case Ge.CODE_START_B:k=Ge.CODE_CODE_B;break;case Ge.CODE_START_C:k=Ge.CODE_CODE_C;break;default:throw new B}let V=!1,W=!1,Z="",ie=b[0],ce=b[1];const de=Int32Array.from([0,0,0,0,0,0]);let Se=0,Ce=0,qe=S,We=0,He=!0,It=!1,Dt=!1;for(;!V;){const mo=W;switch(W=!1,Se=Ce,Ce=Ge.decodeCode(d,de,ce),M[N++]=Ce,Ce!==Ge.CODE_STOP&&(He=!0),Ce!==Ge.CODE_STOP&&(We++,qe+=We*Ce),ie=ce,ce+=de.reduce((Ni,Eg)=>Ni+Eg,0),Ce){case Ge.CODE_START_A:case Ge.CODE_START_B:case Ge.CODE_START_C:throw new B}switch(k){case Ge.CODE_CODE_A:if(Ce<64)Dt===It?Z+=String.fromCharCode(32+Ce):Z+=String.fromCharCode(32+Ce+128),Dt=!1;else if(Ce<96)Dt===It?Z+=String.fromCharCode(Ce-64):Z+=String.fromCharCode(Ce+64),Dt=!1;else switch(Ce!==Ge.CODE_STOP&&(He=!1),Ce){case Ge.CODE_FNC_1:y&&(Z.length===0?Z+="]C1":Z+="");break;case Ge.CODE_FNC_2:case Ge.CODE_FNC_3:break;case Ge.CODE_FNC_4_A:!It&&Dt?(It=!0,Dt=!1):It&&Dt?(It=!1,Dt=!1):Dt=!0;break;case Ge.CODE_SHIFT:W=!0,k=Ge.CODE_CODE_B;break;case Ge.CODE_CODE_B:k=Ge.CODE_CODE_B;break;case Ge.CODE_CODE_C:k=Ge.CODE_CODE_C;break;case Ge.CODE_STOP:V=!0;break}break;case Ge.CODE_CODE_B:if(Ce<96)Dt===It?Z+=String.fromCharCode(32+Ce):Z+=String.fromCharCode(32+Ce+128),Dt=!1;else switch(Ce!==Ge.CODE_STOP&&(He=!1),Ce){case Ge.CODE_FNC_1:y&&(Z.length===0?Z+="]C1":Z+="");break;case Ge.CODE_FNC_2:case Ge.CODE_FNC_3:break;case Ge.CODE_FNC_4_B:!It&&Dt?(It=!0,Dt=!1):It&&Dt?(It=!1,Dt=!1):Dt=!0;break;case Ge.CODE_SHIFT:W=!0,k=Ge.CODE_CODE_A;break;case Ge.CODE_CODE_A:k=Ge.CODE_CODE_A;break;case Ge.CODE_CODE_C:k=Ge.CODE_CODE_C;break;case Ge.CODE_STOP:V=!0;break}break;case Ge.CODE_CODE_C:if(Ce<100)Ce<10&&(Z+="0"),Z+=Ce;else switch(Ce!==Ge.CODE_STOP&&(He=!1),Ce){case Ge.CODE_FNC_1:y&&(Z.length===0?Z+="]C1":Z+="");break;case Ge.CODE_CODE_A:k=Ge.CODE_CODE_A;break;case Ge.CODE_CODE_B:k=Ge.CODE_CODE_B;break;case Ge.CODE_STOP:V=!0;break}break}mo&&(k=k===Ge.CODE_CODE_A?Ge.CODE_CODE_B:Ge.CODE_CODE_A)}const Aa=ce-ie;if(ce=d.getNextUnset(ce),!d.isRange(ce,Math.min(d.getSize(),ce+(ce-ie)/2),!1))throw new ne;if(qe-=We*Se,qe%103!==Se)throw new E;const di=Z.length;if(di===0)throw new ne;di>0&&He&&(k===Ge.CODE_CODE_C?Z=Z.substring(0,di-2):Z=Z.substring(0,di-1));const Fa=(b[1]+b[0])/2,Nn=ie+Aa/2,ra=M.length,Ua=new Uint8Array(ra);for(let mo=0;mo<ra;mo++)Ua[mo]=M[mo];const Wo=[new et(Fa,l),new et(Nn,l)];return new Re(Z,Ua,0,Wo,oe.CODE_128,new Date().getTime())}}Ge.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ge.MAX_AVG_VARIANCE=.25,Ge.MAX_INDIVIDUAL_VARIANCE=.7,Ge.CODE_SHIFT=98,Ge.CODE_CODE_C=99,Ge.CODE_CODE_B=100,Ge.CODE_CODE_A=101,Ge.CODE_FNC_1=102,Ge.CODE_FNC_2=97,Ge.CODE_FNC_3=96,Ge.CODE_FNC_4_A=101,Ge.CODE_FNC_4_B=100,Ge.CODE_START_A=103,Ge.CODE_START_B=104,Ge.CODE_START_C=105,Ge.CODE_STOP=106;class fn extends nn{constructor(l=!1,d=!1){super(),this.usingCheckDigit=l,this.extendedMode=d,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(l,d,g){let y=this.counters;y.fill(0),this.decodeRowResult="";let b=fn.findAsteriskPattern(d,y),S=d.getNextSet(b[1]),N=d.getSize(),M,k;do{fn.recordPattern(d,S,y);let de=fn.toNarrowWidePattern(y);if(de<0)throw new ne;M=fn.patternToChar(de),this.decodeRowResult+=M,k=S;for(let Se of y)S+=Se;S=d.getNextSet(S)}while(M!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let V=0;for(let de of y)V+=de;let W=S-k-V;if(S!==N&&W*2<V)throw new ne;if(this.usingCheckDigit){let de=this.decodeRowResult.length-1,Se=0;for(let Ce=0;Ce<de;Ce++)Se+=fn.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Ce));if(this.decodeRowResult.charAt(de)!==fn.ALPHABET_STRING.charAt(Se%43))throw new E;this.decodeRowResult=this.decodeRowResult.substring(0,de)}if(this.decodeRowResult.length===0)throw new ne;let Z;this.extendedMode?Z=fn.decodeExtended(this.decodeRowResult):Z=this.decodeRowResult;let ie=(b[1]+b[0])/2,ce=k+V/2;return new Re(Z,null,0,[new et(ie,l),new et(ce,l)],oe.CODE_39,new Date().getTime())}static findAsteriskPattern(l,d){let g=l.getSize(),y=l.getNextSet(0),b=0,S=y,N=!1,M=d.length;for(let k=y;k<g;k++)if(l.get(k)!==N)d[b]++;else{if(b===M-1){if(this.toNarrowWidePattern(d)===fn.ASTERISK_ENCODING&&l.isRange(Math.max(0,S-Math.floor((k-S)/2)),S,!1))return[S,k];S+=d[0]+d[1],d.copyWithin(0,2,2+b-1),d[b-1]=0,d[b]=0,b--}else b++;d[b]=1,N=!N}throw new ne}static toNarrowWidePattern(l){let d=l.length,g=0,y;do{let b=2147483647;for(let M of l)M<b&&M>g&&(b=M);g=b,y=0;let S=0,N=0;for(let M=0;M<d;M++){let k=l[M];k>g&&(N|=1<<d-1-M,y++,S+=k)}if(y===3){for(let M=0;M<d&&y>0;M++){let k=l[M];if(k>g&&(y--,k*2>=S))return-1}return N}}while(y>3);return-1}static patternToChar(l){for(let d=0;d<fn.CHARACTER_ENCODINGS.length;d++)if(fn.CHARACTER_ENCODINGS[d]===l)return fn.ALPHABET_STRING.charAt(d);if(l===fn.ASTERISK_ENCODING)return"*";throw new ne}static decodeExtended(l){let d=l.length,g="";for(let y=0;y<d;y++){let b=l.charAt(y);if(b==="+"||b==="$"||b==="%"||b==="/"){let S=l.charAt(y+1),N="\0";switch(b){case"+":if(S>="A"&&S<="Z")N=String.fromCharCode(S.charCodeAt(0)+32);else throw new B;break;case"$":if(S>="A"&&S<="Z")N=String.fromCharCode(S.charCodeAt(0)-64);else throw new B;break;case"%":if(S>="A"&&S<="E")N=String.fromCharCode(S.charCodeAt(0)-38);else if(S>="F"&&S<="J")N=String.fromCharCode(S.charCodeAt(0)-11);else if(S>="K"&&S<="O")N=String.fromCharCode(S.charCodeAt(0)+16);else if(S>="P"&&S<="T")N=String.fromCharCode(S.charCodeAt(0)+43);else if(S==="U")N="\0";else if(S==="V")N="@";else if(S==="W")N="`";else if(S==="X"||S==="Y"||S==="Z")N="";else throw new B;break;case"/":if(S>="A"&&S<="O")N=String.fromCharCode(S.charCodeAt(0)-32);else if(S==="Z")N=":";else throw new B;break}g+=N,y++}else g+=b}return g}}fn.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",fn.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],fn.ASTERISK_ENCODING=148;class rn extends nn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(l,d,g){let y=this.decodeStart(d),b=this.decodeEnd(d),S=new ee;rn.decodeMiddle(d,y[1],b[0],S);let N=S.toString(),M=null;g!=null&&(M=g.get(L.ALLOWED_LENGTHS)),M==null&&(M=rn.DEFAULT_ALLOWED_LENGTHS);let k=N.length,V=!1,W=0;for(let ce of M){if(k===ce){V=!0;break}ce>W&&(W=ce)}if(!V&&k>W&&(V=!0),!V)throw new B;const Z=[new et(y[1],l),new et(b[0],l)];return new Re(N,null,0,Z,oe.ITF,new Date().getTime())}static decodeMiddle(l,d,g,y){let b=new Int32Array(10),S=new Int32Array(5),N=new Int32Array(5);for(b.fill(0),S.fill(0),N.fill(0);d<g;){nn.recordPattern(l,d,b);for(let k=0;k<5;k++){let V=2*k;S[k]=b[V],N[k]=b[V+1]}let M=rn.decodeDigit(S);y.append(M.toString()),M=this.decodeDigit(N),y.append(M.toString()),b.forEach(function(k){d+=k})}}decodeStart(l){let d=rn.skipWhiteSpace(l),g=rn.findGuardPattern(l,d,rn.START_PATTERN);return this.narrowLineWidth=(g[1]-g[0])/4,this.validateQuietZone(l,g[0]),g}validateQuietZone(l,d){let g=this.narrowLineWidth*10;g=g<d?g:d;for(let y=d-1;g>0&&y>=0&&!l.get(y);y--)g--;if(g!==0)throw new ne}static skipWhiteSpace(l){const d=l.getSize(),g=l.getNextSet(0);if(g===d)throw new ne;return g}decodeEnd(l){l.reverse();try{let d=rn.skipWhiteSpace(l),g;try{g=rn.findGuardPattern(l,d,rn.END_PATTERN_REVERSED[0])}catch(b){b instanceof ne&&(g=rn.findGuardPattern(l,d,rn.END_PATTERN_REVERSED[1]))}this.validateQuietZone(l,g[0]);let y=g[0];return g[0]=l.getSize()-g[1],g[1]=l.getSize()-y,g}finally{l.reverse()}}static findGuardPattern(l,d,g){let y=g.length,b=new Int32Array(y),S=l.getSize(),N=!1,M=0,k=d;b.fill(0);for(let V=d;V<S;V++)if(l.get(V)!==N)b[M]++;else{if(M===y-1){if(nn.patternMatchVariance(b,g,rn.MAX_INDIVIDUAL_VARIANCE)<rn.MAX_AVG_VARIANCE)return[k,V];k+=b[0]+b[1],T.arraycopy(b,2,b,0,M-1),b[M-1]=0,b[M]=0,M--}else M++;b[M]=1,N=!N}throw new ne}static decodeDigit(l){let d=rn.MAX_AVG_VARIANCE,g=-1,y=rn.PATTERNS.length;for(let b=0;b<y;b++){let S=rn.PATTERNS[b],N=nn.patternMatchVariance(l,S,rn.MAX_INDIVIDUAL_VARIANCE);N<d?(d=N,g=b):N===d&&(g=-1)}if(g>=0)return g%10;throw new ne}}rn.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],rn.MAX_AVG_VARIANCE=.38,rn.MAX_INDIVIDUAL_VARIANCE=.5,rn.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],rn.START_PATTERN=Int32Array.from([1,1,1,1]),rn.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class bn extends nn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(l){let d=!1,g,y=0,b=Int32Array.from([0,0,0]);for(;!d;){b=Int32Array.from([0,0,0]),g=bn.findGuardPattern(l,y,!1,this.START_END_PATTERN,b);let S=g[0];y=g[1];let N=S-(y-S);N>=0&&(d=l.isRange(N,S,!1))}return g}static checkChecksum(l){return bn.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let d=l.length;if(d===0)return!1;let g=parseInt(l.charAt(d-1),10);return bn.getStandardUPCEANChecksum(l.substring(0,d-1))===g}static getStandardUPCEANChecksum(l){let d=l.length,g=0;for(let y=d-1;y>=0;y-=2){let b=l.charAt(y).charCodeAt(0)-48;if(b<0||b>9)throw new B;g+=b}g*=3;for(let y=d-2;y>=0;y-=2){let b=l.charAt(y).charCodeAt(0)-48;if(b<0||b>9)throw new B;g+=b}return(1e3-g)%10}static decodeEnd(l,d){return bn.findGuardPattern(l,d,!1,bn.START_END_PATTERN,new Int32Array(bn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(l,d,g,y){return this.findGuardPattern(l,d,g,y,new Int32Array(y.length))}static findGuardPattern(l,d,g,y,b){let S=l.getSize();d=g?l.getNextUnset(d):l.getNextSet(d);let N=0,M=d,k=y.length,V=g;for(let W=d;W<S;W++)if(l.get(W)!==V)b[N]++;else{if(N===k-1){if(nn.patternMatchVariance(b,y,bn.MAX_INDIVIDUAL_VARIANCE)<bn.MAX_AVG_VARIANCE)return Int32Array.from([M,W]);M+=b[0]+b[1];let Z=b.slice(2,b.length-1);for(let ie=0;ie<N-1;ie++)b[ie]=Z[ie];b[N-1]=0,b[N]=0,N--}else N++;b[N]=1,V=!V}throw new ne}static decodeDigit(l,d,g,y){this.recordPattern(l,g,d);let b=this.MAX_AVG_VARIANCE,S=-1,N=y.length;for(let M=0;M<N;M++){let k=y[M],V=nn.patternMatchVariance(d,k,bn.MAX_INDIVIDUAL_VARIANCE);V<b&&(b=V,S=M)}if(S>=0)return S;throw new ne}}bn.MAX_AVG_VARIANCE=.48,bn.MAX_INDIVIDUAL_VARIANCE=.7,bn.START_END_PATTERN=Int32Array.from([1,1,1]),bn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),bn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),bn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ns{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,d,g){let y=this.decodeRowStringBuffer,b=this.decodeMiddle(d,g,y),S=y.toString(),N=Ns.parseExtensionString(S),M=[new et((g[0]+g[1])/2,l),new et(b,l)],k=new Re(S,null,0,M,oe.UPC_EAN_EXTENSION,new Date().getTime());return N!=null&&k.putAllMetadata(N),k}decodeMiddle(l,d,g){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let b=l.getSize(),S=d[1],N=0;for(let k=0;k<5&&S<b;k++){let V=bn.decodeDigit(l,y,S,bn.L_AND_G_PATTERNS);g+=String.fromCharCode(48+V%10);for(let W of y)S+=W;V>=10&&(N|=1<<4-k),k!==4&&(S=l.getNextSet(S),S=l.getNextUnset(S))}if(g.length!==5)throw new ne;let M=this.determineCheckDigit(N);if(Ns.extensionChecksum(g.toString())!==M)throw new ne;return S}static extensionChecksum(l){let d=l.length,g=0;for(let y=d-2;y>=0;y-=2)g+=l.charAt(y).charCodeAt(0)-48;g*=3;for(let y=d-1;y>=0;y-=2)g+=l.charAt(y).charCodeAt(0)-48;return g*=3,g%10}determineCheckDigit(l){for(let d=0;d<10;d++)if(l===this.CHECK_DIGIT_ENCODINGS[d])return d;throw new ne}static parseExtensionString(l){if(l.length!==5)return null;let d=Ns.parseExtension5String(l);return d==null?null:new Map([[Ie.SUGGESTED_PRICE,d]])}static parseExtension5String(l){let d;switch(l.charAt(0)){case"0":d="£";break;case"5":d="$";break;case"9":switch(l){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}d="";break;default:d="";break}let g=parseInt(l.substring(1)),y=(g/100).toString(),b=g%100,S=b<10?"0"+b:b.toString();return d+y+"."+S}}class Qa{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,d,g){let y=this.decodeRowStringBuffer,b=this.decodeMiddle(d,g,y),S=y.toString(),N=Qa.parseExtensionString(S),M=[new et((g[0]+g[1])/2,l),new et(b,l)],k=new Re(S,null,0,M,oe.UPC_EAN_EXTENSION,new Date().getTime());return N!=null&&k.putAllMetadata(N),k}decodeMiddle(l,d,g){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let b=l.getSize(),S=d[1],N=0;for(let M=0;M<2&&S<b;M++){let k=bn.decodeDigit(l,y,S,bn.L_AND_G_PATTERNS);g+=String.fromCharCode(48+k%10);for(let V of y)S+=V;k>=10&&(N|=1<<1-M),M!==1&&(S=l.getNextSet(S),S=l.getNextUnset(S))}if(g.length!==2)throw new ne;if(parseInt(g.toString())%4!==N)throw new ne;return S}static parseExtensionString(l){return l.length!==2?null:new Map([[Ie.ISSUE_NUMBER,parseInt(l)]])}}class cu{static decodeRow(l,d,g){let y=bn.findGuardPattern(d,g,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ns().decodeRow(l,d,y)}catch{return new Qa().decodeRow(l,d,y)}}}cu.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Wt extends bn{constructor(){super(),this.decodeRowStringBuffer="",Wt.L_AND_G_PATTERNS=Wt.L_PATTERNS.map(l=>Int32Array.from(l));for(let l=10;l<20;l++){let d=Wt.L_PATTERNS[l-10],g=new Int32Array(d.length);for(let y=0;y<d.length;y++)g[y]=d[d.length-y-1];Wt.L_AND_G_PATTERNS[l]=g}}decodeRow(l,d,g){let y=Wt.findStartGuardPattern(d),b=g==null?null:g.get(L.NEED_RESULT_POINT_CALLBACK);if(b!=null){const He=new et((y[0]+y[1])/2,l);b.foundPossibleResultPoint(He)}let S=this.decodeMiddle(d,y,this.decodeRowStringBuffer),N=S.rowOffset,M=S.resultString;if(b!=null){const He=new et(N,l);b.foundPossibleResultPoint(He)}let k=this.decodeEnd(d,N);if(b!=null){const He=new et((k[0]+k[1])/2,l);b.foundPossibleResultPoint(He)}let V=k[1],W=V+(V-k[0]);if(W>=d.getSize()||!d.isRange(V,W,!1))throw new ne;let Z=M.toString();if(Z.length<8)throw new B;if(!Wt.checkChecksum(Z))throw new E;let ie=(y[1]+y[0])/2,ce=(k[1]+k[0])/2,de=this.getBarcodeFormat(),Se=[new et(ie,l),new et(ce,l)],Ce=new Re(Z,null,0,Se,de,new Date().getTime()),qe=0;try{let He=cu.decodeRow(l,d,k[1]);Ce.putMetadata(Ie.UPC_EAN_EXTENSION,He.getText()),Ce.putAllMetadata(He.getResultMetadata()),Ce.addResultPoints(He.getResultPoints()),qe=He.getText().length}catch{}let We=g==null?null:g.get(L.ALLOWED_EAN_EXTENSIONS);if(We!=null){let He=!1;for(let It in We)if(qe.toString()===It){He=!0;break}if(!He)throw new ne}return Ce}decodeEnd(l,d){return Wt.findGuardPattern(l,d,!1,Wt.START_END_PATTERN,new Int32Array(Wt.START_END_PATTERN.length).fill(0))}static checkChecksum(l){return Wt.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let d=l.length;if(d===0)return!1;let g=parseInt(l.charAt(d-1),10);return Wt.getStandardUPCEANChecksum(l.substring(0,d-1))===g}static getStandardUPCEANChecksum(l){let d=l.length,g=0;for(let y=d-1;y>=0;y-=2){let b=l.charAt(y).charCodeAt(0)-48;if(b<0||b>9)throw new B;g+=b}g*=3;for(let y=d-2;y>=0;y-=2){let b=l.charAt(y).charCodeAt(0)-48;if(b<0||b>9)throw new B;g+=b}return(1e3-g)%10}}class Pa extends Wt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,d,g){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let b=l.getSize(),S=d[1],N=0;for(let k=0;k<6&&S<b;k++){let V=Wt.decodeDigit(l,y,S,Wt.L_AND_G_PATTERNS);g+=String.fromCharCode(48+V%10);for(let W of y)S+=W;V>=10&&(N|=1<<5-k)}g=Pa.determineFirstDigit(g,N),S=Wt.findGuardPattern(l,S,!0,Wt.MIDDLE_PATTERN,new Int32Array(Wt.MIDDLE_PATTERN.length).fill(0))[1];for(let k=0;k<6&&S<b;k++){let V=Wt.decodeDigit(l,y,S,Wt.L_PATTERNS);g+=String.fromCharCode(48+V);for(let W of y)S+=W}return{rowOffset:S,resultString:g}}getBarcodeFormat(){return oe.EAN_13}static determineFirstDigit(l,d){for(let g=0;g<10;g++)if(d===this.FIRST_DIGIT_ENCODINGS[g])return l=String.fromCharCode(48+g)+l,l;throw new ne}}Pa.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class uu extends Wt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,d,g){const y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let b=l.getSize(),S=d[1];for(let M=0;M<4&&S<b;M++){let k=Wt.decodeDigit(l,y,S,Wt.L_PATTERNS);g+=String.fromCharCode(48+k);for(let V of y)S+=V}S=Wt.findGuardPattern(l,S,!0,Wt.MIDDLE_PATTERN,new Int32Array(Wt.MIDDLE_PATTERN.length).fill(0))[1];for(let M=0;M<4&&S<b;M++){let k=Wt.decodeDigit(l,y,S,Wt.L_PATTERNS);g+=String.fromCharCode(48+k);for(let V of y)S+=V}return{rowOffset:S,resultString:g}}getBarcodeFormat(){return oe.EAN_8}}class Tt extends Wt{constructor(){super(...arguments),this.ean13Reader=new Pa}getBarcodeFormat(){return oe.UPC_A}decode(l,d){return this.maybeReturnResult(this.ean13Reader.decode(l))}decodeRow(l,d,g){return this.maybeReturnResult(this.ean13Reader.decodeRow(l,d,g))}decodeMiddle(l,d,g){return this.ean13Reader.decodeMiddle(l,d,g)}maybeReturnResult(l){let d=l.getText();if(d.charAt(0)==="0"){let g=new Re(d.substring(1),null,null,l.getResultPoints(),oe.UPC_A);return l.getResultMetadata()!=null&&g.putAllMetadata(l.getResultMetadata()),g}else throw new ne}reset(){this.ean13Reader.reset()}}class un extends Wt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(l,d,g){const y=this.decodeMiddleCounters.map(k=>k);y[0]=0,y[1]=0,y[2]=0,y[3]=0;const b=l.getSize();let S=d[1],N=0;for(let k=0;k<6&&S<b;k++){const V=un.decodeDigit(l,y,S,un.L_AND_G_PATTERNS);g+=String.fromCharCode(48+V%10);for(let W of y)S+=W;V>=10&&(N|=1<<5-k)}let M=un.determineNumSysAndCheckDigit(g,N);return{rowOffset:S,resultString:M}}decodeEnd(l,d){return un.findGuardPatternWithoutCounters(l,d,!0,un.MIDDLE_END_PATTERN)}checkChecksum(l){return Wt.checkChecksum(un.convertUPCEtoUPCA(l))}static determineNumSysAndCheckDigit(l,d){for(let g=0;g<=1;g++)for(let y=0;y<10;y++)if(d===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[g][y]){let b=String.fromCharCode(48+g),S=String.fromCharCode(48+y);return b+l+S}throw ne.getNotFoundInstance()}getBarcodeFormat(){return oe.UPC_E}static convertUPCEtoUPCA(l){const d=l.slice(1,7).split("").map(b=>b.charCodeAt(0)),g=new ee;g.append(l.charAt(0));let y=d[5];switch(y){case 0:case 1:case 2:g.appendChars(d,0,2),g.append(y),g.append("0000"),g.appendChars(d,2,3);break;case 3:g.appendChars(d,0,3),g.append("00000"),g.appendChars(d,3,2);break;case 4:g.appendChars(d,0,4),g.append("00000"),g.append(d[4]);break;default:g.appendChars(d,0,5),g.append("0000"),g.append(y);break}return l.length>=8&&g.append(l.charAt(7)),g.toString()}}un.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),un.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Xn extends nn{constructor(l){super();let d=l==null?null:l.get(L.POSSIBLE_FORMATS),g=[];r(d)?(g.push(new Pa),g.push(new Tt),g.push(new uu),g.push(new un)):(d.indexOf(oe.EAN_13)>-1&&g.push(new Pa),d.indexOf(oe.UPC_A)>-1&&g.push(new Tt),d.indexOf(oe.EAN_8)>-1&&g.push(new uu),d.indexOf(oe.UPC_E)>-1&&g.push(new un)),this.readers=g}decodeRow(l,d,g){for(let y of this.readers)try{const b=y.decodeRow(l,d,g),S=b.getBarcodeFormat()===oe.EAN_13&&b.getText().charAt(0)==="0",N=g==null?null:g.get(L.POSSIBLE_FORMATS),M=N==null||N.includes(oe.UPC_A);if(S&&M){const k=b.getRawBytes(),V=new Re(b.getText().substring(1),k,k?k.length:null,b.getResultPoints(),oe.UPC_A);return V.putAllMetadata(b.getResultMetadata()),V}return b}catch{}throw new ne}reset(){for(let l of this.readers)l.reset()}}class sn extends nn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(l,d){for(let g=0;g<d.length;g++)if(nn.patternMatchVariance(l,d[g],sn.MAX_INDIVIDUAL_VARIANCE)<sn.MAX_AVG_VARIANCE)return g;throw new ne}static count(l){return Qe.sum(new Int32Array(l))}static increment(l,d){let g=0,y=d[0];for(let b=1;b<l.length;b++)d[b]>y&&(y=d[b],g=b);l[g]++}static decrement(l,d){let g=0,y=d[0];for(let b=1;b<l.length;b++)d[b]<y&&(y=d[b],g=b);l[g]--}static isFinderPattern(l){let d=l[0]+l[1],g=d+l[2]+l[3],y=d/g;if(y>=sn.MIN_FINDER_PATTERN_RATIO&&y<=sn.MAX_FINDER_PATTERN_RATIO){let b=Number.MAX_SAFE_INTEGER,S=Number.MIN_SAFE_INTEGER;for(let N of l)N>S&&(S=N),N<b&&(b=N);return S<10*b}return!1}}sn.MAX_AVG_VARIANCE=.2,sn.MAX_INDIVIDUAL_VARIANCE=.45,sn.MIN_FINDER_PATTERN_RATIO=9.5/12,sn.MAX_FINDER_PATTERN_RATIO=12.5/14;class ci{constructor(l,d){this.value=l,this.checksumPortion=d}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(l){if(!(l instanceof ci))return!1;const d=l;return this.value===d.value&&this.checksumPortion===d.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Qn{constructor(l,d,g,y,b){this.value=l,this.startEnd=d,this.value=l,this.startEnd=d,this.resultPoints=new Array,this.resultPoints.push(new et(g,b)),this.resultPoints.push(new et(y,b))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(l){if(!(l instanceof Qn))return!1;const d=l;return this.value===d.value}hashCode(){return this.value}}class hn{constructor(){}static getRSSvalue(l,d,g){let y=0;for(let M of l)y+=M;let b=0,S=0,N=l.length;for(let M=0;M<N-1;M++){let k;for(k=1,S|=1<<M;k<l[M];k++,S&=~(1<<M)){let V=hn.combins(y-k-1,N-M-2);if(g&&S===0&&y-k-(N-M-1)>=N-M-1&&(V-=hn.combins(y-k-(N-M),N-M-2)),N-M-1>1){let W=0;for(let Z=y-k-(N-M-2);Z>d;Z--)W+=hn.combins(y-k-Z-1,N-M-3);V-=W*(N-1-M)}else y-k>d&&V--;b+=V}y-=k}return b}static combins(l,d){let g,y;l-d>d?(y=d,g=l-d):(y=l-d,g=d);let b=1,S=1;for(let N=l;N>g;N--)b*=N,S<=y&&(b/=S,S++);for(;S<=y;)b/=S,S++;return b}}class lr{static buildBitArray(l){let d=l.length*2-1;l[l.length-1].getRightChar()==null&&(d-=1);let g=12*d,y=new U(g),b=0,N=l[0].getRightChar().getValue();for(let M=11;M>=0;--M)(N&1<<M)!=0&&y.set(b),b++;for(let M=1;M<l.length;++M){let k=l[M],V=k.getLeftChar().getValue();for(let W=11;W>=0;--W)(V&1<<W)!=0&&y.set(b),b++;if(k.getRightChar()!=null){let W=k.getRightChar().getValue();for(let Z=11;Z>=0;--Z)(W&1<<Z)!=0&&y.set(b),b++}}return y}}class on{constructor(l,d){d?this.decodedInformation=null:(this.finished=l,this.decodedInformation=d)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class pr{constructor(l){this.newPosition=l}getNewPosition(){return this.newPosition}}class Er extends pr{constructor(l,d){super(l),this.value=d}getValue(){return this.value}isFNC1(){return this.value===Er.FNC1}}Er.FNC1="$";class ja extends pr{constructor(l,d,g){super(l),g?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=d}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Za extends pr{constructor(l,d,g){if(super(l),d<0||d>10||g<0||g>10)throw new B;this.firstDigit=d,this.secondDigit=g}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Za.FNC1}isSecondDigitFNC1(){return this.secondDigit===Za.FNC1}isAnyFNC1(){return this.firstDigit===Za.FNC1||this.secondDigit===Za.FNC1}}Za.FNC1=10;class tt{constructor(){}static parseFieldsInGeneralPurpose(l){if(!l)return null;if(l.length<2)throw new ne;let d=l.substring(0,2);for(let b of tt.TWO_DIGIT_DATA_LENGTH)if(b[0]===d)return b[1]===tt.VARIABLE_LENGTH?tt.processVariableAI(2,b[2],l):tt.processFixedAI(2,b[1],l);if(l.length<3)throw new ne;let g=l.substring(0,3);for(let b of tt.THREE_DIGIT_DATA_LENGTH)if(b[0]===g)return b[1]===tt.VARIABLE_LENGTH?tt.processVariableAI(3,b[2],l):tt.processFixedAI(3,b[1],l);for(let b of tt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(b[0]===g)return b[1]===tt.VARIABLE_LENGTH?tt.processVariableAI(4,b[2],l):tt.processFixedAI(4,b[1],l);if(l.length<4)throw new ne;let y=l.substring(0,4);for(let b of tt.FOUR_DIGIT_DATA_LENGTH)if(b[0]===y)return b[1]===tt.VARIABLE_LENGTH?tt.processVariableAI(4,b[2],l):tt.processFixedAI(4,b[1],l);throw new ne}static processFixedAI(l,d,g){if(g.length<l)throw new ne;let y=g.substring(0,l);if(g.length<l+d)throw new ne;let b=g.substring(l,l+d),S=g.substring(l+d),N="("+y+")"+b,M=tt.parseFieldsInGeneralPurpose(S);return M==null?N:N+M}static processVariableAI(l,d,g){let y=g.substring(0,l),b;g.length<l+d?b=g.length:b=l+d;let S=g.substring(l,b),N=g.substring(b),M="("+y+")"+S,k=tt.parseFieldsInGeneralPurpose(N);return k==null?M:M+k}}tt.VARIABLE_LENGTH=[],tt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",tt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",tt.VARIABLE_LENGTH,20],["22",tt.VARIABLE_LENGTH,29],["30",tt.VARIABLE_LENGTH,8],["37",tt.VARIABLE_LENGTH,8],["90",tt.VARIABLE_LENGTH,30],["91",tt.VARIABLE_LENGTH,30],["92",tt.VARIABLE_LENGTH,30],["93",tt.VARIABLE_LENGTH,30],["94",tt.VARIABLE_LENGTH,30],["95",tt.VARIABLE_LENGTH,30],["96",tt.VARIABLE_LENGTH,30],["97",tt.VARIABLE_LENGTH,3],["98",tt.VARIABLE_LENGTH,30],["99",tt.VARIABLE_LENGTH,30]],tt.THREE_DIGIT_DATA_LENGTH=[["240",tt.VARIABLE_LENGTH,30],["241",tt.VARIABLE_LENGTH,30],["242",tt.VARIABLE_LENGTH,6],["250",tt.VARIABLE_LENGTH,30],["251",tt.VARIABLE_LENGTH,30],["253",tt.VARIABLE_LENGTH,17],["254",tt.VARIABLE_LENGTH,20],["400",tt.VARIABLE_LENGTH,30],["401",tt.VARIABLE_LENGTH,30],["402",17],["403",tt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",tt.VARIABLE_LENGTH,20],["421",tt.VARIABLE_LENGTH,15],["422",3],["423",tt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],tt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",tt.VARIABLE_LENGTH,15],["391",tt.VARIABLE_LENGTH,18],["392",tt.VARIABLE_LENGTH,15],["393",tt.VARIABLE_LENGTH,18],["703",tt.VARIABLE_LENGTH,30]],tt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",tt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",tt.VARIABLE_LENGTH,20],["8003",tt.VARIABLE_LENGTH,30],["8004",tt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",tt.VARIABLE_LENGTH,30],["8008",tt.VARIABLE_LENGTH,12],["8018",18],["8020",tt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",tt.VARIABLE_LENGTH,70],["8200",tt.VARIABLE_LENGTH,70]];class Zi{constructor(l){this.buffer=new ee,this.information=l}decodeAllCodes(l,d){let g=d,y=null;do{let b=this.decodeGeneralPurposeField(g,y),S=tt.parseFieldsInGeneralPurpose(b.getNewString());if(S!=null&&l.append(S),b.isRemaining()?y=""+b.getRemainingValue():y=null,g===b.getNewPosition())break;g=b.getNewPosition()}while(!0);return l.toString()}isStillNumeric(l){if(l+7>this.information.getSize())return l+4<=this.information.getSize();for(let d=l;d<l+3;++d)if(this.information.get(d))return!0;return this.information.get(l+3)}decodeNumeric(l){if(l+7>this.information.getSize()){let b=this.extractNumericValueFromBitArray(l,4);return b===0?new Za(this.information.getSize(),Za.FNC1,Za.FNC1):new Za(this.information.getSize(),b-1,Za.FNC1)}let d=this.extractNumericValueFromBitArray(l,7),g=(d-8)/11,y=(d-8)%11;return new Za(l+7,g,y)}extractNumericValueFromBitArray(l,d){return Zi.extractNumericValueFromBitArray(this.information,l,d)}static extractNumericValueFromBitArray(l,d,g){let y=0;for(let b=0;b<g;++b)l.get(d+b)&&(y|=1<<g-b-1);return y}decodeGeneralPurposeField(l,d){this.buffer.setLengthToZero(),d!=null&&this.buffer.append(d),this.current.setPosition(l);let g=this.parseBlocks();return g!=null&&g.isRemaining()?new ja(this.current.getPosition(),this.buffer.toString(),g.getRemainingValue()):new ja(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let l,d;do{let g=this.current.getPosition();if(this.current.isAlpha()?(d=this.parseAlphaBlock(),l=d.isFinished()):this.current.isIsoIec646()?(d=this.parseIsoIec646Block(),l=d.isFinished()):(d=this.parseNumericBlock(),l=d.isFinished()),!(g!==this.current.getPosition())&&!l)break}while(!l);return d.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let l=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFirstDigitFNC1()){let d;return l.isSecondDigitFNC1()?d=new ja(this.current.getPosition(),this.buffer.toString()):d=new ja(this.current.getPosition(),this.buffer.toString(),l.getSecondDigit()),new on(!0,d)}if(this.buffer.append(l.getFirstDigit()),l.isSecondDigitFNC1()){let d=new ja(this.current.getPosition(),this.buffer.toString());return new on(!0,d)}this.buffer.append(l.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new on(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let l=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let d=new ja(this.current.getPosition(),this.buffer.toString());return new on(!0,d)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new on(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let l=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let d=new ja(this.current.getPosition(),this.buffer.toString());return new on(!0,d)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new on(!1)}isStillIsoIec646(l){if(l+5>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(l,5);if(d>=5&&d<16)return!0;if(l+7>this.information.getSize())return!1;let g=this.extractNumericValueFromBitArray(l,7);if(g>=64&&g<116)return!0;if(l+8>this.information.getSize())return!1;let y=this.extractNumericValueFromBitArray(l,8);return y>=232&&y<253}decodeIsoIec646(l){let d=this.extractNumericValueFromBitArray(l,5);if(d===15)return new Er(l+5,Er.FNC1);if(d>=5&&d<15)return new Er(l+5,"0"+(d-5));let g=this.extractNumericValueFromBitArray(l,7);if(g>=64&&g<90)return new Er(l+7,""+(g+1));if(g>=90&&g<116)return new Er(l+7,""+(g+7));let y=this.extractNumericValueFromBitArray(l,8),b;switch(y){case 232:b="!";break;case 233:b='"';break;case 234:b="%";break;case 235:b="&";break;case 236:b="'";break;case 237:b="(";break;case 238:b=")";break;case 239:b="*";break;case 240:b="+";break;case 241:b=",";break;case 242:b="-";break;case 243:b=".";break;case 244:b="/";break;case 245:b=":";break;case 246:b=";";break;case 247:b="<";break;case 248:b="=";break;case 249:b=">";break;case 250:b="?";break;case 251:b="_";break;case 252:b=" ";break;default:throw new B}return new Er(l+8,b)}isStillAlpha(l){if(l+5>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(l,5);if(d>=5&&d<16)return!0;if(l+6>this.information.getSize())return!1;let g=this.extractNumericValueFromBitArray(l,6);return g>=16&&g<63}decodeAlphanumeric(l){let d=this.extractNumericValueFromBitArray(l,5);if(d===15)return new Er(l+5,Er.FNC1);if(d>=5&&d<15)return new Er(l+5,"0"+(d-5));let g=this.extractNumericValueFromBitArray(l,6);if(g>=32&&g<58)return new Er(l+6,""+(g+33));let y;switch(g){case 58:y="*";break;case 59:y=",";break;case 60:y="-";break;case 61:y=".";break;case 62:y="/";break;default:throw new Ze("Decoding invalid alphanumeric value: "+g)}return new Er(l+6,y)}isAlphaTo646ToAlphaLatch(l){if(l+1>this.information.getSize())return!1;for(let d=0;d<5&&d+l<this.information.getSize();++d)if(d===2){if(!this.information.get(l+2))return!1}else if(this.information.get(l+d))return!1;return!0}isAlphaOr646ToNumericLatch(l){if(l+3>this.information.getSize())return!1;for(let d=l;d<l+3;++d)if(this.information.get(d))return!1;return!0}isNumericToAlphaNumericLatch(l){if(l+1>this.information.getSize())return!1;for(let d=0;d<4&&d+l<this.information.getSize();++d)if(this.information.get(l+d))return!1;return!0}}class du{constructor(l){this.information=l,this.generalDecoder=new Zi(l)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Nr extends du{constructor(l){super(l)}encodeCompressedGtin(l,d){l.append("(01)");let g=l.length();l.append("9"),this.encodeCompressedGtinWithoutAI(l,d,g)}encodeCompressedGtinWithoutAI(l,d,g){for(let y=0;y<4;++y){let b=this.getGeneralDecoder().extractNumericValueFromBitArray(d+10*y,10);b/100===0&&l.append("0"),b/10===0&&l.append("0"),l.append(b)}Nr.appendCheckDigit(l,g)}static appendCheckDigit(l,d){let g=0;for(let y=0;y<13;y++){let b=l.charAt(y+d).charCodeAt(0)-48;g+=(y&1)===0?3*b:b}g=10-g%10,g===10&&(g=0),l.append(g)}}Nr.GTIN_SIZE=40;class Ai extends Nr{constructor(l){super(l)}parseInformation(){let l=new ee;l.append("(01)");let d=l.length(),g=this.getGeneralDecoder().extractNumericValueFromBitArray(Ai.HEADER_SIZE,4);return l.append(g),this.encodeCompressedGtinWithoutAI(l,Ai.HEADER_SIZE+4,d),this.getGeneralDecoder().decodeAllCodes(l,Ai.HEADER_SIZE+44)}}Ai.HEADER_SIZE=4;class no extends du{constructor(l){super(l)}parseInformation(){let l=new ee;return this.getGeneralDecoder().decodeAllCodes(l,no.HEADER_SIZE)}}no.HEADER_SIZE=5;class _s extends Nr{constructor(l){super(l)}encodeCompressedWeight(l,d,g){let y=this.getGeneralDecoder().extractNumericValueFromBitArray(d,g);this.addWeightCode(l,y);let b=this.checkWeight(y),S=1e5;for(let N=0;N<5;++N)b/S===0&&l.append("0"),S/=10;l.append(b)}}class An extends _s{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()!=An.HEADER_SIZE+_s.GTIN_SIZE+An.WEIGHT_SIZE)throw new ne;let l=new ee;return this.encodeCompressedGtin(l,An.HEADER_SIZE),this.encodeCompressedWeight(l,An.HEADER_SIZE+_s.GTIN_SIZE,An.WEIGHT_SIZE),l.toString()}}An.HEADER_SIZE=5,An.WEIGHT_SIZE=15;class pg extends An{constructor(l){super(l)}addWeightCode(l,d){l.append("(3103)")}checkWeight(l){return l}}class xg extends An{constructor(l){super(l)}addWeightCode(l,d){d<1e4?l.append("(3202)"):l.append("(3203)")}checkWeight(l){return l<1e4?l:l-1e4}}class da extends Nr{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<da.HEADER_SIZE+Nr.GTIN_SIZE)throw new ne;let l=new ee;this.encodeCompressedGtin(l,da.HEADER_SIZE);let d=this.getGeneralDecoder().extractNumericValueFromBitArray(da.HEADER_SIZE+Nr.GTIN_SIZE,da.LAST_DIGIT_SIZE);l.append("(392"),l.append(d),l.append(")");let g=this.getGeneralDecoder().decodeGeneralPurposeField(da.HEADER_SIZE+Nr.GTIN_SIZE+da.LAST_DIGIT_SIZE,null);return l.append(g.getNewString()),l.toString()}}da.HEADER_SIZE=8,da.LAST_DIGIT_SIZE=2;class xr extends Nr{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<xr.HEADER_SIZE+Nr.GTIN_SIZE)throw new ne;let l=new ee;this.encodeCompressedGtin(l,xr.HEADER_SIZE);let d=this.getGeneralDecoder().extractNumericValueFromBitArray(xr.HEADER_SIZE+Nr.GTIN_SIZE,xr.LAST_DIGIT_SIZE);l.append("(393"),l.append(d),l.append(")");let g=this.getGeneralDecoder().extractNumericValueFromBitArray(xr.HEADER_SIZE+Nr.GTIN_SIZE+xr.LAST_DIGIT_SIZE,xr.FIRST_THREE_DIGITS_SIZE);g/100==0&&l.append("0"),g/10==0&&l.append("0"),l.append(g);let y=this.getGeneralDecoder().decodeGeneralPurposeField(xr.HEADER_SIZE+Nr.GTIN_SIZE+xr.LAST_DIGIT_SIZE+xr.FIRST_THREE_DIGITS_SIZE,null);return l.append(y.getNewString()),l.toString()}}xr.HEADER_SIZE=8,xr.LAST_DIGIT_SIZE=2,xr.FIRST_THREE_DIGITS_SIZE=10;class Vn extends _s{constructor(l,d,g){super(l),this.dateCode=g,this.firstAIdigits=d}parseInformation(){if(this.getInformation().getSize()!=Vn.HEADER_SIZE+Vn.GTIN_SIZE+Vn.WEIGHT_SIZE+Vn.DATE_SIZE)throw new ne;let l=new ee;return this.encodeCompressedGtin(l,Vn.HEADER_SIZE),this.encodeCompressedWeight(l,Vn.HEADER_SIZE+Vn.GTIN_SIZE,Vn.WEIGHT_SIZE),this.encodeCompressedDate(l,Vn.HEADER_SIZE+Vn.GTIN_SIZE+Vn.WEIGHT_SIZE),l.toString()}encodeCompressedDate(l,d){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(d,Vn.DATE_SIZE);if(g==38400)return;l.append("("),l.append(this.dateCode),l.append(")");let y=g%32;g/=32;let b=g%12+1;g/=12;let S=g;S/10==0&&l.append("0"),l.append(S),b/10==0&&l.append("0"),l.append(b),y/10==0&&l.append("0"),l.append(y)}addWeightCode(l,d){l.append("("),l.append(this.firstAIdigits),l.append(d/1e5),l.append(")")}checkWeight(l){return l%1e5}}Vn.HEADER_SIZE=8,Vn.WEIGHT_SIZE=20,Vn.DATE_SIZE=16;function Dh(Y){try{if(Y.get(1))return new Ai(Y);if(!Y.get(2))return new no(Y);switch(Zi.extractNumericValueFromBitArray(Y,1,4)){case 4:return new pg(Y);case 5:return new xg(Y)}switch(Zi.extractNumericValueFromBitArray(Y,1,5)){case 12:return new da(Y);case 13:return new xr(Y)}switch(Zi.extractNumericValueFromBitArray(Y,1,7)){case 56:return new Vn(Y,"310","11");case 57:return new Vn(Y,"320","11");case 58:return new Vn(Y,"310","13");case 59:return new Vn(Y,"320","13");case 60:return new Vn(Y,"310","15");case 61:return new Vn(Y,"320","15");case 62:return new Vn(Y,"310","17");case 63:return new Vn(Y,"320","17")}}catch(l){throw console.log(l),new Ze("unknown decoder: "+Y)}}class Cs{constructor(l,d,g,y){this.leftchar=l,this.rightchar=d,this.finderpattern=g,this.maybeLast=y}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(l,d){return l instanceof Cs?Cs.equalsOrNull(l.leftchar,d.leftchar)&&Cs.equalsOrNull(l.rightchar,d.rightchar)&&Cs.equalsOrNull(l.finderpattern,d.finderpattern):!1}static equalsOrNull(l,d){return l===null?d===null:Cs.equals(l,d)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Rh{constructor(l,d,g){this.pairs=l,this.rowNumber=d,this.wasReversed=g}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(l){return this.checkEqualitity(this,l)}toString(){return"{ "+this.pairs+" }"}equals(l,d){return l instanceof Rh?this.checkEqualitity(l,d)&&l.wasReversed===d.wasReversed:!1}checkEqualitity(l,d){if(!l||!d)return;let g;return l.forEach((y,b)=>{d.forEach(S=>{y.getLeftChar().getValue()===S.getLeftChar().getValue()&&y.getRightChar().getValue()===S.getRightChar().getValue()&&y.getFinderPatter().getValue()===S.getFinderPatter().getValue()&&(g=!0)})}),g}}class Ve extends sn{constructor(l){super(...arguments),this.pairs=new Array(Ve.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=l===!0}decodeRow(l,d,g){this.pairs.length=0,this.startFromEven=!1;try{return Ve.constructResult(this.decodeRow2pairs(l,d))}catch(y){this.verbose&&console.log(y)}return this.pairs.length=0,this.startFromEven=!0,Ve.constructResult(this.decodeRow2pairs(l,d))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(l,d){let g=!1;for(;!g;)try{this.pairs.push(this.retrieveNextPair(d,this.pairs,l))}catch(b){if(b instanceof ne){if(!this.pairs.length)throw new ne;g=!0}}if(this.checkChecksum())return this.pairs;let y;if(this.rows.length?y=!0:y=!1,this.storeRow(l,!1),y){let b=this.checkRowsBoolean(!1);if(b!=null||(b=this.checkRowsBoolean(!0),b!=null))return b}throw new ne}checkRowsBoolean(l){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,l&&(this.rows=this.rows.reverse());let d=null;try{d=this.checkRows(new Array,0)}catch(g){this.verbose&&console.log(g)}return l&&(this.rows=this.rows.reverse()),d}checkRows(l,d){for(let g=d;g<this.rows.length;g++){let y=this.rows[g];this.pairs.length=0;for(let S of l)this.pairs.push(S.getPairs());if(this.pairs.push(y.getPairs()),!Ve.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let b=new Array(l);b.push(y);try{return this.checkRows(b,g+1)}catch(S){this.verbose&&console.log(S)}}throw new ne}static isValidSequence(l){for(let d of Ve.FINDER_PATTERN_SEQUENCES){if(l.length>d.length)continue;let g=!0;for(let y=0;y<l.length;y++)if(l[y].getFinderPattern().getValue()!=d[y]){g=!1;break}if(g)return!0}return!1}storeRow(l,d){let g=0,y=!1,b=!1;for(;g<this.rows.length;){let S=this.rows[g];if(S.getRowNumber()>l){b=S.isEquivalent(this.pairs);break}y=S.isEquivalent(this.pairs),g++}b||y||Ve.isPartialRow(this.pairs,this.rows)||(this.rows.push(g,new Rh(this.pairs,l,d)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(l,d){for(let g of d)if(g.getPairs().length!==l.length){for(let y of g.getPairs())for(let b of l)if(Cs.equals(y,b))break}}static isPartialRow(l,d){for(let g of d){let y=!0;for(let b of l){let S=!1;for(let N of g.getPairs())if(b.equals(N)){S=!0;break}if(!S){y=!1;break}}if(y)return!0}return!1}getRows(){return this.rows}static constructResult(l){let d=lr.buildBitArray(l),y=Dh(d).parseInformation(),b=l[0].getFinderPattern().getResultPoints(),S=l[l.length-1].getFinderPattern().getResultPoints(),N=[b[0],b[1],S[0],S[1]];return new Re(y,null,null,N,oe.RSS_EXPANDED,null)}checkChecksum(){let l=this.pairs.get(0),d=l.getLeftChar(),g=l.getRightChar();if(g==null)return!1;let y=g.getChecksumPortion(),b=2;for(let N=1;N<this.pairs.size();++N){let M=this.pairs.get(N);y+=M.getLeftChar().getChecksumPortion(),b++;let k=M.getRightChar();k!=null&&(y+=k.getChecksumPortion(),b++)}return y%=211,211*(b-4)+y==d.getValue()}static getNextSecondBar(l,d){let g;return l.get(d)?(g=l.getNextUnset(d),g=l.getNextSet(g)):(g=l.getNextSet(d),g=l.getNextUnset(g)),g}retrieveNextPair(l,d,g){let y=d.length%2==0;this.startFromEven&&(y=!y);let b,S=!0,N=-1;do this.findNextPair(l,d,N),b=this.parseFoundFinderPattern(l,g,y),b==null?N=Ve.getNextSecondBar(l,this.startEnd[0]):S=!1;while(S);let M=this.decodeDataCharacter(l,b,y,!0);if(!this.isEmptyPair(d)&&d[d.length-1].mustBeLast())throw new ne;let k;try{k=this.decodeDataCharacter(l,b,y,!1)}catch(V){k=null,this.verbose&&console.log(V)}return new Cs(M,k,b,!0)}isEmptyPair(l){return l.length===0}findNextPair(l,d,g){let y=this.getDecodeFinderCounters();y[0]=0,y[1]=0,y[2]=0,y[3]=0;let b=l.getSize(),S;g>=0?S=g:this.isEmptyPair(d)?S=0:S=d[d.length-1].getFinderPattern().getStartEnd()[1];let N=d.length%2!=0;this.startFromEven&&(N=!N);let M=!1;for(;S<b&&(M=!l.get(S),!!M);)S++;let k=0,V=S;for(let W=S;W<b;W++)if(l.get(W)!=M)y[k]++;else{if(k==3){if(N&&Ve.reverseCounters(y),Ve.isFinderPattern(y)){this.startEnd[0]=V,this.startEnd[1]=W;return}N&&Ve.reverseCounters(y),V+=y[0]+y[1],y[0]=y[2],y[1]=y[3],y[2]=0,y[3]=0,k--}else k++;y[k]=1,M=!M}throw new ne}static reverseCounters(l){let d=l.length;for(let g=0;g<d/2;++g){let y=l[g];l[g]=l[d-g-1],l[d-g-1]=y}}parseFoundFinderPattern(l,d,g){let y,b,S;if(g){let k=this.startEnd[0]-1;for(;k>=0&&!l.get(k);)k--;k++,y=this.startEnd[0]-k,b=k,S=this.startEnd[1]}else b=this.startEnd[0],S=l.getNextUnset(this.startEnd[1]+1),y=S-this.startEnd[1];let N=this.getDecodeFinderCounters();T.arraycopy(N,0,N,1,N.length-1),N[0]=y;let M;try{M=this.parseFinderValue(N,Ve.FINDER_PATTERNS)}catch{return null}return new Qn(M,[b,S],b,S,d)}decodeDataCharacter(l,d,g,y){let b=this.getDataCharacterCounters();for(let Nn=0;Nn<b.length;Nn++)b[Nn]=0;if(y)Ve.recordPatternInReverse(l,d.getStartEnd()[0],b);else{Ve.recordPattern(l,d.getStartEnd()[1],b);for(let Nn=0,ra=b.length-1;Nn<ra;Nn++,ra--){let Ua=b[Nn];b[Nn]=b[ra],b[ra]=Ua}}let S=17,N=Qe.sum(new Int32Array(b))/S,M=(d.getStartEnd()[1]-d.getStartEnd()[0])/15;if(Math.abs(N-M)/M>.3)throw new ne;let k=this.getOddCounts(),V=this.getEvenCounts(),W=this.getOddRoundingErrors(),Z=this.getEvenRoundingErrors();for(let Nn=0;Nn<b.length;Nn++){let ra=1*b[Nn]/N,Ua=ra+.5;if(Ua<1){if(ra<.3)throw new ne;Ua=1}else if(Ua>8){if(ra>8.7)throw new ne;Ua=8}let Wo=Nn/2;(Nn&1)==0?(k[Wo]=Ua,W[Wo]=ra-Ua):(V[Wo]=Ua,Z[Wo]=ra-Ua)}this.adjustOddEvenCounts(S);let ie=4*d.getValue()+(g?0:2)+(y?0:1)-1,ce=0,de=0;for(let Nn=k.length-1;Nn>=0;Nn--){if(Ve.isNotA1left(d,g,y)){let ra=Ve.WEIGHTS[ie][2*Nn];de+=k[Nn]*ra}ce+=k[Nn]}let Se=0;for(let Nn=V.length-1;Nn>=0;Nn--)if(Ve.isNotA1left(d,g,y)){let ra=Ve.WEIGHTS[ie][2*Nn+1];Se+=V[Nn]*ra}let Ce=de+Se;if((ce&1)!=0||ce>13||ce<4)throw new ne;let qe=(13-ce)/2,We=Ve.SYMBOL_WIDEST[qe],He=9-We,It=hn.getRSSvalue(k,We,!0),Dt=hn.getRSSvalue(V,He,!1),Aa=Ve.EVEN_TOTAL_SUBSET[qe],di=Ve.GSUM[qe],Fa=It*Aa+Dt+di;return new ci(Fa,Ce)}static isNotA1left(l,d,g){return!(l.getValue()==0&&d&&g)}adjustOddEvenCounts(l){let d=Qe.sum(new Int32Array(this.getOddCounts())),g=Qe.sum(new Int32Array(this.getEvenCounts())),y=!1,b=!1;d>13?b=!0:d<4&&(y=!0);let S=!1,N=!1;g>13?N=!0:g<4&&(S=!0);let M=d+g-l,k=(d&1)==1,V=(g&1)==0;if(M==1)if(k){if(V)throw new ne;b=!0}else{if(!V)throw new ne;N=!0}else if(M==-1)if(k){if(V)throw new ne;y=!0}else{if(!V)throw new ne;S=!0}else if(M==0){if(k){if(!V)throw new ne;d<g?(y=!0,N=!0):(b=!0,S=!0)}else if(V)throw new ne}else throw new ne;if(y){if(b)throw new ne;Ve.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(b&&Ve.decrement(this.getOddCounts(),this.getOddRoundingErrors()),S){if(N)throw new ne;Ve.increment(this.getEvenCounts(),this.getOddRoundingErrors())}N&&Ve.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ve.SYMBOL_WIDEST=[7,5,4,3,1],Ve.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ve.GSUM=[0,348,1388,2948,3988],Ve.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ve.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ve.FINDER_PAT_A=0,Ve.FINDER_PAT_B=1,Ve.FINDER_PAT_C=2,Ve.FINDER_PAT_D=3,Ve.FINDER_PAT_E=4,Ve.FINDER_PAT_F=5,Ve.FINDER_PATTERN_SEQUENCES=[[Ve.FINDER_PAT_A,Ve.FINDER_PAT_A],[Ve.FINDER_PAT_A,Ve.FINDER_PAT_B,Ve.FINDER_PAT_B],[Ve.FINDER_PAT_A,Ve.FINDER_PAT_C,Ve.FINDER_PAT_B,Ve.FINDER_PAT_D],[Ve.FINDER_PAT_A,Ve.FINDER_PAT_E,Ve.FINDER_PAT_B,Ve.FINDER_PAT_D,Ve.FINDER_PAT_C],[Ve.FINDER_PAT_A,Ve.FINDER_PAT_E,Ve.FINDER_PAT_B,Ve.FINDER_PAT_D,Ve.FINDER_PAT_D,Ve.FINDER_PAT_F],[Ve.FINDER_PAT_A,Ve.FINDER_PAT_E,Ve.FINDER_PAT_B,Ve.FINDER_PAT_D,Ve.FINDER_PAT_E,Ve.FINDER_PAT_F,Ve.FINDER_PAT_F],[Ve.FINDER_PAT_A,Ve.FINDER_PAT_A,Ve.FINDER_PAT_B,Ve.FINDER_PAT_B,Ve.FINDER_PAT_C,Ve.FINDER_PAT_C,Ve.FINDER_PAT_D,Ve.FINDER_PAT_D],[Ve.FINDER_PAT_A,Ve.FINDER_PAT_A,Ve.FINDER_PAT_B,Ve.FINDER_PAT_B,Ve.FINDER_PAT_C,Ve.FINDER_PAT_C,Ve.FINDER_PAT_D,Ve.FINDER_PAT_E,Ve.FINDER_PAT_E],[Ve.FINDER_PAT_A,Ve.FINDER_PAT_A,Ve.FINDER_PAT_B,Ve.FINDER_PAT_B,Ve.FINDER_PAT_C,Ve.FINDER_PAT_C,Ve.FINDER_PAT_D,Ve.FINDER_PAT_E,Ve.FINDER_PAT_F,Ve.FINDER_PAT_F],[Ve.FINDER_PAT_A,Ve.FINDER_PAT_A,Ve.FINDER_PAT_B,Ve.FINDER_PAT_B,Ve.FINDER_PAT_C,Ve.FINDER_PAT_D,Ve.FINDER_PAT_D,Ve.FINDER_PAT_E,Ve.FINDER_PAT_E,Ve.FINDER_PAT_F,Ve.FINDER_PAT_F]],Ve.MAX_PAIRS=11;class _d extends ci{constructor(l,d,g){super(l,d),this.count=0,this.finderPattern=g}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class mn extends sn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(l,d,g){const y=this.decodePair(d,!1,l,g);mn.addOrTally(this.possibleLeftPairs,y),d.reverse();let b=this.decodePair(d,!0,l,g);mn.addOrTally(this.possibleRightPairs,b),d.reverse();for(let S of this.possibleLeftPairs)if(S.getCount()>1){for(let N of this.possibleRightPairs)if(N.getCount()>1&&mn.checkChecksum(S,N))return mn.constructResult(S,N)}throw new ne}static addOrTally(l,d){if(d==null)return;let g=!1;for(let y of l)if(y.getValue()===d.getValue()){y.incrementCount(),g=!0;break}g||l.push(d)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(l,d){let g=4537077*l.getValue()+d.getValue(),y=new String(g).toString(),b=new ee;for(let k=13-y.length;k>0;k--)b.append("0");b.append(y);let S=0;for(let k=0;k<13;k++){let V=b.charAt(k).charCodeAt(0)-48;S+=(k&1)===0?3*V:V}S=10-S%10,S===10&&(S=0),b.append(S.toString());let N=l.getFinderPattern().getResultPoints(),M=d.getFinderPattern().getResultPoints();return new Re(b.toString(),null,0,[N[0],N[1],M[0],M[1]],oe.RSS_14,new Date().getTime())}static checkChecksum(l,d){let g=(l.getChecksumPortion()+16*d.getChecksumPortion())%79,y=9*l.getFinderPattern().getValue()+d.getFinderPattern().getValue();return y>72&&y--,y>8&&y--,g===y}decodePair(l,d,g,y){try{let b=this.findFinderPattern(l,d),S=this.parseFoundFinderPattern(l,g,d,b),N=y==null?null:y.get(L.NEED_RESULT_POINT_CALLBACK);if(N!=null){let V=(b[0]+b[1])/2;d&&(V=l.getSize()-1-V),N.foundPossibleResultPoint(new et(V,g))}let M=this.decodeDataCharacter(l,S,!0),k=this.decodeDataCharacter(l,S,!1);return new _d(1597*M.getValue()+k.getValue(),M.getChecksumPortion()+4*k.getChecksumPortion(),S)}catch{return null}}decodeDataCharacter(l,d,g){let y=this.getDataCharacterCounters();for(let Se=0;Se<y.length;Se++)y[Se]=0;if(g)nn.recordPatternInReverse(l,d.getStartEnd()[0],y);else{nn.recordPattern(l,d.getStartEnd()[1]+1,y);for(let Se=0,Ce=y.length-1;Se<Ce;Se++,Ce--){let qe=y[Se];y[Se]=y[Ce],y[Ce]=qe}}let b=g?16:15,S=Qe.sum(new Int32Array(y))/b,N=this.getOddCounts(),M=this.getEvenCounts(),k=this.getOddRoundingErrors(),V=this.getEvenRoundingErrors();for(let Se=0;Se<y.length;Se++){let Ce=y[Se]/S,qe=Math.floor(Ce+.5);qe<1?qe=1:qe>8&&(qe=8);let We=Math.floor(Se/2);(Se&1)===0?(N[We]=qe,k[We]=Ce-qe):(M[We]=qe,V[We]=Ce-qe)}this.adjustOddEvenCounts(g,b);let W=0,Z=0;for(let Se=N.length-1;Se>=0;Se--)Z*=9,Z+=N[Se],W+=N[Se];let ie=0,ce=0;for(let Se=M.length-1;Se>=0;Se--)ie*=9,ie+=M[Se],ce+=M[Se];let de=Z+3*ie;if(g){if((W&1)!==0||W>12||W<4)throw new ne;let Se=(12-W)/2,Ce=mn.OUTSIDE_ODD_WIDEST[Se],qe=9-Ce,We=hn.getRSSvalue(N,Ce,!1),He=hn.getRSSvalue(M,qe,!0),It=mn.OUTSIDE_EVEN_TOTAL_SUBSET[Se],Dt=mn.OUTSIDE_GSUM[Se];return new ci(We*It+He+Dt,de)}else{if((ce&1)!==0||ce>10||ce<4)throw new ne;let Se=(10-ce)/2,Ce=mn.INSIDE_ODD_WIDEST[Se],qe=9-Ce,We=hn.getRSSvalue(N,Ce,!0),He=hn.getRSSvalue(M,qe,!1),It=mn.INSIDE_ODD_TOTAL_SUBSET[Se],Dt=mn.INSIDE_GSUM[Se];return new ci(He*It+We+Dt,de)}}findFinderPattern(l,d){let g=this.getDecodeFinderCounters();g[0]=0,g[1]=0,g[2]=0,g[3]=0;let y=l.getSize(),b=!1,S=0;for(;S<y&&(b=!l.get(S),d!==b);)S++;let N=0,M=S;for(let k=S;k<y;k++)if(l.get(k)!==b)g[N]++;else{if(N===3){if(sn.isFinderPattern(g))return[M,k];M+=g[0]+g[1],g[0]=g[2],g[1]=g[3],g[2]=0,g[3]=0,N--}else N++;g[N]=1,b=!b}throw new ne}parseFoundFinderPattern(l,d,g,y){let b=l.get(y[0]),S=y[0]-1;for(;S>=0&&b!==l.get(S);)S--;S++;const N=y[0]-S,M=this.getDecodeFinderCounters(),k=new Int32Array(M.length);T.arraycopy(M,0,k,1,M.length-1),k[0]=N;const V=this.parseFinderValue(k,mn.FINDER_PATTERNS);let W=S,Z=y[1];return g&&(W=l.getSize()-1-W,Z=l.getSize()-1-Z),new Qn(V,[S,y[1]],W,Z,d)}adjustOddEvenCounts(l,d){let g=Qe.sum(new Int32Array(this.getOddCounts())),y=Qe.sum(new Int32Array(this.getEvenCounts())),b=!1,S=!1,N=!1,M=!1;l?(g>12?S=!0:g<4&&(b=!0),y>12?M=!0:y<4&&(N=!0)):(g>11?S=!0:g<5&&(b=!0),y>10?M=!0:y<4&&(N=!0));let k=g+y-d,V=(g&1)===(l?1:0),W=(y&1)===1;if(k===1)if(V){if(W)throw new ne;S=!0}else{if(!W)throw new ne;M=!0}else if(k===-1)if(V){if(W)throw new ne;b=!0}else{if(!W)throw new ne;N=!0}else if(k===0){if(V){if(!W)throw new ne;g<y?(b=!0,M=!0):(S=!0,N=!0)}else if(W)throw new ne}else throw new ne;if(b){if(S)throw new ne;sn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(S&&sn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),N){if(M)throw new ne;sn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}M&&sn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}mn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],mn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],mn.OUTSIDE_GSUM=[0,161,961,2015,2715],mn.INSIDE_GSUM=[0,336,1036,1516],mn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],mn.INSIDE_ODD_WIDEST=[2,4,6,8],mn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ro extends nn{constructor(l,d){super(),this.readers=[],this.verbose=d===!0;const g=l?l.get(L.POSSIBLE_FORMATS):null,y=l&&l.get(L.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;g?((g.includes(oe.EAN_13)||g.includes(oe.UPC_A)||g.includes(oe.EAN_8)||g.includes(oe.UPC_E))&&this.readers.push(new Xn(l)),g.includes(oe.CODE_39)&&this.readers.push(new fn(y)),g.includes(oe.CODE_128)&&this.readers.push(new Ge),g.includes(oe.ITF)&&this.readers.push(new rn),g.includes(oe.RSS_14)&&this.readers.push(new mn),g.includes(oe.RSS_EXPANDED)&&this.readers.push(new Ve(this.verbose))):(this.readers.push(new Xn(l)),this.readers.push(new fn),this.readers.push(new Xn(l)),this.readers.push(new Ge),this.readers.push(new rn),this.readers.push(new mn),this.readers.push(new Ve(this.verbose)))}decodeRow(l,d,g){for(let y=0;y<this.readers.length;y++)try{return this.readers[y].decodeRow(l,d,g)}catch{}throw new ne}reset(){this.readers.forEach(l=>l.reset())}}class vg extends me{constructor(l=500,d){super(new ro(d),l,d)}}class Gt{constructor(l,d,g){this.ecCodewords=l,this.ecBlocks=[d],g&&this.ecBlocks.push(g)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class an{constructor(l,d){this.count=l,this.dataCodewords=d}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class zt{constructor(l,d,g,y,b,S){this.versionNumber=l,this.symbolSizeRows=d,this.symbolSizeColumns=g,this.dataRegionSizeRows=y,this.dataRegionSizeColumns=b,this.ecBlocks=S;let N=0;const M=S.getECCodewords(),k=S.getECBlocks();for(let V of k)N+=V.getCount()*(V.getDataCodewords()+M);this.totalCodewords=N}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(l,d){if((l&1)!==0||(d&1)!==0)throw new B;for(let g of zt.VERSIONS)if(g.symbolSizeRows===l&&g.symbolSizeColumns===d)return g;throw new B}toString(){return""+this.versionNumber}static buildVersions(){return[new zt(1,10,10,8,8,new Gt(5,new an(1,3))),new zt(2,12,12,10,10,new Gt(7,new an(1,5))),new zt(3,14,14,12,12,new Gt(10,new an(1,8))),new zt(4,16,16,14,14,new Gt(12,new an(1,12))),new zt(5,18,18,16,16,new Gt(14,new an(1,18))),new zt(6,20,20,18,18,new Gt(18,new an(1,22))),new zt(7,22,22,20,20,new Gt(20,new an(1,30))),new zt(8,24,24,22,22,new Gt(24,new an(1,36))),new zt(9,26,26,24,24,new Gt(28,new an(1,44))),new zt(10,32,32,14,14,new Gt(36,new an(1,62))),new zt(11,36,36,16,16,new Gt(42,new an(1,86))),new zt(12,40,40,18,18,new Gt(48,new an(1,114))),new zt(13,44,44,20,20,new Gt(56,new an(1,144))),new zt(14,48,48,22,22,new Gt(68,new an(1,174))),new zt(15,52,52,24,24,new Gt(42,new an(2,102))),new zt(16,64,64,14,14,new Gt(56,new an(2,140))),new zt(17,72,72,16,16,new Gt(36,new an(4,92))),new zt(18,80,80,18,18,new Gt(48,new an(4,114))),new zt(19,88,88,20,20,new Gt(56,new an(4,144))),new zt(20,96,96,22,22,new Gt(68,new an(4,174))),new zt(21,104,104,24,24,new Gt(56,new an(6,136))),new zt(22,120,120,18,18,new Gt(68,new an(6,175))),new zt(23,132,132,20,20,new Gt(62,new an(8,163))),new zt(24,144,144,22,22,new Gt(62,new an(8,156),new an(2,155))),new zt(25,8,18,6,16,new Gt(7,new an(1,5))),new zt(26,8,32,6,14,new Gt(11,new an(1,10))),new zt(27,12,26,10,24,new Gt(14,new an(1,16))),new zt(28,12,36,10,16,new Gt(18,new an(1,22))),new zt(29,16,36,14,16,new Gt(24,new an(1,32))),new zt(30,16,48,14,22,new Gt(28,new an(1,49)))]}}zt.VERSIONS=zt.buildVersions();class Ih{constructor(l){const d=l.getHeight();if(d<8||d>144||(d&1)!==0)throw new B;this.version=Ih.readVersion(l),this.mappingBitMatrix=this.extractDataRegion(l),this.readMappingMatrix=new ue(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(l){const d=l.getHeight(),g=l.getWidth();return zt.getVersionForDimensions(d,g)}readCodewords(){const l=new Int8Array(this.version.getTotalCodewords());let d=0,g=4,y=0;const b=this.mappingBitMatrix.getHeight(),S=this.mappingBitMatrix.getWidth();let N=!1,M=!1,k=!1,V=!1;do if(g===b&&y===0&&!N)l[d++]=this.readCorner1(b,S)&255,g-=2,y+=2,N=!0;else if(g===b-2&&y===0&&(S&3)!==0&&!M)l[d++]=this.readCorner2(b,S)&255,g-=2,y+=2,M=!0;else if(g===b+4&&y===2&&(S&7)===0&&!k)l[d++]=this.readCorner3(b,S)&255,g-=2,y+=2,k=!0;else if(g===b-2&&y===0&&(S&7)===4&&!V)l[d++]=this.readCorner4(b,S)&255,g-=2,y+=2,V=!0;else{do g<b&&y>=0&&!this.readMappingMatrix.get(y,g)&&(l[d++]=this.readUtah(g,y,b,S)&255),g-=2,y+=2;while(g>=0&&y<S);g+=1,y+=3;do g>=0&&y<S&&!this.readMappingMatrix.get(y,g)&&(l[d++]=this.readUtah(g,y,b,S)&255),g+=2,y-=2;while(g<b&&y>=0);g+=3,y+=1}while(g<b||y<S);if(d!==this.version.getTotalCodewords())throw new B;return l}readModule(l,d,g,y){return l<0&&(l+=g,d+=4-(g+4&7)),d<0&&(d+=y,l+=4-(y+4&7)),this.readMappingMatrix.set(d,l),this.mappingBitMatrix.get(d,l)}readUtah(l,d,g,y){let b=0;return this.readModule(l-2,d-2,g,y)&&(b|=1),b<<=1,this.readModule(l-2,d-1,g,y)&&(b|=1),b<<=1,this.readModule(l-1,d-2,g,y)&&(b|=1),b<<=1,this.readModule(l-1,d-1,g,y)&&(b|=1),b<<=1,this.readModule(l-1,d,g,y)&&(b|=1),b<<=1,this.readModule(l,d-2,g,y)&&(b|=1),b<<=1,this.readModule(l,d-1,g,y)&&(b|=1),b<<=1,this.readModule(l,d,g,y)&&(b|=1),b}readCorner1(l,d){let g=0;return this.readModule(l-1,0,l,d)&&(g|=1),g<<=1,this.readModule(l-1,1,l,d)&&(g|=1),g<<=1,this.readModule(l-1,2,l,d)&&(g|=1),g<<=1,this.readModule(0,d-2,l,d)&&(g|=1),g<<=1,this.readModule(0,d-1,l,d)&&(g|=1),g<<=1,this.readModule(1,d-1,l,d)&&(g|=1),g<<=1,this.readModule(2,d-1,l,d)&&(g|=1),g<<=1,this.readModule(3,d-1,l,d)&&(g|=1),g}readCorner2(l,d){let g=0;return this.readModule(l-3,0,l,d)&&(g|=1),g<<=1,this.readModule(l-2,0,l,d)&&(g|=1),g<<=1,this.readModule(l-1,0,l,d)&&(g|=1),g<<=1,this.readModule(0,d-4,l,d)&&(g|=1),g<<=1,this.readModule(0,d-3,l,d)&&(g|=1),g<<=1,this.readModule(0,d-2,l,d)&&(g|=1),g<<=1,this.readModule(0,d-1,l,d)&&(g|=1),g<<=1,this.readModule(1,d-1,l,d)&&(g|=1),g}readCorner3(l,d){let g=0;return this.readModule(l-1,0,l,d)&&(g|=1),g<<=1,this.readModule(l-1,d-1,l,d)&&(g|=1),g<<=1,this.readModule(0,d-3,l,d)&&(g|=1),g<<=1,this.readModule(0,d-2,l,d)&&(g|=1),g<<=1,this.readModule(0,d-1,l,d)&&(g|=1),g<<=1,this.readModule(1,d-3,l,d)&&(g|=1),g<<=1,this.readModule(1,d-2,l,d)&&(g|=1),g<<=1,this.readModule(1,d-1,l,d)&&(g|=1),g}readCorner4(l,d){let g=0;return this.readModule(l-3,0,l,d)&&(g|=1),g<<=1,this.readModule(l-2,0,l,d)&&(g|=1),g<<=1,this.readModule(l-1,0,l,d)&&(g|=1),g<<=1,this.readModule(0,d-2,l,d)&&(g|=1),g<<=1,this.readModule(0,d-1,l,d)&&(g|=1),g<<=1,this.readModule(1,d-1,l,d)&&(g|=1),g<<=1,this.readModule(2,d-1,l,d)&&(g|=1),g<<=1,this.readModule(3,d-1,l,d)&&(g|=1),g}extractDataRegion(l){const d=this.version.getSymbolSizeRows(),g=this.version.getSymbolSizeColumns();if(l.getHeight()!==d)throw new v("Dimension of bitMatrix must match the version size");const y=this.version.getDataRegionSizeRows(),b=this.version.getDataRegionSizeColumns(),S=d/y|0,N=g/b|0,M=S*y,k=N*b,V=new ue(k,M);for(let W=0;W<S;++W){const Z=W*y;for(let ie=0;ie<N;++ie){const ce=ie*b;for(let de=0;de<y;++de){const Se=W*(y+2)+1+de,Ce=Z+de;for(let qe=0;qe<b;++qe){const We=ie*(b+2)+1+qe;if(l.get(We,Se)){const He=ce+qe;V.set(He,Ce)}}}}}return V}}class Cd{constructor(l,d){this.numDataCodewords=l,this.codewords=d}static getDataBlocks(l,d){const g=d.getECBlocks();let y=0;const b=g.getECBlocks();for(let de of b)y+=de.getCount();const S=new Array(y);let N=0;for(let de of b)for(let Se=0;Se<de.getCount();Se++){const Ce=de.getDataCodewords(),qe=g.getECCodewords()+Ce;S[N++]=new Cd(Ce,new Uint8Array(qe))}const k=S[0].codewords.length-g.getECCodewords(),V=k-1;let W=0;for(let de=0;de<V;de++)for(let Se=0;Se<N;Se++)S[Se].codewords[de]=l[W++];const Z=d.getVersionNumber()===24,ie=Z?8:N;for(let de=0;de<ie;de++)S[de].codewords[k-1]=l[W++];const ce=S[0].codewords.length;for(let de=k;de<ce;de++)for(let Se=0;Se<N;Se++){const Ce=Z?(Se+8)%N:Se,qe=Z&&Ce>7?de-1:de;S[Ce].codewords[qe]=l[W++]}if(W!==l.length)throw new v;return S}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class ka{constructor(l){this.bytes=l,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(l){if(l<1||l>32||l>this.available())throw new v(""+l);let d=0,g=this.bitOffset,y=this.byteOffset;const b=this.bytes;if(g>0){const S=8-g,N=l<S?l:S,M=S-N,k=255>>8-N<<M;d=(b[y]&k)>>M,l-=N,g+=N,g===8&&(g=0,y++)}if(l>0){for(;l>=8;)d=d<<8|b[y]&255,y++,l-=8;if(l>0){const S=8-l,N=255>>S<<S;d=d<<l|(b[y]&N)>>S,g+=l}}return this.bitOffset=g,this.byteOffset=y,d}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var vr;(function(Y){Y[Y.PAD_ENCODE=0]="PAD_ENCODE",Y[Y.ASCII_ENCODE=1]="ASCII_ENCODE",Y[Y.C40_ENCODE=2]="C40_ENCODE",Y[Y.TEXT_ENCODE=3]="TEXT_ENCODE",Y[Y.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",Y[Y.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",Y[Y.BASE256_ENCODE=6]="BASE256_ENCODE"})(vr||(vr={}));class ao{static decode(l){const d=new ka(l),g=new ee,y=new ee,b=new Array;let S=vr.ASCII_ENCODE;do if(S===vr.ASCII_ENCODE)S=this.decodeAsciiSegment(d,g,y);else{switch(S){case vr.C40_ENCODE:this.decodeC40Segment(d,g);break;case vr.TEXT_ENCODE:this.decodeTextSegment(d,g);break;case vr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(d,g);break;case vr.EDIFACT_ENCODE:this.decodeEdifactSegment(d,g);break;case vr.BASE256_ENCODE:this.decodeBase256Segment(d,g,b);break;default:throw new B}S=vr.ASCII_ENCODE}while(S!==vr.PAD_ENCODE&&d.available()>0);return y.length()>0&&g.append(y.toString()),new xe(l,g.toString(),b.length===0?null:b,null)}static decodeAsciiSegment(l,d,g){let y=!1;do{let b=l.readBits(8);if(b===0)throw new B;if(b<=128)return y&&(b+=128),d.append(String.fromCharCode(b-1)),vr.ASCII_ENCODE;if(b===129)return vr.PAD_ENCODE;if(b<=229){const S=b-130;S<10&&d.append("0"),d.append(""+S)}else switch(b){case 230:return vr.C40_ENCODE;case 231:return vr.BASE256_ENCODE;case 232:d.append("");break;case 233:case 234:break;case 235:y=!0;break;case 236:d.append("[)>05"),g.insert(0,"");break;case 237:d.append("[)>06"),g.insert(0,"");break;case 238:return vr.ANSIX12_ENCODE;case 239:return vr.TEXT_ENCODE;case 240:return vr.EDIFACT_ENCODE;case 241:break;default:if(b!==254||l.available()!==0)throw new B;break}}while(l.available()>0);return vr.ASCII_ENCODE}static decodeC40Segment(l,d){let g=!1;const y=[];let b=0;do{if(l.available()===8)return;const S=l.readBits(8);if(S===254)return;this.parseTwoBytes(S,l.readBits(8),y);for(let N=0;N<3;N++){const M=y[N];switch(b){case 0:if(M<3)b=M+1;else if(M<this.C40_BASIC_SET_CHARS.length){const k=this.C40_BASIC_SET_CHARS[M];g?(d.append(String.fromCharCode(k.charCodeAt(0)+128)),g=!1):d.append(k)}else throw new B;break;case 1:g?(d.append(String.fromCharCode(M+128)),g=!1):d.append(String.fromCharCode(M)),b=0;break;case 2:if(M<this.C40_SHIFT2_SET_CHARS.length){const k=this.C40_SHIFT2_SET_CHARS[M];g?(d.append(String.fromCharCode(k.charCodeAt(0)+128)),g=!1):d.append(k)}else switch(M){case 27:d.append("");break;case 30:g=!0;break;default:throw new B}b=0;break;case 3:g?(d.append(String.fromCharCode(M+224)),g=!1):d.append(String.fromCharCode(M+96)),b=0;break;default:throw new B}}}while(l.available()>0)}static decodeTextSegment(l,d){let g=!1,y=[],b=0;do{if(l.available()===8)return;const S=l.readBits(8);if(S===254)return;this.parseTwoBytes(S,l.readBits(8),y);for(let N=0;N<3;N++){const M=y[N];switch(b){case 0:if(M<3)b=M+1;else if(M<this.TEXT_BASIC_SET_CHARS.length){const k=this.TEXT_BASIC_SET_CHARS[M];g?(d.append(String.fromCharCode(k.charCodeAt(0)+128)),g=!1):d.append(k)}else throw new B;break;case 1:g?(d.append(String.fromCharCode(M+128)),g=!1):d.append(String.fromCharCode(M)),b=0;break;case 2:if(M<this.TEXT_SHIFT2_SET_CHARS.length){const k=this.TEXT_SHIFT2_SET_CHARS[M];g?(d.append(String.fromCharCode(k.charCodeAt(0)+128)),g=!1):d.append(k)}else switch(M){case 27:d.append("");break;case 30:g=!0;break;default:throw new B}b=0;break;case 3:if(M<this.TEXT_SHIFT3_SET_CHARS.length){const k=this.TEXT_SHIFT3_SET_CHARS[M];g?(d.append(String.fromCharCode(k.charCodeAt(0)+128)),g=!1):d.append(k),b=0}else throw new B;break;default:throw new B}}}while(l.available()>0)}static decodeAnsiX12Segment(l,d){const g=[];do{if(l.available()===8)return;const y=l.readBits(8);if(y===254)return;this.parseTwoBytes(y,l.readBits(8),g);for(let b=0;b<3;b++){const S=g[b];switch(S){case 0:d.append("\r");break;case 1:d.append("*");break;case 2:d.append(">");break;case 3:d.append(" ");break;default:if(S<14)d.append(String.fromCharCode(S+44));else if(S<40)d.append(String.fromCharCode(S+51));else throw new B;break}}}while(l.available()>0)}static parseTwoBytes(l,d,g){let y=(l<<8)+d-1,b=Math.floor(y/1600);g[0]=b,y-=b*1600,b=Math.floor(y/40),g[1]=b,g[2]=y-b*40}static decodeEdifactSegment(l,d){do{if(l.available()<=16)return;for(let g=0;g<4;g++){let y=l.readBits(6);if(y===31){const b=8-l.getBitOffset();b!==8&&l.readBits(b);return}(y&32)===0&&(y|=64),d.append(String.fromCharCode(y))}}while(l.available()>0)}static decodeBase256Segment(l,d,g){let y=1+l.getByteOffset();const b=this.unrandomize255State(l.readBits(8),y++);let S;if(b===0?S=l.available()/8|0:b<250?S=b:S=250*(b-249)+this.unrandomize255State(l.readBits(8),y++),S<0)throw new B;const N=new Uint8Array(S);for(let M=0;M<S;M++){if(l.available()<8)throw new B;N[M]=this.unrandomize255State(l.readBits(8),y++)}g.push(N);try{d.append(X.decode(N,K.ISO88591))}catch(M){throw new Ze("Platform does not support required encoding: "+M.message)}}static unrandomize255State(l,d){const g=149*d%255+1,y=l-g;return y>=0?y:y+256}}ao.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ao.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ao.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ao.TEXT_SHIFT2_SET_CHARS=ao.C40_SHIFT2_SET_CHARS,ao.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Td{constructor(){this.rsDecoder=new Mt(Xe.DATA_MATRIX_FIELD_256)}decode(l){const d=new Ih(l),g=d.getVersion(),y=d.readCodewords(),b=Cd.getDataBlocks(y,g);let S=0;for(let k of b)S+=k.getNumDataCodewords();const N=new Uint8Array(S),M=b.length;for(let k=0;k<M;k++){const V=b[k],W=V.getCodewords(),Z=V.getNumDataCodewords();this.correctErrors(W,Z);for(let ie=0;ie<Z;ie++)N[ie*M+k]=W[ie]}return ao.decode(N)}correctErrors(l,d){const g=new Int32Array(l);try{this.rsDecoder.decode(g,l.length-d)}catch{throw new E}for(let y=0;y<d;y++)l[y]=g[y]}}class Zn{constructor(l){this.image=l,this.rectangleDetector=new sr(this.image)}detect(){const l=this.rectangleDetector.detect();let d=this.detectSolid1(l);if(d=this.detectSolid2(d),d[3]=this.correctTopRight(d),!d[3])throw new ne;d=this.shiftToModuleCenter(d);const g=d[0],y=d[1],b=d[2],S=d[3];let N=this.transitionsBetween(g,S)+1,M=this.transitionsBetween(b,S)+1;(N&1)===1&&(N+=1),(M&1)===1&&(M+=1),4*N<7*M&&4*M<7*N&&(N=M=Math.max(N,M));let k=Zn.sampleGrid(this.image,g,y,b,S,N,M);return new dn(k,[g,y,b,S])}static shiftPoint(l,d,g){let y=(d.getX()-l.getX())/(g+1),b=(d.getY()-l.getY())/(g+1);return new et(l.getX()+y,l.getY()+b)}static moveAway(l,d,g){let y=l.getX(),b=l.getY();return y<d?y-=1:y+=1,b<g?b-=1:b+=1,new et(y,b)}detectSolid1(l){let d=l[0],g=l[1],y=l[3],b=l[2],S=this.transitionsBetween(d,g),N=this.transitionsBetween(g,y),M=this.transitionsBetween(y,b),k=this.transitionsBetween(b,d),V=S,W=[b,d,g,y];return V>N&&(V=N,W[0]=d,W[1]=g,W[2]=y,W[3]=b),V>M&&(V=M,W[0]=g,W[1]=y,W[2]=b,W[3]=d),V>k&&(W[0]=y,W[1]=b,W[2]=d,W[3]=g),W}detectSolid2(l){let d=l[0],g=l[1],y=l[2],b=l[3],S=this.transitionsBetween(d,b),N=Zn.shiftPoint(g,y,(S+1)*4),M=Zn.shiftPoint(y,g,(S+1)*4),k=this.transitionsBetween(N,d),V=this.transitionsBetween(M,b);return k<V?(l[0]=d,l[1]=g,l[2]=y,l[3]=b):(l[0]=g,l[1]=y,l[2]=b,l[3]=d),l}correctTopRight(l){let d=l[0],g=l[1],y=l[2],b=l[3],S=this.transitionsBetween(d,b),N=this.transitionsBetween(g,b),M=Zn.shiftPoint(d,g,(N+1)*4),k=Zn.shiftPoint(y,g,(S+1)*4);S=this.transitionsBetween(M,b),N=this.transitionsBetween(k,b);let V=new et(b.getX()+(y.getX()-g.getX())/(S+1),b.getY()+(y.getY()-g.getY())/(S+1)),W=new et(b.getX()+(d.getX()-g.getX())/(N+1),b.getY()+(d.getY()-g.getY())/(N+1));if(!this.isValid(V))return this.isValid(W)?W:null;if(!this.isValid(W))return V;let Z=this.transitionsBetween(M,V)+this.transitionsBetween(k,V),ie=this.transitionsBetween(M,W)+this.transitionsBetween(k,W);return Z>ie?V:W}shiftToModuleCenter(l){let d=l[0],g=l[1],y=l[2],b=l[3],S=this.transitionsBetween(d,b)+1,N=this.transitionsBetween(y,b)+1,M=Zn.shiftPoint(d,g,N*4),k=Zn.shiftPoint(y,g,S*4);S=this.transitionsBetween(M,b)+1,N=this.transitionsBetween(k,b)+1,(S&1)===1&&(S+=1),(N&1)===1&&(N+=1);let V=(d.getX()+g.getX()+y.getX()+b.getX())/4,W=(d.getY()+g.getY()+y.getY()+b.getY())/4;d=Zn.moveAway(d,V,W),g=Zn.moveAway(g,V,W),y=Zn.moveAway(y,V,W),b=Zn.moveAway(b,V,W);let Z,ie;return M=Zn.shiftPoint(d,g,N*4),M=Zn.shiftPoint(M,b,S*4),Z=Zn.shiftPoint(g,d,N*4),Z=Zn.shiftPoint(Z,y,S*4),k=Zn.shiftPoint(y,b,N*4),k=Zn.shiftPoint(k,g,S*4),ie=Zn.shiftPoint(b,y,N*4),ie=Zn.shiftPoint(ie,d,S*4),[M,Z,k,ie]}isValid(l){return l.getX()>=0&&l.getX()<this.image.getWidth()&&l.getY()>0&&l.getY()<this.image.getHeight()}static sampleGrid(l,d,g,y,b,S,N){return or.getInstance().sampleGrid(l,S,N,.5,.5,S-.5,.5,S-.5,N-.5,.5,N-.5,d.getX(),d.getY(),b.getX(),b.getY(),y.getX(),y.getY(),g.getX(),g.getY())}transitionsBetween(l,d){let g=Math.trunc(l.getX()),y=Math.trunc(l.getY()),b=Math.trunc(d.getX()),S=Math.trunc(d.getY()),N=Math.abs(S-y)>Math.abs(b-g);if(N){let de=g;g=y,y=de,de=b,b=S,S=de}let M=Math.abs(b-g),k=Math.abs(S-y),V=-M/2,W=y<S?1:-1,Z=g<b?1:-1,ie=0,ce=this.image.get(N?y:g,N?g:y);for(let de=g,Se=y;de!==b;de+=Z){let Ce=this.image.get(N?Se:de,N?de:Se);if(Ce!==ce&&(ie++,ce=Ce),V+=k,V>0){if(Se===S)break;Se+=W,V-=M}}return ie}}class Ei{constructor(){this.decoder=new Td}decode(l,d=null){let g,y;if(d!=null&&d.has(L.PURE_BARCODE)){const k=Ei.extractPureBits(l.getBlackMatrix());g=this.decoder.decode(k),y=Ei.NO_POINTS}else{const k=new Zn(l.getBlackMatrix()).detect();g=this.decoder.decode(k.getBits()),y=k.getPoints()}const b=g.getRawBytes(),S=new Re(g.getText(),b,8*b.length,y,oe.DATA_MATRIX,T.currentTimeMillis()),N=g.getByteSegments();N!=null&&S.putMetadata(Ie.BYTE_SEGMENTS,N);const M=g.getECLevel();return M!=null&&S.putMetadata(Ie.ERROR_CORRECTION_LEVEL,M),S}reset(){}static extractPureBits(l){const d=l.getTopLeftOnBit(),g=l.getBottomRightOnBit();if(d==null||g==null)throw new ne;const y=this.moduleSize(d,l);let b=d[1];const S=g[1];let N=d[0];const k=(g[0]-N+1)/y,V=(S-b+1)/y;if(k<=0||V<=0)throw new ne;const W=y/2;b+=W,N+=W;const Z=new ue(k,V);for(let ie=0;ie<V;ie++){const ce=b+ie*y;for(let de=0;de<k;de++)l.get(N+de*y,ce)&&Z.set(de,ie)}return Z}static moduleSize(l,d){const g=d.getWidth();let y=l[0];const b=l[1];for(;y<g&&d.get(y,b);)y++;if(y===g)throw new ne;const S=y-l[0];if(S===0)throw new ne;return S}}Ei.NO_POINTS=[];class Yv extends me{constructor(l=500){super(new Ei,l)}}var Jr;(function(Y){Y[Y.L=0]="L",Y[Y.M=1]="M",Y[Y.Q=2]="Q",Y[Y.H=3]="H"})(Jr||(Jr={}));class wn{constructor(l,d,g){this.value=l,this.stringValue=d,this.bits=g,wn.FOR_BITS.set(g,this),wn.FOR_VALUE.set(l,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(l){switch(l){case"L":return wn.L;case"M":return wn.M;case"Q":return wn.Q;case"H":return wn.H;default:throw new p(l+"not available")}}toString(){return this.stringValue}equals(l){if(!(l instanceof wn))return!1;const d=l;return this.value===d.value}static forBits(l){if(l<0||l>=wn.FOR_BITS.size)throw new v;return wn.FOR_BITS.get(l)}}wn.FOR_BITS=new Map,wn.FOR_VALUE=new Map,wn.L=new wn(Jr.L,"L",1),wn.M=new wn(Jr.M,"M",0),wn.Q=new wn(Jr.Q,"Q",3),wn.H=new wn(Jr.H,"H",2);class ea{constructor(l){this.errorCorrectionLevel=wn.forBits(l>>3&3),this.dataMask=l&7}static numBitsDiffering(l,d){return I.bitCount(l^d)}static decodeFormatInformation(l,d){const g=ea.doDecodeFormatInformation(l,d);return g!==null?g:ea.doDecodeFormatInformation(l^ea.FORMAT_INFO_MASK_QR,d^ea.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(l,d){let g=Number.MAX_SAFE_INTEGER,y=0;for(const b of ea.FORMAT_INFO_DECODE_LOOKUP){const S=b[0];if(S===l||S===d)return new ea(b[1]);let N=ea.numBitsDiffering(l,S);N<g&&(y=b[1],g=N),l!==d&&(N=ea.numBitsDiffering(d,S),N<g&&(y=b[1],g=N))}return g<=3?new ea(y):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(l){if(!(l instanceof ea))return!1;const d=l;return this.errorCorrectionLevel===d.errorCorrectionLevel&&this.dataMask===d.dataMask}}ea.FORMAT_INFO_MASK_QR=21522,ea.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class je{constructor(l,...d){this.ecCodewordsPerBlock=l,this.ecBlocks=d}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let l=0;const d=this.ecBlocks;for(const g of d)l+=g.getCount();return l}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class re{constructor(l,d){this.count=l,this.dataCodewords=d}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class gt{constructor(l,d,...g){this.versionNumber=l,this.alignmentPatternCenters=d,this.ecBlocks=g;let y=0;const b=g[0].getECCodewordsPerBlock(),S=g[0].getECBlocks();for(const N of S)y+=N.getCount()*(N.getDataCodewords()+b);this.totalCodewords=y}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(l){return this.ecBlocks[l.getValue()]}static getProvisionalVersionForDimension(l){if(l%4!==1)throw new B;try{return this.getVersionForNumber((l-17)/4)}catch{throw new B}}static getVersionForNumber(l){if(l<1||l>40)throw new v;return gt.VERSIONS[l-1]}static decodeVersionInformation(l){let d=Number.MAX_SAFE_INTEGER,g=0;for(let y=0;y<gt.VERSION_DECODE_INFO.length;y++){const b=gt.VERSION_DECODE_INFO[y];if(b===l)return gt.getVersionForNumber(y+7);const S=ea.numBitsDiffering(l,b);S<d&&(g=y+7,d=S)}return d<=3?gt.getVersionForNumber(g):null}buildFunctionPattern(){const l=this.getDimensionForVersion(),d=new ue(l);d.setRegion(0,0,9,9),d.setRegion(l-8,0,8,9),d.setRegion(0,l-8,9,8);const g=this.alignmentPatternCenters.length;for(let y=0;y<g;y++){const b=this.alignmentPatternCenters[y]-2;for(let S=0;S<g;S++)y===0&&(S===0||S===g-1)||y===g-1&&S===0||d.setRegion(this.alignmentPatternCenters[S]-2,b,5,5)}return d.setRegion(6,9,1,l-17),d.setRegion(9,6,l-17,1),this.versionNumber>6&&(d.setRegion(l-11,0,3,6),d.setRegion(0,l-11,6,3)),d}toString(){return""+this.versionNumber}}gt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),gt.VERSIONS=[new gt(1,new Int32Array(0),new je(7,new re(1,19)),new je(10,new re(1,16)),new je(13,new re(1,13)),new je(17,new re(1,9))),new gt(2,Int32Array.from([6,18]),new je(10,new re(1,34)),new je(16,new re(1,28)),new je(22,new re(1,22)),new je(28,new re(1,16))),new gt(3,Int32Array.from([6,22]),new je(15,new re(1,55)),new je(26,new re(1,44)),new je(18,new re(2,17)),new je(22,new re(2,13))),new gt(4,Int32Array.from([6,26]),new je(20,new re(1,80)),new je(18,new re(2,32)),new je(26,new re(2,24)),new je(16,new re(4,9))),new gt(5,Int32Array.from([6,30]),new je(26,new re(1,108)),new je(24,new re(2,43)),new je(18,new re(2,15),new re(2,16)),new je(22,new re(2,11),new re(2,12))),new gt(6,Int32Array.from([6,34]),new je(18,new re(2,68)),new je(16,new re(4,27)),new je(24,new re(4,19)),new je(28,new re(4,15))),new gt(7,Int32Array.from([6,22,38]),new je(20,new re(2,78)),new je(18,new re(4,31)),new je(18,new re(2,14),new re(4,15)),new je(26,new re(4,13),new re(1,14))),new gt(8,Int32Array.from([6,24,42]),new je(24,new re(2,97)),new je(22,new re(2,38),new re(2,39)),new je(22,new re(4,18),new re(2,19)),new je(26,new re(4,14),new re(2,15))),new gt(9,Int32Array.from([6,26,46]),new je(30,new re(2,116)),new je(22,new re(3,36),new re(2,37)),new je(20,new re(4,16),new re(4,17)),new je(24,new re(4,12),new re(4,13))),new gt(10,Int32Array.from([6,28,50]),new je(18,new re(2,68),new re(2,69)),new je(26,new re(4,43),new re(1,44)),new je(24,new re(6,19),new re(2,20)),new je(28,new re(6,15),new re(2,16))),new gt(11,Int32Array.from([6,30,54]),new je(20,new re(4,81)),new je(30,new re(1,50),new re(4,51)),new je(28,new re(4,22),new re(4,23)),new je(24,new re(3,12),new re(8,13))),new gt(12,Int32Array.from([6,32,58]),new je(24,new re(2,92),new re(2,93)),new je(22,new re(6,36),new re(2,37)),new je(26,new re(4,20),new re(6,21)),new je(28,new re(7,14),new re(4,15))),new gt(13,Int32Array.from([6,34,62]),new je(26,new re(4,107)),new je(22,new re(8,37),new re(1,38)),new je(24,new re(8,20),new re(4,21)),new je(22,new re(12,11),new re(4,12))),new gt(14,Int32Array.from([6,26,46,66]),new je(30,new re(3,115),new re(1,116)),new je(24,new re(4,40),new re(5,41)),new je(20,new re(11,16),new re(5,17)),new je(24,new re(11,12),new re(5,13))),new gt(15,Int32Array.from([6,26,48,70]),new je(22,new re(5,87),new re(1,88)),new je(24,new re(5,41),new re(5,42)),new je(30,new re(5,24),new re(7,25)),new je(24,new re(11,12),new re(7,13))),new gt(16,Int32Array.from([6,26,50,74]),new je(24,new re(5,98),new re(1,99)),new je(28,new re(7,45),new re(3,46)),new je(24,new re(15,19),new re(2,20)),new je(30,new re(3,15),new re(13,16))),new gt(17,Int32Array.from([6,30,54,78]),new je(28,new re(1,107),new re(5,108)),new je(28,new re(10,46),new re(1,47)),new je(28,new re(1,22),new re(15,23)),new je(28,new re(2,14),new re(17,15))),new gt(18,Int32Array.from([6,30,56,82]),new je(30,new re(5,120),new re(1,121)),new je(26,new re(9,43),new re(4,44)),new je(28,new re(17,22),new re(1,23)),new je(28,new re(2,14),new re(19,15))),new gt(19,Int32Array.from([6,30,58,86]),new je(28,new re(3,113),new re(4,114)),new je(26,new re(3,44),new re(11,45)),new je(26,new re(17,21),new re(4,22)),new je(26,new re(9,13),new re(16,14))),new gt(20,Int32Array.from([6,34,62,90]),new je(28,new re(3,107),new re(5,108)),new je(26,new re(3,41),new re(13,42)),new je(30,new re(15,24),new re(5,25)),new je(28,new re(15,15),new re(10,16))),new gt(21,Int32Array.from([6,28,50,72,94]),new je(28,new re(4,116),new re(4,117)),new je(26,new re(17,42)),new je(28,new re(17,22),new re(6,23)),new je(30,new re(19,16),new re(6,17))),new gt(22,Int32Array.from([6,26,50,74,98]),new je(28,new re(2,111),new re(7,112)),new je(28,new re(17,46)),new je(30,new re(7,24),new re(16,25)),new je(24,new re(34,13))),new gt(23,Int32Array.from([6,30,54,78,102]),new je(30,new re(4,121),new re(5,122)),new je(28,new re(4,47),new re(14,48)),new je(30,new re(11,24),new re(14,25)),new je(30,new re(16,15),new re(14,16))),new gt(24,Int32Array.from([6,28,54,80,106]),new je(30,new re(6,117),new re(4,118)),new je(28,new re(6,45),new re(14,46)),new je(30,new re(11,24),new re(16,25)),new je(30,new re(30,16),new re(2,17))),new gt(25,Int32Array.from([6,32,58,84,110]),new je(26,new re(8,106),new re(4,107)),new je(28,new re(8,47),new re(13,48)),new je(30,new re(7,24),new re(22,25)),new je(30,new re(22,15),new re(13,16))),new gt(26,Int32Array.from([6,30,58,86,114]),new je(28,new re(10,114),new re(2,115)),new je(28,new re(19,46),new re(4,47)),new je(28,new re(28,22),new re(6,23)),new je(30,new re(33,16),new re(4,17))),new gt(27,Int32Array.from([6,34,62,90,118]),new je(30,new re(8,122),new re(4,123)),new je(28,new re(22,45),new re(3,46)),new je(30,new re(8,23),new re(26,24)),new je(30,new re(12,15),new re(28,16))),new gt(28,Int32Array.from([6,26,50,74,98,122]),new je(30,new re(3,117),new re(10,118)),new je(28,new re(3,45),new re(23,46)),new je(30,new re(4,24),new re(31,25)),new je(30,new re(11,15),new re(31,16))),new gt(29,Int32Array.from([6,30,54,78,102,126]),new je(30,new re(7,116),new re(7,117)),new je(28,new re(21,45),new re(7,46)),new je(30,new re(1,23),new re(37,24)),new je(30,new re(19,15),new re(26,16))),new gt(30,Int32Array.from([6,26,52,78,104,130]),new je(30,new re(5,115),new re(10,116)),new je(28,new re(19,47),new re(10,48)),new je(30,new re(15,24),new re(25,25)),new je(30,new re(23,15),new re(25,16))),new gt(31,Int32Array.from([6,30,56,82,108,134]),new je(30,new re(13,115),new re(3,116)),new je(28,new re(2,46),new re(29,47)),new je(30,new re(42,24),new re(1,25)),new je(30,new re(23,15),new re(28,16))),new gt(32,Int32Array.from([6,34,60,86,112,138]),new je(30,new re(17,115)),new je(28,new re(10,46),new re(23,47)),new je(30,new re(10,24),new re(35,25)),new je(30,new re(19,15),new re(35,16))),new gt(33,Int32Array.from([6,30,58,86,114,142]),new je(30,new re(17,115),new re(1,116)),new je(28,new re(14,46),new re(21,47)),new je(30,new re(29,24),new re(19,25)),new je(30,new re(11,15),new re(46,16))),new gt(34,Int32Array.from([6,34,62,90,118,146]),new je(30,new re(13,115),new re(6,116)),new je(28,new re(14,46),new re(23,47)),new je(30,new re(44,24),new re(7,25)),new je(30,new re(59,16),new re(1,17))),new gt(35,Int32Array.from([6,30,54,78,102,126,150]),new je(30,new re(12,121),new re(7,122)),new je(28,new re(12,47),new re(26,48)),new je(30,new re(39,24),new re(14,25)),new je(30,new re(22,15),new re(41,16))),new gt(36,Int32Array.from([6,24,50,76,102,128,154]),new je(30,new re(6,121),new re(14,122)),new je(28,new re(6,47),new re(34,48)),new je(30,new re(46,24),new re(10,25)),new je(30,new re(2,15),new re(64,16))),new gt(37,Int32Array.from([6,28,54,80,106,132,158]),new je(30,new re(17,122),new re(4,123)),new je(28,new re(29,46),new re(14,47)),new je(30,new re(49,24),new re(10,25)),new je(30,new re(24,15),new re(46,16))),new gt(38,Int32Array.from([6,32,58,84,110,136,162]),new je(30,new re(4,122),new re(18,123)),new je(28,new re(13,46),new re(32,47)),new je(30,new re(48,24),new re(14,25)),new je(30,new re(42,15),new re(32,16))),new gt(39,Int32Array.from([6,26,54,82,110,138,166]),new je(30,new re(20,117),new re(4,118)),new je(28,new re(40,47),new re(7,48)),new je(30,new re(43,24),new re(22,25)),new je(30,new re(10,15),new re(67,16))),new gt(40,Int32Array.from([6,30,58,86,114,142,170]),new je(30,new re(19,118),new re(6,119)),new je(28,new re(18,47),new re(31,48)),new je(30,new re(34,24),new re(34,25)),new je(30,new re(20,15),new re(61,16)))];var _r;(function(Y){Y[Y.DATA_MASK_000=0]="DATA_MASK_000",Y[Y.DATA_MASK_001=1]="DATA_MASK_001",Y[Y.DATA_MASK_010=2]="DATA_MASK_010",Y[Y.DATA_MASK_011=3]="DATA_MASK_011",Y[Y.DATA_MASK_100=4]="DATA_MASK_100",Y[Y.DATA_MASK_101=5]="DATA_MASK_101",Y[Y.DATA_MASK_110=6]="DATA_MASK_110",Y[Y.DATA_MASK_111=7]="DATA_MASK_111"})(_r||(_r={}));class ta{constructor(l,d){this.value=l,this.isMasked=d}unmaskBitMatrix(l,d){for(let g=0;g<d;g++)for(let y=0;y<d;y++)this.isMasked(g,y)&&l.flip(y,g)}}ta.values=new Map([[_r.DATA_MASK_000,new ta(_r.DATA_MASK_000,(Y,l)=>(Y+l&1)===0)],[_r.DATA_MASK_001,new ta(_r.DATA_MASK_001,(Y,l)=>(Y&1)===0)],[_r.DATA_MASK_010,new ta(_r.DATA_MASK_010,(Y,l)=>l%3===0)],[_r.DATA_MASK_011,new ta(_r.DATA_MASK_011,(Y,l)=>(Y+l)%3===0)],[_r.DATA_MASK_100,new ta(_r.DATA_MASK_100,(Y,l)=>(Math.floor(Y/2)+Math.floor(l/3)&1)===0)],[_r.DATA_MASK_101,new ta(_r.DATA_MASK_101,(Y,l)=>Y*l%6===0)],[_r.DATA_MASK_110,new ta(_r.DATA_MASK_110,(Y,l)=>Y*l%6<3)],[_r.DATA_MASK_111,new ta(_r.DATA_MASK_111,(Y,l)=>(Y+l+Y*l%3&1)===0)]]);class Wv{constructor(l){const d=l.getHeight();if(d<21||(d&3)!==1)throw new B;this.bitMatrix=l}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let l=0;for(let b=0;b<6;b++)l=this.copyBit(b,8,l);l=this.copyBit(7,8,l),l=this.copyBit(8,8,l),l=this.copyBit(8,7,l);for(let b=5;b>=0;b--)l=this.copyBit(8,b,l);const d=this.bitMatrix.getHeight();let g=0;const y=d-7;for(let b=d-1;b>=y;b--)g=this.copyBit(8,b,g);for(let b=d-8;b<d;b++)g=this.copyBit(b,8,g);if(this.parsedFormatInfo=ea.decodeFormatInformation(l,g),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new B}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const l=this.bitMatrix.getHeight(),d=Math.floor((l-17)/4);if(d<=6)return gt.getVersionForNumber(d);let g=0;const y=l-11;for(let S=5;S>=0;S--)for(let N=l-9;N>=y;N--)g=this.copyBit(N,S,g);let b=gt.decodeVersionInformation(g);if(b!==null&&b.getDimensionForVersion()===l)return this.parsedVersion=b,b;g=0;for(let S=5;S>=0;S--)for(let N=l-9;N>=y;N--)g=this.copyBit(S,N,g);if(b=gt.decodeVersionInformation(g),b!==null&&b.getDimensionForVersion()===l)return this.parsedVersion=b,b;throw new B}copyBit(l,d,g){return(this.isMirror?this.bitMatrix.get(d,l):this.bitMatrix.get(l,d))?g<<1|1:g<<1}readCodewords(){const l=this.readFormatInformation(),d=this.readVersion(),g=ta.values.get(l.getDataMask()),y=this.bitMatrix.getHeight();g.unmaskBitMatrix(this.bitMatrix,y);const b=d.buildFunctionPattern();let S=!0;const N=new Uint8Array(d.getTotalCodewords());let M=0,k=0,V=0;for(let W=y-1;W>0;W-=2){W===6&&W--;for(let Z=0;Z<y;Z++){const ie=S?y-1-Z:Z;for(let ce=0;ce<2;ce++)b.get(W-ce,ie)||(V++,k<<=1,this.bitMatrix.get(W-ce,ie)&&(k|=1),V===8&&(N[M++]=k,V=0,k=0))}S=!S}if(M!==d.getTotalCodewords())throw new B;return N}remask(){if(this.parsedFormatInfo===null)return;const l=ta.values[this.parsedFormatInfo.getDataMask()],d=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,d)}setMirror(l){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=l}mirror(){const l=this.bitMatrix;for(let d=0,g=l.getWidth();d<g;d++)for(let y=d+1,b=l.getHeight();y<b;y++)l.get(d,y)!==l.get(y,d)&&(l.flip(y,d),l.flip(d,y))}}class Od{constructor(l,d){this.numDataCodewords=l,this.codewords=d}static getDataBlocks(l,d,g){if(l.length!==d.getTotalCodewords())throw new v;const y=d.getECBlocksForLevel(g);let b=0;const S=y.getECBlocks();for(const ce of S)b+=ce.getCount();const N=new Array(b);let M=0;for(const ce of S)for(let de=0;de<ce.getCount();de++){const Se=ce.getDataCodewords(),Ce=y.getECCodewordsPerBlock()+Se;N[M++]=new Od(Se,new Uint8Array(Ce))}const k=N[0].codewords.length;let V=N.length-1;for(;V>=0&&N[V].codewords.length!==k;)V--;V++;const W=k-y.getECCodewordsPerBlock();let Z=0;for(let ce=0;ce<W;ce++)for(let de=0;de<M;de++)N[de].codewords[ce]=l[Z++];for(let ce=V;ce<M;ce++)N[ce].codewords[W]=l[Z++];const ie=N[0].codewords.length;for(let ce=W;ce<ie;ce++)for(let de=0;de<M;de++){const Se=de<V?ce:ce+1;N[de].codewords[Se]=l[Z++]}return N}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Ja;(function(Y){Y[Y.TERMINATOR=0]="TERMINATOR",Y[Y.NUMERIC=1]="NUMERIC",Y[Y.ALPHANUMERIC=2]="ALPHANUMERIC",Y[Y.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",Y[Y.BYTE=4]="BYTE",Y[Y.ECI=5]="ECI",Y[Y.KANJI=6]="KANJI",Y[Y.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",Y[Y.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",Y[Y.HANZI=9]="HANZI"})(Ja||(Ja={}));class xt{constructor(l,d,g,y){this.value=l,this.stringValue=d,this.characterCountBitsForVersions=g,this.bits=y,xt.FOR_BITS.set(y,this),xt.FOR_VALUE.set(l,this)}static forBits(l){const d=xt.FOR_BITS.get(l);if(d===void 0)throw new v;return d}getCharacterCountBits(l){const d=l.getVersionNumber();let g;return d<=9?g=0:d<=26?g=1:g=2,this.characterCountBitsForVersions[g]}getValue(){return this.value}getBits(){return this.bits}equals(l){if(!(l instanceof xt))return!1;const d=l;return this.value===d.value}toString(){return this.stringValue}}xt.FOR_BITS=new Map,xt.FOR_VALUE=new Map,xt.TERMINATOR=new xt(Ja.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),xt.NUMERIC=new xt(Ja.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),xt.ALPHANUMERIC=new xt(Ja.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),xt.STRUCTURED_APPEND=new xt(Ja.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),xt.BYTE=new xt(Ja.BYTE,"BYTE",Int32Array.from([8,16,16]),4),xt.ECI=new xt(Ja.ECI,"ECI",Int32Array.from([0,0,0]),7),xt.KANJI=new xt(Ja.KANJI,"KANJI",Int32Array.from([8,10,12]),8),xt.FNC1_FIRST_POSITION=new xt(Ja.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),xt.FNC1_SECOND_POSITION=new xt(Ja.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),xt.HANZI=new xt(Ja.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Yn{static decode(l,d,g,y){const b=new ka(l);let S=new ee;const N=new Array;let M=-1,k=-1;try{let V=null,W=!1,Z;do{if(b.available()<4)Z=xt.TERMINATOR;else{const ie=b.readBits(4);Z=xt.forBits(ie)}switch(Z){case xt.TERMINATOR:break;case xt.FNC1_FIRST_POSITION:case xt.FNC1_SECOND_POSITION:W=!0;break;case xt.STRUCTURED_APPEND:if(b.available()<16)throw new B;M=b.readBits(8),k=b.readBits(8);break;case xt.ECI:const ie=Yn.parseECIValue(b);if(V=z.getCharacterSetECIByValue(ie),V===null)throw new B;break;case xt.HANZI:const ce=b.readBits(4),de=b.readBits(Z.getCharacterCountBits(d));ce===Yn.GB2312_SUBSET&&Yn.decodeHanziSegment(b,S,de);break;default:const Se=b.readBits(Z.getCharacterCountBits(d));switch(Z){case xt.NUMERIC:Yn.decodeNumericSegment(b,S,Se);break;case xt.ALPHANUMERIC:Yn.decodeAlphanumericSegment(b,S,Se,W);break;case xt.BYTE:Yn.decodeByteSegment(b,S,Se,V,N,y);break;case xt.KANJI:Yn.decodeKanjiSegment(b,S,Se);break;default:throw new B}break}}while(Z!==xt.TERMINATOR)}catch{throw new B}return new xe(l,S.toString(),N.length===0?null:N,g===null?null:g.toString(),M,k)}static decodeHanziSegment(l,d,g){if(g*13>l.available())throw new B;const y=new Uint8Array(2*g);let b=0;for(;g>0;){const S=l.readBits(13);let N=S/96<<8&4294967295|S%96;N<959?N+=41377:N+=42657,y[b]=N>>8&255,y[b+1]=N&255,b+=2,g--}try{d.append(X.decode(y,K.GB2312))}catch(S){throw new B(S)}}static decodeKanjiSegment(l,d,g){if(g*13>l.available())throw new B;const y=new Uint8Array(2*g);let b=0;for(;g>0;){const S=l.readBits(13);let N=S/192<<8&4294967295|S%192;N<7936?N+=33088:N+=49472,y[b]=N>>8,y[b+1]=N,b+=2,g--}try{d.append(X.decode(y,K.SHIFT_JIS))}catch(S){throw new B(S)}}static decodeByteSegment(l,d,g,y,b,S){if(8*g>l.available())throw new B;const N=new Uint8Array(g);for(let k=0;k<g;k++)N[k]=l.readBits(8);let M;y===null?M=K.guessEncoding(N,S):M=y.getName();try{d.append(X.decode(N,M))}catch(k){throw new B(k)}b.push(N)}static toAlphaNumericChar(l){if(l>=Yn.ALPHANUMERIC_CHARS.length)throw new B;return Yn.ALPHANUMERIC_CHARS[l]}static decodeAlphanumericSegment(l,d,g,y){const b=d.length();for(;g>1;){if(l.available()<11)throw new B;const S=l.readBits(11);d.append(Yn.toAlphaNumericChar(Math.floor(S/45))),d.append(Yn.toAlphaNumericChar(S%45)),g-=2}if(g===1){if(l.available()<6)throw new B;d.append(Yn.toAlphaNumericChar(l.readBits(6)))}if(y)for(let S=b;S<d.length();S++)d.charAt(S)==="%"&&(S<d.length()-1&&d.charAt(S+1)==="%"?d.deleteCharAt(S+1):d.setCharAt(S,""))}static decodeNumericSegment(l,d,g){for(;g>=3;){if(l.available()<10)throw new B;const y=l.readBits(10);if(y>=1e3)throw new B;d.append(Yn.toAlphaNumericChar(Math.floor(y/100))),d.append(Yn.toAlphaNumericChar(Math.floor(y/10)%10)),d.append(Yn.toAlphaNumericChar(y%10)),g-=3}if(g===2){if(l.available()<7)throw new B;const y=l.readBits(7);if(y>=100)throw new B;d.append(Yn.toAlphaNumericChar(Math.floor(y/10))),d.append(Yn.toAlphaNumericChar(y%10))}else if(g===1){if(l.available()<4)throw new B;const y=l.readBits(4);if(y>=10)throw new B;d.append(Yn.toAlphaNumericChar(y))}}static parseECIValue(l){const d=l.readBits(8);if((d&128)===0)return d&127;if((d&192)===128){const g=l.readBits(8);return(d&63)<<8&4294967295|g}if((d&224)===192){const g=l.readBits(16);return(d&31)<<16&4294967295|g}throw new B}}Yn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Yn.GB2312_SUBSET=1;class yg{constructor(l){this.mirrored=l}isMirrored(){return this.mirrored}applyMirroredCorrection(l){if(!this.mirrored||l===null||l.length<3)return;const d=l[0];l[0]=l[2],l[2]=d}}class Md{constructor(){this.rsDecoder=new Mt(Xe.QR_CODE_FIELD_256)}decodeBooleanArray(l,d){return this.decodeBitMatrix(ue.parseFromBooleanArray(l),d)}decodeBitMatrix(l,d){const g=new Wv(l);let y=null;try{return this.decodeBitMatrixParser(g,d)}catch(b){y=b}try{g.remask(),g.setMirror(!0),g.readVersion(),g.readFormatInformation(),g.mirror();const b=this.decodeBitMatrixParser(g,d);return b.setOther(new yg(!0)),b}catch(b){throw y!==null?y:b}}decodeBitMatrixParser(l,d){const g=l.readVersion(),y=l.readFormatInformation().getErrorCorrectionLevel(),b=l.readCodewords(),S=Od.getDataBlocks(b,g,y);let N=0;for(const V of S)N+=V.getNumDataCodewords();const M=new Uint8Array(N);let k=0;for(const V of S){const W=V.getCodewords(),Z=V.getNumDataCodewords();this.correctErrors(W,Z);for(let ie=0;ie<Z;ie++)M[k++]=W[ie]}return Yn.decode(M,g,y,d)}correctErrors(l,d){const g=new Int32Array(l);try{this.rsDecoder.decode(g,l.length-d)}catch{throw new E}for(let y=0;y<d;y++)l[y]=g[y]}}class fu extends et{constructor(l,d,g){super(l,d),this.estimatedModuleSize=g}aboutEquals(l,d,g){if(Math.abs(d-this.getY())<=l&&Math.abs(g-this.getX())<=l){const y=Math.abs(l-this.estimatedModuleSize);return y<=1||y<=this.estimatedModuleSize}return!1}combineEstimate(l,d,g){const y=(this.getX()+d)/2,b=(this.getY()+l)/2,S=(this.estimatedModuleSize+g)/2;return new fu(y,b,S)}}class Hl{constructor(l,d,g,y,b,S,N){this.image=l,this.startX=d,this.startY=g,this.width=y,this.height=b,this.moduleSize=S,this.resultPointCallback=N,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const l=this.startX,d=this.height,g=this.width,y=l+g,b=this.startY+d/2,S=new Int32Array(3),N=this.image;for(let M=0;M<d;M++){const k=b+((M&1)===0?Math.floor((M+1)/2):-Math.floor((M+1)/2));S[0]=0,S[1]=0,S[2]=0;let V=l;for(;V<y&&!N.get(V,k);)V++;let W=0;for(;V<y;){if(N.get(V,k))if(W===1)S[1]++;else if(W===2){if(this.foundPatternCross(S)){const Z=this.handlePossibleCenter(S,k,V);if(Z!==null)return Z}S[0]=S[2],S[1]=1,S[2]=0,W=1}else S[++W]++;else W===1&&W++,S[W]++;V++}if(this.foundPatternCross(S)){const Z=this.handlePossibleCenter(S,k,y);if(Z!==null)return Z}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ne}static centerFromEnd(l,d){return d-l[2]-l[1]/2}foundPatternCross(l){const d=this.moduleSize,g=d/2;for(let y=0;y<3;y++)if(Math.abs(d-l[y])>=g)return!1;return!0}crossCheckVertical(l,d,g,y){const b=this.image,S=b.getHeight(),N=this.crossCheckStateCount;N[0]=0,N[1]=0,N[2]=0;let M=l;for(;M>=0&&b.get(d,M)&&N[1]<=g;)N[1]++,M--;if(M<0||N[1]>g)return NaN;for(;M>=0&&!b.get(d,M)&&N[0]<=g;)N[0]++,M--;if(N[0]>g)return NaN;for(M=l+1;M<S&&b.get(d,M)&&N[1]<=g;)N[1]++,M++;if(M===S||N[1]>g)return NaN;for(;M<S&&!b.get(d,M)&&N[2]<=g;)N[2]++,M++;if(N[2]>g)return NaN;const k=N[0]+N[1]+N[2];return 5*Math.abs(k-y)>=2*y?NaN:this.foundPatternCross(N)?Hl.centerFromEnd(N,M):NaN}handlePossibleCenter(l,d,g){const y=l[0]+l[1]+l[2],b=Hl.centerFromEnd(l,g),S=this.crossCheckVertical(d,b,2*l[1],y);if(!isNaN(S)){const N=(l[0]+l[1]+l[2])/3;for(const k of this.possibleCenters)if(k.aboutEquals(N,S,b))return k.combineEstimate(S,b,N);const M=new fu(b,S,N);this.possibleCenters.push(M),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(M)}return null}}class io extends et{constructor(l,d,g,y){super(l,d),this.estimatedModuleSize=g,this.count=y,y===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(l,d,g){if(Math.abs(d-this.getY())<=l&&Math.abs(g-this.getX())<=l){const y=Math.abs(l-this.estimatedModuleSize);return y<=1||y<=this.estimatedModuleSize}return!1}combineEstimate(l,d,g){const y=this.count+1,b=(this.count*this.getX()+d)/y,S=(this.count*this.getY()+l)/y,N=(this.count*this.estimatedModuleSize+g)/y;return new io(b,S,N,y)}}class ql{constructor(l){this.bottomLeft=l[0],this.topLeft=l[1],this.topRight=l[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Cr{constructor(l,d){this.image=l,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=d}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(l){const d=l!=null&&l.get(L.TRY_HARDER)!==void 0,g=l!=null&&l.get(L.PURE_BARCODE)!==void 0,y=this.image,b=y.getHeight(),S=y.getWidth();let N=Math.floor(3*b/(4*Cr.MAX_MODULES));(N<Cr.MIN_SKIP||d)&&(N=Cr.MIN_SKIP);let M=!1;const k=new Int32Array(5);for(let W=N-1;W<b&&!M;W+=N){k[0]=0,k[1]=0,k[2]=0,k[3]=0,k[4]=0;let Z=0;for(let ie=0;ie<S;ie++)if(y.get(ie,W))(Z&1)===1&&Z++,k[Z]++;else if((Z&1)===0)if(Z===4)if(Cr.foundPatternCross(k)){if(this.handlePossibleCenter(k,W,ie,g)===!0)if(N=2,this.hasSkipped===!0)M=this.haveMultiplyConfirmedCenters();else{const de=this.findRowSkip();de>k[2]&&(W+=de-k[2]-N,ie=S-1)}else{k[0]=k[2],k[1]=k[3],k[2]=k[4],k[3]=1,k[4]=0,Z=3;continue}Z=0,k[0]=0,k[1]=0,k[2]=0,k[3]=0,k[4]=0}else k[0]=k[2],k[1]=k[3],k[2]=k[4],k[3]=1,k[4]=0,Z=3;else k[++Z]++;else k[Z]++;Cr.foundPatternCross(k)&&this.handlePossibleCenter(k,W,S,g)===!0&&(N=k[0],this.hasSkipped&&(M=this.haveMultiplyConfirmedCenters()))}const V=this.selectBestPatterns();return et.orderBestPatterns(V),new ql(V)}static centerFromEnd(l,d){return d-l[4]-l[3]-l[2]/2}static foundPatternCross(l){let d=0;for(let b=0;b<5;b++){const S=l[b];if(S===0)return!1;d+=S}if(d<7)return!1;const g=d/7,y=g/2;return Math.abs(g-l[0])<y&&Math.abs(g-l[1])<y&&Math.abs(3*g-l[2])<3*y&&Math.abs(g-l[3])<y&&Math.abs(g-l[4])<y}getCrossCheckStateCount(){const l=this.crossCheckStateCount;return l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l}crossCheckDiagonal(l,d,g,y){const b=this.getCrossCheckStateCount();let S=0;const N=this.image;for(;l>=S&&d>=S&&N.get(d-S,l-S);)b[2]++,S++;if(l<S||d<S)return!1;for(;l>=S&&d>=S&&!N.get(d-S,l-S)&&b[1]<=g;)b[1]++,S++;if(l<S||d<S||b[1]>g)return!1;for(;l>=S&&d>=S&&N.get(d-S,l-S)&&b[0]<=g;)b[0]++,S++;if(b[0]>g)return!1;const M=N.getHeight(),k=N.getWidth();for(S=1;l+S<M&&d+S<k&&N.get(d+S,l+S);)b[2]++,S++;if(l+S>=M||d+S>=k)return!1;for(;l+S<M&&d+S<k&&!N.get(d+S,l+S)&&b[3]<g;)b[3]++,S++;if(l+S>=M||d+S>=k||b[3]>=g)return!1;for(;l+S<M&&d+S<k&&N.get(d+S,l+S)&&b[4]<g;)b[4]++,S++;if(b[4]>=g)return!1;const V=b[0]+b[1]+b[2]+b[3]+b[4];return Math.abs(V-y)<2*y&&Cr.foundPatternCross(b)}crossCheckVertical(l,d,g,y){const b=this.image,S=b.getHeight(),N=this.getCrossCheckStateCount();let M=l;for(;M>=0&&b.get(d,M);)N[2]++,M--;if(M<0)return NaN;for(;M>=0&&!b.get(d,M)&&N[1]<=g;)N[1]++,M--;if(M<0||N[1]>g)return NaN;for(;M>=0&&b.get(d,M)&&N[0]<=g;)N[0]++,M--;if(N[0]>g)return NaN;for(M=l+1;M<S&&b.get(d,M);)N[2]++,M++;if(M===S)return NaN;for(;M<S&&!b.get(d,M)&&N[3]<g;)N[3]++,M++;if(M===S||N[3]>=g)return NaN;for(;M<S&&b.get(d,M)&&N[4]<g;)N[4]++,M++;if(N[4]>=g)return NaN;const k=N[0]+N[1]+N[2]+N[3]+N[4];return 5*Math.abs(k-y)>=2*y?NaN:Cr.foundPatternCross(N)?Cr.centerFromEnd(N,M):NaN}crossCheckHorizontal(l,d,g,y){const b=this.image,S=b.getWidth(),N=this.getCrossCheckStateCount();let M=l;for(;M>=0&&b.get(M,d);)N[2]++,M--;if(M<0)return NaN;for(;M>=0&&!b.get(M,d)&&N[1]<=g;)N[1]++,M--;if(M<0||N[1]>g)return NaN;for(;M>=0&&b.get(M,d)&&N[0]<=g;)N[0]++,M--;if(N[0]>g)return NaN;for(M=l+1;M<S&&b.get(M,d);)N[2]++,M++;if(M===S)return NaN;for(;M<S&&!b.get(M,d)&&N[3]<g;)N[3]++,M++;if(M===S||N[3]>=g)return NaN;for(;M<S&&b.get(M,d)&&N[4]<g;)N[4]++,M++;if(N[4]>=g)return NaN;const k=N[0]+N[1]+N[2]+N[3]+N[4];return 5*Math.abs(k-y)>=y?NaN:Cr.foundPatternCross(N)?Cr.centerFromEnd(N,M):NaN}handlePossibleCenter(l,d,g,y){const b=l[0]+l[1]+l[2]+l[3]+l[4];let S=Cr.centerFromEnd(l,g),N=this.crossCheckVertical(d,Math.floor(S),l[2],b);if(!isNaN(N)&&(S=this.crossCheckHorizontal(Math.floor(S),Math.floor(N),l[2],b),!isNaN(S)&&(!y||this.crossCheckDiagonal(Math.floor(N),Math.floor(S),l[2],b)))){const M=b/7;let k=!1;const V=this.possibleCenters;for(let W=0,Z=V.length;W<Z;W++){const ie=V[W];if(ie.aboutEquals(M,N,S)){V[W]=ie.combineEstimate(N,S,M),k=!0;break}}if(!k){const W=new io(S,N,M);V.push(W),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(W)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let d=null;for(const g of this.possibleCenters)if(g.getCount()>=Cr.CENTER_QUORUM)if(d==null)d=g;else return this.hasSkipped=!0,Math.floor((Math.abs(d.getX()-g.getX())-Math.abs(d.getY()-g.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let l=0,d=0;const g=this.possibleCenters.length;for(const S of this.possibleCenters)S.getCount()>=Cr.CENTER_QUORUM&&(l++,d+=S.getEstimatedModuleSize());if(l<3)return!1;const y=d/g;let b=0;for(const S of this.possibleCenters)b+=Math.abs(S.getEstimatedModuleSize()-y);return b<=.05*d}selectBestPatterns(){const l=this.possibleCenters.length;if(l<3)throw new ne;const d=this.possibleCenters;let g;if(l>3){let y=0,b=0;for(const M of this.possibleCenters){const k=M.getEstimatedModuleSize();y+=k,b+=k*k}g=y/l;let S=Math.sqrt(b/l-g*g);d.sort((M,k)=>{const V=Math.abs(k.getEstimatedModuleSize()-g),W=Math.abs(M.getEstimatedModuleSize()-g);return V<W?-1:V>W?1:0});const N=Math.max(.2*g,S);for(let M=0;M<d.length&&d.length>3;M++){const k=d[M];Math.abs(k.getEstimatedModuleSize()-g)>N&&(d.splice(M,1),M--)}}if(d.length>3){let y=0;for(const b of d)y+=b.getEstimatedModuleSize();g=y/d.length,d.sort((b,S)=>{if(S.getCount()===b.getCount()){const N=Math.abs(S.getEstimatedModuleSize()-g),M=Math.abs(b.getEstimatedModuleSize()-g);return N<M?1:N>M?-1:0}else return S.getCount()-b.getCount()}),d.splice(3)}return[d[0],d[1],d[2]]}}Cr.CENTER_QUORUM=2,Cr.MIN_SKIP=3,Cr.MAX_MODULES=57;class $o{constructor(l){this.image=l}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(l){this.resultPointCallback=l==null?null:l.get(L.NEED_RESULT_POINT_CALLBACK);const g=new Cr(this.image,this.resultPointCallback).find(l);return this.processFinderPatternInfo(g)}processFinderPatternInfo(l){const d=l.getTopLeft(),g=l.getTopRight(),y=l.getBottomLeft(),b=this.calculateModuleSize(d,g,y);if(b<1)throw new ne("No pattern found in proccess finder.");const S=$o.computeDimension(d,g,y,b),N=gt.getProvisionalVersionForDimension(S),M=N.getDimensionForVersion()-7;let k=null;if(N.getAlignmentPatternCenters().length>0){const ie=g.getX()-d.getX()+y.getX(),ce=g.getY()-d.getY()+y.getY(),de=1-3/M,Se=Math.floor(d.getX()+de*(ie-d.getX())),Ce=Math.floor(d.getY()+de*(ce-d.getY()));for(let qe=4;qe<=16;qe<<=1)try{k=this.findAlignmentInRegion(b,Se,Ce,qe);break}catch(We){if(!(We instanceof ne))throw We}}const V=$o.createTransform(d,g,y,k,S),W=$o.sampleGrid(this.image,V,S);let Z;return k===null?Z=[y,d,g]:Z=[y,d,g,k],new dn(W,Z)}static createTransform(l,d,g,y,b){const S=b-3.5;let N,M,k,V;return y!==null?(N=y.getX(),M=y.getY(),k=S-3,V=k):(N=d.getX()-l.getX()+g.getX(),M=d.getY()-l.getY()+g.getY(),k=S,V=S),xn.quadrilateralToQuadrilateral(3.5,3.5,S,3.5,k,V,3.5,S,l.getX(),l.getY(),d.getX(),d.getY(),N,M,g.getX(),g.getY())}static sampleGrid(l,d,g){return or.getInstance().sampleGridWithTransform(l,g,g,d)}static computeDimension(l,d,g,y){const b=Qe.round(et.distance(l,d)/y),S=Qe.round(et.distance(l,g)/y);let N=Math.floor((b+S)/2)+7;switch(N&3){case 0:N++;break;case 2:N--;break;case 3:throw new ne("Dimensions could be not found.")}return N}calculateModuleSize(l,d,g){return(this.calculateModuleSizeOneWay(l,d)+this.calculateModuleSizeOneWay(l,g))/2}calculateModuleSizeOneWay(l,d){const g=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(d.getX()),Math.floor(d.getY())),y=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(d.getX()),Math.floor(d.getY()),Math.floor(l.getX()),Math.floor(l.getY()));return isNaN(g)?y/7:isNaN(y)?g/7:(g+y)/14}sizeOfBlackWhiteBlackRunBothWays(l,d,g,y){let b=this.sizeOfBlackWhiteBlackRun(l,d,g,y),S=1,N=l-(g-l);N<0?(S=l/(l-N),N=0):N>=this.image.getWidth()&&(S=(this.image.getWidth()-1-l)/(N-l),N=this.image.getWidth()-1);let M=Math.floor(d-(y-d)*S);return S=1,M<0?(S=d/(d-M),M=0):M>=this.image.getHeight()&&(S=(this.image.getHeight()-1-d)/(M-d),M=this.image.getHeight()-1),N=Math.floor(l+(N-l)*S),b+=this.sizeOfBlackWhiteBlackRun(l,d,N,M),b-1}sizeOfBlackWhiteBlackRun(l,d,g,y){const b=Math.abs(y-d)>Math.abs(g-l);if(b){let ie=l;l=d,d=ie,ie=g,g=y,y=ie}const S=Math.abs(g-l),N=Math.abs(y-d);let M=-S/2;const k=l<g?1:-1,V=d<y?1:-1;let W=0;const Z=g+k;for(let ie=l,ce=d;ie!==Z;ie+=k){const de=b?ce:ie,Se=b?ie:ce;if(W===1===this.image.get(de,Se)){if(W===2)return Qe.distance(ie,ce,l,d);W++}if(M+=N,M>0){if(ce===y)break;ce+=V,M-=S}}return W===2?Qe.distance(g+k,y,l,d):NaN}findAlignmentInRegion(l,d,g,y){const b=Math.floor(y*l),S=Math.max(0,d-b),N=Math.min(this.image.getWidth()-1,d+b);if(N-S<l*3)throw new ne("Alignment top exceeds estimated module size.");const M=Math.max(0,g-b),k=Math.min(this.image.getHeight()-1,g+b);if(k-M<l*3)throw new ne("Alignment bottom exceeds estimated module size.");return new Hl(this.image,S,M,N-S,k-M,l,this.resultPointCallback).find()}}class Ts{constructor(){this.decoder=new Md}getDecoder(){return this.decoder}decode(l,d){let g,y;if(d!=null&&d.get(L.PURE_BARCODE)!==void 0){const M=Ts.extractPureBits(l.getBlackMatrix());g=this.decoder.decodeBitMatrix(M,d),y=Ts.NO_POINTS}else{const M=new $o(l.getBlackMatrix()).detect(d);g=this.decoder.decodeBitMatrix(M.getBits(),d),y=M.getPoints()}g.getOther()instanceof yg&&g.getOther().applyMirroredCorrection(y);const b=new Re(g.getText(),g.getRawBytes(),void 0,y,oe.QR_CODE,void 0),S=g.getByteSegments();S!==null&&b.putMetadata(Ie.BYTE_SEGMENTS,S);const N=g.getECLevel();return N!==null&&b.putMetadata(Ie.ERROR_CORRECTION_LEVEL,N),g.hasStructuredAppend()&&(b.putMetadata(Ie.STRUCTURED_APPEND_SEQUENCE,g.getStructuredAppendSequenceNumber()),b.putMetadata(Ie.STRUCTURED_APPEND_PARITY,g.getStructuredAppendParity())),b}reset(){}static extractPureBits(l){const d=l.getTopLeftOnBit(),g=l.getBottomRightOnBit();if(d===null||g===null)throw new ne;const y=this.moduleSize(d,l);let b=d[1],S=g[1],N=d[0],M=g[0];if(N>=M||b>=S)throw new ne;if(S-b!==M-N&&(M=N+(S-b),M>=l.getWidth()))throw new ne;const k=Math.round((M-N+1)/y),V=Math.round((S-b+1)/y);if(k<=0||V<=0)throw new ne;if(V!==k)throw new ne;const W=Math.floor(y/2);b+=W,N+=W;const Z=N+Math.floor((k-1)*y)-M;if(Z>0){if(Z>W)throw new ne;N-=Z}const ie=b+Math.floor((V-1)*y)-S;if(ie>0){if(ie>W)throw new ne;b-=ie}const ce=new ue(k,V);for(let de=0;de<V;de++){const Se=b+Math.floor(de*y);for(let Ce=0;Ce<k;Ce++)l.get(N+Math.floor(Ce*y),Se)&&ce.set(Ce,de)}return ce}static moduleSize(l,d){const g=d.getHeight(),y=d.getWidth();let b=l[0],S=l[1],N=!0,M=0;for(;b<y&&S<g;){if(N!==d.get(b,S)){if(++M===5)break;N=!N}b++,S++}if(b===y||S===g)throw new ne;return(b-l[0])/7}}Ts.NO_POINTS=new Array;class yt{PDF417Common(){}static getBitCountSum(l){return Qe.sum(l)}static toIntArray(l){if(l==null||!l.length)return yt.EMPTY_INT_ARRAY;const d=new Int32Array(l.length);let g=0;for(const y of l)d[g++]=y;return d}static getCodeword(l){const d=P.binarySearch(yt.SYMBOL_TABLE,l&262143);return d<0?-1:(yt.CODEWORD_TABLE[d]-1)%yt.NUMBER_OF_CODEWORDS}}yt.NUMBER_OF_CODEWORDS=929,yt.MAX_CODEWORDS_IN_BARCODE=yt.NUMBER_OF_CODEWORDS-1,yt.MIN_ROWS_IN_BARCODE=3,yt.MAX_ROWS_IN_BARCODE=90,yt.MODULES_IN_CODEWORD=17,yt.MODULES_IN_STOP_PATTERN=18,yt.BARS_IN_MODULE=8,yt.EMPTY_INT_ARRAY=new Int32Array([]),yt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),yt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Os{constructor(l,d){this.bits=l,this.points=d}getBits(){return this.bits}getPoints(){return this.points}}class Rt{static detectMultiple(l,d,g){let y=l.getBlackMatrix(),b=Rt.detect(g,y);return b.length||(y=y.clone(),y.rotate180(),b=Rt.detect(g,y)),new Os(y,b)}static detect(l,d){const g=new Array;let y=0,b=0,S=!1;for(;y<d.getHeight();){const N=Rt.findVertices(d,y,b);if(N[0]==null&&N[3]==null){if(!S)break;S=!1,b=0;for(const M of g)M[1]!=null&&(y=Math.trunc(Math.max(y,M[1].getY()))),M[3]!=null&&(y=Math.max(y,Math.trunc(M[3].getY())));y+=Rt.ROW_STEP;continue}if(S=!0,g.push(N),!l)break;N[2]!=null?(b=Math.trunc(N[2].getX()),y=Math.trunc(N[2].getY())):(b=Math.trunc(N[4].getX()),y=Math.trunc(N[4].getY()))}return g}static findVertices(l,d,g){const y=l.getHeight(),b=l.getWidth(),S=new Array(8);return Rt.copyToResult(S,Rt.findRowsWithPattern(l,y,b,d,g,Rt.START_PATTERN),Rt.INDEXES_START_PATTERN),S[4]!=null&&(g=Math.trunc(S[4].getX()),d=Math.trunc(S[4].getY())),Rt.copyToResult(S,Rt.findRowsWithPattern(l,y,b,d,g,Rt.STOP_PATTERN),Rt.INDEXES_STOP_PATTERN),S}static copyToResult(l,d,g){for(let y=0;y<g.length;y++)l[g[y]]=d[y]}static findRowsWithPattern(l,d,g,y,b,S){const N=new Array(4);let M=!1;const k=new Int32Array(S.length);for(;y<d;y+=Rt.ROW_STEP){let W=Rt.findGuardPattern(l,b,y,g,!1,S,k);if(W!=null){for(;y>0;){const Z=Rt.findGuardPattern(l,b,--y,g,!1,S,k);if(Z!=null)W=Z;else{y++;break}}N[0]=new et(W[0],y),N[1]=new et(W[1],y),M=!0;break}}let V=y+1;if(M){let W=0,Z=Int32Array.from([Math.trunc(N[0].getX()),Math.trunc(N[1].getX())]);for(;V<d;V++){const ie=Rt.findGuardPattern(l,Z[0],V,g,!1,S,k);if(ie!=null&&Math.abs(Z[0]-ie[0])<Rt.MAX_PATTERN_DRIFT&&Math.abs(Z[1]-ie[1])<Rt.MAX_PATTERN_DRIFT)Z=ie,W=0;else{if(W>Rt.SKIPPED_ROW_COUNT_MAX)break;W++}}V-=W+1,N[2]=new et(Z[0],V),N[3]=new et(Z[1],V)}return V-y<Rt.BARCODE_MIN_HEIGHT&&P.fill(N,null),N}static findGuardPattern(l,d,g,y,b,S,N){P.fillWithin(N,0,N.length,0);let M=d,k=0;for(;l.get(M,g)&&M>0&&k++<Rt.MAX_PIXEL_DRIFT;)M--;let V=M,W=0,Z=S.length;for(let ie=b;V<y;V++)if(l.get(V,g)!==ie)N[W]++;else{if(W===Z-1){if(Rt.patternMatchVariance(N,S,Rt.MAX_INDIVIDUAL_VARIANCE)<Rt.MAX_AVG_VARIANCE)return new Int32Array([M,V]);M+=N[0]+N[1],T.arraycopy(N,2,N,0,W-1),N[W-1]=0,N[W]=0,W--}else W++;N[W]=1,ie=!ie}return W===Z-1&&Rt.patternMatchVariance(N,S,Rt.MAX_INDIVIDUAL_VARIANCE)<Rt.MAX_AVG_VARIANCE?new Int32Array([M,V-1]):null}static patternMatchVariance(l,d,g){let y=l.length,b=0,S=0;for(let k=0;k<y;k++)b+=l[k],S+=d[k];if(b<S)return 1/0;let N=b/S;g*=N;let M=0;for(let k=0;k<y;k++){let V=l[k],W=d[k]*N,Z=V>W?V-W:W-V;if(Z>g)return 1/0;M+=Z}return M/b}}Rt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Rt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Rt.MAX_AVG_VARIANCE=.42,Rt.MAX_INDIVIDUAL_VARIANCE=.8,Rt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Rt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Rt.MAX_PIXEL_DRIFT=3,Rt.MAX_PATTERN_DRIFT=5,Rt.SKIPPED_ROW_COUNT_MAX=25,Rt.ROW_STEP=5,Rt.BARCODE_MIN_HEIGHT=10;class cr{constructor(l,d){if(d.length===0)throw new v;this.field=l;let g=d.length;if(g>1&&d[0]===0){let y=1;for(;y<g&&d[y]===0;)y++;y===g?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(g-y),T.arraycopy(d,y,this.coefficients,0,this.coefficients.length))}else this.coefficients=d}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);if(l===1){let y=0;for(let b of this.coefficients)y=this.field.add(y,b);return y}let d=this.coefficients[0],g=this.coefficients.length;for(let y=1;y<g;y++)d=this.field.add(this.field.multiply(l,d),this.coefficients[y]);return d}add(l){if(!this.field.equals(l.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return l;if(l.isZero())return this;let d=this.coefficients,g=l.coefficients;if(d.length>g.length){let S=d;d=g,g=S}let y=new Int32Array(g.length),b=g.length-d.length;T.arraycopy(g,0,y,0,b);for(let S=b;S<g.length;S++)y[S]=this.field.add(d[S-b],g[S]);return new cr(this.field,y)}subtract(l){if(!this.field.equals(l.field))throw new v("ModulusPolys do not have same ModulusGF field");return l.isZero()?this:this.add(l.negative())}multiply(l){return l instanceof cr?this.multiplyOther(l):this.multiplyScalar(l)}multiplyOther(l){if(!this.field.equals(l.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||l.isZero())return new cr(this.field,new Int32Array([0]));let d=this.coefficients,g=d.length,y=l.coefficients,b=y.length,S=new Int32Array(g+b-1);for(let N=0;N<g;N++){let M=d[N];for(let k=0;k<b;k++)S[N+k]=this.field.add(S[N+k],this.field.multiply(M,y[k]))}return new cr(this.field,S)}negative(){let l=this.coefficients.length,d=new Int32Array(l);for(let g=0;g<l;g++)d[g]=this.field.subtract(0,this.coefficients[g]);return new cr(this.field,d)}multiplyScalar(l){if(l===0)return new cr(this.field,new Int32Array([0]));if(l===1)return this;let d=this.coefficients.length,g=new Int32Array(d);for(let y=0;y<d;y++)g[y]=this.field.multiply(this.coefficients[y],l);return new cr(this.field,g)}multiplyByMonomial(l,d){if(l<0)throw new v;if(d===0)return new cr(this.field,new Int32Array([0]));let g=this.coefficients.length,y=new Int32Array(g+l);for(let b=0;b<g;b++)y[b]=this.field.multiply(this.coefficients[b],d);return new cr(this.field,y)}toString(){let l=new ee;for(let d=this.getDegree();d>=0;d--){let g=this.getCoefficient(d);g!==0&&(g<0?(l.append(" - "),g=-g):l.length()>0&&l.append(" + "),(d===0||g!==1)&&l.append(g),d!==0&&(d===1?l.append("x"):(l.append("x^"),l.append(d))))}return l.toString()}}class so{add(l,d){return(l+d)%this.modulus}subtract(l,d){return(this.modulus+l-d)%this.modulus}exp(l){return this.expTable[l]}log(l){if(l===0)throw new v;return this.logTable[l]}inverse(l){if(l===0)throw new Ne;return this.expTable[this.modulus-this.logTable[l]-1]}multiply(l,d){return l===0||d===0?0:this.expTable[(this.logTable[l]+this.logTable[d])%(this.modulus-1)]}getSize(){return this.modulus}equals(l){return l===this}}class hu extends so{constructor(l,d){super(),this.modulus=l,this.expTable=new Int32Array(l),this.logTable=new Int32Array(l);let g=1;for(let y=0;y<l;y++)this.expTable[y]=g,g=g*d%l;for(let y=0;y<l-1;y++)this.logTable[this.expTable[y]]=y;this.zero=new cr(this,new Int32Array([0])),this.one=new cr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,d){if(l<0)throw new v;if(d===0)return this.zero;let g=new Int32Array(l+1);return g[0]=d,new cr(this,g)}}hu.PDF417_GF=new hu(yt.NUMBER_OF_CODEWORDS,3);class mu{constructor(){this.field=hu.PDF417_GF}decode(l,d,g){let y=new cr(this.field,l),b=new Int32Array(d),S=!1;for(let ce=d;ce>0;ce--){let de=y.evaluateAt(this.field.exp(ce));b[d-ce]=de,de!==0&&(S=!0)}if(!S)return 0;let N=this.field.getOne();if(g!=null)for(const ce of g){let de=this.field.exp(l.length-1-ce),Se=new cr(this.field,new Int32Array([this.field.subtract(0,de),1]));N=N.multiply(Se)}let M=new cr(this.field,b),k=this.runEuclideanAlgorithm(this.field.buildMonomial(d,1),M,d),V=k[0],W=k[1],Z=this.findErrorLocations(V),ie=this.findErrorMagnitudes(W,V,Z);for(let ce=0;ce<Z.length;ce++){let de=l.length-1-this.field.log(Z[ce]);if(de<0)throw E.getChecksumInstance();l[de]=this.field.subtract(l[de],ie[ce])}return Z.length}runEuclideanAlgorithm(l,d,g){if(l.getDegree()<d.getDegree()){let Z=l;l=d,d=Z}let y=l,b=d,S=this.field.getZero(),N=this.field.getOne();for(;b.getDegree()>=Math.round(g/2);){let Z=y,ie=S;if(y=b,S=N,y.isZero())throw E.getChecksumInstance();b=Z;let ce=this.field.getZero(),de=y.getCoefficient(y.getDegree()),Se=this.field.inverse(de);for(;b.getDegree()>=y.getDegree()&&!b.isZero();){let Ce=b.getDegree()-y.getDegree(),qe=this.field.multiply(b.getCoefficient(b.getDegree()),Se);ce=ce.add(this.field.buildMonomial(Ce,qe)),b=b.subtract(y.multiplyByMonomial(Ce,qe))}N=ce.multiply(S).subtract(ie).negative()}let M=N.getCoefficient(0);if(M===0)throw E.getChecksumInstance();let k=this.field.inverse(M),V=N.multiply(k),W=b.multiply(k);return[V,W]}findErrorLocations(l){let d=l.getDegree(),g=new Int32Array(d),y=0;for(let b=1;b<this.field.getSize()&&y<d;b++)l.evaluateAt(b)===0&&(g[y]=this.field.inverse(b),y++);if(y!==d)throw E.getChecksumInstance();return g}findErrorMagnitudes(l,d,g){let y=d.getDegree(),b=new Int32Array(y);for(let k=1;k<=y;k++)b[y-k]=this.field.multiply(k,d.getCoefficient(k));let S=new cr(this.field,b),N=g.length,M=new Int32Array(N);for(let k=0;k<N;k++){let V=this.field.inverse(g[k]),W=this.field.subtract(0,l.evaluateAt(V)),Z=this.field.inverse(S.evaluateAt(V));M[k]=this.field.multiply(W,Z)}return M}}class oo{constructor(l,d,g,y,b){l instanceof oo?this.constructor_2(l):this.constructor_1(l,d,g,y,b)}constructor_1(l,d,g,y,b){const S=d==null||g==null,N=y==null||b==null;if(S&&N)throw new ne;S?(d=new et(0,y.getY()),g=new et(0,b.getY())):N&&(y=new et(l.getWidth()-1,d.getY()),b=new et(l.getWidth()-1,g.getY())),this.image=l,this.topLeft=d,this.bottomLeft=g,this.topRight=y,this.bottomRight=b,this.minX=Math.trunc(Math.min(d.getX(),g.getX())),this.maxX=Math.trunc(Math.max(y.getX(),b.getX())),this.minY=Math.trunc(Math.min(d.getY(),y.getY())),this.maxY=Math.trunc(Math.max(g.getY(),b.getY()))}constructor_2(l){this.image=l.image,this.topLeft=l.getTopLeft(),this.bottomLeft=l.getBottomLeft(),this.topRight=l.getTopRight(),this.bottomRight=l.getBottomRight(),this.minX=l.getMinX(),this.maxX=l.getMaxX(),this.minY=l.getMinY(),this.maxY=l.getMaxY()}static merge(l,d){return l==null?d:d==null?l:new oo(l.image,l.topLeft,l.bottomLeft,d.topRight,d.bottomRight)}addMissingRows(l,d,g){let y=this.topLeft,b=this.bottomLeft,S=this.topRight,N=this.bottomRight;if(l>0){let M=g?this.topLeft:this.topRight,k=Math.trunc(M.getY()-l);k<0&&(k=0);let V=new et(M.getX(),k);g?y=V:S=V}if(d>0){let M=g?this.bottomLeft:this.bottomRight,k=Math.trunc(M.getY()+d);k>=this.image.getHeight()&&(k=this.image.getHeight()-1);let V=new et(M.getX(),k);g?b=V:N=V}return new oo(this.image,y,b,S,N)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Dd{constructor(l,d,g,y){this.columnCount=l,this.errorCorrectionLevel=y,this.rowCountUpperPart=d,this.rowCountLowerPart=g,this.rowCount=d+g}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class lo{constructor(){this.buffer=""}static form(l,d){let g=-1;function y(S,N,M,k,V,W){if(S==="%%")return"%";if(d[++g]===void 0)return;S=k?parseInt(k.substr(1)):void 0;let Z=V?parseInt(V.substr(1)):void 0,ie;switch(W){case"s":ie=d[g];break;case"c":ie=d[g][0];break;case"f":ie=parseFloat(d[g]).toFixed(S);break;case"p":ie=parseFloat(d[g]).toPrecision(S);break;case"e":ie=parseFloat(d[g]).toExponential(S);break;case"x":ie=parseInt(d[g]).toString(Z||16);break;case"d":ie=parseFloat(parseInt(d[g],Z||10).toPrecision(S)).toFixed(0);break}ie=typeof ie=="object"?JSON.stringify(ie):(+ie).toString(Z);let ce=parseInt(M),de=M&&M[0]+""=="0"?"0":" ";for(;ie.length<ce;)ie=N!==void 0?ie+de:de+ie;return ie}let b=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(b,y)}format(l,...d){this.buffer+=lo.form(l,d)}toString(){return this.buffer}}class Yl{constructor(l){this.boundingBox=new oo(l),this.codewords=new Array(l.getMaxY()-l.getMinY()+1)}getCodewordNearby(l){let d=this.getCodeword(l);if(d!=null)return d;for(let g=1;g<Yl.MAX_NEARBY_DISTANCE;g++){let y=this.imageRowToCodewordIndex(l)-g;if(y>=0&&(d=this.codewords[y],d!=null)||(y=this.imageRowToCodewordIndex(l)+g,y<this.codewords.length&&(d=this.codewords[y],d!=null)))return d}return null}imageRowToCodewordIndex(l){return l-this.boundingBox.getMinY()}setCodeword(l,d){this.codewords[this.imageRowToCodewordIndex(l)]=d}getCodeword(l){return this.codewords[this.imageRowToCodewordIndex(l)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const l=new lo;let d=0;for(const g of this.codewords){if(g==null){l.format("%3d:    |   %n",d++);continue}l.format("%3d: %3d|%3d%n",d++,g.getRowNumber(),g.getValue())}return l.toString()}}Yl.MAX_NEARBY_DISTANCE=5;class Hr{constructor(){this.values=new Map}setValue(l){l=Math.trunc(l);let d=this.values.get(l);d==null&&(d=0),d++,this.values.set(l,d)}getValue(){let l=-1,d=new Array;for(const[g,y]of this.values.entries()){const b={getKey:()=>g,getValue:()=>y};b.getValue()>l?(l=b.getValue(),d=[],d.push(b.getKey())):b.getValue()===l&&d.push(b.getKey())}return yt.toIntArray(d)}getConfidence(l){return this.values.get(l)}}class co extends Yl{constructor(l,d){super(l),this._isLeft=d}setRowNumbers(){for(let l of this.getCodewords())l!=null&&l.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(l){let d=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(d,l);let g=this.getBoundingBox(),y=this._isLeft?g.getTopLeft():g.getTopRight(),b=this._isLeft?g.getBottomLeft():g.getBottomRight(),S=this.imageRowToCodewordIndex(Math.trunc(y.getY())),N=this.imageRowToCodewordIndex(Math.trunc(b.getY())),M=-1,k=1,V=0;for(let W=S;W<N;W++){if(d[W]==null)continue;let Z=d[W],ie=Z.getRowNumber()-M;if(ie===0)V++;else if(ie===1)k=Math.max(k,V),V=1,M=Z.getRowNumber();else if(ie<0||Z.getRowNumber()>=l.getRowCount()||ie>W)d[W]=null;else{let ce;k>2?ce=(k-2)*ie:ce=ie;let de=ce>=W;for(let Se=1;Se<=ce&&!de;Se++)de=d[W-Se]!=null;de?d[W]=null:(M=Z.getRowNumber(),V=1)}}}getRowHeights(){let l=this.getBarcodeMetadata();if(l==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(l);let d=new Int32Array(l.getRowCount());for(let g of this.getCodewords())if(g!=null){let y=g.getRowNumber();if(y>=d.length)continue;d[y]++}return d}adjustIncompleteIndicatorColumnRowNumbers(l){let d=this.getBoundingBox(),g=this._isLeft?d.getTopLeft():d.getTopRight(),y=this._isLeft?d.getBottomLeft():d.getBottomRight(),b=this.imageRowToCodewordIndex(Math.trunc(g.getY())),S=this.imageRowToCodewordIndex(Math.trunc(y.getY())),N=this.getCodewords(),M=-1;for(let k=b;k<S;k++){if(N[k]==null)continue;let V=N[k];V.setRowNumberAsRowIndicatorColumn();let W=V.getRowNumber()-M;W===0||(W===1?M=V.getRowNumber():V.getRowNumber()>=l.getRowCount()?N[k]=null:M=V.getRowNumber())}}getBarcodeMetadata(){let l=this.getCodewords(),d=new Hr,g=new Hr,y=new Hr,b=new Hr;for(let N of l){if(N==null)continue;N.setRowNumberAsRowIndicatorColumn();let M=N.getValue()%30,k=N.getRowNumber();switch(this._isLeft||(k+=2),k%3){case 0:g.setValue(M*3+1);break;case 1:b.setValue(M/3),y.setValue(M%3);break;case 2:d.setValue(M+1);break}}if(d.getValue().length===0||g.getValue().length===0||y.getValue().length===0||b.getValue().length===0||d.getValue()[0]<1||g.getValue()[0]+y.getValue()[0]<yt.MIN_ROWS_IN_BARCODE||g.getValue()[0]+y.getValue()[0]>yt.MAX_ROWS_IN_BARCODE)return null;let S=new Dd(d.getValue()[0],g.getValue()[0],y.getValue()[0],b.getValue()[0]);return this.removeIncorrectCodewords(l,S),S}removeIncorrectCodewords(l,d){for(let g=0;g<l.length;g++){let y=l[g];if(l[g]==null)continue;let b=y.getValue()%30,S=y.getRowNumber();if(S>d.getRowCount()){l[g]=null;continue}switch(this._isLeft||(S+=2),S%3){case 0:b*3+1!==d.getRowCountUpperPart()&&(l[g]=null);break;case 1:(Math.trunc(b/3)!==d.getErrorCorrectionLevel()||b%3!==d.getRowCountLowerPart())&&(l[g]=null);break;case 2:b+1!==d.getColumnCount()&&(l[g]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class uo{constructor(l,d){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=l,this.barcodeColumnCount=l.getColumnCount(),this.boundingBox=d,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let l=yt.MAX_CODEWORDS_IN_BARCODE,d;do d=l,l=this.adjustRowNumbersAndGetCount();while(l>0&&l<d);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(l){l!=null&&l.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let l=this.adjustRowNumbersByRow();if(l===0)return 0;for(let d=1;d<this.barcodeColumnCount+1;d++){let g=this.detectionResultColumns[d].getCodewords();for(let y=0;y<g.length;y++)g[y]!=null&&(g[y].hasValidRowNumber()||this.adjustRowNumbers(d,y,g))}return l}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let l=this.detectionResultColumns[0].getCodewords(),d=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let g=0;g<l.length;g++)if(l[g]!=null&&d[g]!=null&&l[g].getRowNumber()===d[g].getRowNumber())for(let y=1;y<=this.barcodeColumnCount;y++){let b=this.detectionResultColumns[y].getCodewords()[g];b!=null&&(b.setRowNumber(l[g].getRowNumber()),b.hasValidRowNumber()||(this.detectionResultColumns[y].getCodewords()[g]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let l=0,d=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let g=0;g<d.length;g++){if(d[g]==null)continue;let y=d[g].getRowNumber(),b=0;for(let S=this.barcodeColumnCount+1;S>0&&b<this.ADJUST_ROW_NUMBER_SKIP;S--){let N=this.detectionResultColumns[S].getCodewords()[g];N!=null&&(b=uo.adjustRowNumberIfValid(y,b,N),N.hasValidRowNumber()||l++)}}return l}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let l=0,d=this.detectionResultColumns[0].getCodewords();for(let g=0;g<d.length;g++){if(d[g]==null)continue;let y=d[g].getRowNumber(),b=0;for(let S=1;S<this.barcodeColumnCount+1&&b<this.ADJUST_ROW_NUMBER_SKIP;S++){let N=this.detectionResultColumns[S].getCodewords()[g];N!=null&&(b=uo.adjustRowNumberIfValid(y,b,N),N.hasValidRowNumber()||l++)}}return l}static adjustRowNumberIfValid(l,d,g){return g==null||g.hasValidRowNumber()||(g.isValidRowNumber(l)?(g.setRowNumber(l),d=0):++d),d}adjustRowNumbers(l,d,g){if(!this.detectionResultColumns[l-1])return;let y=g[d],b=this.detectionResultColumns[l-1].getCodewords(),S=b;this.detectionResultColumns[l+1]!=null&&(S=this.detectionResultColumns[l+1].getCodewords());let N=new Array(14);N[2]=b[d],N[3]=S[d],d>0&&(N[0]=g[d-1],N[4]=b[d-1],N[5]=S[d-1]),d>1&&(N[8]=g[d-2],N[10]=b[d-2],N[11]=S[d-2]),d<g.length-1&&(N[1]=g[d+1],N[6]=b[d+1],N[7]=S[d+1]),d<g.length-2&&(N[9]=g[d+2],N[12]=b[d+2],N[13]=S[d+2]);for(let M of N)if(uo.adjustRowNumber(y,M))return}static adjustRowNumber(l,d){return d==null?!1:d.hasValidRowNumber()&&d.getBucket()===l.getBucket()?(l.setRowNumber(d.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(l){this.boundingBox=l}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(l,d){this.detectionResultColumns[l]=d}getDetectionResultColumn(l){return this.detectionResultColumns[l]}toString(){let l=this.detectionResultColumns[0];l==null&&(l=this.detectionResultColumns[this.barcodeColumnCount+1]);let d=new lo;for(let g=0;g<l.getCodewords().length;g++){d.format("CW %3d:",g);for(let y=0;y<this.barcodeColumnCount+2;y++){if(this.detectionResultColumns[y]==null){d.format("    |   ");continue}let b=this.detectionResultColumns[y].getCodewords()[g];if(b==null){d.format("    |   ");continue}d.format(" %3d|%3d",b.getRowNumber(),b.getValue())}d.format("%n")}return d.toString()}}class Ms{constructor(l,d,g,y){this.rowNumber=Ms.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(l),this.endX=Math.trunc(d),this.bucket=Math.trunc(g),this.value=Math.trunc(y)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(l){return l!==Ms.BARCODE_ROW_UNKNOWN&&this.bucket===l%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(l){this.rowNumber=l}toString(){return this.rowNumber+"|"+this.value}}Ms.BARCODE_ROW_UNKNOWN=-1;class La{static initialize(){for(let l=0;l<yt.SYMBOL_TABLE.length;l++){let d=yt.SYMBOL_TABLE[l],g=d&1;for(let y=0;y<yt.BARS_IN_MODULE;y++){let b=0;for(;(d&1)===g;)b+=1,d>>=1;g=d&1,La.RATIOS_TABLE[l]||(La.RATIOS_TABLE[l]=new Array(yt.BARS_IN_MODULE)),La.RATIOS_TABLE[l][yt.BARS_IN_MODULE-y-1]=Math.fround(b/yt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(l){let d=La.getDecodedCodewordValue(La.sampleBitCounts(l));return d!==-1?d:La.getClosestDecodedValue(l)}static sampleBitCounts(l){let d=Qe.sum(l),g=new Int32Array(yt.BARS_IN_MODULE),y=0,b=0;for(let S=0;S<yt.MODULES_IN_CODEWORD;S++){let N=d/(2*yt.MODULES_IN_CODEWORD)+S*d/yt.MODULES_IN_CODEWORD;b+l[y]<=N&&(b+=l[y],y++),g[y]++}return g}static getDecodedCodewordValue(l){let d=La.getBitValue(l);return yt.getCodeword(d)===-1?-1:d}static getBitValue(l){let d=0;for(let g=0;g<l.length;g++)for(let y=0;y<l[g];y++)d=d<<1|(g%2===0?1:0);return Math.trunc(d)}static getClosestDecodedValue(l){let d=Qe.sum(l),g=new Array(yt.BARS_IN_MODULE);if(d>1)for(let S=0;S<g.length;S++)g[S]=Math.fround(l[S]/d);let y=ir.MAX_VALUE,b=-1;this.bSymbolTableReady||La.initialize();for(let S=0;S<La.RATIOS_TABLE.length;S++){let N=0,M=La.RATIOS_TABLE[S];for(let k=0;k<yt.BARS_IN_MODULE;k++){let V=Math.fround(M[k]-g[k]);if(N+=Math.fround(V*V),N>=y)break}N<y&&(y=N,b=yt.SYMBOL_TABLE[S])}return b}}La.bSymbolTableReady=!1,La.RATIOS_TABLE=new Array(yt.SYMBOL_TABLE.length).map(Y=>new Array(yt.BARS_IN_MODULE));class Rd{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(l){this.segmentIndex=l}getFileId(){return this.fileId}setFileId(l){this.fileId=l}getOptionalData(){return this.optionalData}setOptionalData(l){this.optionalData=l}isLastSegment(){return this.lastSegment}setLastSegment(l){this.lastSegment=l}getSegmentCount(){return this.segmentCount}setSegmentCount(l){this.segmentCount=l}getSender(){return this.sender||null}setSender(l){this.sender=l}getAddressee(){return this.addressee||null}setAddressee(l){this.addressee=l}getFileName(){return this.fileName}setFileName(l){this.fileName=l}getFileSize(){return this.fileSize}setFileSize(l){this.fileSize=l}getChecksum(){return this.checksum}setChecksum(l){this.checksum=l}getTimestamp(){return this.timestamp}setTimestamp(l){this.timestamp=l}}class Id{static parseLong(l,d=void 0){return parseInt(l,d)}}class Wl extends h{}Wl.kind="NullPointerException";class Pd{writeBytes(l){this.writeBytesOffset(l,0,l.length)}writeBytesOffset(l,d,g){if(l==null)throw new Wl;if(d<0||d>l.length||g<0||d+g>l.length||d+g<0)throw new _;if(g===0)return;for(let y=0;y<g;y++)this.write(l[d+y])}flush(){}close(){}}class bg extends h{}class Gv extends Pd{constructor(l=32){if(super(),this.count=0,l<0)throw new v("Negative initial size: "+l);this.buf=new Uint8Array(l)}ensureCapacity(l){l-this.buf.length>0&&this.grow(l)}grow(l){let g=this.buf.length<<1;if(g-l<0&&(g=l),g<0){if(l<0)throw new bg;g=I.MAX_VALUE}this.buf=P.copyOfUint8Array(this.buf,g)}write(l){this.ensureCapacity(this.count+1),this.buf[this.count]=l,this.count+=1}writeBytesOffset(l,d,g){if(d<0||d>l.length||g<0||d+g-l.length>0)throw new _;this.ensureCapacity(this.count+g),T.arraycopy(l,d,this.buf,this.count,g),this.count+=g}writeTo(l){l.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return P.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(l){return l?typeof l=="string"?this.toString_string(l):this.toString_number(l):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(l){return new String(this.buf).toString()}toString_number(l){return new String(this.buf).toString()}close(){}}var Sn;(function(Y){Y[Y.ALPHA=0]="ALPHA",Y[Y.LOWER=1]="LOWER",Y[Y.MIXED=2]="MIXED",Y[Y.PUNCT=3]="PUNCT",Y[Y.ALPHA_SHIFT=4]="ALPHA_SHIFT",Y[Y.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Sn||(Sn={}));function wg(){if(typeof window<"u")return window.BigInt||null;if(typeof Ep<"u")return Ep.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Gl;function fo(Y){if(typeof Gl>"u"&&(Gl=wg()),Gl===null)throw new Error("BigInt is not supported!");return Gl(Y)}function Kv(){let Y=[];Y[0]=fo(1);let l=fo(900);Y[1]=l;for(let d=2;d<16;d++)Y[d]=Y[d-1]*l;return Y}class Oe{static decode(l,d){let g=new ee(""),y=z.ISO8859_1;g.enableDecoding(y);let b=1,S=l[b++],N=new Rd;for(;b<l[0];){switch(S){case Oe.TEXT_COMPACTION_MODE_LATCH:b=Oe.textCompaction(l,b,g);break;case Oe.BYTE_COMPACTION_MODE_LATCH:case Oe.BYTE_COMPACTION_MODE_LATCH_6:b=Oe.byteCompaction(S,l,y,b,g);break;case Oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(l[b++]);break;case Oe.NUMERIC_COMPACTION_MODE_LATCH:b=Oe.numericCompaction(l,b,g);break;case Oe.ECI_CHARSET:z.getCharacterSetECIByValue(l[b++]);break;case Oe.ECI_GENERAL_PURPOSE:b+=2;break;case Oe.ECI_USER_DEFINED:b++;break;case Oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:b=Oe.decodeMacroBlock(l,b,N);break;case Oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Oe.MACRO_PDF417_TERMINATOR:throw new B;default:b--,b=Oe.textCompaction(l,b,g);break}if(b<l.length)S=l[b++];else throw B.getFormatInstance()}if(g.length()===0)throw B.getFormatInstance();let M=new xe(null,g.toString(),null,d);return M.setOther(N),M}static decodeMacroBlock(l,d,g){if(d+Oe.NUMBER_OF_SEQUENCE_CODEWORDS>l[0])throw B.getFormatInstance();let y=new Int32Array(Oe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let N=0;N<Oe.NUMBER_OF_SEQUENCE_CODEWORDS;N++,d++)y[N]=l[d];g.setSegmentIndex(I.parseInt(Oe.decodeBase900toBase10(y,Oe.NUMBER_OF_SEQUENCE_CODEWORDS)));let b=new ee;d=Oe.textCompaction(l,d,b),g.setFileId(b.toString());let S=-1;for(l[d]===Oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(S=d+1);d<l[0];)switch(l[d]){case Oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(d++,l[d]){case Oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let N=new ee;d=Oe.textCompaction(l,d+1,N),g.setFileName(N.toString());break;case Oe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let M=new ee;d=Oe.textCompaction(l,d+1,M),g.setSender(M.toString());break;case Oe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let k=new ee;d=Oe.textCompaction(l,d+1,k),g.setAddressee(k.toString());break;case Oe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let V=new ee;d=Oe.numericCompaction(l,d+1,V),g.setSegmentCount(I.parseInt(V.toString()));break;case Oe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let W=new ee;d=Oe.numericCompaction(l,d+1,W),g.setTimestamp(Id.parseLong(W.toString()));break;case Oe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let Z=new ee;d=Oe.numericCompaction(l,d+1,Z),g.setChecksum(I.parseInt(Z.toString()));break;case Oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let ie=new ee;d=Oe.numericCompaction(l,d+1,ie),g.setFileSize(Id.parseLong(ie.toString()));break;default:throw B.getFormatInstance()}break;case Oe.MACRO_PDF417_TERMINATOR:d++,g.setLastSegment(!0);break;default:throw B.getFormatInstance()}if(S!==-1){let N=d-S;g.isLastSegment()&&N--,g.setOptionalData(P.copyOfRange(l,S,S+N))}return d}static textCompaction(l,d,g){let y=new Int32Array((l[0]-d)*2),b=new Int32Array((l[0]-d)*2),S=0,N=!1;for(;d<l[0]&&!N;){let M=l[d++];if(M<Oe.TEXT_COMPACTION_MODE_LATCH)y[S]=M/30,y[S+1]=M%30,S+=2;else switch(M){case Oe.TEXT_COMPACTION_MODE_LATCH:y[S++]=Oe.TEXT_COMPACTION_MODE_LATCH;break;case Oe.BYTE_COMPACTION_MODE_LATCH:case Oe.BYTE_COMPACTION_MODE_LATCH_6:case Oe.NUMERIC_COMPACTION_MODE_LATCH:case Oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Oe.MACRO_PDF417_TERMINATOR:d--,N=!0;break;case Oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y[S]=Oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,M=l[d++],b[S]=M,S++;break}}return Oe.decodeTextCompaction(y,b,S,g),d}static decodeTextCompaction(l,d,g,y){let b=Sn.ALPHA,S=Sn.ALPHA,N=0;for(;N<g;){let M=l[N],k="";switch(b){case Sn.ALPHA:if(M<26)k=String.fromCharCode(65+M);else switch(M){case 26:k=" ";break;case Oe.LL:b=Sn.LOWER;break;case Oe.ML:b=Sn.MIXED;break;case Oe.PS:S=b,b=Sn.PUNCT_SHIFT;break;case Oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(d[N]);break;case Oe.TEXT_COMPACTION_MODE_LATCH:b=Sn.ALPHA;break}break;case Sn.LOWER:if(M<26)k=String.fromCharCode(97+M);else switch(M){case 26:k=" ";break;case Oe.AS:S=b,b=Sn.ALPHA_SHIFT;break;case Oe.ML:b=Sn.MIXED;break;case Oe.PS:S=b,b=Sn.PUNCT_SHIFT;break;case Oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(d[N]);break;case Oe.TEXT_COMPACTION_MODE_LATCH:b=Sn.ALPHA;break}break;case Sn.MIXED:if(M<Oe.PL)k=Oe.MIXED_CHARS[M];else switch(M){case Oe.PL:b=Sn.PUNCT;break;case 26:k=" ";break;case Oe.LL:b=Sn.LOWER;break;case Oe.AL:b=Sn.ALPHA;break;case Oe.PS:S=b,b=Sn.PUNCT_SHIFT;break;case Oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(d[N]);break;case Oe.TEXT_COMPACTION_MODE_LATCH:b=Sn.ALPHA;break}break;case Sn.PUNCT:if(M<Oe.PAL)k=Oe.PUNCT_CHARS[M];else switch(M){case Oe.PAL:b=Sn.ALPHA;break;case Oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(d[N]);break;case Oe.TEXT_COMPACTION_MODE_LATCH:b=Sn.ALPHA;break}break;case Sn.ALPHA_SHIFT:if(b=S,M<26)k=String.fromCharCode(65+M);else switch(M){case 26:k=" ";break;case Oe.TEXT_COMPACTION_MODE_LATCH:b=Sn.ALPHA;break}break;case Sn.PUNCT_SHIFT:if(b=S,M<Oe.PAL)k=Oe.PUNCT_CHARS[M];else switch(M){case Oe.PAL:b=Sn.ALPHA;break;case Oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(d[N]);break;case Oe.TEXT_COMPACTION_MODE_LATCH:b=Sn.ALPHA;break}break}k!==""&&y.append(k),N++}}static byteCompaction(l,d,g,y,b){let S=new Gv,N=0,M=0,k=!1;switch(l){case Oe.BYTE_COMPACTION_MODE_LATCH:let V=new Int32Array(6),W=d[y++];for(;y<d[0]&&!k;)switch(V[N++]=W,M=900*M+W,W=d[y++],W){case Oe.TEXT_COMPACTION_MODE_LATCH:case Oe.BYTE_COMPACTION_MODE_LATCH:case Oe.NUMERIC_COMPACTION_MODE_LATCH:case Oe.BYTE_COMPACTION_MODE_LATCH_6:case Oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Oe.MACRO_PDF417_TERMINATOR:y--,k=!0;break;default:if(N%5===0&&N>0){for(let Z=0;Z<6;++Z)S.write(Number(fo(M)>>fo(8*(5-Z))));M=0,N=0}break}y===d[0]&&W<Oe.TEXT_COMPACTION_MODE_LATCH&&(V[N++]=W);for(let Z=0;Z<N;Z++)S.write(V[Z]);break;case Oe.BYTE_COMPACTION_MODE_LATCH_6:for(;y<d[0]&&!k;){let Z=d[y++];if(Z<Oe.TEXT_COMPACTION_MODE_LATCH)N++,M=900*M+Z;else switch(Z){case Oe.TEXT_COMPACTION_MODE_LATCH:case Oe.BYTE_COMPACTION_MODE_LATCH:case Oe.NUMERIC_COMPACTION_MODE_LATCH:case Oe.BYTE_COMPACTION_MODE_LATCH_6:case Oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Oe.MACRO_PDF417_TERMINATOR:y--,k=!0;break}if(N%5===0&&N>0){for(let ie=0;ie<6;++ie)S.write(Number(fo(M)>>fo(8*(5-ie))));M=0,N=0}}break}return b.append(X.decode(S.toByteArray(),g)),y}static numericCompaction(l,d,g){let y=0,b=!1,S=new Int32Array(Oe.MAX_NUMERIC_CODEWORDS);for(;d<l[0]&&!b;){let N=l[d++];if(d===l[0]&&(b=!0),N<Oe.TEXT_COMPACTION_MODE_LATCH)S[y]=N,y++;else switch(N){case Oe.TEXT_COMPACTION_MODE_LATCH:case Oe.BYTE_COMPACTION_MODE_LATCH:case Oe.BYTE_COMPACTION_MODE_LATCH_6:case Oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Oe.MACRO_PDF417_TERMINATOR:d--,b=!0;break}(y%Oe.MAX_NUMERIC_CODEWORDS===0||N===Oe.NUMERIC_COMPACTION_MODE_LATCH||b)&&y>0&&(g.append(Oe.decodeBase900toBase10(S,y)),y=0)}return d}static decodeBase900toBase10(l,d){let g=fo(0);for(let b=0;b<d;b++)g+=Oe.EXP900[d-b-1]*fo(l[b]);let y=g.toString();if(y.charAt(0)!=="1")throw new B;return y.substring(1)}}Oe.TEXT_COMPACTION_MODE_LATCH=900,Oe.BYTE_COMPACTION_MODE_LATCH=901,Oe.NUMERIC_COMPACTION_MODE_LATCH=902,Oe.BYTE_COMPACTION_MODE_LATCH_6=924,Oe.ECI_USER_DEFINED=925,Oe.ECI_GENERAL_PURPOSE=926,Oe.ECI_CHARSET=927,Oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Oe.MACRO_PDF417_TERMINATOR=922,Oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Oe.MAX_NUMERIC_CODEWORDS=15,Oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Oe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Oe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Oe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Oe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Oe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Oe.PL=25,Oe.LL=27,Oe.AS=27,Oe.ML=28,Oe.AL=28,Oe.PS=29,Oe.PAL=29,Oe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Oe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Oe.EXP900=wg()?Kv():[],Oe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Bt{constructor(){}static decode(l,d,g,y,b,S,N){let M=new oo(l,d,g,y,b),k=null,V=null,W;for(let ce=!0;;ce=!1){if(d!=null&&(k=Bt.getRowIndicatorColumn(l,M,d,!0,S,N)),y!=null&&(V=Bt.getRowIndicatorColumn(l,M,y,!1,S,N)),W=Bt.merge(k,V),W==null)throw ne.getNotFoundInstance();let de=W.getBoundingBox();if(ce&&de!=null&&(de.getMinY()<M.getMinY()||de.getMaxY()>M.getMaxY()))M=de;else break}W.setBoundingBox(M);let Z=W.getBarcodeColumnCount()+1;W.setDetectionResultColumn(0,k),W.setDetectionResultColumn(Z,V);let ie=k!=null;for(let ce=1;ce<=Z;ce++){let de=ie?ce:Z-ce;if(W.getDetectionResultColumn(de)!==void 0)continue;let Se;de===0||de===Z?Se=new co(M,de===0):Se=new Yl(M),W.setDetectionResultColumn(de,Se);let Ce=-1,qe=Ce;for(let We=M.getMinY();We<=M.getMaxY();We++){if(Ce=Bt.getStartColumn(W,de,We,ie),Ce<0||Ce>M.getMaxX()){if(qe===-1)continue;Ce=qe}let He=Bt.detectCodeword(l,M.getMinX(),M.getMaxX(),ie,Ce,We,S,N);He!=null&&(Se.setCodeword(We,He),qe=Ce,S=Math.min(S,He.getWidth()),N=Math.max(N,He.getWidth()))}}return Bt.createDecoderResult(W)}static merge(l,d){if(l==null&&d==null)return null;let g=Bt.getBarcodeMetadata(l,d);if(g==null)return null;let y=oo.merge(Bt.adjustBoundingBox(l),Bt.adjustBoundingBox(d));return new uo(g,y)}static adjustBoundingBox(l){if(l==null)return null;let d=l.getRowHeights();if(d==null)return null;let g=Bt.getMax(d),y=0;for(let N of d)if(y+=g-N,N>0)break;let b=l.getCodewords();for(let N=0;y>0&&b[N]==null;N++)y--;let S=0;for(let N=d.length-1;N>=0&&(S+=g-d[N],!(d[N]>0));N--);for(let N=b.length-1;S>0&&b[N]==null;N--)S--;return l.getBoundingBox().addMissingRows(y,S,l.isLeft())}static getMax(l){let d=-1;for(let g of l)d=Math.max(d,g);return d}static getBarcodeMetadata(l,d){let g;if(l==null||(g=l.getBarcodeMetadata())==null)return d==null?null:d.getBarcodeMetadata();let y;return d==null||(y=d.getBarcodeMetadata())==null?g:g.getColumnCount()!==y.getColumnCount()&&g.getErrorCorrectionLevel()!==y.getErrorCorrectionLevel()&&g.getRowCount()!==y.getRowCount()?null:g}static getRowIndicatorColumn(l,d,g,y,b,S){let N=new co(d,y);for(let M=0;M<2;M++){let k=M===0?1:-1,V=Math.trunc(Math.trunc(g.getX()));for(let W=Math.trunc(Math.trunc(g.getY()));W<=d.getMaxY()&&W>=d.getMinY();W+=k){let Z=Bt.detectCodeword(l,0,l.getWidth(),y,V,W,b,S);Z!=null&&(N.setCodeword(W,Z),y?V=Z.getStartX():V=Z.getEndX())}}return N}static adjustCodewordCount(l,d){let g=d[0][1],y=g.getValue(),b=l.getBarcodeColumnCount()*l.getBarcodeRowCount()-Bt.getNumberOfECCodeWords(l.getBarcodeECLevel());if(y.length===0){if(b<1||b>yt.MAX_CODEWORDS_IN_BARCODE)throw ne.getNotFoundInstance();g.setValue(b)}else y[0]!==b&&g.setValue(b)}static createDecoderResult(l){let d=Bt.createBarcodeMatrix(l);Bt.adjustCodewordCount(l,d);let g=new Array,y=new Int32Array(l.getBarcodeRowCount()*l.getBarcodeColumnCount()),b=[],S=new Array;for(let M=0;M<l.getBarcodeRowCount();M++)for(let k=0;k<l.getBarcodeColumnCount();k++){let V=d[M][k+1].getValue(),W=M*l.getBarcodeColumnCount()+k;V.length===0?g.push(W):V.length===1?y[W]=V[0]:(S.push(W),b.push(V))}let N=new Array(b.length);for(let M=0;M<N.length;M++)N[M]=b[M];return Bt.createDecoderResultFromAmbiguousValues(l.getBarcodeECLevel(),y,yt.toIntArray(g),yt.toIntArray(S),N)}static createDecoderResultFromAmbiguousValues(l,d,g,y,b){let S=new Int32Array(y.length),N=100;for(;N-- >0;){for(let M=0;M<S.length;M++)d[y[M]]=b[M][S[M]];try{return Bt.decodeCodewords(d,l,g)}catch(M){if(!(M instanceof E))throw M}if(S.length===0)throw E.getChecksumInstance();for(let M=0;M<S.length;M++)if(S[M]<b[M].length-1){S[M]++;break}else if(S[M]=0,M===S.length-1)throw E.getChecksumInstance()}throw E.getChecksumInstance()}static createBarcodeMatrix(l){let d=Array.from({length:l.getBarcodeRowCount()},()=>new Array(l.getBarcodeColumnCount()+2));for(let y=0;y<d.length;y++)for(let b=0;b<d[y].length;b++)d[y][b]=new Hr;let g=0;for(let y of l.getDetectionResultColumns()){if(y!=null){for(let b of y.getCodewords())if(b!=null){let S=b.getRowNumber();if(S>=0){if(S>=d.length)continue;d[S][g].setValue(b.getValue())}}}g++}return d}static isValidBarcodeColumn(l,d){return d>=0&&d<=l.getBarcodeColumnCount()+1}static getStartColumn(l,d,g,y){let b=y?1:-1,S=null;if(Bt.isValidBarcodeColumn(l,d-b)&&(S=l.getDetectionResultColumn(d-b).getCodeword(g)),S!=null)return y?S.getEndX():S.getStartX();if(S=l.getDetectionResultColumn(d).getCodewordNearby(g),S!=null)return y?S.getStartX():S.getEndX();if(Bt.isValidBarcodeColumn(l,d-b)&&(S=l.getDetectionResultColumn(d-b).getCodewordNearby(g)),S!=null)return y?S.getEndX():S.getStartX();let N=0;for(;Bt.isValidBarcodeColumn(l,d-b);){d-=b;for(let M of l.getDetectionResultColumn(d).getCodewords())if(M!=null)return(y?M.getEndX():M.getStartX())+b*N*(M.getEndX()-M.getStartX());N++}return y?l.getBoundingBox().getMinX():l.getBoundingBox().getMaxX()}static detectCodeword(l,d,g,y,b,S,N,M){b=Bt.adjustCodewordStartColumn(l,d,g,y,b,S);let k=Bt.getModuleBitCount(l,d,g,y,b,S);if(k==null)return null;let V,W=Qe.sum(k);if(y)V=b+W;else{for(let ce=0;ce<k.length/2;ce++){let de=k[ce];k[ce]=k[k.length-1-ce],k[k.length-1-ce]=de}V=b,b=V-W}if(!Bt.checkCodewordSkew(W,N,M))return null;let Z=La.getDecodedValue(k),ie=yt.getCodeword(Z);return ie===-1?null:new Ms(b,V,Bt.getCodewordBucketNumber(Z),ie)}static getModuleBitCount(l,d,g,y,b,S){let N=b,M=new Int32Array(8),k=0,V=y?1:-1,W=y;for(;(y?N<g:N>=d)&&k<M.length;)l.get(N,S)===W?(M[k]++,N+=V):(k++,W=!W);return k===M.length||N===(y?g:d)&&k===M.length-1?M:null}static getNumberOfECCodeWords(l){return 2<<l}static adjustCodewordStartColumn(l,d,g,y,b,S){let N=b,M=y?-1:1;for(let k=0;k<2;k++){for(;(y?N>=d:N<g)&&y===l.get(N,S);){if(Math.abs(b-N)>Bt.CODEWORD_SKEW_SIZE)return b;N+=M}M=-M,y=!y}return N}static checkCodewordSkew(l,d,g){return d-Bt.CODEWORD_SKEW_SIZE<=l&&l<=g+Bt.CODEWORD_SKEW_SIZE}static decodeCodewords(l,d,g){if(l.length===0)throw B.getFormatInstance();let y=1<<d+1,b=Bt.correctErrors(l,g,y);Bt.verifyCodewordCount(l,y);let S=Oe.decode(l,""+d);return S.setErrorsCorrected(b),S.setErasures(g.length),S}static correctErrors(l,d,g){if(d!=null&&d.length>g/2+Bt.MAX_ERRORS||g<0||g>Bt.MAX_EC_CODEWORDS)throw E.getChecksumInstance();return Bt.errorCorrection.decode(l,g,d)}static verifyCodewordCount(l,d){if(l.length<4)throw B.getFormatInstance();let g=l[0];if(g>l.length)throw B.getFormatInstance();if(g===0)if(d<l.length)l[0]=l.length-d;else throw B.getFormatInstance()}static getBitCountForCodeword(l){let d=new Int32Array(8),g=0,y=d.length-1;for(;!((l&1)!==g&&(g=l&1,y--,y<0));)d[y]++,l>>=1;return d}static getCodewordBucketNumber(l){return l instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(l):this.getCodewordBucketNumber_number(l)}static getCodewordBucketNumber_number(l){return Bt.getCodewordBucketNumber(Bt.getBitCountForCodeword(l))}static getCodewordBucketNumber_Int32Array(l){return(l[0]-l[2]+l[4]-l[6]+9)%9}static toString(l){let d=new lo;for(let g=0;g<l.length;g++){d.format("Row %2d: ",g);for(let y=0;y<l[g].length;y++){let b=l[g][y];b.getValue().length===0?d.format("        ",null):d.format("%4d(%2d)",b.getValue()[0],b.getConfidence(b.getValue()[0]))}d.format("%n")}return d.toString()}}Bt.CODEWORD_SKEW_SIZE=2,Bt.MAX_ERRORS=3,Bt.MAX_EC_CODEWORDS=512,Bt.errorCorrection=new mu;class na{decode(l,d=null){let g=na.decode(l,d,!1);if(g==null||g.length===0||g[0]==null)throw ne.getNotFoundInstance();return g[0]}decodeMultiple(l,d=null){try{return na.decode(l,d,!0)}catch(g){throw g instanceof B||g instanceof E?ne.getNotFoundInstance():g}}static decode(l,d,g){const y=new Array,b=Rt.detectMultiple(l,d,g);for(const S of b.getPoints()){const N=Bt.decode(b.getBits(),S[4],S[5],S[6],S[7],na.getMinCodewordWidth(S),na.getMaxCodewordWidth(S)),M=new Re(N.getText(),N.getRawBytes(),void 0,S,oe.PDF_417);M.putMetadata(Ie.ERROR_CORRECTION_LEVEL,N.getECLevel());const k=N.getOther();k!=null&&M.putMetadata(Ie.PDF417_EXTRA_METADATA,k),y.push(M)}return y.map(S=>S)}static getMaxWidth(l,d){return l==null||d==null?0:Math.trunc(Math.abs(l.getX()-d.getX()))}static getMinWidth(l,d){return l==null||d==null?I.MAX_VALUE:Math.trunc(Math.abs(l.getX()-d.getX()))}static getMaxCodewordWidth(l){return Math.floor(Math.max(Math.max(na.getMaxWidth(l[0],l[4]),na.getMaxWidth(l[6],l[2])*yt.MODULES_IN_CODEWORD/yt.MODULES_IN_STOP_PATTERN),Math.max(na.getMaxWidth(l[1],l[5]),na.getMaxWidth(l[7],l[3])*yt.MODULES_IN_CODEWORD/yt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(l){return Math.floor(Math.min(Math.min(na.getMinWidth(l[0],l[4]),na.getMinWidth(l[6],l[2])*yt.MODULES_IN_CODEWORD/yt.MODULES_IN_STOP_PATTERN),Math.min(na.getMinWidth(l[1],l[5]),na.getMinWidth(l[7],l[3])*yt.MODULES_IN_CODEWORD/yt.MODULES_IN_STOP_PATTERN)))}reset(){}}class gu extends h{}gu.kind="ReaderException";class Sg{constructor(l,d){this.verbose=l===!0,d&&this.setHints(d)}decode(l,d){return d&&this.setHints(d),this.decodeInternal(l)}decodeWithState(l){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(l)}setHints(l){this.hints=l;const d=!r(l)&&l.get(L.TRY_HARDER)===!0,g=r(l)?null:l.get(L.POSSIBLE_FORMATS),y=new Array;if(!r(g)){const b=g.some(S=>S===oe.UPC_A||S===oe.UPC_E||S===oe.EAN_13||S===oe.EAN_8||S===oe.CODABAR||S===oe.CODE_39||S===oe.CODE_93||S===oe.CODE_128||S===oe.ITF||S===oe.RSS_14||S===oe.RSS_EXPANDED);b&&!d&&y.push(new ro(l,this.verbose)),g.includes(oe.QR_CODE)&&y.push(new Ts),g.includes(oe.DATA_MATRIX)&&y.push(new Ei),g.includes(oe.AZTEC)&&y.push(new Es),g.includes(oe.PDF_417)&&y.push(new na),b&&d&&y.push(new ro(l,this.verbose))}y.length===0&&(d||y.push(new ro(l,this.verbose)),y.push(new Ts),y.push(new Ei),y.push(new Es),y.push(new na),d&&y.push(new ro(l,this.verbose))),this.readers=y}reset(){if(this.readers!==null)for(const l of this.readers)l.reset()}decodeInternal(l){if(this.readers===null)throw new gu("No readers where selected, nothing can be read.");for(const d of this.readers)try{return d.decode(l,this.hints)}catch(g){if(g instanceof gu)continue}throw new ne("No MultiFormat Readers were able to detect the code.")}}class Xv extends me{constructor(l=null,d=500){const g=new Sg;g.setHints(l),super(g,d)}decodeBitmap(l){return this.reader.decodeWithState(l)}}class Qv extends me{constructor(l=500){super(new na,l)}}class Zv extends me{constructor(l=500){super(new Ts,l)}}var pu;(function(Y){Y[Y.ERROR_CORRECTION=0]="ERROR_CORRECTION",Y[Y.CHARACTER_SET=1]="CHARACTER_SET",Y[Y.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",Y[Y.MIN_SIZE=3]="MIN_SIZE",Y[Y.MAX_SIZE=4]="MAX_SIZE",Y[Y.MARGIN=5]="MARGIN",Y[Y.PDF417_COMPACT=6]="PDF417_COMPACT",Y[Y.PDF417_COMPACTION=7]="PDF417_COMPACTION",Y[Y.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",Y[Y.AZTEC_LAYERS=9]="AZTEC_LAYERS",Y[Y.QR_VERSION=10]="QR_VERSION"})(pu||(pu={}));var Tr=pu;class Ph{constructor(l){this.field=l,this.cachedGenerators=[],this.cachedGenerators.push(new Le(l,Int32Array.from([1])))}buildGenerator(l){const d=this.cachedGenerators;if(l>=d.length){let g=d[d.length-1];const y=this.field;for(let b=d.length;b<=l;b++){const S=g.multiply(new Le(y,Int32Array.from([1,y.exp(b-1+y.getGeneratorBase())])));d.push(S),g=S}}return d[l]}encode(l,d){if(d===0)throw new v("No error correction bytes");const g=l.length-d;if(g<=0)throw new v("No data bytes provided");const y=this.buildGenerator(d),b=new Int32Array(g);T.arraycopy(l,0,b,0,g);let S=new Le(this.field,b);S=S.multiplyByMonomial(d,1);const M=S.divide(y)[1].getCoefficients(),k=d-M.length;for(let V=0;V<k;V++)l[g+V]=0;T.arraycopy(M,0,l,g+k,M.length)}}class Jn{constructor(){}static applyMaskPenaltyRule1(l){return Jn.applyMaskPenaltyRule1Internal(l,!0)+Jn.applyMaskPenaltyRule1Internal(l,!1)}static applyMaskPenaltyRule2(l){let d=0;const g=l.getArray(),y=l.getWidth(),b=l.getHeight();for(let S=0;S<b-1;S++){const N=g[S];for(let M=0;M<y-1;M++){const k=N[M];k===N[M+1]&&k===g[S+1][M]&&k===g[S+1][M+1]&&d++}}return Jn.N2*d}static applyMaskPenaltyRule3(l){let d=0;const g=l.getArray(),y=l.getWidth(),b=l.getHeight();for(let S=0;S<b;S++)for(let N=0;N<y;N++){const M=g[S];N+6<y&&M[N]===1&&M[N+1]===0&&M[N+2]===1&&M[N+3]===1&&M[N+4]===1&&M[N+5]===0&&M[N+6]===1&&(Jn.isWhiteHorizontal(M,N-4,N)||Jn.isWhiteHorizontal(M,N+7,N+11))&&d++,S+6<b&&g[S][N]===1&&g[S+1][N]===0&&g[S+2][N]===1&&g[S+3][N]===1&&g[S+4][N]===1&&g[S+5][N]===0&&g[S+6][N]===1&&(Jn.isWhiteVertical(g,N,S-4,S)||Jn.isWhiteVertical(g,N,S+7,S+11))&&d++}return d*Jn.N3}static isWhiteHorizontal(l,d,g){d=Math.max(d,0),g=Math.min(g,l.length);for(let y=d;y<g;y++)if(l[y]===1)return!1;return!0}static isWhiteVertical(l,d,g,y){g=Math.max(g,0),y=Math.min(y,l.length);for(let b=g;b<y;b++)if(l[b][d]===1)return!1;return!0}static applyMaskPenaltyRule4(l){let d=0;const g=l.getArray(),y=l.getWidth(),b=l.getHeight();for(let M=0;M<b;M++){const k=g[M];for(let V=0;V<y;V++)k[V]===1&&d++}const S=l.getHeight()*l.getWidth();return Math.floor(Math.abs(d*2-S)*10/S)*Jn.N4}static getDataMaskBit(l,d,g){let y,b;switch(l){case 0:y=g+d&1;break;case 1:y=g&1;break;case 2:y=d%3;break;case 3:y=(g+d)%3;break;case 4:y=Math.floor(g/2)+Math.floor(d/3)&1;break;case 5:b=g*d,y=(b&1)+b%3;break;case 6:b=g*d,y=(b&1)+b%3&1;break;case 7:b=g*d,y=b%3+(g+d&1)&1;break;default:throw new v("Invalid mask pattern: "+l)}return y===0}static applyMaskPenaltyRule1Internal(l,d){let g=0;const y=d?l.getHeight():l.getWidth(),b=d?l.getWidth():l.getHeight(),S=l.getArray();for(let N=0;N<y;N++){let M=0,k=-1;for(let V=0;V<b;V++){const W=d?S[N][V]:S[V][N];W===k?M++:(M>=5&&(g+=Jn.N1+(M-5)),M=1,k=W)}M>=5&&(g+=Jn.N1+(M-5))}return g}}Jn.N1=3,Jn.N2=3,Jn.N3=40,Jn.N4=10;class xu{constructor(l,d){this.width=l,this.height=d;const g=new Array(d);for(let y=0;y!==d;y++)g[y]=new Uint8Array(l);this.bytes=g}getHeight(){return this.height}getWidth(){return this.width}get(l,d){return this.bytes[d][l]}getArray(){return this.bytes}setNumber(l,d,g){this.bytes[d][l]=g}setBoolean(l,d,g){this.bytes[d][l]=g?1:0}clear(l){for(const d of this.bytes)P.fill(d,l)}equals(l){if(!(l instanceof xu))return!1;const d=l;if(this.width!==d.width||this.height!==d.height)return!1;for(let g=0,y=this.height;g<y;++g){const b=this.bytes[g],S=d.bytes[g];for(let N=0,M=this.width;N<M;++N)if(b[N]!==S[N])return!1}return!0}toString(){const l=new ee;for(let d=0,g=this.height;d<g;++d){const y=this.bytes[d];for(let b=0,S=this.width;b<S;++b)switch(y[b]){case 0:l.append(" 0");break;case 1:l.append(" 1");break;default:l.append("  ");break}l.append(`
`)}return l.toString()}}class Ho{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const l=new ee;return l.append(`<<
`),l.append(" mode: "),l.append(this.mode?this.mode.toString():"null"),l.append(`
 ecLevel: `),l.append(this.ecLevel?this.ecLevel.toString():"null"),l.append(`
 version: `),l.append(this.version?this.version.toString():"null"),l.append(`
 maskPattern: `),l.append(this.maskPattern.toString()),this.matrix?(l.append(`
 matrix:
`),l.append(this.matrix.toString())):l.append(`
 matrix: null
`),l.append(`>>
`),l.toString()}setMode(l){this.mode=l}setECLevel(l){this.ecLevel=l}setVersion(l){this.version=l}setMaskPattern(l){this.maskPattern=l}setMatrix(l){this.matrix=l}static isValidMaskPattern(l){return l>=0&&l<Ho.NUM_MASK_PATTERNS}}Ho.NUM_MASK_PATTERNS=8;class En extends h{}En.kind="WriterException";class bt{constructor(){}static clearMatrix(l){l.clear(255)}static buildMatrix(l,d,g,y,b){bt.clearMatrix(b),bt.embedBasicPatterns(g,b),bt.embedTypeInfo(d,y,b),bt.maybeEmbedVersionInfo(g,b),bt.embedDataBits(l,y,b)}static embedBasicPatterns(l,d){bt.embedPositionDetectionPatternsAndSeparators(d),bt.embedDarkDotAtLeftBottomCorner(d),bt.maybeEmbedPositionAdjustmentPatterns(l,d),bt.embedTimingPatterns(d)}static embedTypeInfo(l,d,g){const y=new U;bt.makeTypeInfoBits(l,d,y);for(let b=0,S=y.getSize();b<S;++b){const N=y.get(y.getSize()-1-b),M=bt.TYPE_INFO_COORDINATES[b],k=M[0],V=M[1];if(g.setBoolean(k,V,N),b<8){const W=g.getWidth()-b-1;g.setBoolean(W,8,N)}else{const Z=g.getHeight()-7+(b-8);g.setBoolean(8,Z,N)}}}static maybeEmbedVersionInfo(l,d){if(l.getVersionNumber()<7)return;const g=new U;bt.makeVersionInfoBits(l,g);let y=6*3-1;for(let b=0;b<6;++b)for(let S=0;S<3;++S){const N=g.get(y);y--,d.setBoolean(b,d.getHeight()-11+S,N),d.setBoolean(d.getHeight()-11+S,b,N)}}static embedDataBits(l,d,g){let y=0,b=-1,S=g.getWidth()-1,N=g.getHeight()-1;for(;S>0;){for(S===6&&(S-=1);N>=0&&N<g.getHeight();){for(let M=0;M<2;++M){const k=S-M;if(!bt.isEmpty(g.get(k,N)))continue;let V;y<l.getSize()?(V=l.get(y),++y):V=!1,d!==255&&Jn.getDataMaskBit(d,k,N)&&(V=!V),g.setBoolean(k,N,V)}N+=b}b=-b,N+=b,S-=2}if(y!==l.getSize())throw new En("Not all bits consumed: "+y+"/"+l.getSize())}static findMSBSet(l){return 32-I.numberOfLeadingZeros(l)}static calculateBCHCode(l,d){if(d===0)throw new v("0 polynomial");const g=bt.findMSBSet(d);for(l<<=g-1;bt.findMSBSet(l)>=g;)l^=d<<bt.findMSBSet(l)-g;return l}static makeTypeInfoBits(l,d,g){if(!Ho.isValidMaskPattern(d))throw new En("Invalid mask pattern");const y=l.getBits()<<3|d;g.appendBits(y,5);const b=bt.calculateBCHCode(y,bt.TYPE_INFO_POLY);g.appendBits(b,10);const S=new U;if(S.appendBits(bt.TYPE_INFO_MASK_PATTERN,15),g.xor(S),g.getSize()!==15)throw new En("should not happen but we got: "+g.getSize())}static makeVersionInfoBits(l,d){d.appendBits(l.getVersionNumber(),6);const g=bt.calculateBCHCode(l.getVersionNumber(),bt.VERSION_INFO_POLY);if(d.appendBits(g,12),d.getSize()!==18)throw new En("should not happen but we got: "+d.getSize())}static isEmpty(l){return l===255}static embedTimingPatterns(l){for(let d=8;d<l.getWidth()-8;++d){const g=(d+1)%2;bt.isEmpty(l.get(d,6))&&l.setNumber(d,6,g),bt.isEmpty(l.get(6,d))&&l.setNumber(6,d,g)}}static embedDarkDotAtLeftBottomCorner(l){if(l.get(8,l.getHeight()-8)===0)throw new En;l.setNumber(8,l.getHeight()-8,1)}static embedHorizontalSeparationPattern(l,d,g){for(let y=0;y<8;++y){if(!bt.isEmpty(g.get(l+y,d)))throw new En;g.setNumber(l+y,d,0)}}static embedVerticalSeparationPattern(l,d,g){for(let y=0;y<7;++y){if(!bt.isEmpty(g.get(l,d+y)))throw new En;g.setNumber(l,d+y,0)}}static embedPositionAdjustmentPattern(l,d,g){for(let y=0;y<5;++y){const b=bt.POSITION_ADJUSTMENT_PATTERN[y];for(let S=0;S<5;++S)g.setNumber(l+S,d+y,b[S])}}static embedPositionDetectionPattern(l,d,g){for(let y=0;y<7;++y){const b=bt.POSITION_DETECTION_PATTERN[y];for(let S=0;S<7;++S)g.setNumber(l+S,d+y,b[S])}}static embedPositionDetectionPatternsAndSeparators(l){const d=bt.POSITION_DETECTION_PATTERN[0].length;bt.embedPositionDetectionPattern(0,0,l),bt.embedPositionDetectionPattern(l.getWidth()-d,0,l),bt.embedPositionDetectionPattern(0,l.getWidth()-d,l);const g=8;bt.embedHorizontalSeparationPattern(0,g-1,l),bt.embedHorizontalSeparationPattern(l.getWidth()-g,g-1,l),bt.embedHorizontalSeparationPattern(0,l.getWidth()-g,l);const y=7;bt.embedVerticalSeparationPattern(y,0,l),bt.embedVerticalSeparationPattern(l.getHeight()-y-1,0,l),bt.embedVerticalSeparationPattern(y,l.getHeight()-y,l)}static maybeEmbedPositionAdjustmentPatterns(l,d){if(l.getVersionNumber()<2)return;const g=l.getVersionNumber()-1,y=bt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[g];for(let b=0,S=y.length;b!==S;b++){const N=y[b];if(N>=0)for(let M=0;M!==S;M++){const k=y[M];k>=0&&bt.isEmpty(d.get(k,N))&&bt.embedPositionAdjustmentPattern(k-2,N-2,d)}}}}bt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),bt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),bt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),bt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),bt.VERSION_INFO_POLY=7973,bt.TYPE_INFO_POLY=1335,bt.TYPE_INFO_MASK_PATTERN=21522;class Jv{constructor(l,d){this.dataBytes=l,this.errorCorrectionBytes=d}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Ln{constructor(){}static calculateMaskPenalty(l){return Jn.applyMaskPenaltyRule1(l)+Jn.applyMaskPenaltyRule2(l)+Jn.applyMaskPenaltyRule3(l)+Jn.applyMaskPenaltyRule4(l)}static encode(l,d,g=null){let y=Ln.DEFAULT_BYTE_MODE_ENCODING;const b=g!==null&&g.get(Tr.CHARACTER_SET)!==void 0;b&&(y=g.get(Tr.CHARACTER_SET).toString());const S=this.chooseMode(l,y),N=new U;if(S===xt.BYTE&&(b||Ln.DEFAULT_BYTE_MODE_ENCODING!==y)){const We=z.getCharacterSetECIByName(y);We!==void 0&&this.appendECI(We,N)}this.appendModeInfo(S,N);const M=new U;this.appendBytes(l,S,M,y);let k;if(g!==null&&g.get(Tr.QR_VERSION)!==void 0){const We=Number.parseInt(g.get(Tr.QR_VERSION).toString(),10);k=gt.getVersionForNumber(We);const He=this.calculateBitsNeeded(S,N,M,k);if(!this.willFit(He,k,d))throw new En("Data too big for requested version")}else k=this.recommendVersion(d,S,N,M);const V=new U;V.appendBitArray(N);const W=S===xt.BYTE?M.getSizeInBytes():l.length;this.appendLengthInfo(W,k,S,V),V.appendBitArray(M);const Z=k.getECBlocksForLevel(d),ie=k.getTotalCodewords()-Z.getTotalECCodewords();this.terminateBits(ie,V);const ce=this.interleaveWithECBytes(V,k.getTotalCodewords(),ie,Z.getNumBlocks()),de=new Ho;de.setECLevel(d),de.setMode(S),de.setVersion(k);const Se=k.getDimensionForVersion(),Ce=new xu(Se,Se),qe=this.chooseMaskPattern(ce,d,k,Ce);return de.setMaskPattern(qe),bt.buildMatrix(ce,d,k,qe,Ce),de.setMatrix(Ce),de}static recommendVersion(l,d,g,y){const b=this.calculateBitsNeeded(d,g,y,gt.getVersionForNumber(1)),S=this.chooseVersion(b,l),N=this.calculateBitsNeeded(d,g,y,S);return this.chooseVersion(N,l)}static calculateBitsNeeded(l,d,g,y){return d.getSize()+l.getCharacterCountBits(y)+g.getSize()}static getAlphanumericCode(l){return l<Ln.ALPHANUMERIC_TABLE.length?Ln.ALPHANUMERIC_TABLE[l]:-1}static chooseMode(l,d=null){if(z.SJIS.getName()===d&&this.isOnlyDoubleByteKanji(l))return xt.KANJI;let g=!1,y=!1;for(let b=0,S=l.length;b<S;++b){const N=l.charAt(b);if(Ln.isDigit(N))g=!0;else if(this.getAlphanumericCode(N.charCodeAt(0))!==-1)y=!0;else return xt.BYTE}return y?xt.ALPHANUMERIC:g?xt.NUMERIC:xt.BYTE}static isOnlyDoubleByteKanji(l){let d;try{d=X.encode(l,z.SJIS)}catch{return!1}const g=d.length;if(g%2!==0)return!1;for(let y=0;y<g;y+=2){const b=d[y]&255;if((b<129||b>159)&&(b<224||b>235))return!1}return!0}static chooseMaskPattern(l,d,g,y){let b=Number.MAX_SAFE_INTEGER,S=-1;for(let N=0;N<Ho.NUM_MASK_PATTERNS;N++){bt.buildMatrix(l,d,g,N,y);let M=this.calculateMaskPenalty(y);M<b&&(b=M,S=N)}return S}static chooseVersion(l,d){for(let g=1;g<=40;g++){const y=gt.getVersionForNumber(g);if(Ln.willFit(l,y,d))return y}throw new En("Data too big")}static willFit(l,d,g){const y=d.getTotalCodewords(),S=d.getECBlocksForLevel(g).getTotalECCodewords(),N=y-S,M=(l+7)/8;return N>=M}static terminateBits(l,d){const g=l*8;if(d.getSize()>g)throw new En("data bits cannot fit in the QR Code"+d.getSize()+" > "+g);for(let S=0;S<4&&d.getSize()<g;++S)d.appendBit(!1);const y=d.getSize()&7;if(y>0)for(let S=y;S<8;S++)d.appendBit(!1);const b=l-d.getSizeInBytes();for(let S=0;S<b;++S)d.appendBits((S&1)===0?236:17,8);if(d.getSize()!==g)throw new En("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(l,d,g,y,b,S){if(y>=g)throw new En("Block ID too large");const N=l%g,M=g-N,k=Math.floor(l/g),V=k+1,W=Math.floor(d/g),Z=W+1,ie=k-W,ce=V-Z;if(ie!==ce)throw new En("EC bytes mismatch");if(g!==M+N)throw new En("RS blocks mismatch");if(l!==(W+ie)*M+(Z+ce)*N)throw new En("Total bytes mismatch");y<M?(b[0]=W,S[0]=ie):(b[0]=Z,S[0]=ce)}static interleaveWithECBytes(l,d,g,y){if(l.getSizeInBytes()!==g)throw new En("Number of bits and data bytes does not match");let b=0,S=0,N=0;const M=new Array;for(let V=0;V<y;++V){const W=new Int32Array(1),Z=new Int32Array(1);Ln.getNumDataBytesAndNumECBytesForBlockID(d,g,y,V,W,Z);const ie=W[0],ce=new Uint8Array(ie);l.toBytes(8*b,ce,0,ie);const de=Ln.generateECBytes(ce,Z[0]);M.push(new Jv(ce,de)),S=Math.max(S,ie),N=Math.max(N,de.length),b+=W[0]}if(g!==b)throw new En("Data bytes does not match offset");const k=new U;for(let V=0;V<S;++V)for(const W of M){const Z=W.getDataBytes();V<Z.length&&k.appendBits(Z[V],8)}for(let V=0;V<N;++V)for(const W of M){const Z=W.getErrorCorrectionBytes();V<Z.length&&k.appendBits(Z[V],8)}if(d!==k.getSizeInBytes())throw new En("Interleaving error: "+d+" and "+k.getSizeInBytes()+" differ.");return k}static generateECBytes(l,d){const g=l.length,y=new Int32Array(g+d);for(let S=0;S<g;S++)y[S]=l[S]&255;new Ph(Xe.QR_CODE_FIELD_256).encode(y,d);const b=new Uint8Array(d);for(let S=0;S<d;S++)b[S]=y[g+S];return b}static appendModeInfo(l,d){d.appendBits(l.getBits(),4)}static appendLengthInfo(l,d,g,y){const b=g.getCharacterCountBits(d);if(l>=1<<b)throw new En(l+" is bigger than "+((1<<b)-1));y.appendBits(l,b)}static appendBytes(l,d,g,y){switch(d){case xt.NUMERIC:Ln.appendNumericBytes(l,g);break;case xt.ALPHANUMERIC:Ln.appendAlphanumericBytes(l,g);break;case xt.BYTE:Ln.append8BitBytes(l,g,y);break;case xt.KANJI:Ln.appendKanjiBytes(l,g);break;default:throw new En("Invalid mode: "+d)}}static getDigit(l){return l.charCodeAt(0)-48}static isDigit(l){const d=Ln.getDigit(l);return d>=0&&d<=9}static appendNumericBytes(l,d){const g=l.length;let y=0;for(;y<g;){const b=Ln.getDigit(l.charAt(y));if(y+2<g){const S=Ln.getDigit(l.charAt(y+1)),N=Ln.getDigit(l.charAt(y+2));d.appendBits(b*100+S*10+N,10),y+=3}else if(y+1<g){const S=Ln.getDigit(l.charAt(y+1));d.appendBits(b*10+S,7),y+=2}else d.appendBits(b,4),y++}}static appendAlphanumericBytes(l,d){const g=l.length;let y=0;for(;y<g;){const b=Ln.getAlphanumericCode(l.charCodeAt(y));if(b===-1)throw new En;if(y+1<g){const S=Ln.getAlphanumericCode(l.charCodeAt(y+1));if(S===-1)throw new En;d.appendBits(b*45+S,11),y+=2}else d.appendBits(b,6),y++}}static append8BitBytes(l,d,g){let y;try{y=X.encode(l,g)}catch(b){throw new En(b)}for(let b=0,S=y.length;b!==S;b++){const N=y[b];d.appendBits(N,8)}}static appendKanjiBytes(l,d){let g;try{g=X.encode(l,z.SJIS)}catch(b){throw new En(b)}const y=g.length;for(let b=0;b<y;b+=2){const S=g[b]&255,N=g[b+1]&255,M=S<<8&4294967295|N;let k=-1;if(M>=33088&&M<=40956?k=M-33088:M>=57408&&M<=60351&&(k=M-49472),k===-1)throw new En("Invalid byte sequence");const V=(k>>8)*192+(k&255);d.appendBits(V,13)}}static appendECI(l,d){d.appendBits(xt.ECI.getBits(),4),d.appendBits(l.getValue(),8)}}Ln.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Ln.DEFAULT_BYTE_MODE_ENCODING=z.UTF8.getName();class qo{write(l,d,g,y=null){if(l.length===0)throw new v("Found empty contents");if(d<0||g<0)throw new v("Requested dimensions are too small: "+d+"x"+g);let b=wn.L,S=qo.QUIET_ZONE_SIZE;y!==null&&(y.get(Tr.ERROR_CORRECTION)!==void 0&&(b=wn.fromString(y.get(Tr.ERROR_CORRECTION).toString())),y.get(Tr.MARGIN)!==void 0&&(S=Number.parseInt(y.get(Tr.MARGIN).toString(),10)));const N=Ln.encode(l,b,y);return this.renderResult(N,d,g,S)}writeToDom(l,d,g,y,b=null){typeof l=="string"&&(l=document.querySelector(l));const S=this.write(d,g,y,b);l&&l.appendChild(S)}renderResult(l,d,g,y){const b=l.getMatrix();if(b===null)throw new Ze;const S=b.getWidth(),N=b.getHeight(),M=S+y*2,k=N+y*2,V=Math.max(d,M),W=Math.max(g,k),Z=Math.min(Math.floor(V/M),Math.floor(W/k)),ie=Math.floor((V-S*Z)/2),ce=Math.floor((W-N*Z)/2),de=this.createSVGElement(V,W);for(let Se=0,Ce=ce;Se<N;Se++,Ce+=Z)for(let qe=0,We=ie;qe<S;qe++,We+=Z)if(b.get(qe,Se)===1){const He=this.createSvgRectElement(We,Ce,Z,Z);de.appendChild(He)}return de}createSVGElement(l,d){const g=document.createElementNS(qo.SVG_NS,"svg");return g.setAttributeNS(null,"height",l.toString()),g.setAttributeNS(null,"width",d.toString()),g}createSvgRectElement(l,d,g,y){const b=document.createElementNS(qo.SVG_NS,"rect");return b.setAttributeNS(null,"x",l.toString()),b.setAttributeNS(null,"y",d.toString()),b.setAttributeNS(null,"height",g.toString()),b.setAttributeNS(null,"width",y.toString()),b.setAttributeNS(null,"fill","#000000"),b}}qo.QUIET_ZONE_SIZE=4,qo.SVG_NS="http://www.w3.org/2000/svg";class Kl{encode(l,d,g,y,b){if(l.length===0)throw new v("Found empty contents");if(d!==oe.QR_CODE)throw new v("Can only encode QR_CODE, but got "+d);if(g<0||y<0)throw new v(`Requested dimensions are too small: ${g}x${y}`);let S=wn.L,N=Kl.QUIET_ZONE_SIZE;b!==null&&(b.get(Tr.ERROR_CORRECTION)!==void 0&&(S=wn.fromString(b.get(Tr.ERROR_CORRECTION).toString())),b.get(Tr.MARGIN)!==void 0&&(N=Number.parseInt(b.get(Tr.MARGIN).toString(),10)));const M=Ln.encode(l,S,b);return Kl.renderResult(M,g,y,N)}static renderResult(l,d,g,y){const b=l.getMatrix();if(b===null)throw new Ze;const S=b.getWidth(),N=b.getHeight(),M=S+y*2,k=N+y*2,V=Math.max(d,M),W=Math.max(g,k),Z=Math.min(Math.floor(V/M),Math.floor(W/k)),ie=Math.floor((V-S*Z)/2),ce=Math.floor((W-N*Z)/2),de=new ue(V,W);for(let Se=0,Ce=ce;Se<N;Se++,Ce+=Z)for(let qe=0,We=ie;qe<S;qe++,We+=Z)b.get(qe,Se)===1&&de.setRegion(We,Ce,Z,Z);return de}}Kl.QUIET_ZONE_SIZE=4;class ey{encode(l,d,g,y,b){let S;switch(d){case oe.QR_CODE:S=new Kl;break;default:throw new v("No encoder available for format "+d)}return S.encode(l,d,g,y,b)}}class Ji extends ae{constructor(l,d,g,y,b,S,N,M){if(super(S,N),this.yuvData=l,this.dataWidth=d,this.dataHeight=g,this.left=y,this.top=b,y+S>d||b+N>g)throw new v("Crop rectangle does not fit within image data.");M&&this.reverseHorizontal(S,N)}getRow(l,d){if(l<0||l>=this.getHeight())throw new v("Requested row is outside the image: "+l);const g=this.getWidth();(d==null||d.length<g)&&(d=new Uint8ClampedArray(g));const y=(l+this.top)*this.dataWidth+this.left;return T.arraycopy(this.yuvData,y,d,0,g),d}getMatrix(){const l=this.getWidth(),d=this.getHeight();if(l===this.dataWidth&&d===this.dataHeight)return this.yuvData;const g=l*d,y=new Uint8ClampedArray(g);let b=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return T.arraycopy(this.yuvData,b,y,0,g),y;for(let S=0;S<d;S++){const N=S*l;T.arraycopy(this.yuvData,b,y,N,l),b+=this.dataWidth}return y}isCropSupported(){return!0}crop(l,d,g,y){return new Ji(this.yuvData,this.dataWidth,this.dataHeight,this.left+l,this.top+d,g,y,!1)}renderThumbnail(){const l=this.getWidth()/Ji.THUMBNAIL_SCALE_FACTOR,d=this.getHeight()/Ji.THUMBNAIL_SCALE_FACTOR,g=new Int32Array(l*d),y=this.yuvData;let b=this.top*this.dataWidth+this.left;for(let S=0;S<d;S++){const N=S*l;for(let M=0;M<l;M++){const k=y[b+M*Ji.THUMBNAIL_SCALE_FACTOR]&255;g[N+M]=4278190080|k*65793}b+=this.dataWidth*Ji.THUMBNAIL_SCALE_FACTOR}return g}getThumbnailWidth(){return this.getWidth()/Ji.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Ji.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(l,d){const g=this.yuvData;for(let y=0,b=this.top*this.dataWidth+this.left;y<d;y++,b+=this.dataWidth){const S=b+l/2;for(let N=b,M=b+l-1;N<S;N++,M--){const k=g[N];g[N]=g[M],g[M]=k}}}invert(){return new he(this)}}Ji.THUMBNAIL_SCALE_FACTOR=2;class vu extends ae{constructor(l,d,g,y,b,S,N){if(super(d,g),this.dataWidth=y,this.dataHeight=b,this.left=S,this.top=N,l.BYTES_PER_ELEMENT===4){const M=d*g,k=new Uint8ClampedArray(M);for(let V=0;V<M;V++){const W=l[V],Z=W>>16&255,ie=W>>7&510,ce=W&255;k[V]=(Z+ie+ce)/4&255}this.luminances=k}else this.luminances=l;if(y===void 0&&(this.dataWidth=d),b===void 0&&(this.dataHeight=g),S===void 0&&(this.left=0),N===void 0&&(this.top=0),this.left+d>this.dataWidth||this.top+g>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(l,d){if(l<0||l>=this.getHeight())throw new v("Requested row is outside the image: "+l);const g=this.getWidth();(d==null||d.length<g)&&(d=new Uint8ClampedArray(g));const y=(l+this.top)*this.dataWidth+this.left;return T.arraycopy(this.luminances,y,d,0,g),d}getMatrix(){const l=this.getWidth(),d=this.getHeight();if(l===this.dataWidth&&d===this.dataHeight)return this.luminances;const g=l*d,y=new Uint8ClampedArray(g);let b=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return T.arraycopy(this.luminances,b,y,0,g),y;for(let S=0;S<d;S++){const N=S*l;T.arraycopy(this.luminances,b,y,N,l),b+=this.dataWidth}return y}isCropSupported(){return!0}crop(l,d,g,y){return new vu(this.luminances,g,y,this.dataWidth,this.dataHeight,this.left+l,this.top+d)}invert(){return new he(this)}}class Xl extends z{static forName(l){return this.getCharacterSetECIByName(l)}}class kh{}kh.ISO_8859_1=z.ISO8859_1;class Lh{isCompact(){return this.compact}setCompact(l){this.compact=l}getSize(){return this.size}setSize(l){this.size=l}getLayers(){return this.layers}setLayers(l){this.layers=l}getCodeWords(){return this.codeWords}setCodeWords(l){this.codeWords=l}getMatrix(){return this.matrix}setMatrix(l){this.matrix=l}}class Bh{static singletonList(l){return[l]}static min(l,d){return l.sort(d)[0]}}class jg{constructor(l){this.previous=l}getPrevious(){return this.previous}}class Yo extends jg{constructor(l,d,g){super(l),this.value=d,this.bitCount=g}appendTo(l,d){l.appendBits(this.value,this.bitCount)}add(l,d){return new Yo(this,l,d)}addBinaryShift(l,d){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Yo(this,l,d)}toString(){let l=this.value&(1<<this.bitCount)-1;return l|=1<<this.bitCount,"<"+I.toBinaryString(l|1<<this.bitCount).substring(1)+">"}}class kd extends Yo{constructor(l,d,g){super(l,0,0),this.binaryShiftStart=d,this.binaryShiftByteCount=g}appendTo(l,d){for(let g=0;g<this.binaryShiftByteCount;g++)(g===0||g===31&&this.binaryShiftByteCount<=62)&&(l.appendBits(31,5),this.binaryShiftByteCount>62?l.appendBits(this.binaryShiftByteCount-31,16):g===0?l.appendBits(Math.min(this.binaryShiftByteCount,31),5):l.appendBits(this.binaryShiftByteCount-31,5)),l.appendBits(d[this.binaryShiftStart+g],8)}addBinaryShift(l,d){return new kd(this,l,d)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Ql(Y,l,d){return new kd(Y,l,d)}function yu(Y,l,d){return new Yo(Y,l,d)}const ty=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ho=0,bu=1,ei=2,Zl=3,Ba=4,ny=new Yo(null,0,0),Jl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Ag(Y){for(let l of Y)P.fill(l,-1);return Y[ho][Ba]=0,Y[bu][Ba]=0,Y[bu][ho]=28,Y[Zl][Ba]=0,Y[ei][Ba]=0,Y[ei][ho]=15,Y}const Fh=Ag(P.createInt32Array(6,6));class ui{constructor(l,d,g,y){this.token=l,this.mode=d,this.binaryShiftByteCount=g,this.bitCount=y}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(l,d){let g=this.bitCount,y=this.token;if(l!==this.mode){let S=Jl[this.mode][l];y=yu(y,S&65535,S>>16),g+=S>>16}let b=l===ei?4:5;return y=yu(y,d,b),new ui(y,l,0,g+b)}shiftAndAppend(l,d){let g=this.token,y=this.mode===ei?4:5;return g=yu(g,Fh[this.mode][l],y),g=yu(g,d,5),new ui(g,this.mode,0,this.bitCount+y+5)}addBinaryShiftChar(l){let d=this.token,g=this.mode,y=this.bitCount;if(this.mode===Ba||this.mode===ei){let N=Jl[g][ho];d=yu(d,N&65535,N>>16),y+=N>>16,g=ho}let b=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,S=new ui(d,g,this.binaryShiftByteCount+1,y+b);return S.binaryShiftByteCount===2078&&(S=S.endBinaryShift(l+1)),S}endBinaryShift(l){if(this.binaryShiftByteCount===0)return this;let d=this.token;return d=Ql(d,l-this.binaryShiftByteCount,this.binaryShiftByteCount),new ui(d,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(l){let d=this.bitCount+(Jl[this.mode][l.mode]>>16);return this.binaryShiftByteCount<l.binaryShiftByteCount?d+=ui.calculateBinaryShiftCost(l)-ui.calculateBinaryShiftCost(this):this.binaryShiftByteCount>l.binaryShiftByteCount&&l.binaryShiftByteCount>0&&(d+=10),d<=l.bitCount}toBitArray(l){let d=[];for(let y=this.endBinaryShift(l.length).token;y!==null;y=y.getPrevious())d.unshift(y);let g=new U;for(const y of d)y.appendTo(g,l);return g}toString(){return K.format("%s bits=%d bytes=%d",ty[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(l){return l.binaryShiftByteCount>62?21:l.binaryShiftByteCount>31?20:l.binaryShiftByteCount>0?10:0}}ui.INITIAL_STATE=new ui(ny,ho,0,0);function Uh(Y){const l=K.getCharCode(" "),d=K.getCharCode("."),g=K.getCharCode(",");Y[ho][l]=1;const y=K.getCharCode("Z"),b=K.getCharCode("A");for(let Z=b;Z<=y;Z++)Y[ho][Z]=Z-b+2;Y[bu][l]=1;const S=K.getCharCode("z"),N=K.getCharCode("a");for(let Z=N;Z<=S;Z++)Y[bu][Z]=Z-N+2;Y[ei][l]=1;const M=K.getCharCode("9"),k=K.getCharCode("0");for(let Z=k;Z<=M;Z++)Y[ei][Z]=Z-k+2;Y[ei][g]=12,Y[ei][d]=13;const V=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let Z=0;Z<V.length;Z++)Y[Zl][K.getCharCode(V[Z])]=Z;const W=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let Z=0;Z<W.length;Z++)K.getCharCode(W[Z])>0&&(Y[Ba][K.getCharCode(W[Z])]=Z);return Y}const Ld=Uh(P.createInt32Array(5,256));class ec{constructor(l){this.text=l}encode(){const l=K.getCharCode(" "),d=K.getCharCode(`
`);let g=Bh.singletonList(ui.INITIAL_STATE);for(let b=0;b<this.text.length;b++){let S,N=b+1<this.text.length?this.text[b+1]:0;switch(this.text[b]){case K.getCharCode("\r"):S=N===d?2:0;break;case K.getCharCode("."):S=N===l?3:0;break;case K.getCharCode(","):S=N===l?4:0;break;case K.getCharCode(":"):S=N===l?5:0;break;default:S=0}S>0?(g=ec.updateStateListForPair(g,b,S),b++):g=this.updateStateListForChar(g,b)}return Bh.min(g,(b,S)=>b.getBitCount()-S.getBitCount()).toBitArray(this.text)}updateStateListForChar(l,d){const g=[];for(let y of l)this.updateStateForChar(y,d,g);return ec.simplifyStates(g)}updateStateForChar(l,d,g){let y=this.text[d]&255,b=Ld[l.getMode()][y]>0,S=null;for(let N=0;N<=Ba;N++){let M=Ld[N][y];if(M>0){if(S==null&&(S=l.endBinaryShift(d)),!b||N===l.getMode()||N===ei){const k=S.latchAndAppend(N,M);g.push(k)}if(!b&&Fh[l.getMode()][N]>=0){const k=S.shiftAndAppend(N,M);g.push(k)}}}if(l.getBinaryShiftByteCount()>0||Ld[l.getMode()][y]===0){let N=l.addBinaryShiftChar(d);g.push(N)}}static updateStateListForPair(l,d,g){const y=[];for(let b of l)this.updateStateForPair(b,d,g,y);return this.simplifyStates(y)}static updateStateForPair(l,d,g,y){let b=l.endBinaryShift(d);if(y.push(b.latchAndAppend(Ba,g)),l.getMode()!==Ba&&y.push(b.shiftAndAppend(Ba,g)),g===3||g===4){let S=b.latchAndAppend(ei,16-g).latchAndAppend(ei,1);y.push(S)}if(l.getBinaryShiftByteCount()>0){let S=l.addBinaryShiftChar(d).addBinaryShiftChar(d+1);y.push(S)}}static simplifyStates(l){let d=[];for(const g of l){let y=!0;for(const b of d){if(b.isBetterThanOrEqualTo(g)){y=!1;break}g.isBetterThanOrEqualTo(b)&&(d=d.filter(S=>S!==b))}y&&d.push(g)}return d}}class Jt{constructor(){}static encodeBytes(l){return Jt.encode(l,Jt.DEFAULT_EC_PERCENT,Jt.DEFAULT_AZTEC_LAYERS)}static encode(l,d,g){let y=new ec(l).encode(),b=I.truncDivision(y.getSize()*d,100)+11,S=y.getSize()+b,N,M,k,V,W;if(g!==Jt.DEFAULT_AZTEC_LAYERS){if(N=g<0,M=Math.abs(g),M>(N?Jt.MAX_NB_BITS_COMPACT:Jt.MAX_NB_BITS))throw new v(K.format("Illegal value %s for layers",g));k=Jt.totalBitsInLayer(M,N),V=Jt.WORD_SIZE[M];let He=k-k%V;if(W=Jt.stuffBits(y,V),W.getSize()+b>He)throw new v("Data to large for user specified layer");if(N&&W.getSize()>V*64)throw new v("Data to large for user specified layer")}else{V=0,W=null;for(let He=0;;He++){if(He>Jt.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(N=He<=3,M=N?He+1:He,k=Jt.totalBitsInLayer(M,N),S>k)continue;(W==null||V!==Jt.WORD_SIZE[M])&&(V=Jt.WORD_SIZE[M],W=Jt.stuffBits(y,V));let It=k-k%V;if(!(N&&W.getSize()>V*64)&&W.getSize()+b<=It)break}}let Z=Jt.generateCheckWords(W,k,V),ie=W.getSize()/V,ce=Jt.generateModeMessage(N,M,ie),de=(N?11:14)+M*4,Se=new Int32Array(de),Ce;if(N){Ce=de;for(let He=0;He<Se.length;He++)Se[He]=He}else{Ce=de+1+2*I.truncDivision(I.truncDivision(de,2)-1,15);let He=I.truncDivision(de,2),It=I.truncDivision(Ce,2);for(let Dt=0;Dt<He;Dt++){let Aa=Dt+I.truncDivision(Dt,15);Se[He-Dt-1]=It-Aa-1,Se[He+Dt]=It+Aa+1}}let qe=new ue(Ce);for(let He=0,It=0;He<M;He++){let Dt=(M-He)*4+(N?9:12);for(let Aa=0;Aa<Dt;Aa++){let di=Aa*2;for(let Fa=0;Fa<2;Fa++)Z.get(It+di+Fa)&&qe.set(Se[He*2+Fa],Se[He*2+Aa]),Z.get(It+Dt*2+di+Fa)&&qe.set(Se[He*2+Aa],Se[de-1-He*2-Fa]),Z.get(It+Dt*4+di+Fa)&&qe.set(Se[de-1-He*2-Fa],Se[de-1-He*2-Aa]),Z.get(It+Dt*6+di+Fa)&&qe.set(Se[de-1-He*2-Aa],Se[He*2+Fa])}It+=Dt*8}if(Jt.drawModeMessage(qe,N,Ce,ce),N)Jt.drawBullsEye(qe,I.truncDivision(Ce,2),5);else{Jt.drawBullsEye(qe,I.truncDivision(Ce,2),7);for(let He=0,It=0;He<I.truncDivision(de,2)-1;He+=15,It+=16)for(let Dt=I.truncDivision(Ce,2)&1;Dt<Ce;Dt+=2)qe.set(I.truncDivision(Ce,2)-It,Dt),qe.set(I.truncDivision(Ce,2)+It,Dt),qe.set(Dt,I.truncDivision(Ce,2)-It),qe.set(Dt,I.truncDivision(Ce,2)+It)}let We=new Lh;return We.setCompact(N),We.setSize(Ce),We.setLayers(M),We.setCodeWords(ie),We.setMatrix(qe),We}static drawBullsEye(l,d,g){for(let y=0;y<g;y+=2)for(let b=d-y;b<=d+y;b++)l.set(b,d-y),l.set(b,d+y),l.set(d-y,b),l.set(d+y,b);l.set(d-g,d-g),l.set(d-g+1,d-g),l.set(d-g,d-g+1),l.set(d+g,d-g),l.set(d+g,d-g+1),l.set(d+g,d+g-1)}static generateModeMessage(l,d,g){let y=new U;return l?(y.appendBits(d-1,2),y.appendBits(g-1,6),y=Jt.generateCheckWords(y,28,4)):(y.appendBits(d-1,5),y.appendBits(g-1,11),y=Jt.generateCheckWords(y,40,4)),y}static drawModeMessage(l,d,g,y){let b=I.truncDivision(g,2);if(d)for(let S=0;S<7;S++){let N=b-3+S;y.get(S)&&l.set(N,b-5),y.get(S+7)&&l.set(b+5,N),y.get(20-S)&&l.set(N,b+5),y.get(27-S)&&l.set(b-5,N)}else for(let S=0;S<10;S++){let N=b-5+S+I.truncDivision(S,5);y.get(S)&&l.set(N,b-7),y.get(S+10)&&l.set(b+7,N),y.get(29-S)&&l.set(N,b+7),y.get(39-S)&&l.set(b-7,N)}}static generateCheckWords(l,d,g){let y=l.getSize()/g,b=new Ph(Jt.getGF(g)),S=I.truncDivision(d,g),N=Jt.bitsToWords(l,g,S);b.encode(N,S-y);let M=d%g,k=new U;k.appendBits(0,M);for(const V of Array.from(N))k.appendBits(V,g);return k}static bitsToWords(l,d,g){let y=new Int32Array(g),b,S;for(b=0,S=l.getSize()/d;b<S;b++){let N=0;for(let M=0;M<d;M++)N|=l.get(b*d+M)?1<<d-M-1:0;y[b]=N}return y}static getGF(l){switch(l){case 4:return Xe.AZTEC_PARAM;case 6:return Xe.AZTEC_DATA_6;case 8:return Xe.AZTEC_DATA_8;case 10:return Xe.AZTEC_DATA_10;case 12:return Xe.AZTEC_DATA_12;default:throw new v("Unsupported word size "+l)}}static stuffBits(l,d){let g=new U,y=l.getSize(),b=(1<<d)-2;for(let S=0;S<y;S+=d){let N=0;for(let M=0;M<d;M++)(S+M>=y||l.get(S+M))&&(N|=1<<d-1-M);(N&b)===b?(g.appendBits(N&b,d),S--):(N&b)===0?(g.appendBits(N|1,d),S--):g.appendBits(N,d)}return g}static totalBitsInLayer(l,d){return((d?88:112)+16*l)*l}}Jt.DEFAULT_EC_PERCENT=33,Jt.DEFAULT_AZTEC_LAYERS=0,Jt.MAX_NB_BITS=32,Jt.MAX_NB_BITS_COMPACT=4,Jt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Bd{encode(l,d,g,y){return this.encodeWithHints(l,d,g,y,null)}encodeWithHints(l,d,g,y,b){let S=kh.ISO_8859_1,N=Jt.DEFAULT_EC_PERCENT,M=Jt.DEFAULT_AZTEC_LAYERS;return b!=null&&(b.has(Tr.CHARACTER_SET)&&(S=Xl.forName(b.get(Tr.CHARACTER_SET).toString())),b.has(Tr.ERROR_CORRECTION)&&(N=I.parseInt(b.get(Tr.ERROR_CORRECTION).toString())),b.has(Tr.AZTEC_LAYERS)&&(M=I.parseInt(b.get(Tr.AZTEC_LAYERS).toString()))),Bd.encodeLayers(l,d,g,y,S,N,M)}static encodeLayers(l,d,g,y,b,S,N){if(d!==oe.AZTEC)throw new v("Can only encode AZTEC, but got "+d);let M=Jt.encode(K.getBytes(l,b),S,N);return Bd.renderResult(M,g,y)}static renderResult(l,d,g){let y=l.getMatrix();if(y==null)throw new Ze;let b=y.getWidth(),S=y.getHeight(),N=Math.max(d,b),M=Math.max(g,S),k=Math.min(N/b,M/S),V=(N-b*k)/2,W=(M-S*k)/2,Z=new ue(N,M);for(let ie=0,ce=W;ie<S;ie++,ce+=k)for(let de=0,Se=V;de<b;de++,Se+=k)y.get(de,ie)&&Z.setRegion(Se,ce,k,k);return Z}}n.AbstractExpandedDecoder=du,n.ArgumentException=p,n.ArithmeticException=Ne,n.AztecCode=Lh,n.AztecCodeReader=Es,n.AztecCodeWriter=Bd,n.AztecDecoder=Nt,n.AztecDetector=ji,n.AztecDetectorResult=$r,n.AztecEncoder=Jt,n.AztecHighLevelEncoder=ec,n.AztecPoint=Zt,n.BarcodeFormat=oe,n.Binarizer=O,n.BinaryBitmap=j,n.BitArray=U,n.BitMatrix=ue,n.BitSource=ka,n.BrowserAztecCodeReader=Qi,n.BrowserBarcodeReader=vg,n.BrowserCodeReader=me,n.BrowserDatamatrixCodeReader=Yv,n.BrowserMultiFormatReader=Xv,n.BrowserPDF417Reader=Qv,n.BrowserQRCodeReader=Zv,n.BrowserQRCodeSvgWriter=qo,n.CharacterSetECI=z,n.ChecksumException=E,n.Code128Reader=Ge,n.Code39Reader=fn,n.DataMatrixDecodedBitStreamParser=ao,n.DataMatrixReader=Ei,n.DecodeHintType=L,n.DecoderResult=xe,n.DefaultGridSampler=zn,n.DetectorResult=dn,n.EAN13Reader=Pa,n.EncodeHintType=Tr,n.Exception=h,n.FormatException=B,n.GenericGF=Xe,n.GenericGFPoly=Le,n.GlobalHistogramBinarizer=G,n.GridSampler=Ia,n.GridSamplerInstance=or,n.HTMLCanvasElementLuminanceSource=te,n.HybridBinarizer=Q,n.ITFReader=rn,n.IllegalArgumentException=v,n.IllegalStateException=Ze,n.InvertedLuminanceSource=he,n.LuminanceSource=ae,n.MathUtils=Qe,n.MultiFormatOneDReader=ro,n.MultiFormatReader=Sg,n.MultiFormatWriter=ey,n.NotFoundException=ne,n.OneDReader=nn,n.PDF417DecodedBitStreamParser=Oe,n.PDF417DecoderErrorCorrection=mu,n.PDF417Reader=na,n.PDF417ResultMetadata=Rd,n.PerspectiveTransform=xn,n.PlanarYUVLuminanceSource=Ji,n.QRCodeByteMatrix=xu,n.QRCodeDataMask=ta,n.QRCodeDecodedBitStreamParser=Yn,n.QRCodeDecoderErrorCorrectionLevel=wn,n.QRCodeDecoderFormatInformation=ea,n.QRCodeEncoder=Ln,n.QRCodeEncoderQRCode=Ho,n.QRCodeMaskUtil=Jn,n.QRCodeMatrixUtil=bt,n.QRCodeMode=xt,n.QRCodeReader=Ts,n.QRCodeVersion=gt,n.QRCodeWriter=Kl,n.RGBLuminanceSource=vu,n.RSS14Reader=mn,n.RSSExpandedReader=Ve,n.ReaderException=gu,n.ReedSolomonDecoder=Mt,n.ReedSolomonEncoder=Ph,n.ReedSolomonException=$e,n.Result=Re,n.ResultMetadataType=Ie,n.ResultPoint=et,n.StringUtils=K,n.UnsupportedOperationException=H,n.VideoInputDevice=fe,n.WhiteRectangleDetector=sr,n.WriterException=En,n.ZXingArrays=P,n.ZXingCharset=Xl,n.ZXingInteger=I,n.ZXingStandardCharsets=kh,n.ZXingStringBuilder=ee,n.ZXingStringEncoding=X,n.ZXingSystem=T,n.createAbstractExpandedDecoder=Dh,Object.defineProperty(n,"__esModule",{value:!0})})}(Ym,Ym.exports)),Ym.exports}var Wn=lse();const cse=Ki(Wn),use=XP({__proto__:null,default:cse},[Wn]);var OM=function(){function e(t,n,r){if(this.formatMap=new Map([[at.QR_CODE,Wn.BarcodeFormat.QR_CODE],[at.AZTEC,Wn.BarcodeFormat.AZTEC],[at.CODABAR,Wn.BarcodeFormat.CODABAR],[at.CODE_39,Wn.BarcodeFormat.CODE_39],[at.CODE_93,Wn.BarcodeFormat.CODE_93],[at.CODE_128,Wn.BarcodeFormat.CODE_128],[at.DATA_MATRIX,Wn.BarcodeFormat.DATA_MATRIX],[at.MAXICODE,Wn.BarcodeFormat.MAXICODE],[at.ITF,Wn.BarcodeFormat.ITF],[at.EAN_13,Wn.BarcodeFormat.EAN_13],[at.EAN_8,Wn.BarcodeFormat.EAN_8],[at.PDF_417,Wn.BarcodeFormat.PDF_417],[at.RSS_14,Wn.BarcodeFormat.RSS_14],[at.RSS_EXPANDED,Wn.BarcodeFormat.RSS_EXPANDED],[at.UPC_A,Wn.BarcodeFormat.UPC_A],[at.UPC_E,Wn.BarcodeFormat.UPC_E],[at.UPC_EAN_EXTENSION,Wn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!use)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var a=this.createZXingFormats(t),s=new Map;s.set(Wn.DecodeHintType.POSSIBLE_FORMATS,a),s.set(Wn.DecodeHintType.TRY_HARDER,!1),this.hints=s}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,a){try{r(n.decode(t))}catch(s){a(s)}})},e.prototype.decode=function(t){var n=new Wn.MultiFormatReader(this.verbose,this.hints),r=new Wn.HTMLCanvasElementLuminanceSource(t),a=new Wn.BinaryBitmap(new Wn.HybridBinarizer(r)),s=n.decode(a);return{text:s.text,format:S7.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,a){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,a=t;r<a.length;r++){var s=a[r];this.formatMap.has(s)?n.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),dse=function(e,t,n,r){function a(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function f(p){try{h(r.next(p))}catch(v){c(v)}}function m(p){try{h(r.throw(p))}catch(v){c(v)}}function h(p){p.done?s(p.value):a(p.value).then(f,m)}h((r=r.apply(e,t||[])).next())})},fse=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,a,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(h){return function(p){return m([h,p])}}function m(h){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,h[0]&&(n=0)),n;)try{if(r=1,a&&(s=h[0]&2?a.return:h[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,h[1])).done)return s;switch(a=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,a=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(p){h=[6,p],a=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},MM=function(){function e(t,n,r){if(this.formatMap=new Map([[at.QR_CODE,"qr_code"],[at.AZTEC,"aztec"],[at.CODABAR,"codabar"],[at.CODE_39,"code_39"],[at.CODE_93,"code_93"],[at.CODE_128,"code_128"],[at.DATA_MATRIX,"data_matrix"],[at.ITF,"itf"],[at.EAN_13,"ean_13"],[at.EAN_8,"ean_8"],[at.PDF_417,"pdf417"],[at.UPC_A,"upc_a"],[at.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var a=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(a),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return dse(this,void 0,void 0,function(){var n,r;return fse(this,function(a){switch(a.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=a.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:S7.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,a=0,s=t;a<s.length;a++){var c=s[a],f=c.boundingBox.width*c.boundingBox.height;f>r&&(r=f,n=c)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,a=t;r<a.length;r++){var s=a[r];this.formatMap.has(s)?n.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,a){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),DM=function(e,t,n,r){function a(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function f(p){try{h(r.next(p))}catch(v){c(v)}}function m(p){try{h(r.throw(p))}catch(v){c(v)}}function h(p){p.done?s(p.value):a(p.value).then(f,m)}h((r=r.apply(e,t||[])).next())})},RM=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,a,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(h){return function(p){return m([h,p])}}function m(h){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,h[0]&&(n=0)),n;)try{if(r=1,a&&(s=h[0]&2?a.return:h[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,h[1])).done)return s;switch(a=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,a=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(p){h=[6,p],a=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},hse=function(){function e(t,n,r,a){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&MM.isSupported()?(this.primaryDecoder=new MM(t,r,a),this.secondaryDecoder=new OM(t,r,a)):this.primaryDecoder=new OM(t,r,a)}return e.prototype.decodeAsync=function(t){return DM(this,void 0,void 0,function(){var n;return RM(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return DM(this,void 0,void 0,function(){var n,r;return RM(this,function(a){switch(a.label){case 0:n=performance.now(),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,a.sent()];case 3:if(r=a.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var a=r[n];t+=a}var s=t/this.executionResults.length;console.log("".concat(s," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),kE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bx=function(e,t,n,r){function a(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function f(p){try{h(r.next(p))}catch(v){c(v)}}function m(p){try{h(r.throw(p))}catch(v){c(v)}}function h(p){p.done?s(p.value):a(p.value).then(f,m)}h((r=r.apply(e,t||[])).next())})},Fx=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,a,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(h){return function(p){return m([h,p])}}function m(h){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,h[0]&&(n=0)),n;)try{if(r=1,a&&(s=h[0]&2?a.return:h[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,h[1])).done)return s;switch(a=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,a=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(p){h=[6,p],a=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},N7=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),mse=function(e){kE(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var a={advanced:[r]};return this.track.applyConstraints(a)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(N7),gse=function(e){kE(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(mse),pse=function(e){kE(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(N7),xse=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new gse(this.track)},e.prototype.torchFeature=function(){return new pse(this.track)},e}(),vse=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,a=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,a),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,a){return Bx(this,void 0,void 0,function(){var s,c;return Fx(this,function(f){switch(f.label){case 0:return s=new e(t,n,a),r.aspectRatio?(c={aspectRatio:r.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:f.sent(),f.label=2;case 2:return s.setupSurface(),[2,s]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Bx(this,void 0,void 0,function(){return Fx(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var a=t.mediaStream.getVideoTracks(),s=a.length,c=0;t.mediaStream.getVideoTracks().forEach(function(f){t.mediaStream.removeTrack(f),f.stop(),++c,c>=s&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new xse(this.getFirstTrackOrFail())},e}(),yse=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return Bx(this,void 0,void 0,function(){return Fx(this,function(a){return[2,vse.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return Bx(this,void 0,void 0,function(){var n,r;return Fx(this,function(a){switch(a.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=a.sent(),[2,new e(r)]}})})},e}(),IM=function(e,t,n,r){function a(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function f(p){try{h(r.next(p))}catch(v){c(v)}}function m(p){try{h(r.throw(p))}catch(v){c(v)}}function h(p){p.done?s(p.value):a(p.value).then(f,m)}h((r=r.apply(e,t||[])).next())})},PM=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,a,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(h){return function(p){return m([h,p])}}function m(h){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,h[0]&&(n=0)),n;)try{if(r=1,a&&(s=h[0]&2?a.return:h[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,h[1])).done)return s;switch(a=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,a=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(p){h=[6,p],a=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},bse=function(){function e(){}return e.failIfNotSupported=function(){return IM(this,void 0,void 0,function(){return PM(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return IM(this,void 0,void 0,function(){return PM(this,function(n){return[2,yse.create(t)]})})},e}(),wse=function(e,t,n,r){function a(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function f(p){try{h(r.next(p))}catch(v){c(v)}}function m(p){try{h(r.throw(p))}catch(v){c(v)}}function h(p){p.done?s(p.value):a(p.value).then(f,m)}h((r=r.apply(e,t||[])).next())})},Sse=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,a,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(h){return function(p){return m([h,p])}}function m(h){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,h[0]&&(n=0)),n;)try{if(r=1,a&&(s=h[0]&2?a.return:h[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,h[1])).done)return s;switch(a=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,a=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(p){h=[6,p],a=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},jse=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Bf.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Bf.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return wse(this,void 0,void 0,function(){var t,n,r,a,s,c,f;return Sse(this,function(m){switch(m.label){case 0:return t=function(h){for(var p=h.getVideoTracks(),v=0,j=p;v<j.length;v++){var E=j[v];E.enabled=!1,E.stop(),h.removeTrack(E)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=m.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=m.sent(),a=[],s=0,c=r;s<c.length;s++)f=c[s],f.kind==="videoinput"&&a.push({id:f.deviceId,label:f.label});return t(n),[2,a]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(s){for(var c=[],f=0,m=s;f<m.length;f++){var h=m[f];h.kind==="video"&&c.push({id:h.id,label:h.label})}t(c)},a=MediaStreamTrack;a.getSources(r)})},e}(),wr;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(wr||(wr={}));var Ase=function(){function e(){this.state=wr.NOT_STARTED,this.onGoingTransactionNewState=wr.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===wr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=wr.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===wr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=wr.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==wr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case wr.UNKNOWN:throw"Transition from unknown is not allowed";case wr.NOT_STARTED:this.failIfNewStateIs(t,[wr.PAUSED]);break;case wr.SCANNING:break;case wr.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,a=n;r<a.length;r++){var s=a[r];if(t===s)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),Ese=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===wr.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==wr.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===wr.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===wr.PAUSED},e}(),Nse=function(){function e(){}return e.create=function(){return new Ese(new Ase)},e}(),_se=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ri=function(e){_se(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Us),Cse=function(){function e(t,n){this.logger=n,this.fps=Ri.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Ri.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?E7.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!wo(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),kM=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new A7(this.verbose),this.qrcode=new hse(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Nse.create()}return e.prototype.start=function(t,n,r,a){var s=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var c;a?c=a:c=this.verbose?this.logger.log:function(){};var f=Cse.create(n,this.logger);this.clearElement();var m=!1;f.videoConstraints&&(f.isMediaStreamConstraintsValid()?m=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var h=m,p=document.getElementById(this.elementId);p.clientWidth?p.clientWidth:Ri.DEFAULT_WIDTH,p.style.position="relative",this.shouldScan=!0,this.element=p;var v=this,j=this.stateManagerProxy.startTransition(wr.SCANNING);return new Promise(function(E,O){var T=h?f.videoConstraints:v.createVideoConstraints(t);if(!T){j.cancel(),O("videoConstraints should be defined");return}var _={};(!h||f.aspectRatio)&&(_.aspectRatio=f.aspectRatio);var D={onRenderSurfaceReady:function(P,I){v.setupUi(P,I,f),v.isScanning=!0,v.foreverScan(f,r,c)}};bse.failIfNotSupported().then(function(P){P.create(T).then(function(I){return I.render(s.element,_,D).then(function(U){v.renderedCamera=U,j.execute(),E(null)}).catch(function(U){j.cancel(),O(U)})}).catch(function(I){j.cancel(),O(Bf.errorGettingUserMedia(I))})}).catch(function(P){j.cancel(),O(Bf.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(wr.PAUSED),this.showPausedState(),(wo(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(wr.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(wr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var s=document.getElementById(Ri.SHADED_REGION_ELEMENT_ID);s&&t.element.removeChild(s)}},a=this;return this.renderedCamera.close().then(function(){return a.renderedCamera=null,a.element&&(a.element.removeChild(a.canvasElement),a.canvasElement=null),r(),a.qrRegion&&(a.qrRegion=null),a.context&&(a.context=null),n.execute(),a.hidePausedState(),a.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(wo(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(a,s){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var c=new Image;c.onload=function(){var f=c.width,m=c.height,h=document.getElementById(r.elementId),p=h.clientWidth?h.clientWidth:Ri.DEFAULT_WIDTH,v=Math.max(h.clientHeight?h.clientHeight:m,Ri.FILE_SCAN_MIN_HEIGHT),j=r.computeCanvasDrawConfig(f,m,p,v);if(n){var E=r.createCanvasElement(p,v,"qr-canvas-visible");E.style.display="inline-block",h.appendChild(E);var O=E.getContext("2d");if(!O)throw"Unable to get 2d context from canvas";O.canvas.width=p,O.canvas.height=v,O.drawImage(c,0,0,f,m,j.x,j.y,j.width,j.height)}var T=Ri.FILE_SCAN_HIDDEN_CANVAS_PADDING,_=Math.max(c.width,j.width),D=Math.max(c.height,j.height),P=_+2*T,I=D+2*T,U=r.createCanvasElement(P,I);h.appendChild(U);var F=U.getContext("2d");if(!F)throw"Unable to get 2d context from canvas";F.canvas.width=P,F.canvas.height=I,F.drawImage(c,0,0,f,m,T,T,_,D);try{r.qrcode.decodeRobustlyAsync(U).then(function(L){a(_M.createFromQrcodeResult(L))}).catch(s)}catch(L){s("QR code parse error, error = ".concat(L))}},c.onerror=s,c.onabort=s,c.onstalled=s,c.onsuspend=s,c.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return jse.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!E7.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[at.QR_CODE,at.AZTEC,at.CODABAR,at.CODE_39,at.CODE_93,at.CODE_128,at.DATA_MATRIX,at.MAXICODE,at.ITF,at.EAN_13,at.EAN_8,at.PDF_417,at.RSS_14,at.RSS_EXPANDED,at.UPC_A,at.UPC_E,at.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],a=0,s=t.formatsToSupport;a<s.length;a++){var c=s[a];ise(c)?r.push(c):this.logger.warn("Invalid format: ".concat(c," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(wo(t))return!0;if(!wo(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(wo(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return wo(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var a=this,s=r.qrbox;this.validateQrboxConfig(s);var c=this.toQrdimensions(t,n,s),f=function(h){if(h<Ri.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Ri.MIN_QR_BOX_SIZE,"px.")},m=function(h){return h>t&&(a.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),h=t),h};f(c.width),f(c.height),c.width=m(c.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(a){throw new Error("qrbox config was passed as a function but it failed with unknown error"+a)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var a=wo(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(a);var s=this.toQrdimensions(t,n,a);s.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=r.isShadedBoxEnabled()&&s.height<=n,f={x:0,y:0,width:t,height:n},m=c?this.getShadedRegionBounds(t,n,s):f,h=this.createCanvasElement(m.width,m.height),p={willReadFrequently:!0},v=h.getContext("2d",p);v.canvas.width=m.width,v.canvas.height=m.height,this.element.append(h),c&&this.possiblyInsertShadingElement(this.element,t,n,s),this.createScannerPausedUiElement(this.element),this.qrRegion=m,this.context=v,this.canvasElement=h},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=Bf.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(a){return t(a.text,_M.createFromQrcodeResult(a)),r.possiblyUpdateShaders(!0),!0}).catch(function(a){r.possiblyUpdateShaders(!1);var s=Bf.codeParseError(a);return n(s,j7.createFrom(s)),!1})},e.prototype.foreverScan=function(t,n,r){var a=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),c=s.videoWidth/s.clientWidth,f=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var m=this.qrRegion.width*c,h=this.qrRegion.height*f,p=this.qrRegion.x*c,v=this.qrRegion.y*f;this.context.drawImage(s,p,v,m,h,0,0,this.qrRegion.width,this.qrRegion.height);var j=function(){a.foreverScanTimeout=setTimeout(function(){a.foreverScan(t,n,r)},a.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(E){!E&&t.disableFlip!==!0?(a.context.translate(a.context.canvas.width,0),a.context.scale(-1,1),a.scanContext(n,r).finally(function(){j()})):j()}).catch(function(E){a.logger.logError("Error happend while scanning context",E),j()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",a={user:!0,environment:!0},s="exact",c=function(O){if(O in a)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(O,"'")},f=Object.keys(t);if(f.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(f.length," keys");var m=Object.keys(t)[0];if(m!==n&&m!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(m===n){var h=t.facingMode;if(typeof h=="string"){if(c(h))return{facingMode:h}}else if(typeof h=="object")if(s in h){if(c(h["".concat(s)]))return{facingMode:{exact:h["".concat(s)]}}}else throw"'facingMode' should be string or object with"+" ".concat(s," as key.");else{var p=typeof h;throw"Invalid type of 'facingMode' = ".concat(p)}}else{var v=t.deviceId;if(typeof v=="string")return{deviceId:v};if(typeof v=="object"){if(s in v)return{deviceId:{exact:v["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}else{var j=typeof v;throw"Invalid type of 'deviceId' = ".concat(j)}}}var E=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(E)},e.prototype.computeCanvasDrawConfig=function(t,n,r,a){if(t<=r&&n<=a){var s=(r-t)/2,c=(a-n)/2;return{x:s,y:c,width:t,height:n}}else{var f=t,m=n;return t>r&&(n=r/t*n,t=r),n>a&&(t=a/n*t,n=a),this.logger.log("Image downsampled from "+"".concat(f,"X").concat(m)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,a)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?Ri.BORDER_SHADER_MATCH_COLOR:Ri.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var a=t,s=n,c=document.createElement("canvas");return c.style.width="".concat(a,"px"),c.style.height="".concat(s,"px"),c.style.display="none",c.id=wo(r)?"qr-canvas":r,c},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,a){if(!(n-a.width<1||r-a.height<1)){var s=document.createElement("div");s.style.position="absolute";var c=(n-a.width)/2,f=(r-a.height)/2;if(s.style.borderLeft="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat(Ri.SHADED_REGION_ELEMENT_ID),n-a.width<11||r-a.height<11)this.hasBorderShaders=!1;else{var m=5,h=40;this.insertShaderBorders(s,h,m,-m,null,0,!0),this.insertShaderBorders(s,h,m,-m,null,0,!1),this.insertShaderBorders(s,h,m,null,-m,0,!0),this.insertShaderBorders(s,h,m,null,-m,0,!1),this.insertShaderBorders(s,m,h+m,-m,null,-m,!0),this.insertShaderBorders(s,m,h+m,null,-m,-m,!0),this.insertShaderBorders(s,m,h+m,-m,null,-m,!1),this.insertShaderBorders(s,m,h+m,null,-m,-m,!1),this.hasBorderShaders=!0}t.append(s)}},e.prototype.insertShaderBorders=function(t,n,r,a,s,c,f){var m=document.createElement("div");m.style.position="absolute",m.style.backgroundColor=Ri.BORDER_SHADER_DEFAULT_COLOR,m.style.width="".concat(n,"px"),m.style.height="".concat(r,"px"),a!==null&&(m.style.top="".concat(a,"px")),s!==null&&(m.style.bottom="".concat(s,"px")),f?m.style.left="".concat(c,"px"):m.style.right="".concat(c,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(m),t.appendChild(m)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),LE="data:image/svg+xml;base64,",Tse=LE+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Ose=LE+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",LM=LE+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Mse="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",BM=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),Dse=function(){function e(){this.data=BM.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=BM.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),Rse=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=CM.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),a=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(a);var s=document.createElement("a");s.innerText=CM.reportIssues(),s.href="https://github.com/mebjas/html5-qrcode/issues",s.target="new",s.style.color="white",this.infoDiv.appendChild(s),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),Ise=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=LM,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=Mse,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=LM,this.infoIcon.style.opacity="0.6")},e}(),Pse=function(){function e(){var t=this;this.infoDiv=new Rse,this.infoIcon=new Ise(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),kse=function(e,t,n,r){function a(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function f(p){try{h(r.next(p))}catch(v){c(v)}}function m(p){try{h(r.throw(p))}catch(v){c(v)}}function h(p){p.done?s(p.value):a(p.value).then(f,m)}h((r=r.apply(e,t||[])).next())})},Lse=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,a,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(h){return function(p){return m([h,p])}}function m(h){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,h[0]&&(n=0)),n;)try{if(r=1,a&&(s=h[0]&2?a.return:h[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,h[1])).done)return s;switch(a=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,a=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(p){h=[6,p],a=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},FM=function(){function e(){}return e.hasPermissions=function(){return kse(this,void 0,void 0,function(){var t,n,r,a;return Lse(this,function(s){switch(s.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=s.sent(),n=0,r=t;n<r.length;n++)if(a=r[n],a.kind==="videoinput"&&a.label)return[2,!0];return[2,!1]}})})},e}(),Ac=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(t){return t===$c.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===$c.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Us.DEFAULT_SUPPORTED_SCAN_TYPE;var n=Us.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,a=t;r<a.length;r++){var s=a[r];if(!Us.DEFAULT_SUPPORTED_SCAN_TYPE.includes(s))throw"Unsupported scan type ".concat(s)}return t},e}(),$i=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),hl=function(){function e(){}return e.createElement=function(t,n){var r=document.createElement(t);return r.id=n,r.classList.add($i.ALL_ELEMENT_CLASS),t==="button"&&r.setAttribute("type","button"),r},e}(),_7=function(e,t,n,r){function a(s){return s instanceof n?s:new n(function(c){c(s)})}return new(n||(n=Promise))(function(s,c){function f(p){try{h(r.next(p))}catch(v){c(v)}}function m(p){try{h(r.throw(p))}catch(v){c(v)}}function h(p){p.done?s(p.value):a(p.value).then(f,m)}h((r=r.apply(e,t||[])).next())})},C7=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,a,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(h){return function(p){return m([h,p])}}function m(h){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,h[0]&&(n=0)),n;)try{if(r=1,a&&(s=h[0]&2?a.return:h[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,h[1])).done)return s;switch(a=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,a=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(p){h=[6,p],a=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},UM=function(){function e(t,n,r){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return _7(this,void 0,void 0,function(){var t,n;return C7(this,function(r){switch(r.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=r.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?On.torchOffButton():On.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var r=t?On.torchOnFailedMessage():On.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),Bse=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=hl.createElement("button",$i.TORCH_BUTTON_ID),this.torchController=new UM(t,this,n)}return e.prototype.render=function(t,n){var r=this;this.torchButton.innerText=On.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var a=this;this.torchButton.addEventListener("click",function(s){return _7(r,void 0,void 0,function(){return C7(this,function(c){switch(c.label){case 0:return[4,a.torchController.flipState()];case 1:return c.sent(),a.torchController.isTorchEnabled()?(a.torchButton.classList.remove($i.TORCH_BUTTON_CLASS_TORCH_OFF),a.torchButton.classList.add($i.TORCH_BUTTON_CLASS_TORCH_ON)):(a.torchButton.classList.remove($i.TORCH_BUTTON_CLASS_TORCH_ON),a.torchButton.classList.add($i.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new UM(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=On.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,a){var s=new e(n,a);return s.render(t,r),s},e}(),Fse=function(){function e(t,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var a=document.createElement("label");a.setAttribute("for",this.getFileScanInputId()),a.style.display="inline-block",this.fileBasedScanRegion.appendChild(a),this.fileSelectionButton=hl.createElement("button",$i.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(f){a.click()}),a.append(this.fileSelectionButton),this.fileScanInput=hl.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",a.appendChild(this.fileScanInput);var s=this;this.fileScanInput.addEventListener("change",function(f){if(!(f==null||f.target==null)){var m=f.target;if(!(m.files&&m.files.length===0)){var h=m.files,p=h[0],v=p.name;s.setImageNameToButton(v),r(p)}}});var c=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(c),this.fileBasedScanRegion.addEventListener("dragenter",function(f){s.fileBasedScanRegion.style.border=s.fileBasedScanRegionActiveBorder(),f.stopPropagation(),f.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(f){s.fileBasedScanRegion.style.border=s.fileBasedScanRegionDefaultBorder(),f.stopPropagation(),f.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(f){s.fileBasedScanRegion.style.border=s.fileBasedScanRegionActiveBorder(),f.stopPropagation(),f.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(f){f.stopPropagation(),f.preventDefault(),s.fileBasedScanRegion.style.border=s.fileBasedScanRegionDefaultBorder();var m=f.dataTransfer;if(m){var h=m.files;if(!h||h.length===0)return;for(var p=!1,v=0;v<h.length;++v){var j=h.item(v);if(j){var E=/image.*/;if(j.type.match(E)){p=!0;var O=j.name;s.setImageNameToButton(O),r(j),c.innerText=On.dragAndDropMessage();break}}}p||(c.innerText=On.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=On.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var r=t.substring(0,8),a=t.length,s=t.substring(a-8,a);t="".concat(r,"....").concat(s)}var c=On.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=c},e.prototype.setInitialValueToButton=function(){var t=On.fileSelectionChooseImage()+" - "+On.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){var a=new e(t,n,r);return a},e}(),Use=function(){function e(t){this.selectElement=hl.createElement("select",$i.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var a=On.selectCamera();n.innerText="".concat(a," (").concat(this.cameras.length,")  ")}for(var s=1,c=0,f=this.cameras;c<f.length;c++){var m=f[c],h=m.id,p=m.label==null?h:m.label;(!p||p==="")&&(p=[On.anonymousCameraPrefix(),s++].join(" "));var v=document.createElement("option");v.value=h,v.innerText=p,this.options.push(v),this.selectElement.appendChild(v)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,r=this.options;n<r.length;n++){var a=r[n];if(a.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e}(),zse=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=hl.createElement("input",$i.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=On.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var a=this;this.rangeInput.addEventListener("input",function(){return a.onValueChange()}),this.rangeInput.addEventListener("change",function(){return a.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=On.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,r,a){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=a.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e}(),Ii;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Ii||(Ii={}));function Vse(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function $se(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var Hse=function(){function e(t,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Ac(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new A7(this.verbose),this.persistedDataManager=new Dse,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(s,c){if(t)t(s,c);else{if(r.lastMatchFound===s)return;r.lastMatchFound=s,r.setHeaderMessage(On.lastMatch(s),Ii.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(s,c){n&&n(s,c)};var a=document.getElementById(this.elementId);if(!a)throw"HTML Element with id=".concat(this.elementId," not found");a.innerHTML="",this.createBasicLayout(a),this.html5Qrcode=new kM(this.getScanRegionId(),$se(this.config,this.verbose))},e.prototype.pause=function(t){(wo(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var r=document.getElementById(t.elementId);r&&(r.innerHTML="",t.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,a){if(!t.html5Qrcode){r();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(s){if(!t.html5Qrcode){r();return}t.html5Qrcode.clear(),n(),r()}).catch(function(s){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",s),a(s)}):(t.html5Qrcode.clear(),n(),r())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Us.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Us.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Us.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Us.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Us.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Us.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Us.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),Ac.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var a=document.createElement("div"),s=this.getDashboardId();a.id=s,a.style.width="100%",t.appendChild(a),this.setupInitialDashboard(a)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var r=new Pse;r.renderInto(n);var a=document.createElement("div");a.id=this.getHeaderMessageContainerId(),a.style.display="none",a.style.textAlign="center",a.style.fontSize="14px",a.style.padding="2px 10px",a.style.margin="4px",a.style.borderTop="1px solid #f6f6f6",n.appendChild(a)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,r){var a=this;a.showHideScanTypeSwapLink(!1),a.setHeaderMessage(On.cameraPermissionRequesting());var s=function(){r||a.createPermissionButton(t,n)};kM.getCameras().then(function(c){a.persistedDataManager.setHasPermission(!0),a.showHideScanTypeSwapLink(!0),a.resetHeaderMessage(),c&&c.length>0?(t.removeChild(n),a.renderCameraSelection(c)):(a.setHeaderMessage(On.noCameraFound(),Ii.STATUS_WARNING),s())}).catch(function(c){a.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:s(),a.setHeaderMessage(c,Ii.STATUS_WARNING),a.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var r=this,a=hl.createElement("button",this.getCameraPermissionButtonId());a.innerText=On.cameraPermissionTitle(),a.addEventListener("click",function(){a.disabled=!0,r.createCameraListUi(t,n,a)}),n.appendChild(a)},e.prototype.createPermissionsUi=function(t,n){var r=this;if(Ac.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){FM.hasPermissions().then(function(a){a?r.createCameraListUi(t,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n))}).catch(function(a){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=Ac.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var a=document.createElement("div");a.style.textAlign="center",r.appendChild(a),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,a),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=Ac.isFileScanType(this.currentScanType),r=this,a=function(s){if(!r.html5Qrcode)throw"html5Qrcode not defined";Ac.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(On.loadingImage()),r.html5Qrcode.scanFileV2(s,!0).then(function(c){r.resetHeaderMessage(),r.qrCodeSuccessCallback(c.decodedText,c)}).catch(function(c){r.setHeaderMessage(c,Ii.STATUS_WARNING),r.qrCodeErrorCallback(c,j7.createFrom(c))}))};this.fileSelectionUi=Fse.create(t,n,a)},e.prototype.renderCameraSelection=function(t){var n=this,r=this,a=document.getElementById(this.getDashboardSectionCameraScanRegionId());a.style.textAlign="center";var s=zse.create(a,!1),c=function(T){var _=T.zoomFeature();if(_.isSupported()){s.setOnCameraZoomValueChangeCallback(function(P){_.apply(P)});var D=1;n.config.defaultZoomValueIfSupported&&(D=n.config.defaultZoomValueIfSupported),D=sse(D,_.min(),_.max()),s.setValues(_.min(),_.max(),D,_.step()),s.show()}},f=Use.create(a,t),m=document.createElement("span"),h=hl.createElement("button",$i.CAMERA_START_BUTTON_ID);h.innerText=On.scanButtonStartScanningText(),m.appendChild(h);var p=hl.createElement("button",$i.CAMERA_STOP_BUTTON_ID);p.innerText=On.scanButtonStopScanningText(),p.style.display="none",p.disabled=!0,m.appendChild(p);var v,j=function(T){if(!T.torchFeature().isSupported()){v&&v.hide();return}v?v.updateTorchCapability(T.torchFeature()):v=Bse.create(m,T.torchFeature(),{display:"none",marginLeft:"5px"},function(_){r.setHeaderMessage(_,Ii.STATUS_WARNING)}),v.show()};a.appendChild(m);var E=function(T){T||(h.style.display="none"),h.innerText=On.scanButtonStartScanningText(),h.style.opacity="1",h.disabled=!1,T&&(h.style.display="inline-block")};if(h.addEventListener("click",function(T){h.innerText=On.scanButtonScanningStarting(),f.disable(),h.disabled=!0,h.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var _=f.getValue();r.persistedDataManager.setLastUsedCameraId(_),r.html5Qrcode.start(_,Vse(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(D){p.disabled=!1,p.style.display="inline-block",E(!1);var P=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&j(P),n.config.showZoomSliderIfSupported===!0&&c(P)}).catch(function(D){r.showHideScanTypeSwapLink(!0),f.enable(),E(!0),r.setHeaderMessage(D,Ii.STATUS_WARNING)})}),f.hasSingleItem()&&h.click(),p.addEventListener("click",function(T){if(!r.html5Qrcode)throw"html5Qrcode not defined";p.disabled=!0,r.html5Qrcode.stop().then(function(_){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),f.enable(),h.disabled=!1,p.style.display="none",h.style.display="inline-block",v&&(v.reset(),v.hide()),s.removeOnCameraZoomValueChangeCallback(),s.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(_){p.disabled=!1,r.setHeaderMessage(_,Ii.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var O=r.persistedDataManager.getLastUsedCameraId();f.hasValue(O)?(f.setValue(O),h.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=On.textIfCameraScanSelected(),r=On.textIfFileScanSelected(),a=document.getElementById(this.getDashboardSectionId()),s=document.createElement("div");s.style.textAlign="center";var c=hl.createElement("span",this.getDashboardSectionSwapLinkId());c.style.textDecoration="underline",c.style.cursor="pointer",c.innerText=Ac.isCameraScanType(this.currentScanType)?n:r,c.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Ac.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),c.innerText=r,t.currentScanType=$c.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),c.innerText=n,t.currentScanType=$c.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),s.appendChild(c),a.appendChild(s)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){FM.hasPermissions().then(function(r){if(r){var a=document.getElementById(n.getCameraPermissionButtonId());if(!a)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";a.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=Ii.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=t,r.style.display="block",n){case Ii.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case Ii.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case Ii.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=Tse,this.cameraScanImage.alt=On.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Ose,this.fileScanImage.alt=On.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return $i.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return $i.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();function qse(){var ue,ne,G;const[e,t]=A.useState(!1),[n,r]=A.useState(null),[a,s]=A.useState(""),[c,f]=A.useState(null),[m,h]=A.useState(""),[p,v]=A.useState(1),[j,E]=A.useState(!1),[O,T]=A.useState(null),[_,D]=A.useState([]),P=A.useRef(null),{profile:I}=yn(),{t:U,isRTL:F}=tn();A.useEffect(()=>(I&&L(),()=>{$()}),[I]);const L=async()=>{try{const{data:Q,error:ae}=await ot.from("wallets").select("*").eq("user_id",I==null?void 0:I.id).single();if(ae)throw ae;T(Q)}catch(Q){console.error("Error fetching wallet data:",Q)}},B=()=>{if(!e){t(!0),r(null);const Q={fps:10,qrbox:{width:250,height:250},rememberLastUsedCamera:!0,aspectRatio:1};P.current=new Hse("qr-reader",Q,!1),P.current.render(ae=>{z(ae)},ae=>{})}},$=()=>{P.current&&e&&P.current.clear().then(()=>{t(!1)}).catch(Q=>{console.error("Error stopping scanner:",Q),t(!1)})},z=Q=>{$(),H(Q)},H=async Q=>{var ae;try{let he;try{he=JSON.parse(Q)}catch{he={raw:Q}}let te;if(he.type==="driver"||he.driver_id){te={type:"driver",data:he,rawData:Q};const{data:fe}=await ot.from("qr_codes").select(`
            *,
            driver_profile:driver_profiles!qr_codes_driver_id_fkey(
              ticket_fee,
              route_name,
              vehicle_type
            ),
            profile:profiles!qr_codes_driver_id_fkey(full_name)
          `).eq("qr_data",Q).eq("is_active",!0).single();if(fe)te.data={...te.data,...fe},f({qrData:te.data,amount:((ae=fe.driver_profile)==null?void 0:ae.ticket_fee)||500,quantity:1,type:"driver"});else throw new Error("Invalid or inactive driver QR code")}else he.type==="merchant"||he.merchant_id?(te={type:"merchant",data:he,rawData:Q},f({qrData:te.data,amount:he.amount,type:"merchant"})):(te={type:"unknown",data:he,rawData:Q},nt.error("Unrecognized QR code format"));r(te),D(fe=>[te,...fe.slice(0,4)])}catch(he){console.error("Error processing QR code:",he),nt.error("Invalid QR code or service unavailable")}},X=()=>{a.trim()&&(H(a.trim()),s(""))},K=async()=>{if(!(!c||!I)){E(!0);try{if(c.type==="driver"){const{data:Q,error:ae}=await ot.rpc("process_transport_payment",{p_passenger_id:I.id,p_driver_id:c.qrData.driver_id,p_amount:(c.amount||500)*p,p_qr_code_id:c.qrData.id,p_quantity:p});if(ae)throw ae;if(Q&&Q.length>0){const he=Q[0];he.error_message?nt.error(he.error_message):(nt.success(U("scanner.paymentSuccess")),f(null),L())}}else if(c.type==="merchant"){const Q=parseFloat(m)||c.amount||0;if(Q<=0){nt.error("Please enter a valid amount");return}const{data:ae,error:he}=await ot.rpc("process_merchant_payment",{p_passenger_id:I.id,p_merchant_id:c.qrData.merchant_id||c.qrData.user_id,p_amount:Q});if(he)throw he;if(ae&&ae.length>0){const te=ae[0];te.error_message?nt.error(te.error_message):(nt.success(U("scanner.paymentSuccess")),f(null),L())}}}catch(Q){console.error("Error processing payment:",Q),nt.error(U("scanner.paymentFailed"))}finally{E(!1)}}},ee=Q=>new Intl.NumberFormat(F?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0,maximumFractionDigits:0}).format(Q);return i.jsxs("div",{className:"h-full p-4 lg:p-6 space-y-6",children:[i.jsxs(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:U("scanner.title")}),i.jsx("p",{className:"text-muted-foreground",children:"Scan QR codes to make instant payments"})]}),O&&i.jsx(be,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(sd,{className:"h-4 w-4 text-primary"}),i.jsx("span",{className:"font-medium",children:ee(O.balance)})]})})]}),(O==null?void 0:O.is_frozen)&&i.jsxs(Ys,{variant:"destructive",children:[i.jsx(T6,{className:"h-4 w-4"}),i.jsx(Ws,{children:"Your wallet is frozen. You cannot make payments at this time."})]}),i.jsxs(Ll,{defaultValue:"scan",className:"w-full",children:[i.jsxs(Bl,{className:"grid w-full grid-cols-2",children:[i.jsxs(kt,{value:"scan",className:"flex items-center gap-2",children:[i.jsx(hx,{className:"h-4 w-4"}),"Scan QR Code"]}),i.jsxs(kt,{value:"manual",className:"flex items-center gap-2",children:[i.jsx(Ar,{className:"h-4 w-4"}),"Manual Entry"]})]}),i.jsx(Lt,{value:"scan",className:"space-y-6",children:i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Ar,{className:"h-5 w-5"}),"QR Code Scanner"]}),i.jsx(rt,{children:"Point your camera at a QR code to scan"})]}),i.jsx(we,{children:e?i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{id:"qr-reader",className:"mx-auto max-w-sm"}),i.jsx("div",{className:"text-center",children:i.jsxs(De,{onClick:$,variant:"outline",className:"gap-2",children:[i.jsx(mZ,{className:"h-4 w-4"}),"Stop Scanning"]})})]}):i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"mx-auto w-48 h-48 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(hx,{className:"h-12 w-12 mx-auto text-gray-400 mb-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Camera ready"})]})}),i.jsxs(De,{onClick:B,className:"gap-2",children:[i.jsx(hx,{className:"h-4 w-4"}),"Start Scanning"]})]})})]})})}),i.jsx(Lt,{value:"manual",className:"space-y-6",children:i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:"Manual QR Code Entry"}),i.jsx(rt,{children:"Enter QR code data manually if scanning doesn't work"})]}),i.jsxs(we,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(pt,{htmlFor:"qr-input",children:"QR Code Data"}),i.jsx(qt,{id:"qr-input",placeholder:"Paste or type QR code data here",value:a,onChange:Q=>s(Q.target.value)})]}),i.jsxs(De,{onClick:X,disabled:!a.trim(),className:"w-full gap-2",children:[i.jsx(Ar,{className:"h-4 w-4"}),"Process QR Code"]})]})]})})})]}),_.length>0&&i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(m0,{className:"h-5 w-5"}),"Recent Scans"]}),i.jsx(rt,{children:"Previously scanned QR codes"})]}),i.jsx(we,{children:i.jsx("div",{className:"space-y-3",children:_.map((Q,ae)=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[Q.type==="driver"?i.jsx(Hs,{className:"h-5 w-5 text-blue-500"}):Q.type==="merchant"?i.jsx(Qf,{className:"h-5 w-5 text-green-500"}):i.jsx(Ar,{className:"h-5 w-5 text-gray-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:Q.type==="driver"?"Transport Payment":Q.type==="merchant"?"Merchant Payment":"Unknown QR"}),i.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-40",children:Q.rawData})]})]}),i.jsx(At,{variant:Q.type==="unknown"?"destructive":"secondary",children:Q.type})]},ae))})})]})}),i.jsx(Zc,{open:!!c,onOpenChange:Q=>!Q&&f(null),children:i.jsxs(Jc,{className:"sm:max-w-md",children:[i.jsxs(eu,{children:[i.jsxs(tu,{className:"flex items-center gap-2",children:[(c==null?void 0:c.type)==="driver"?i.jsx(Hs,{className:"h-5 w-5 text-blue-500"}):i.jsx(Qf,{className:"h-5 w-5 text-green-500"}),"Confirm Payment"]}),i.jsx(nu,{children:(c==null?void 0:c.type)==="driver"?"Confirm your transport payment":"Confirm your merchant payment"})]}),c&&i.jsxs("div",{className:"space-y-4",children:[i.jsx(be,{children:i.jsxs(we,{className:"p-4 space-y-3",children:[c.type==="driver"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Driver:"}),i.jsx("span",{className:"text-sm font-medium",children:((ue=c.qrData.profile)==null?void 0:ue.full_name)||"Unknown Driver"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Route:"}),i.jsx("span",{className:"text-sm font-medium",children:((ne=c.qrData.driver_profile)==null?void 0:ne.route_name)||"City Route"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Vehicle:"}),i.jsx("span",{className:"text-sm font-medium",children:((G=c.qrData.driver_profile)==null?void 0:G.vehicle_type)||"Bus"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Ticket Price:"}),i.jsx("span",{className:"text-sm font-medium",children:ee(c.amount||500)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-sm text-muted-foreground",children:[U("scanner.quantity"),":"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(De,{size:"sm",variant:"outline",onClick:()=>v(Math.max(1,p-1)),children:i.jsx(M6,{className:"h-3 w-3"})}),i.jsx("span",{className:"w-8 text-center",children:p}),i.jsx(De,{size:"sm",variant:"outline",onClick:()=>v(p+1),children:i.jsx(ps,{className:"h-3 w-3"})})]})]})]}),c.type==="merchant"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Merchant:"}),i.jsx("span",{className:"text-sm font-medium",children:c.qrData.business_name||"Local Store"})]}),!c.amount&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(pt,{htmlFor:"payment-amount",children:"Payment Amount"}),i.jsx(qt,{id:"payment-amount",type:"number",placeholder:"Enter amount",value:m,onChange:Q=>h(Q.target.value)})]})]}),i.jsx(Vc,{}),i.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[i.jsx("span",{children:"Total:"}),i.jsx("span",{children:c.type==="driver"?ee((c.amount||500)*p):ee(parseFloat(m)||c.amount||0)})]})]})}),O&&i.jsxs(Ys,{children:[i.jsx(sd,{className:"h-4 w-4"}),i.jsxs(Ws,{children:["Current balance: ",ee(O.balance)]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(De,{variant:"outline",className:"flex-1",onClick:()=>f(null),disabled:j,children:"Cancel"}),i.jsx(De,{className:"flex-1 gap-2",onClick:K,disabled:j||(O==null?void 0:O.is_frozen),children:j?i.jsxs(i.Fragment,{children:[i.jsx(Fc,{className:"h-4 w-4 animate-spin"}),"Processing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(fs,{className:"h-4 w-4"}),"Pay Now"]})})]})]})]})})]})}function Yse(){const[e,t]=A.useState([]),[n,r]=A.useState([]),[a,s]=A.useState(null),[c,f]=A.useState(""),[m,h]=A.useState("all"),[p,v]=A.useState("all"),[j,E]=A.useState("date"),[O,T]=A.useState("desc"),[_,D]=A.useState(),[P,I]=A.useState(null),[U,F]=A.useState(!0),[L,B]=A.useState(1),[$,z]=A.useState(!0),{profile:H}=yn(),{t:X,isRTL:K}=tn(),ee=20;A.useEffect(()=>{H&&(ue(),ne())},[H]),A.useEffect(()=>{G()},[e,c,m,p,_,j,O]);const ue=async(ye=1,oe=!1)=>{try{F(ye===1);let pe=ot.from("transactions").select(`
          *,
          from_profile:profiles!transactions_from_user_id_fkey(full_name),
          to_profile:profiles!transactions_to_user_id_fkey(full_name)
        `).or(`from_user_id.eq.${H==null?void 0:H.id},to_user_id.eq.${H==null?void 0:H.id}`).order("created_at",{ascending:!1}).range((ye-1)*ee,ye*ee-1);const{data:Ie,error:xe}=await pe;if(xe)throw xe;if(Ie){const Fe=Ie.map(Le=>{var Ne,Xe;return{...Le,from_user_name:(Ne=Le.from_profile)==null?void 0:Ne.full_name,to_user_name:(Xe=Le.to_profile)==null?void 0:Xe.full_name}});t(oe?Le=>[...Le,...Fe]:Fe),z(Ie.length===ee),B(ye)}}catch(pe){console.error("Error fetching transactions:",pe)}finally{F(!1)}},ne=async()=>{try{const{data:ye}=await ot.from("transactions").select("*").or(`from_user_id.eq.${H==null?void 0:H.id},to_user_id.eq.${H==null?void 0:H.id}`);if(ye){const oe=ye.filter(Le=>Le.to_user_id===(H==null?void 0:H.id)&&Le.status==="completed").reduce((Le,Ne)=>Le+Ne.amount,0),pe=ye.filter(Le=>Le.from_user_id===(H==null?void 0:H.id)&&Le.status==="completed").reduce((Le,Ne)=>Le+Ne.amount,0),Ie=ye.filter(Le=>Le.status==="pending").length,xe=new Date;xe.setDate(1);const Fe=ye.filter(Le=>new Date(Le.created_at)>=xe&&Le.status==="completed").reduce((Le,Ne)=>Le+(Ne.to_user_id===(H==null?void 0:H.id)?Ne.amount:-Ne.amount),0);I({totalIncoming:oe,totalOutgoing:pe,totalTransactions:ye.length,pendingCount:Ie,thisMonthTotal:Fe})}}catch(ye){console.error("Error calculating stats:",ye)}},G=()=>{let ye=[...e];if(c){const oe=c.toLowerCase();ye=ye.filter(pe=>{var Ie,xe,Fe;return((Ie=pe.description)==null?void 0:Ie.toLowerCase().includes(oe))||((xe=pe.from_user_name)==null?void 0:xe.toLowerCase().includes(oe))||((Fe=pe.to_user_name)==null?void 0:Fe.toLowerCase().includes(oe))||pe.id.toLowerCase().includes(oe)})}m!=="all"&&(ye=ye.filter(oe=>oe.transaction_type===m)),p!=="all"&&(ye=ye.filter(oe=>oe.status===p)),_!=null&&_.from&&(_!=null&&_.to)&&(ye=ye.filter(oe=>{const pe=new Date(oe.created_at);return pe>=_.from&&pe<=_.to})),ye.sort((oe,pe)=>{if(j==="date"){const Ie=new Date(oe.created_at).getTime(),xe=new Date(pe.created_at).getTime();return O==="desc"?xe-Ie:Ie-xe}else return O==="desc"?pe.amount-oe.amount:oe.amount-pe.amount}),r(ye)},Q=()=>{$&&!U&&ue(L+1,!0)},ae=ye=>new Intl.NumberFormat(K?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0,maximumFractionDigits:0}).format(ye),he=ye=>new Date(ye).toLocaleDateString(K?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),te=ye=>{const oe=ye.from_user_id===(H==null?void 0:H.id);switch(ye.transaction_type){case"recharge":return i.jsx(ps,{className:"h-4 w-4 text-green-600"});case"payment":return ye.qr_code_id?i.jsx(Hs,{className:"h-4 w-4 text-blue-600"}):oe?i.jsx(Nl,{className:"h-4 w-4 text-red-600"}):i.jsx(Kn,{className:"h-4 w-4 text-green-600"});case"refund":return i.jsx(P1,{className:"h-4 w-4 text-blue-600"});case"withdrawal":return i.jsx(M6,{className:"h-4 w-4 text-red-600"});default:return i.jsx(Io,{className:"h-4 w-4 text-gray-600"})}},fe=ye=>{switch(ye){case"completed":return i.jsx(At,{className:"bg-green-500 text-white",children:"Completed"});case"pending":return i.jsx(At,{variant:"secondary",children:"Pending"});case"failed":return i.jsx(At,{variant:"destructive",children:"Failed"});case"cancelled":return i.jsx(At,{variant:"outline",children:"Cancelled"});default:return i.jsx(At,{variant:"outline",children:ye})}},se=ye=>ye.from_user_id===(H==null?void 0:H.id)?"outgoing":"incoming",me=ye=>{const oe=ye.from_user_id===(H==null?void 0:H.id);if(ye.description)return ye.description;switch(ye.transaction_type){case"recharge":return"Wallet Recharge";case"payment":return ye.qr_code_id?oe?"Transport Payment":"Transport Fare Received":oe?"Payment Sent":"Payment Received";case"refund":return"Refund";case"withdrawal":return"Withdrawal";default:return"Transaction"}},Re=()=>{const ye=["Date","Type","Description","Amount","Status","Reference"],oe=n.map(Le=>[he(Le.created_at),Le.transaction_type,me(Le),`${se(Le)==="incoming"?"+":"-"}${Le.amount}`,Le.status,Le.id]),pe=[ye,...oe].map(Le=>Le.join(",")).join(`
`),Ie=new Blob([pe],{type:"text/csv"}),xe=window.URL.createObjectURL(Ie),Fe=document.createElement("a");Fe.href=xe,Fe.download=`transactions-${new Date().toISOString().split("T")[0]}.csv`,Fe.click(),window.URL.revokeObjectURL(xe)};return U&&L===1?i.jsx("div",{className:"flex h-full items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:X("common.loading")})]})}):i.jsxs("div",{className:"h-full p-4 lg:p-6 space-y-6",children:[i.jsxs(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:X("transactions.title")}),i.jsx("p",{className:"text-muted-foreground",children:"View and manage your transaction history"})]}),i.jsxs(De,{onClick:Re,variant:"outline",className:"gap-2",children:[i.jsx(Zs,{className:"h-4 w-4"}),"Export"]})]}),P&&i.jsxs(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsx(be,{children:i.jsxs(we,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Kn,{className:"h-4 w-4 text-green-600"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"Incoming"})]}),i.jsx("p",{className:"text-xl font-bold text-green-600",children:ae(P.totalIncoming)})]})}),i.jsx(be,{children:i.jsxs(we,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Nl,{className:"h-4 w-4 text-red-600"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"Outgoing"})]}),i.jsx("p",{className:"text-xl font-bold text-red-600",children:ae(P.totalOutgoing)})]})}),i.jsx(be,{children:i.jsxs(we,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(m0,{className:"h-4 w-4 text-blue-600"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"Total"})]}),i.jsx("p",{className:"text-xl font-bold",children:P.totalTransactions})]})}),i.jsx(be,{children:i.jsxs(we,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(bi,{className:"h-4 w-4 text-purple-600"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"This Month"})]}),i.jsx("p",{className:`text-xl font-bold ${P.thisMonthTotal>=0?"text-green-600":"text-red-600"}`,children:ae(Math.abs(P.thisMonthTotal))})]})})]}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:i.jsx(be,{children:i.jsx(we,{className:"p-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(pt,{htmlFor:"search",children:"Search"}),i.jsxs("div",{className:"relative",children:[i.jsx(Pl,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(qt,{id:"search",placeholder:"Search transactions...",value:c,onChange:ye=>f(ye.target.value),className:"pl-8"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pt,{children:"Type"}),i.jsxs(Lr,{value:m,onValueChange:h,children:[i.jsx(Fr,{children:i.jsx(Br,{})}),i.jsxs(Ur,{children:[i.jsx(st,{value:"all",children:"All Types"}),i.jsx(st,{value:"payment",children:"Payments"}),i.jsx(st,{value:"recharge",children:"Recharges"}),i.jsx(st,{value:"refund",children:"Refunds"}),i.jsx(st,{value:"withdrawal",children:"Withdrawals"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pt,{children:"Status"}),i.jsxs(Lr,{value:p,onValueChange:v,children:[i.jsx(Fr,{children:i.jsx(Br,{})}),i.jsxs(Ur,{children:[i.jsx(st,{value:"all",children:"All Status"}),i.jsx(st,{value:"completed",children:"Completed"}),i.jsx(st,{value:"pending",children:"Pending"}),i.jsx(st,{value:"failed",children:"Failed"}),i.jsx(st,{value:"cancelled",children:"Cancelled"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pt,{children:"Sort By"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(Lr,{value:j,onValueChange:ye=>E(ye),children:[i.jsx(Fr,{className:"flex-1",children:i.jsx(Br,{})}),i.jsxs(Ur,{children:[i.jsx(st,{value:"date",children:"Date"}),i.jsx(st,{value:"amount",children:"Amount"})]})]}),i.jsx(De,{variant:"outline",size:"icon",onClick:()=>T(O==="asc"?"desc":"asc"),children:i.jsx(uZ,{className:"h-4 w-4"})})]})]})]})})})}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:i.jsxs(be,{children:[i.jsx(Pe,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(m0,{className:"h-5 w-5"}),"Transactions (",n.length,")"]})}),i.jsx(we,{children:n.length>0?i.jsxs("div",{className:"space-y-4",children:[n.map(ye=>{const oe=se(ye)==="outgoing",pe=oe?ye.to_user_name:ye.from_user_name;return i.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border hover:bg-accent/50 cursor-pointer transition-colors",onClick:()=>s(ye),children:[i.jsxs("div",{className:"flex items-center gap-4",children:[te(ye),i.jsxs("div",{className:"space-y-1",children:[i.jsx("h4",{className:"font-medium text-sm",children:me(ye)}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[i.jsx("span",{children:he(ye.created_at)}),pe&&i.jsxs(i.Fragment,{children:[i.jsx("span",{children:"•"}),i.jsxs("span",{children:[oe?"To":"From",": ",pe]})]})]})]})]}),i.jsxs("div",{className:"text-right space-y-2",children:[i.jsxs("p",{className:`font-medium text-sm ${oe?"text-red-600":"text-green-600"}`,children:[oe?"-":"+",ae(ye.amount)]}),fe(ye.status)]})]},ye.id)}),$&&i.jsx("div",{className:"text-center pt-4",children:i.jsx(De,{variant:"outline",onClick:Q,disabled:U,className:"gap-2",children:U?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-transparent border-t-current"}),"Loading..."]}):"Load More"})})]}):i.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[i.jsx(Io,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{className:"text-lg font-medium mb-2",children:"No transactions found"}),i.jsx("p",{className:"text-sm",children:"Try adjusting your filters or make your first transaction"})]})})]})}),i.jsx(Zc,{open:!!a,onOpenChange:ye=>!ye&&s(null),children:i.jsxs(Jc,{className:"sm:max-w-md",children:[i.jsxs(eu,{children:[i.jsx(tu,{children:"Transaction Details"}),i.jsx(nu,{children:"Complete information about this transaction"})]}),a&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[te(a),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:me(a)}),i.jsx("p",{className:"text-sm text-muted-foreground",children:he(a.created_at)})]})]}),i.jsx(Vc,{}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Amount:"}),i.jsxs("span",{className:`font-medium ${se(a)==="outgoing"?"text-red-600":"text-green-600"}`,children:[se(a)==="outgoing"?"-":"+",ae(a.amount)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Status:"}),fe(a.status)]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Type:"}),i.jsx("span",{className:"font-medium capitalize",children:a.transaction_type})]}),a.reference_id&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Reference:"}),i.jsx("span",{className:"font-mono text-sm",children:a.reference_id})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Transaction ID:"}),i.jsx("span",{className:"font-mono text-xs",children:a.id})]}),a.completed_at&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Completed:"}),i.jsx("span",{className:"text-sm",children:he(a.completed_at)})]})]}),i.jsx(Vc,{}),i.jsxs(De,{variant:"outline",className:"w-full gap-2",children:[i.jsx(IZ,{className:"h-4 w-4"}),"View Receipt"]})]})]})})]})}function oi({size:e="md",text:t}){const{t:n}=tn(),r={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return i.jsx("div",{className:"flex min-h-screen items-center justify-center",children:i.jsxs("div",{className:"flex flex-col items-center gap-4",children:[i.jsx(Fc,{className:`animate-spin ${r[e]} text-primary`}),i.jsx("p",{className:"text-sm text-muted-foreground",children:t||n("common.loading")})]})})}function Wse(){const{user:e}=yn(),{t,isRTL:n}=tn(),[r,a]=A.useState([]),[s,c]=A.useState([]),[f,m]=A.useState(!0),[h,p]=A.useState(""),[v,j]=A.useState("all"),[E,O]=A.useState("date"),[T,_]=A.useState(null),[D,P]=A.useState(1),[I,U]=A.useState(!1);A.useEffect(()=>{F()},[]),A.useEffect(()=>{L()},[r,h,v,E]);const F=async()=>{try{const{data:X,error:K}=await ot.from("events").select(`
          *,
          sold_tickets:user_tickets(count),
          available_tickets:max_tickets
        `).eq("is_active",!0).gte("end_date",new Date().toISOString());if(K)throw K;const ee=(X==null?void 0:X.map(ue=>{var ne,G,Q,ae;return{...ue,sold_tickets:((G=(ne=ue.sold_tickets)==null?void 0:ne[0])==null?void 0:G.count)||0,available_tickets:ue.max_tickets-(((ae=(Q=ue.sold_tickets)==null?void 0:Q[0])==null?void 0:ae.count)||0)}}))||[];a(ee)}catch(X){console.error("Error fetching events:",X),nt.error(t("error_fetch_events"))}finally{m(!1)}},L=()=>{let X=r.filter(K=>{const ee=K.title.toLowerCase().includes(h.toLowerCase())||(K.description||"").toLowerCase().includes(h.toLowerCase())||(K.location||"").toLowerCase().includes(h.toLowerCase()),ue=v==="all"||K.category===v;return ee&&ue});X.sort((K,ee)=>{switch(E){case"date":return new Date(K.start_date||"").getTime()-new Date(ee.start_date||"").getTime();case"price_low":return(K.price||0)-(ee.price||0);case"price_high":return(ee.price||0)-(K.price||0);case"popularity":return ee.sold_tickets-K.sold_tickets;default:return 0}}),c(X)},B=async()=>{if(!(!T||!e)){if(T.available_tickets<D){nt.error(t("insufficient_tickets"));return}U(!0);try{const{data:X,error:K}=await ot.from("wallets").select("balance").eq("user_id",e.id).single();if(K)throw K;const ee=(T.price||0)*D;if(X.balance<ee){nt.error(t("insufficient_balance"));return}const{data:ue,error:ne}=await ot.rpc("purchase_event_tickets",{p_event_id:T.id,p_user_id:e.id,p_quantity:D});if(ne)throw ne;nt.success(t("tickets_purchased_success",{quantity:D.toString()})),_(null),P(1),F()}catch(X){console.error("Error purchasing tickets:",X),nt.error(t("error_purchase_tickets"))}finally{U(!1)}}},$=X=>new Date(X).toLocaleDateString(n?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),z=X=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(X),H=[{value:"all",label:t("all_categories")},{value:"concert",label:t("concert")},{value:"sports",label:t("sports")},{value:"theater",label:t("theater")},{value:"conference",label:t("conference")},{value:"workshop",label:t("workshop")},{value:"other",label:t("other")}];return f?i.jsx(oi,{text:t("loading_events")}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[i.jsx("h1",{className:"text-3xl font-bold",children:t("events")}),i.jsx("p",{className:"text-muted-foreground",children:t("events_description")})]}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:i.jsx(be,{children:i.jsx(we,{className:"p-6",children:i.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx(Pl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(qt,{placeholder:t("search_events"),value:h,onChange:X=>p(X.target.value),className:"pl-10"})]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(Lr,{value:v,onValueChange:j,children:[i.jsxs(Fr,{className:"w-[150px]",children:[i.jsx(q0,{className:"h-4 w-4 mr-2"}),i.jsx(Br,{})]}),i.jsx(Ur,{children:H.map(X=>i.jsx(st,{value:X.value,children:X.label},X.value))})]}),i.jsxs(Lr,{value:E,onValueChange:O,children:[i.jsx(Fr,{className:"w-[150px]",children:i.jsx(Br,{})}),i.jsxs(Ur,{children:[i.jsx(st,{value:"date",children:t("sort_by_date")}),i.jsx(st,{value:"price_low",children:t("sort_by_price_low")}),i.jsx(st,{value:"price_high",children:t("sort_by_price_high")}),i.jsx(st,{value:"popularity",children:t("sort_by_popularity")})]})]})]})]})})})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((X,K)=>i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:K*.1},children:i.jsxs(be,{className:"h-full hover:shadow-lg transition-shadow cursor-pointer",children:[i.jsx(Pe,{children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(ke,{className:"line-clamp-2",children:X.title}),i.jsx(rt,{className:"line-clamp-2 mt-2",children:X.description})]}),i.jsx(At,{variant:"secondary",className:"ml-2",children:t(X.category||"other")})]})}),i.jsxs(we,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[i.jsx(bi,{className:"h-4 w-4 mr-2"}),$(X.start_date||"")]}),i.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[i.jsx(El,{className:"h-4 w-4 mr-2"}),X.location]}),i.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[i.jsx(Ga,{className:"h-4 w-4 mr-2"}),X.available_tickets," ",t("tickets_available")]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"text-lg font-bold",children:z(X.price||0)}),i.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[i.jsx(p0,{className:"h-4 w-4 mr-1 fill-yellow-400 text-yellow-400"}),X.sold_tickets," ",t("sold")]})]}),i.jsxs(Zc,{children:[i.jsx(Q0,{asChild:!0,children:i.jsxs(De,{className:"w-full",disabled:X.available_tickets===0,onClick:()=>_(X),children:[i.jsx(si,{className:"h-4 w-4 mr-2"}),X.available_tickets===0?t("sold_out"):t("buy_tickets")]})}),i.jsxs(Jc,{children:[i.jsxs(eu,{children:[i.jsx(tu,{children:X.title}),i.jsx(nu,{children:X.description})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsxs("strong",{children:[t("start_date"),":"]}),i.jsx("p",{children:$(X.start_date||"")})]}),i.jsxs("div",{children:[i.jsxs("strong",{children:[t("end_date"),":"]}),i.jsx("p",{children:$(X.end_date||"")})]}),i.jsxs("div",{children:[i.jsxs("strong",{children:[t("location"),":"]}),i.jsx("p",{children:X.location})]}),i.jsxs("div",{children:[i.jsxs("strong",{children:[t("price"),":"]}),i.jsx("p",{children:z(X.price||0)})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:t("quantity")}),i.jsxs(Lr,{value:D.toString(),onValueChange:ee=>P(parseInt(ee)),children:[i.jsx(Fr,{children:i.jsx(Br,{})}),i.jsx(Ur,{children:Array.from({length:Math.min(X.available_tickets,10)},(ee,ue)=>i.jsxs(st,{value:(ue+1).toString(),children:[ue+1," ",t("tickets")]},ue+1))})]})]}),i.jsx("div",{className:"border-t pt-4",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("span",{className:"font-medium",children:[t("total"),":"]}),i.jsx("span",{className:"text-lg font-bold",children:z((X.price||0)*D)})]})}),i.jsx(De,{onClick:B,disabled:I,className:"w-full",children:I?i.jsx(oi,{text:t("processing")}):t("purchase_tickets")})]})]})]})]})]})},X.id))}),s.length===0&&i.jsx(be,{children:i.jsxs(we,{className:"text-center py-12",children:[i.jsx(si,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_events_found")}),i.jsx("p",{className:"text-muted-foreground",children:t("no_events_description")})]})})]})}function Gse(){const{user:e}=yn(),{t,isRTL:n}=tn(),[r,a]=A.useState([]),[s,c]=A.useState([]),[f,m]=A.useState(!0),[h,p]=A.useState(""),[v,j]=A.useState("all"),[E,O]=A.useState(null);A.useEffect(()=>{e&&T()},[e]),A.useEffect(()=>{_()},[r,h,v]);const T=async()=>{if(e)try{const{data:K,error:ee}=await ot.from("user_tickets").select(`
          *,
          event:events (*)
        `).eq("user_id",e.id).order("created_at",{ascending:!1});if(ee)throw ee;a(K||[])}catch(K){console.error("Error fetching tickets:",K),nt.error(t("error_fetch_tickets"))}finally{m(!1)}},_=()=>{let K=r.filter(ee=>{const ue=ee.event.title.toLowerCase().includes(h.toLowerCase())||(ee.event.description||"").toLowerCase().includes(h.toLowerCase())||(ee.event.location||"").toLowerCase().includes(h.toLowerCase()),ne=v==="all"||ee.status===v;return ue&&ne});c(K)},D=K=>{const ee={pending:{variant:"outline",label:t("pending")},confirmed:{variant:"default",label:t("confirmed")},used:{variant:"secondary",label:t("used")},cancelled:{variant:"destructive",label:t("cancelled")}},ue=ee[K]||ee.pending;return i.jsx(At,{variant:ue.variant,children:ue.label})},P=K=>s.filter(ee=>ee.status===K),I=K=>new Date(K).toLocaleDateString(n?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),U=K=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(K),F=K=>{var ae;const ee={ticketId:K.id,eventTitle:K.event.title,eventDate:K.event.start_date,eventLocation:K.event.location,userName:((ae=e==null?void 0:e.user_metadata)==null?void 0:ae.full_name)||(e==null?void 0:e.email),purchaseDate:K.created_at,status:K.status},ue=JSON.stringify(ee,null,2),ne=new Blob([ue],{type:"application/json"}),G=URL.createObjectURL(ne),Q=document.createElement("a");Q.href=G,Q.download=`ticket-${K.id}.json`,document.body.appendChild(Q),Q.click(),document.body.removeChild(Q),URL.revokeObjectURL(G),nt.success(t("ticket_downloaded"))},L=K=>{const ee=`TICKET:${K.id}:${K.event.id}:${e==null?void 0:e.id}`;return nt.info(t("qr_code_generated")),ee};if(f)return i.jsx(oi,{text:t("loading_tickets")});const B=P("confirmed"),$=P("used"),z=P("pending"),H=P("cancelled");return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[i.jsx("h1",{className:"text-3xl font-bold",children:t("my_tickets")}),i.jsx("p",{className:"text-muted-foreground",children:t("tickets_description")})]}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:i.jsx(be,{children:i.jsx(we,{className:"p-6",children:i.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx(Pl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(qt,{placeholder:t("search_tickets"),value:h,onChange:K=>p(K.target.value),className:"pl-10"})]})}),i.jsxs(Lr,{value:v,onValueChange:j,children:[i.jsx(Fr,{className:"w-[150px]",children:i.jsx(Br,{})}),i.jsxs(Ur,{children:[i.jsx(st,{value:"all",children:t("all_statuses")}),i.jsx(st,{value:"confirmed",children:t("confirmed")}),i.jsx(st,{value:"used",children:t("used")}),i.jsx(st,{value:"pending",children:t("pending")}),i.jsx(st,{value:"cancelled",children:t("cancelled")})]})]})]})})})}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:i.jsxs(Ll,{defaultValue:"active",className:"w-full",children:[i.jsxs(Bl,{className:"grid w-full grid-cols-4",children:[i.jsxs(kt,{value:"active",children:[t("active")," (",B.length,")"]}),i.jsxs(kt,{value:"used",children:[t("used")," (",$.length,")"]}),i.jsxs(kt,{value:"pending",children:[t("pending")," (",z.length,")"]}),i.jsxs(kt,{value:"cancelled",children:[t("cancelled")," (",H.length,")"]})]}),i.jsx(Lt,{value:"active",className:"space-y-4",children:i.jsx(X,{tickets:B})}),i.jsx(Lt,{value:"used",className:"space-y-4",children:i.jsx(X,{tickets:$})}),i.jsx(Lt,{value:"pending",className:"space-y-4",children:i.jsx(X,{tickets:z})}),i.jsx(Lt,{value:"cancelled",className:"space-y-4",children:i.jsx(X,{tickets:H})})]})})]});function X({tickets:K}){return K.length===0?i.jsx(be,{children:i.jsxs(we,{className:"text-center py-12",children:[i.jsx(si,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_tickets_found")}),i.jsx("p",{className:"text-muted-foreground",children:t("no_tickets_description")})]})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:K.map((ee,ue)=>i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ue*.1},children:i.jsxs(be,{className:"h-full hover:shadow-lg transition-shadow",children:[i.jsx(Pe,{children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(ke,{className:"line-clamp-2",children:ee.event.title}),i.jsx(rt,{className:"line-clamp-1 mt-2",children:ee.event.description})]}),D(ee.status)]})}),i.jsxs(we,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[i.jsx(bi,{className:"h-4 w-4 mr-2"}),I(ee.event.start_date||"")]}),i.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[i.jsx(El,{className:"h-4 w-4 mr-2"}),ee.event.location]}),i.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[i.jsx(si,{className:"h-4 w-4 mr-2"}),t("ticket_id"),": ",ee.id.slice(0,8),"..."]})]}),i.jsx("div",{className:"text-lg font-bold",children:U(ee.event.price||0)}),i.jsx("div",{className:"flex gap-2",children:i.jsxs(Zc,{children:[i.jsx(Q0,{asChild:!0,children:i.jsxs(De,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>O(ee),children:[i.jsx(mr,{className:"h-4 w-4 mr-2"}),t("view")]})}),i.jsxs(Jc,{children:[i.jsxs(eu,{children:[i.jsx(tu,{children:ee.event.title}),i.jsx(nu,{children:t("ticket_details")})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsxs("strong",{children:[t("ticket_id"),":"]}),i.jsx("p",{className:"font-mono",children:ee.id})]}),i.jsxs("div",{children:[i.jsxs("strong",{children:[t("status"),":"]}),i.jsx("div",{className:"mt-1",children:D(ee.status)})]}),i.jsxs("div",{children:[i.jsxs("strong",{children:[t("event_date"),":"]}),i.jsx("p",{children:I(ee.event.start_date||"")})]}),i.jsxs("div",{children:[i.jsxs("strong",{children:[t("purchase_date"),":"]}),i.jsx("p",{children:I(ee.created_at||"")})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsxs("strong",{children:[t("location"),":"]}),i.jsx("p",{children:ee.event.location})]}),ee.event.description&&i.jsxs("div",{className:"col-span-2",children:[i.jsxs("strong",{children:[t("description"),":"]}),i.jsx("p",{children:ee.event.description})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(De,{onClick:()=>L(ee),className:"flex-1",disabled:ee.status!=="confirmed",children:[i.jsx(Ar,{className:"h-4 w-4 mr-2"}),t("show_qr_code")]}),i.jsxs(De,{variant:"outline",onClick:()=>F(ee),className:"flex-1",children:[i.jsx(Zs,{className:"h-4 w-4 mr-2"}),t("download")]})]})]})]})]})})]})]})},ee.id))})}}var Mw={},Dw={},zM;function Kse(){return zM||(zM=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t}(Dw)),Dw}var Rw={},VM;function T7(){return VM||(VM=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t}(Rw)),Rw}var Iw={},$M;function O7(){return $M||($M=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t}(Iw)),Iw}var Pw={},HM;function BE(){return HM||(HM=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const r=[],a=n.length;if(a===0)return r;let s=0,c="",f="",m=!1;for(n.charCodeAt(0)===46&&(r.push(""),s++);s<a;){const h=n[s];f?h==="\\"&&s+1<a?(s++,c+=n[s]):h===f?f="":c+=h:m?h==='"'||h==="'"?f=h:h==="]"?(m=!1,r.push(c),c=""):c+=h:h==="["?(m=!0,c&&(r.push(c),c="")):h==="."?c&&(r.push(c),c=""):c+=h,s++}return c&&r.push(c),r}e.toPath=t}(Pw)),Pw}var qM;function FE(){return qM||(qM=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kse(),n=T7(),r=O7(),a=BE();function s(f,m,h){if(f==null)return h;switch(typeof m){case"string":{if(t.isUnsafeProperty(m))return h;const p=f[m];return p===void 0?n.isDeepKey(m)?s(f,a.toPath(m),h):h:p}case"number":case"symbol":{typeof m=="number"&&(m=r.toKey(m));const p=f[m];return p===void 0?h:p}default:{if(Array.isArray(m))return c(f,m,h);if(Object.is(m==null?void 0:m.valueOf(),-0)?m="-0":m=String(m),t.isUnsafeProperty(m))return h;const p=f[m];return p===void 0?h:p}}}function c(f,m,h){if(m.length===0)return h;let p=f;for(let v=0;v<m.length;v++){if(p==null||t.isUnsafeProperty(m[v]))return h;p=p[m[v]]}return p===void 0?h:p}e.get=s}(Mw)),Mw}var kw,YM;function Xse(){return YM||(YM=1,kw=FE().get),kw}var Qse=Xse();const Hc=Ki(Qse);var Lw={exports:{}},jn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WM;function Zse(){if(WM)return jn;WM=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.server_context"),m=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),O;O=Symbol.for("react.module.reference");function T(_){if(typeof _=="object"&&_!==null){var D=_.$$typeof;switch(D){case e:switch(_=_.type,_){case n:case a:case r:case h:case p:return _;default:switch(_=_&&_.$$typeof,_){case f:case c:case m:case j:case v:case s:return _;default:return D}}case t:return D}}}return jn.ContextConsumer=c,jn.ContextProvider=s,jn.Element=e,jn.ForwardRef=m,jn.Fragment=n,jn.Lazy=j,jn.Memo=v,jn.Portal=t,jn.Profiler=a,jn.StrictMode=r,jn.Suspense=h,jn.SuspenseList=p,jn.isAsyncMode=function(){return!1},jn.isConcurrentMode=function(){return!1},jn.isContextConsumer=function(_){return T(_)===c},jn.isContextProvider=function(_){return T(_)===s},jn.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},jn.isForwardRef=function(_){return T(_)===m},jn.isFragment=function(_){return T(_)===n},jn.isLazy=function(_){return T(_)===j},jn.isMemo=function(_){return T(_)===v},jn.isPortal=function(_){return T(_)===t},jn.isProfiler=function(_){return T(_)===a},jn.isStrictMode=function(_){return T(_)===r},jn.isSuspense=function(_){return T(_)===h},jn.isSuspenseList=function(_){return T(_)===p},jn.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===n||_===a||_===r||_===h||_===p||_===E||typeof _=="object"&&_!==null&&(_.$$typeof===j||_.$$typeof===v||_.$$typeof===s||_.$$typeof===c||_.$$typeof===m||_.$$typeof===O||_.getModuleId!==void 0)},jn.typeOf=T,jn}var GM;function Jse(){return GM||(GM=1,Lw.exports=Zse()),Lw.exports}var eoe=Jse(),ya=e=>e===0?0:e>0?1:-1,Si=e=>typeof e=="number"&&e!=+e,Wu=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Je=e=>(typeof e=="number"||e instanceof Number)&&!Si(e),ko=e=>Je(e)||typeof e=="string",toe=0,qc=e=>{var t=++toe;return"".concat(e||"").concat(t)},ii=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Je(t)&&typeof t!="string")return r;var s;if(Wu(t)){if(n==null)return r;var c=t.indexOf("%");s=n*parseFloat(t.slice(0,c))/100}else s=+t;return Si(s)&&(s=r),a&&n!=null&&s>n&&(s=n),s},M7=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1},zi=(e,t)=>Je(e)&&Je(t)?n=>e+n*(t-e):()=>t;function _f(e,t,n){return Je(e)&&Je(t)?e+n*(t-e):t}function D7(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Hc(r,t))===n)}var Dn=e=>e===null||typeof e>"u",Z0=e=>Dn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),noe=["viewBox","children"],roe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],KM=["points","pathLength"],Bw={svg:noe,polygon:KM,polyline:KM},UE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],zE=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(A.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{UE.includes(a)&&(r[a]=s=>n[a](n,s))}),r},aoe=(e,t,n)=>r=>(e(t,n,r),null),J0=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(a=>{var s=e[a];UE.includes(a)&&typeof s=="function"&&(r||(r={}),r[a]=aoe(s,t,n))}),r},XM=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",QM=null,Fw=null,R7=e=>{if(e===QM&&Array.isArray(Fw))return Fw;var t=[];return A.Children.forEach(e,n=>{Dn(n)||(eoe.isFragment(n)?t=t.concat(R7(n.props.children)):t.push(n))}),Fw=t,QM=e,t};function eg(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(a=>XM(a)):r=[XM(t)],R7(e).forEach(a=>{var s=Hc(a,"type.displayName")||Hc(a,"type.name");r.indexOf(s)!==-1&&n.push(a)}),n}var rv=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,ioe=(e,t,n,r)=>{var a,s=(a=r&&(Bw==null?void 0:Bw[r]))!==null&&a!==void 0?a:[];return t.startsWith("data-")||typeof e!="function"&&(r&&s.includes(t)||roe.includes(t))||n&&UE.includes(t)},Ut=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(A.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var a={};return Object.keys(r).forEach(s=>{var c;ioe((c=r)===null||c===void 0?void 0:c[s],s,t,n)&&(a[s]=r[s])}),a},soe=["children","width","height","viewBox","className","style","title","desc"];function hj(){return hj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hj.apply(null,arguments)}function ooe(e,t){if(e==null)return{};var n,r,a=loe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function loe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var VE=A.forwardRef((e,t)=>{var{children:n,width:r,height:a,viewBox:s,className:c,style:f,title:m,desc:h}=e,p=ooe(e,soe),v=s||{width:r,height:a,x:0,y:0},j=en("recharts-surface",c);return A.createElement("svg",hj({},Ut(p,!0,"svg"),{className:j,width:r,height:a,style:f,viewBox:"".concat(v.x," ").concat(v.y," ").concat(v.width," ").concat(v.height),ref:t}),A.createElement("title",null,m),A.createElement("desc",null,h),n)}),coe=["children","className"];function mj(){return mj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mj.apply(null,arguments)}function uoe(e,t){if(e==null)return{};var n,r,a=doe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function doe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var gr=A.forwardRef((e,t)=>{var{children:n,className:r}=e,a=uoe(e,coe),s=en("recharts-layer",r);return A.createElement("g",mj({className:s},Ut(a,!0),{ref:t}),n)}),I7=A.createContext(null),foe=()=>A.useContext(I7);function qn(e){return function(){return e}}const P7=Math.cos,Ux=Math.sin,to=Math.sqrt,zx=Math.PI,av=2*zx,gj=Math.PI,pj=2*gj,Uu=1e-6,hoe=pj-Uu;function k7(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function moe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return k7;const n=10**t;return function(r){this._+=r[0];for(let a=1,s=r.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class goe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?k7:moe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,s,c){this._append`C${+t},${+n},${+r},${+a},${this._x1=+s},${this._y1=+c}`}arcTo(t,n,r,a,s){if(t=+t,n=+n,r=+r,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,f=this._y1,m=r-t,h=a-n,p=c-t,v=f-n,j=p*p+v*v;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(j>Uu)if(!(Math.abs(v*m-h*p)>Uu)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let E=r-c,O=a-f,T=m*m+h*h,_=E*E+O*O,D=Math.sqrt(T),P=Math.sqrt(j),I=s*Math.tan((gj-Math.acos((T+j-_)/(2*D*P)))/2),U=I/P,F=I/D;Math.abs(U-1)>Uu&&this._append`L${t+U*p},${n+U*v}`,this._append`A${s},${s},0,0,${+(v*E>p*O)},${this._x1=t+F*m},${this._y1=n+F*h}`}}arc(t,n,r,a,s,c){if(t=+t,n=+n,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(a),m=r*Math.sin(a),h=t+f,p=n+m,v=1^c,j=c?a-s:s-a;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>Uu||Math.abs(this._y1-p)>Uu)&&this._append`L${h},${p}`,r&&(j<0&&(j=j%pj+pj),j>hoe?this._append`A${r},${r},0,1,${v},${t-f},${n-m}A${r},${r},0,1,${v},${this._x1=h},${this._y1=p}`:j>Uu&&this._append`A${r},${r},0,${+(j>=gj)},${v},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function $E(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new goe(t)}function HE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function L7(e){this._context=e}L7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function iv(e){return new L7(e)}function B7(e){return e[0]}function F7(e){return e[1]}function U7(e,t){var n=qn(!0),r=null,a=iv,s=null,c=$E(f);e=typeof e=="function"?e:e===void 0?B7:qn(e),t=typeof t=="function"?t:t===void 0?F7:qn(t);function f(m){var h,p=(m=HE(m)).length,v,j=!1,E;for(r==null&&(s=a(E=c())),h=0;h<=p;++h)!(h<p&&n(v=m[h],h,m))===j&&((j=!j)?s.lineStart():s.lineEnd()),j&&s.point(+e(v,h,m),+t(v,h,m));if(E)return s=null,E+""||null}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:qn(+m),f):e},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:qn(+m),f):t},f.defined=function(m){return arguments.length?(n=typeof m=="function"?m:qn(!!m),f):n},f.curve=function(m){return arguments.length?(a=m,r!=null&&(s=a(r)),f):a},f.context=function(m){return arguments.length?(m==null?r=s=null:s=a(r=m),f):r},f}function qp(e,t,n){var r=null,a=qn(!0),s=null,c=iv,f=null,m=$E(h);e=typeof e=="function"?e:e===void 0?B7:qn(+e),t=typeof t=="function"?t:qn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?F7:qn(+n);function h(v){var j,E,O,T=(v=HE(v)).length,_,D=!1,P,I=new Array(T),U=new Array(T);for(s==null&&(f=c(P=m())),j=0;j<=T;++j){if(!(j<T&&a(_=v[j],j,v))===D)if(D=!D)E=j,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),O=j-1;O>=E;--O)f.point(I[O],U[O]);f.lineEnd(),f.areaEnd()}D&&(I[j]=+e(_,j,v),U[j]=+t(_,j,v),f.point(r?+r(_,j,v):I[j],n?+n(_,j,v):U[j]))}if(P)return f=null,P+""||null}function p(){return U7().defined(a).curve(c).context(s)}return h.x=function(v){return arguments.length?(e=typeof v=="function"?v:qn(+v),r=null,h):e},h.x0=function(v){return arguments.length?(e=typeof v=="function"?v:qn(+v),h):e},h.x1=function(v){return arguments.length?(r=v==null?null:typeof v=="function"?v:qn(+v),h):r},h.y=function(v){return arguments.length?(t=typeof v=="function"?v:qn(+v),n=null,h):t},h.y0=function(v){return arguments.length?(t=typeof v=="function"?v:qn(+v),h):t},h.y1=function(v){return arguments.length?(n=v==null?null:typeof v=="function"?v:qn(+v),h):n},h.lineX0=h.lineY0=function(){return p().x(e).y(t)},h.lineY1=function(){return p().x(e).y(n)},h.lineX1=function(){return p().x(r).y(t)},h.defined=function(v){return arguments.length?(a=typeof v=="function"?v:qn(!!v),h):a},h.curve=function(v){return arguments.length?(c=v,s!=null&&(f=c(s)),h):c},h.context=function(v){return arguments.length?(v==null?s=f=null:f=c(s=v),h):s},h}class z7{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function poe(e){return new z7(e,!0)}function xoe(e){return new z7(e,!1)}const qE={draw(e,t){const n=to(t/zx);e.moveTo(n,0),e.arc(0,0,n,0,av)}},voe={draw(e,t){const n=to(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},V7=to(1/3),yoe=V7*2,boe={draw(e,t){const n=to(t/yoe),r=n*V7;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},woe={draw(e,t){const n=to(t),r=-n/2;e.rect(r,r,n,n)}},Soe=.8908130915292852,$7=Ux(zx/10)/Ux(7*zx/10),joe=Ux(av/10)*$7,Aoe=-P7(av/10)*$7,Eoe={draw(e,t){const n=to(t*Soe),r=joe*n,a=Aoe*n;e.moveTo(0,-n),e.lineTo(r,a);for(let s=1;s<5;++s){const c=av*s/5,f=P7(c),m=Ux(c);e.lineTo(m*n,-f*n),e.lineTo(f*r-m*a,m*r+f*a)}e.closePath()}},Uw=to(3),Noe={draw(e,t){const n=-to(t/(Uw*3));e.moveTo(0,n*2),e.lineTo(-Uw*n,-n),e.lineTo(Uw*n,-n),e.closePath()}},ls=-.5,cs=to(3)/2,xj=1/to(12),_oe=(xj/2+1)*3,Coe={draw(e,t){const n=to(t/_oe),r=n/2,a=n*xj,s=r,c=n*xj+n,f=-s,m=c;e.moveTo(r,a),e.lineTo(s,c),e.lineTo(f,m),e.lineTo(ls*r-cs*a,cs*r+ls*a),e.lineTo(ls*s-cs*c,cs*s+ls*c),e.lineTo(ls*f-cs*m,cs*f+ls*m),e.lineTo(ls*r+cs*a,ls*a-cs*r),e.lineTo(ls*s+cs*c,ls*c-cs*s),e.lineTo(ls*f+cs*m,ls*m-cs*f),e.closePath()}};function Toe(e,t){let n=null,r=$E(a);e=typeof e=="function"?e:qn(e||qE),t=typeof t=="function"?t:qn(t===void 0?64:+t);function a(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:qn(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:qn(+s),a):t},a.context=function(s){return arguments.length?(n=s??null,a):n},a}function Vx(){}function $x(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function H7(e){this._context=e}H7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$x(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$x(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ooe(e){return new H7(e)}function q7(e){this._context=e}q7.prototype={areaStart:Vx,areaEnd:Vx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:$x(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Moe(e){return new q7(e)}function Y7(e){this._context=e}Y7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:$x(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Doe(e){return new Y7(e)}function W7(e){this._context=e}W7.prototype={areaStart:Vx,areaEnd:Vx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Roe(e){return new W7(e)}function ZM(e){return e<0?-1:1}function JM(e,t,n){var r=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(r||a<0&&-0),c=(n-e._y1)/(a||r<0&&-0),f=(s*a+c*r)/(r+a);return(ZM(s)+ZM(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(f))||0}function eD(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function zw(e,t,n){var r=e._x0,a=e._y0,s=e._x1,c=e._y1,f=(s-r)/3;e._context.bezierCurveTo(r+f,a+f*t,s-f,c-f*n,s,c)}function Hx(e){this._context=e}Hx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:zw(this,this._t0,eD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,zw(this,eD(this,n=JM(this,e,t)),n);break;default:zw(this,this._t0,n=JM(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function G7(e){this._context=new K7(e)}(G7.prototype=Object.create(Hx.prototype)).point=function(e,t){Hx.prototype.point.call(this,t,e)};function K7(e){this._context=e}K7.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,s){this._context.bezierCurveTo(t,e,r,n,s,a)}};function Ioe(e){return new Hx(e)}function Poe(e){return new G7(e)}function X7(e){this._context=e}X7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=tD(e),a=tD(t),s=0,c=1;c<n;++s,++c)this._context.bezierCurveTo(r[0][s],a[0][s],r[1][s],a[1][s],e[c],t[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function tD(e){var t,n=e.length-1,r,a=new Array(n),s=new Array(n),c=new Array(n);for(a[0]=0,s[0]=2,c[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,s[t]=4,c[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,s[n-1]=7,c[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/s[t-1],s[t]-=r,c[t]-=r*c[t-1];for(a[n-1]=c[n-1]/s[n-1],t=n-2;t>=0;--t)a[t]=(c[t]-a[t+1])/s[t];for(s[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function koe(e){return new X7(e)}function sv(e,t){this._context=e,this._t=t}sv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Loe(e){return new sv(e,.5)}function Boe(e){return new sv(e,0)}function Foe(e){return new sv(e,1)}function eh(e,t){if((c=e.length)>1)for(var n=1,r,a,s=e[t[0]],c,f=s.length;n<c;++n)for(a=s,s=e[t[n]],r=0;r<f;++r)s[r][1]+=s[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function vj(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Uoe(e,t){return e[t]}function zoe(e){const t=[];return t.key=e,t}function Voe(){var e=qn([]),t=vj,n=eh,r=Uoe;function a(s){var c=Array.from(e.apply(this,arguments),zoe),f,m=c.length,h=-1,p;for(const v of s)for(f=0,++h;f<m;++f)(c[f][h]=[0,+r(v,c[f].key,h,s)]).data=v;for(f=0,p=HE(t(c));f<m;++f)c[p[f]].index=f;return n(c,p),c}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:qn(Array.from(s)),a):e},a.value=function(s){return arguments.length?(r=typeof s=="function"?s:qn(+s),a):r},a.order=function(s){return arguments.length?(t=s==null?vj:typeof s=="function"?s:qn(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(n=s??eh,a):n},a}function $oe(e,t){if((r=e.length)>0){for(var n,r,a=0,s=e[0].length,c;a<s;++a){for(c=n=0;n<r;++n)c+=e[n][a][1]||0;if(c)for(n=0;n<r;++n)e[n][a][1]/=c}eh(e,t)}}function Hoe(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,s=r.length;n<s;++n){for(var c=0,f=0;c<a;++c)f+=e[c][n][1]||0;r[n][1]+=r[n][0]=-f/2}eh(e,t)}}function qoe(e,t){if(!(!((c=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,s,c;r<s;++r){for(var f=0,m=0,h=0;f<c;++f){for(var p=e[t[f]],v=p[r][1]||0,j=p[r-1][1]||0,E=(v-j)/2,O=0;O<f;++O){var T=e[t[O]],_=T[r][1]||0,D=T[r-1][1]||0;E+=_-D}m+=v,h+=E*v}a[r-1][1]+=a[r-1][0]=n,m&&(n-=h/m)}a[r-1][1]+=a[r-1][0]=n,eh(e,t)}}var Yoe=["type","size","sizeType"];function yj(){return yj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yj.apply(null,arguments)}function nD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function rD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nD(Object(n),!0).forEach(function(r){Woe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Woe(e,t,n){return(t=Goe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Goe(e){var t=Koe(e,"string");return typeof t=="symbol"?t:t+""}function Koe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xoe(e,t){if(e==null)return{};var n,r,a=Qoe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Qoe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Q7={symbolCircle:qE,symbolCross:voe,symbolDiamond:boe,symbolSquare:woe,symbolStar:Eoe,symbolTriangle:Noe,symbolWye:Coe},Zoe=Math.PI/180,Joe=e=>{var t="symbol".concat(Z0(e));return Q7[t]||qE},ele=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*Zoe;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},tle=(e,t)=>{Q7["symbol".concat(Z0(e))]=t},YE=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,a=Xoe(e,Yoe),s=rD(rD({},a),{},{type:t,size:n,sizeType:r}),c=()=>{var v=Joe(t),j=Toe().type(v).size(ele(n,r,t));return j()},{className:f,cx:m,cy:h}=s,p=Ut(s,!0);return m===+m&&h===+h&&n===+n?A.createElement("path",yj({},p,{className:en("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:c()})):null};YE.registerSymbol=tle;function bj(){return bj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bj.apply(null,arguments)}function aD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function nle(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aD(Object(n),!0).forEach(function(r){WE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WE(e,t,n){return(t=rle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rle(e){var t=ale(e,"string");return typeof t=="symbol"?t:t+""}function ale(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Is=32;class GE extends A.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,a=Is/2,s=Is/6,c=Is/3,f=t.inactive?r:t.color,m=n??t.type;if(m==="none")return null;if(m==="plainline")return A.createElement("line",{strokeWidth:4,fill:"none",stroke:f,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:Is,y2:a,className:"recharts-legend-icon"});if(m==="line")return A.createElement("path",{strokeWidth:4,fill:"none",stroke:f,d:"M0,".concat(a,"h").concat(c,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*c,",").concat(a,`
            H`).concat(Is,"M").concat(2*c,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(c,",").concat(a),className:"recharts-legend-icon"});if(m==="rect")return A.createElement("path",{stroke:"none",fill:f,d:"M0,".concat(Is/8,"h").concat(Is,"v").concat(Is*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(A.isValidElement(t.legendIcon)){var h=nle({},t);return delete h.legendIcon,A.cloneElement(t.legendIcon,h)}return A.createElement(YE,{fill:f,cx:a,cy:a,size:Is,sizeType:"diameter",type:m})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:a,inactiveColor:s,iconType:c}=this.props,f={x:0,y:0,width:Is,height:Is},m={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,v)=>{var j=p.formatter||a,E=en({"recharts-legend-item":!0,["legend-item-".concat(v)]:!0,inactive:p.inactive});if(p.type==="none")return null;var O=p.inactive?s:p.color,T=j?j(p.value,p,v):p.value;return A.createElement("li",bj({className:E,style:m,key:"legend-item-".concat(v)},J0(this.props,p,v)),A.createElement(VE,{width:n,height:n,viewBox:f,style:h,"aria-label":"".concat(T," legend icon")},this.renderIcon(p,c)),A.createElement("span",{className:"recharts-legend-item-text",style:{color:O}},T))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return A.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}WE(GE,"displayName","Legend");WE(GE,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Vw={},$w={},iD;function ile(){return iD||(iD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const a=new Map;for(let s=0;s<n.length;s++){const c=n[s],f=r(c);a.has(f)||a.set(f,c)}return Array.from(a.values())}e.uniqBy=t}($w)),$w}var Hw={},sD;function Z7(){return sD||(sD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t}(Hw)),Hw}var qw={},Yw={},Ww={},oD;function sle(){return oD||(oD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t}(Ww)),Ww}var lD;function KE(){return lD||(lD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sle();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n}(Yw)),Yw}var Gw={},cD;function ole(){return cD||(cD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t}(Gw)),Gw}var uD;function lle(){return uD||(uD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KE(),n=ole();function r(a){return n.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=r}(qw)),qw}var Kw={},Xw={},dD;function cle(){return dD||(dD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FE();function n(r){return function(a){return t.get(a,r)}}e.property=n}(Xw)),Xw}var Qw={},Zw={},Jw={},e2={},fD;function J7(){return fD||(fD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t}(e2)),e2}var t2={},hD;function eB(){return hD||(hD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t}(t2)),t2}var n2={},mD;function XE(){return mD||(mD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t}(n2)),n2}var gD;function ule(){return gD||(gD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QE(),n=J7(),r=eB(),a=XE();function s(v,j,E){return typeof E!="function"?t.isMatch(v,j):c(v,j,function O(T,_,D,P,I,U){const F=E(T,_,D,P,I,U);return F!==void 0?!!F:c(T,_,O,U)},new Map)}function c(v,j,E,O){if(j===v)return!0;switch(typeof j){case"object":return f(v,j,E,O);case"function":return Object.keys(j).length>0?c(v,{...j},E,O):a.eq(v,j);default:return n.isObject(v)?typeof j=="string"?j==="":!0:a.eq(v,j)}}function f(v,j,E,O){if(j==null)return!0;if(Array.isArray(j))return h(v,j,E,O);if(j instanceof Map)return m(v,j,E,O);if(j instanceof Set)return p(v,j,E,O);const T=Object.keys(j);if(v==null)return T.length===0;if(T.length===0)return!0;if(O&&O.has(j))return O.get(j)===v;O&&O.set(j,v);try{for(let _=0;_<T.length;_++){const D=T[_];if(!r.isPrimitive(v)&&!(D in v)||j[D]===void 0&&v[D]!==void 0||j[D]===null&&v[D]!==null||!E(v[D],j[D],D,v,j,O))return!1}return!0}finally{O&&O.delete(j)}}function m(v,j,E,O){if(j.size===0)return!0;if(!(v instanceof Map))return!1;for(const[T,_]of j.entries()){const D=v.get(T);if(E(D,_,T,v,j,O)===!1)return!1}return!0}function h(v,j,E,O){if(j.length===0)return!0;if(!Array.isArray(v))return!1;const T=new Set;for(let _=0;_<j.length;_++){const D=j[_];let P=!1;for(let I=0;I<v.length;I++){if(T.has(I))continue;const U=v[I];let F=!1;if(E(U,D,_,v,j,O)&&(F=!0),F){T.add(I),P=!0;break}}if(!P)return!1}return!0}function p(v,j,E,O){return j.size===0?!0:v instanceof Set?h([...v],[...j],E,O):!1}e.isMatchWith=s,e.isSetMatch=p}(Jw)),Jw}var pD;function QE(){return pD||(pD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ule();function n(r,a){return t.isMatchWith(r,a,()=>{})}e.isMatch=n}(Zw)),Zw}var r2={},a2={},i2={},xD;function tB(){return xD||(xD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t}(i2)),i2}var s2={},vD;function ZE(){return vD||(vD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t}(s2)),s2}var o2={},yD;function JE(){return yD||(yD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",s="[object Arguments]",c="[object Symbol]",f="[object Date]",m="[object Map]",h="[object Set]",p="[object Array]",v="[object Function]",j="[object ArrayBuffer]",E="[object Object]",O="[object Error]",T="[object DataView]",_="[object Uint8Array]",D="[object Uint8ClampedArray]",P="[object Uint16Array]",I="[object Uint32Array]",U="[object BigUint64Array]",F="[object Int8Array]",L="[object Int16Array]",B="[object Int32Array]",$="[object BigInt64Array]",z="[object Float32Array]",H="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=j,e.arrayTag=p,e.bigInt64ArrayTag=$,e.bigUint64ArrayTag=U,e.booleanTag=a,e.dataViewTag=T,e.dateTag=f,e.errorTag=O,e.float32ArrayTag=z,e.float64ArrayTag=H,e.functionTag=v,e.int16ArrayTag=L,e.int32ArrayTag=B,e.int8ArrayTag=F,e.mapTag=m,e.numberTag=r,e.objectTag=E,e.regexpTag=t,e.setTag=h,e.stringTag=n,e.symbolTag=c,e.uint16ArrayTag=P,e.uint32ArrayTag=I,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=D}(o2)),o2}var l2={},bD;function dle(){return bD||(bD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t}(l2)),l2}var wD;function nB(){return wD||(wD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tB(),n=ZE(),r=JE(),a=eB(),s=dle();function c(p,v){return f(p,void 0,p,new Map,v)}function f(p,v,j,E=new Map,O=void 0){const T=O==null?void 0:O(p,v,j,E);if(T!=null)return T;if(a.isPrimitive(p))return p;if(E.has(p))return E.get(p);if(Array.isArray(p)){const _=new Array(p.length);E.set(p,_);for(let D=0;D<p.length;D++)_[D]=f(p[D],D,j,E,O);return Object.hasOwn(p,"index")&&(_.index=p.index),Object.hasOwn(p,"input")&&(_.input=p.input),_}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const _=new RegExp(p.source,p.flags);return _.lastIndex=p.lastIndex,_}if(p instanceof Map){const _=new Map;E.set(p,_);for(const[D,P]of p)_.set(D,f(P,D,j,E,O));return _}if(p instanceof Set){const _=new Set;E.set(p,_);for(const D of p)_.add(f(D,void 0,j,E,O));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const _=new(Object.getPrototypeOf(p)).constructor(p.length);E.set(p,_);for(let D=0;D<p.length;D++)_[D]=f(p[D],D,j,E,O);return _}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const _=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return E.set(p,_),m(_,p,j,E,O),_}if(typeof File<"u"&&p instanceof File){const _=new File([p],p.name,{type:p.type});return E.set(p,_),m(_,p,j,E,O),_}if(p instanceof Blob){const _=new Blob([p],{type:p.type});return E.set(p,_),m(_,p,j,E,O),_}if(p instanceof Error){const _=new p.constructor;return E.set(p,_),_.message=p.message,_.name=p.name,_.stack=p.stack,_.cause=p.cause,m(_,p,j,E,O),_}if(typeof p=="object"&&h(p)){const _=Object.create(Object.getPrototypeOf(p));return E.set(p,_),m(_,p,j,E,O),_}return p}function m(p,v,j=p,E,O){const T=[...Object.keys(v),...t.getSymbols(v)];for(let _=0;_<T.length;_++){const D=T[_],P=Object.getOwnPropertyDescriptor(p,D);(P==null||P.writable)&&(p[D]=f(v[D],D,j,E,O))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=f,e.copyProperties=m}(a2)),a2}var SD;function fle(){return SD||(SD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nB();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n}(r2)),r2}var jD;function hle(){return jD||(jD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QE(),n=fle();function r(a){return a=n.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=r}(Qw)),Qw}var c2={},u2={},d2={},AD;function mle(){return AD||(AD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nB(),n=JE();function r(a,s){return t.cloneDeepWith(a,(c,f,m,h)=>{const p=s==null?void 0:s(c,f,m,h);if(p!=null)return p;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const v=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(v,a),v}case n.argumentsTag:{const v={};return t.copyProperties(v,a),v.length=a.length,v[Symbol.iterator]=a[Symbol.iterator],v}default:return}})}e.cloneDeepWith=r}(d2)),d2}var ED;function gle(){return ED||(ED=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mle();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n}(u2)),u2}var f2={},h2={},ND;function rB(){return ND||(ND=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n}(h2)),h2}var m2={},_D;function ple(){return _D||(_D=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZE();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n}(m2)),m2}var CD;function xle(){return CD||(CD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T7(),n=rB(),r=ple(),a=BE();function s(c,f){let m;if(Array.isArray(f)?m=f:typeof f=="string"&&t.isDeepKey(f)&&(c==null?void 0:c[f])==null?m=a.toPath(f):m=[f],m.length===0)return!1;let h=c;for(let p=0;p<m.length;p++){const v=m[p];if((h==null||!Object.hasOwn(h,v))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(v)&&v<h.length))return!1;h=h[v]}return!0}e.has=s}(f2)),f2}var TD;function vle(){return TD||(TD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QE(),n=O7(),r=gle(),a=FE(),s=xle();function c(f,m){switch(typeof f){case"object":{Object.is(f==null?void 0:f.valueOf(),-0)&&(f="-0");break}case"number":{f=n.toKey(f);break}}return m=r.cloneDeep(m),function(h){const p=a.get(h,f);return p===void 0?s.has(h,f):m===void 0?p===void 0:t.isMatch(p,m)}}e.matchesProperty=c}(c2)),c2}var OD;function yle(){return OD||(OD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Z7(),n=cle(),r=hle(),a=vle();function s(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?a.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return n.property(c)}}e.iteratee=s}(Kw)),Kw}var MD;function ble(){return MD||(MD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ile(),n=Z7(),r=lle(),a=yle();function s(c,f=n.identity){return r.isArrayLikeObject(c)?t.uniqBy(Array.from(c),a.iteratee(f)):[]}e.uniqBy=s}(Vw)),Vw}var g2,DD;function wle(){return DD||(DD=1,g2=ble().uniqBy),g2}var Sle=wle();const RD=Ki(Sle);function aB(e,t,n){return t===!0?RD(e,n):typeof t=="function"?RD(e,t):e}var p2={exports:{}},x2={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ID;function jle(){if(ID)return x2;ID=1;var e=uh(),t=X5();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,a=t.useSyncExternalStore,s=e.useRef,c=e.useEffect,f=e.useMemo,m=e.useDebugValue;return x2.useSyncExternalStoreWithSelector=function(h,p,v,j,E){var O=s(null);if(O.current===null){var T={hasValue:!1,value:null};O.current=T}else T=O.current;O=f(function(){function D(L){if(!P){if(P=!0,I=L,L=j(L),E!==void 0&&T.hasValue){var B=T.value;if(E(B,L))return U=B}return U=L}if(B=U,r(I,L))return B;var $=j(L);return E!==void 0&&E(B,$)?(I=L,B):(I=L,U=$)}var P=!1,I,U,F=v===void 0?null:v;return[function(){return D(p())},F===null?void 0:function(){return D(F())}]},[p,v,j,E]);var _=a(h,O[0],O[1]);return c(function(){T.hasValue=!0,T.value=_},[_]),m(_),_},x2}var PD;function Ale(){return PD||(PD=1,p2.exports=jle()),p2.exports}var Ele=Ale(),eN=A.createContext(null),Nle=e=>e,ar=()=>{var e=A.useContext(eN);return e?e.store.dispatch:Nle},yx=()=>{},_le=()=>yx,Cle=(e,t)=>e===t;function ft(e){var t=A.useContext(eN);return Ele.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:_le,t?t.store.getState:yx,t?t.store.getState:yx,t?e:yx,Cle)}function Tle(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Ole(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Mle(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var kD=e=>Array.isArray(e)?e:[e];function Dle(e){const t=Array.isArray(e[0])?e[0]:e;return Mle(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Rle(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}var Ile=class{constructor(e){this.value=e}deref(){return this.value}},Ple=typeof WeakRef<"u"?WeakRef:Ile,kle=0,LD=1;function Yp(){return{s:kle,v:void 0,o:null,p:null}}function iB(e,t={}){let n=Yp();const{resultEqualityCheck:r}=t;let a,s=0;function c(){var v;let f=n;const{length:m}=arguments;for(let j=0,E=m;j<E;j++){const O=arguments[j];if(typeof O=="function"||typeof O=="object"&&O!==null){let T=f.o;T===null&&(f.o=T=new WeakMap);const _=T.get(O);_===void 0?(f=Yp(),T.set(O,f)):f=_}else{let T=f.p;T===null&&(f.p=T=new Map);const _=T.get(O);_===void 0?(f=Yp(),T.set(O,f)):f=_}}const h=f;let p;if(f.s===LD)p=f.v;else if(p=e.apply(null,arguments),s++,r){const j=((v=a==null?void 0:a.deref)==null?void 0:v.call(a))??a;j!=null&&r(j,p)&&(p=j,s!==0&&s--),a=typeof p=="object"&&p!==null||typeof p=="function"?new Ple(p):p}return h.s=LD,h.v=p,p}return c.clearCache=()=>{n=Yp(),c.resetResultsCount()},c.resultsCount=()=>s,c.resetResultsCount=()=>{s=0},c}function Lle(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...a)=>{let s=0,c=0,f,m={},h=a.pop();typeof h=="object"&&(m=h,h=a.pop()),Tle(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...m},{memoize:v,memoizeOptions:j=[],argsMemoize:E=iB,argsMemoizeOptions:O=[]}=p,T=kD(j),_=kD(O),D=Dle(a),P=v(function(){return s++,h.apply(null,arguments)},...T),I=E(function(){c++;const F=Rle(D,arguments);return f=P.apply(null,F),f},..._);return Object.assign(I,{resultFunc:h,memoizedResultFunc:P,dependencies:D,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>f,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:v,argsMemoize:E})};return Object.assign(r,{withTypes:()=>r}),r}var Me=Lle(iB),Ble=Object.assign((e,t=Me)=>{Ole(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((c,f,m)=>(c[n[m]]=f,c),{}))},{withTypes:()=>Ble}),v2={},y2={},b2={},BD;function Fle(){return BD||(BD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,s)=>{if(r!==a){const c=t(r),f=t(a);if(c===f&&c===0){if(r<a)return s==="desc"?1:-1;if(r>a)return s==="desc"?-1:1}return s==="desc"?f-c:c-f}return 0};e.compareValues=n}(b2)),b2}var w2={},S2={},FD;function sB(){return FD||(FD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t}(S2)),S2}var UD;function Ule(){return UD||(UD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sB(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(s,c){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||c!=null&&Object.hasOwn(c,s)}e.isKey=a}(w2)),w2}var zD;function zle(){return zD||(zD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fle(),n=Ule(),r=BE();function a(s,c,f,m){if(s==null)return[];f=m?void 0:f,Array.isArray(s)||(s=Object.values(s)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(f)||(f=f==null?[]:[f]),f=f.map(E=>String(E));const h=(E,O)=>{let T=E;for(let _=0;_<O.length&&T!=null;++_)T=T[O[_]];return T},p=(E,O)=>O==null||E==null?O:typeof E=="object"&&"key"in E?Object.hasOwn(O,E.key)?O[E.key]:h(O,E.path):typeof E=="function"?E(O):Array.isArray(E)?h(O,E):typeof O=="object"?O[E]:O,v=c.map(E=>(Array.isArray(E)&&E.length===1&&(E=E[0]),E==null||typeof E=="function"||Array.isArray(E)||n.isKey(E)?E:{key:E,path:r.toPath(E)}));return s.map(E=>({original:E,criteria:v.map(O=>p(O,E))})).slice().sort((E,O)=>{for(let T=0;T<v.length;T++){const _=t.compareValues(E.criteria[T],O.criteria[T],f[T]);if(_!==0)return _}return 0}).map(E=>E.original)}e.orderBy=a}(y2)),y2}var j2={},VD;function Vle(){return VD||(VD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const a=[],s=Math.floor(r),c=(f,m)=>{for(let h=0;h<f.length;h++){const p=f[h];Array.isArray(p)&&m<s?c(p,m+1):a.push(p)}};return c(n,0),a}e.flatten=t}(j2)),j2}var A2={},$D;function oB(){return $D||($D=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rB(),n=KE(),r=J7(),a=XE();function s(c,f,m){return r.isObject(m)&&(typeof f=="number"&&n.isArrayLike(m)&&t.isIndex(f)&&f<m.length||typeof f=="string"&&f in m)?a.eq(m[f],c):!1}e.isIterateeCall=s}(A2)),A2}var HD;function $le(){return HD||(HD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zle(),n=Vle(),r=oB();function a(s,...c){const f=c.length;return f>1&&r.isIterateeCall(s,c[0],c[1])?c=[]:f>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(s,n.flatten(c),["asc"])}e.sortBy=a}(v2)),v2}var E2,qD;function Hle(){return qD||(qD=1,E2=$le().sortBy),E2}var qle=Hle();const ov=Ki(qle);var lB=e=>e.legend.settings,Yle=e=>e.legend.size,Wle=e=>e.legend.payload,Gle=Me([Wle,lB],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?ov(r,n):r});function Kle(){return ft(Gle)}var Wp=1;function cB(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=A.useState({height:0,left:0,top:0,width:0}),r=A.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),c={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(c.height-t.height)>Wp||Math.abs(c.left-t.left)>Wp||Math.abs(c.top-t.top)>Wp||Math.abs(c.width-t.width)>Wp)&&n({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Ca(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Xle=typeof Symbol=="function"&&Symbol.observable||"@@observable",YD=Xle,N2=()=>Math.random().toString(36).substring(7).split("").join("."),Qle={INIT:`@@redux/INIT${N2()}`,REPLACE:`@@redux/REPLACE${N2()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${N2()}`},qx=Qle;function tN(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function uB(e,t,n){if(typeof e!="function")throw new Error(Ca(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ca(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ca(1));return n(uB)(e,t)}let r=e,a=t,s=new Map,c=s,f=0,m=!1;function h(){c===s&&(c=new Map,s.forEach((_,D)=>{c.set(D,_)}))}function p(){if(m)throw new Error(Ca(3));return a}function v(_){if(typeof _!="function")throw new Error(Ca(4));if(m)throw new Error(Ca(5));let D=!0;h();const P=f++;return c.set(P,_),function(){if(D){if(m)throw new Error(Ca(6));D=!1,h(),c.delete(P),s=null}}}function j(_){if(!tN(_))throw new Error(Ca(7));if(typeof _.type>"u")throw new Error(Ca(8));if(typeof _.type!="string")throw new Error(Ca(17));if(m)throw new Error(Ca(9));try{m=!0,a=r(a,_)}finally{m=!1}return(s=c).forEach(P=>{P()}),_}function E(_){if(typeof _!="function")throw new Error(Ca(10));r=_,j({type:qx.REPLACE})}function O(){const _=v;return{subscribe(D){if(typeof D!="object"||D===null)throw new Error(Ca(11));function P(){const U=D;U.next&&U.next(p())}return P(),{unsubscribe:_(P)}},[YD](){return this}}}return j({type:qx.INIT}),{dispatch:j,subscribe:v,getState:p,replaceReducer:E,[YD]:O}}function Zle(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:qx.INIT})>"u")throw new Error(Ca(12));if(typeof n(void 0,{type:qx.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ca(13))})}function dB(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const c=t[s];typeof e[c]=="function"&&(n[c]=e[c])}const r=Object.keys(n);let a;try{Zle(n)}catch(s){a=s}return function(c={},f){if(a)throw a;let m=!1;const h={};for(let p=0;p<r.length;p++){const v=r[p],j=n[v],E=c[v],O=j(E,f);if(typeof O>"u")throw f&&f.type,new Error(Ca(14));h[v]=O,m=m||O!==E}return m=m||r.length!==Object.keys(c).length,m?h:c}}function Yx(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Jle(...e){return t=>(n,r)=>{const a=t(n,r);let s=()=>{throw new Error(Ca(15))};const c={getState:a.getState,dispatch:(m,...h)=>s(m,...h)},f=e.map(m=>m(c));return s=Yx(...f)(a.dispatch),{...a,dispatch:s}}}function fB(e){return tN(e)&&"type"in e&&typeof e.type=="string"}var hB=Symbol.for("immer-nothing"),WD=Symbol.for("immer-draftable"),Wi=Symbol.for("immer-state");function Vs(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var th=Object.getPrototypeOf;function fd(e){return!!e&&!!e[Wi]}function Tl(e){var t;return e?mB(e)||Array.isArray(e)||!!e[WD]||!!((t=e.constructor)!=null&&t[WD])||cv(e)||uv(e):!1}var ece=Object.prototype.constructor.toString();function mB(e){if(!e||typeof e!="object")return!1;const t=th(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===ece}function Wx(e,t){lv(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function lv(e){const t=e[Wi];return t?t.type_:Array.isArray(e)?1:cv(e)?2:uv(e)?3:0}function wj(e,t){return lv(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function gB(e,t,n){const r=lv(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function tce(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function cv(e){return e instanceof Map}function uv(e){return e instanceof Set}function zu(e){return e.copy_||e.base_}function Sj(e,t){if(cv(e))return new Map(e);if(uv(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=mB(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Wi];let a=Reflect.ownKeys(r);for(let s=0;s<a.length;s++){const c=a[s],f=r[c];f.writable===!1&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(r[c]={configurable:!0,writable:!0,enumerable:f.enumerable,value:e[c]})}return Object.create(th(e),r)}else{const r=th(e);if(r!==null&&n)return{...e};const a=Object.create(r);return Object.assign(a,e)}}function nN(e,t=!1){return dv(e)||fd(e)||!Tl(e)||(lv(e)>1&&(e.set=e.add=e.clear=e.delete=nce),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>nN(r,!0))),e}function nce(){Vs(2)}function dv(e){return Object.isFrozen(e)}var rce={};function hd(e){const t=rce[e];return t||Vs(0,e),t}var w0;function pB(){return w0}function ace(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function GD(e,t){t&&(hd("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function jj(e){Aj(e),e.drafts_.forEach(ice),e.drafts_=null}function Aj(e){e===w0&&(w0=e.parent_)}function KD(e){return w0=ace(w0,e)}function ice(e){const t=e[Wi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function XD(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Wi].modified_&&(jj(t),Vs(4)),Tl(e)&&(e=Gx(t,e),t.parent_||Kx(t,e)),t.patches_&&hd("Patches").generateReplacementPatches_(n[Wi].base_,e,t.patches_,t.inversePatches_)):e=Gx(t,n,[]),jj(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==hB?e:void 0}function Gx(e,t,n){if(dv(t))return t;const r=t[Wi];if(!r)return Wx(t,(a,s)=>QD(e,r,t,a,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Kx(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const a=r.copy_;let s=a,c=!1;r.type_===3&&(s=new Set(a),a.clear(),c=!0),Wx(s,(f,m)=>QD(e,r,a,f,m,n,c)),Kx(e,a,!1),n&&e.patches_&&hd("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function QD(e,t,n,r,a,s,c){if(fd(a)){const f=s&&t&&t.type_!==3&&!wj(t.assigned_,r)?s.concat(r):void 0,m=Gx(e,a,f);if(gB(n,r,m),fd(m))e.canAutoFreeze_=!1;else return}else c&&n.add(a);if(Tl(a)&&!dv(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Gx(e,a),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Kx(e,a)}}function Kx(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&nN(t,n)}function sce(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:pB(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,s=rN;n&&(a=[r],s=S0);const{revoke:c,proxy:f}=Proxy.revocable(a,s);return r.draft_=f,r.revoke_=c,f}var rN={get(e,t){if(t===Wi)return e;const n=zu(e);if(!wj(n,t))return oce(e,n,t);const r=n[t];return e.finalized_||!Tl(r)?r:r===_2(e.base_,t)?(C2(e),e.copy_[t]=Nj(r,e)):r},has(e,t){return t in zu(e)},ownKeys(e){return Reflect.ownKeys(zu(e))},set(e,t,n){const r=xB(zu(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=_2(zu(e),t),s=a==null?void 0:a[Wi];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(tce(n,a)&&(n!==void 0||wj(e.base_,t)))return!0;C2(e),Ej(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return _2(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,C2(e),Ej(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=zu(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Vs(11)},getPrototypeOf(e){return th(e.base_)},setPrototypeOf(){Vs(12)}},S0={};Wx(rN,(e,t)=>{S0[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});S0.deleteProperty=function(e,t){return S0.set.call(this,e,t,void 0)};S0.set=function(e,t,n){return rN.set.call(this,e[0],t,n,e[0])};function _2(e,t){const n=e[Wi];return(n?zu(n):e)[t]}function oce(e,t,n){var a;const r=xB(t,n);return r?"value"in r?r.value:(a=r.get)==null?void 0:a.call(e.draft_):void 0}function xB(e,t){if(!(t in e))return;let n=th(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=th(n)}}function Ej(e){e.modified_||(e.modified_=!0,e.parent_&&Ej(e.parent_))}function C2(e){e.copy_||(e.copy_=Sj(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var lce=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const c=this;return function(m=s,...h){return c.produce(m,p=>n.call(this,p,...h))}}typeof n!="function"&&Vs(6),r!==void 0&&typeof r!="function"&&Vs(7);let a;if(Tl(t)){const s=KD(this),c=Nj(t,void 0);let f=!0;try{a=n(c),f=!1}finally{f?jj(s):Aj(s)}return GD(s,r),XD(a,s)}else if(!t||typeof t!="object"){if(a=n(t),a===void 0&&(a=t),a===hB&&(a=void 0),this.autoFreeze_&&nN(a,!0),r){const s=[],c=[];hd("Patches").generateReplacementPatches_(t,a,s,c),r(s,c)}return a}else Vs(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(c,...f)=>this.produceWithPatches(c,m=>t(m,...f));let r,a;return[this.produce(t,n,(c,f)=>{r=c,a=f}),r,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Tl(e)||Vs(8),fd(e)&&(e=vl(e));const t=KD(this),n=Nj(e,void 0);return n[Wi].isManual_=!0,Aj(t),n}finishDraft(e,t){const n=e&&e[Wi];(!n||!n.isManual_)&&Vs(9);const{scope_:r}=n;return GD(r,t),XD(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=hd("Patches").applyPatches_;return fd(e)?r(e,t):this.produce(e,a=>r(a,t))}};function Nj(e,t){const n=cv(e)?hd("MapSet").proxyMap_(e,t):uv(e)?hd("MapSet").proxySet_(e,t):sce(e,t);return(t?t.scope_:pB()).drafts_.push(n),n}function vl(e){return fd(e)||Vs(10,e),vB(e)}function vB(e){if(!Tl(e)||dv(e))return e;const t=e[Wi];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Sj(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Sj(e,!0);return Wx(n,(r,a)=>{gB(n,r,vB(a))}),t&&(t.finalized_=!1),n}var Gi=new lce,yB=Gi.produce;Gi.produceWithPatches.bind(Gi);Gi.setAutoFreeze.bind(Gi);Gi.setUseStrictShallowCopy.bind(Gi);Gi.applyPatches.bind(Gi);Gi.createDraft.bind(Gi);Gi.finishDraft.bind(Gi);function bB(e){return({dispatch:n,getState:r})=>a=>s=>typeof s=="function"?s(n,r,e):a(s)}var cce=bB(),uce=bB,dce=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Yx:Yx.apply(null,arguments)};function bs(e,t){function n(...r){if(t){let a=t(...r);if(!a)throw new Error(Yi(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>fB(r)&&r.type===e,n}var wB=class Wm extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Wm.prototype)}static get[Symbol.species](){return Wm}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Wm(...t[0].concat(this)):new Wm(...t.concat(this))}};function ZD(e){return Tl(e)?yB(e,()=>{}):e}function Gp(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function fce(e){return typeof e=="boolean"}var hce=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let c=new wB;return n&&(fce(n)?c.push(cce):c.push(uce(n.extraArgument))),c},mce="RTK_autoBatch",JD=e=>t=>{setTimeout(t,e)},gce=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let a=!0,s=!1,c=!1;const f=new Set,m=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:JD(10):e.type==="callback"?e.queueNotification:JD(e.timeout),h=()=>{c=!1,s&&(s=!1,f.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const v=()=>a&&p(),j=r.subscribe(v);return f.add(p),()=>{j(),f.delete(p)}},dispatch(p){var v;try{return a=!((v=p==null?void 0:p.meta)!=null&&v[mce]),s=!a,s&&(c||(c=!0,m(h))),r.dispatch(p)}finally{a=!0}}})},pce=e=>function(n){const{autoBatch:r=!0}=n??{};let a=new wB(e);return r&&a.push(gce(typeof r=="object"?r:void 0)),a};function xce(e){const t=hce(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:s=void 0,enhancers:c=void 0}=e||{};let f;if(typeof n=="function")f=n;else if(tN(n))f=dB(n);else throw new Error(Yi(1));let m;typeof r=="function"?m=r(t):m=t();let h=Yx;a&&(h=dce({trace:!1,...typeof a=="object"&&a}));const p=Jle(...m),v=pce(p);let j=typeof c=="function"?c(v):v();const E=h(...j);return uB(f,s,E)}function SB(e){const t={},n=[];let r;const a={addCase(s,c){const f=typeof s=="string"?s:s.type;if(!f)throw new Error(Yi(28));if(f in t)throw new Error(Yi(29));return t[f]=c,a},addMatcher(s,c){return n.push({matcher:s,reducer:c}),a},addDefaultCase(s){return r=s,a}};return e(a),[t,n,r]}function vce(e){return typeof e=="function"}function yce(e,t){let[n,r,a]=SB(t),s;if(vce(e))s=()=>ZD(e());else{const f=ZD(e);s=()=>f}function c(f=s(),m){let h=[n[m.type],...r.filter(({matcher:p})=>p(m)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[a]),h.reduce((p,v)=>{if(v)if(fd(p)){const E=v(p,m);return E===void 0?p:E}else{if(Tl(p))return yB(p,j=>v(j,m));{const j=v(p,m);if(j===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return j}}return p},f)}return c.getInitialState=s,c}var bce="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",wce=(e=21)=>{let t="",n=e;for(;n--;)t+=bce[Math.random()*64|0];return t},Sce=Symbol.for("rtk-slice-createasyncthunk");function jce(e,t){return`${e}/${t}`}function Ace({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[Sce];return function(a){const{name:s,reducerPath:c=s}=a;if(!s)throw new Error(Yi(11));const f=(typeof a.reducers=="function"?a.reducers(Nce()):a.reducers)||{},m=Object.keys(f),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(U,F){const L=typeof U=="string"?U:U.type;if(!L)throw new Error(Yi(12));if(L in h.sliceCaseReducersByType)throw new Error(Yi(13));return h.sliceCaseReducersByType[L]=F,p},addMatcher(U,F){return h.sliceMatchers.push({matcher:U,reducer:F}),p},exposeAction(U,F){return h.actionCreators[U]=F,p},exposeCaseReducer(U,F){return h.sliceCaseReducersByName[U]=F,p}};m.forEach(U=>{const F=f[U],L={reducerName:U,type:jce(s,U),createNotation:typeof a.reducers=="function"};Cce(F)?Oce(L,F,p,t):_ce(L,F,p)});function v(){const[U={},F=[],L=void 0]=typeof a.extraReducers=="function"?SB(a.extraReducers):[a.extraReducers],B={...U,...h.sliceCaseReducersByType};return yce(a.initialState,$=>{for(let z in B)$.addCase(z,B[z]);for(let z of h.sliceMatchers)$.addMatcher(z.matcher,z.reducer);for(let z of F)$.addMatcher(z.matcher,z.reducer);L&&$.addDefaultCase(L)})}const j=U=>U,E=new Map,O=new WeakMap;let T;function _(U,F){return T||(T=v()),T(U,F)}function D(){return T||(T=v()),T.getInitialState()}function P(U,F=!1){function L($){let z=$[U];return typeof z>"u"&&F&&(z=Gp(O,L,D)),z}function B($=j){const z=Gp(E,F,()=>new WeakMap);return Gp(z,$,()=>{const H={};for(const[X,K]of Object.entries(a.selectors??{}))H[X]=Ece(K,$,()=>Gp(O,$,D),F);return H})}return{reducerPath:U,getSelectors:B,get selectors(){return B(L)},selectSlice:L}}const I={name:s,reducer:_,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:D,...P(c),injectInto(U,{reducerPath:F,...L}={}){const B=F??c;return U.inject({reducerPath:B,reducer:_},L),{...I,...P(B,!0)}}};return I}}function Ece(e,t,n,r){function a(s,...c){let f=t(s);return typeof f>"u"&&r&&(f=n()),e(f,...c)}return a.unwrapped=e,a}var js=Ace();function Nce(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function _ce({type:e,reducerName:t,createNotation:n},r,a){let s,c;if("reducer"in r){if(n&&!Tce(r))throw new Error(Yi(17));s=r.reducer,c=r.prepare}else s=r;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,c?bs(e,c):bs(e))}function Cce(e){return e._reducerDefinitionType==="asyncThunk"}function Tce(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Oce({type:e,reducerName:t},n,r,a){if(!a)throw new Error(Yi(18));const{payloadCreator:s,fulfilled:c,pending:f,rejected:m,settled:h,options:p}=n,v=a(e,s,p);r.exposeAction(t,v),c&&r.addCase(v.fulfilled,c),f&&r.addCase(v.pending,f),m&&r.addCase(v.rejected,m),h&&r.addMatcher(v.settled,h),r.exposeCaseReducer(t,{fulfilled:c||Kp,pending:f||Kp,rejected:m||Kp,settled:h||Kp})}function Kp(){}var Mce="task",jB="listener",AB="completed",aN="cancelled",Dce=`task-${aN}`,Rce=`task-${AB}`,_j=`${jB}-${aN}`,Ice=`${jB}-${AB}`,fv=class{constructor(e){Ub(this,"name","TaskAbortError");Ub(this,"message");this.code=e,this.message=`${Mce} ${aN} (reason: ${e})`}},iN=(e,t)=>{if(typeof e!="function")throw new TypeError(Yi(32))},Xx=()=>{},EB=(e,t=Xx)=>(e.catch(t),e),NB=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),td=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},nd=e=>{if(e.aborted){const{reason:t}=e;throw new fv(t)}};function _B(e,t){let n=Xx;return new Promise((r,a)=>{const s=()=>a(new fv(e.reason));if(e.aborted){s();return}n=NB(e,s),t.finally(()=>n()).then(r,a)}).finally(()=>{n=Xx})}var Pce=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof fv?"cancelled":"rejected",error:n}}finally{t==null||t()}},Qx=e=>t=>EB(_B(e,t).then(n=>(nd(e),n))),CB=e=>{const t=Qx(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Hf}=Object,eR={},hv="listenerMiddleware",kce=(e,t)=>{const n=r=>NB(e,()=>td(r,e.reason));return(r,a)=>{iN(r);const s=new AbortController;n(s);const c=Pce(async()=>{nd(e),nd(s.signal);const f=await r({pause:Qx(s.signal),delay:CB(s.signal),signal:s.signal});return nd(s.signal),f},()=>td(s,Rce));return a!=null&&a.autoJoin&&t.push(c.catch(Xx)),{result:Qx(e)(c),cancel(){td(s,Dce)}}}},Lce=(e,t)=>{const n=async(r,a)=>{nd(t);let s=()=>{};const f=[new Promise((m,h)=>{let p=e({predicate:r,effect:(v,j)=>{j.unsubscribe(),m([v,j.getState(),j.getOriginalState()])}});s=()=>{p(),h()}})];a!=null&&f.push(new Promise(m=>setTimeout(m,a,null)));try{const m=await _B(t,Promise.race(f));return nd(t),m}finally{s()}};return(r,a)=>EB(n(r,a))},TB=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:s}=e;if(t)a=bs(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(Yi(21));return iN(s),{predicate:a,type:t,effect:s}},OB=Hf(e=>{const{type:t,predicate:n,effect:r}=TB(e);return{id:wce(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Yi(22))}}},{withTypes:()=>OB}),tR=(e,t)=>{const{type:n,effect:r,predicate:a}=TB(t);return Array.from(e.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===a)&&s.effect===r)},Cj=e=>{e.pending.forEach(t=>{td(t,_j)})},Bce=e=>()=>{e.forEach(Cj),e.clear()},nR=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},MB=Hf(bs(`${hv}/add`),{withTypes:()=>MB}),Fce=bs(`${hv}/removeAll`),DB=Hf(bs(`${hv}/remove`),{withTypes:()=>DB}),Uce=(...e)=>{console.error(`${hv}/error`,...e)},tg=(e={})=>{const t=new Map,{extra:n,onError:r=Uce}=e;iN(r);const a=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),v=>{p.unsubscribe(),v!=null&&v.cancelActive&&Cj(p)}),s=p=>{const v=tR(t,p)??OB(p);return a(v)};Hf(s,{withTypes:()=>s});const c=p=>{const v=tR(t,p);return v&&(v.unsubscribe(),p.cancelActive&&Cj(v)),!!v};Hf(c,{withTypes:()=>c});const f=async(p,v,j,E)=>{const O=new AbortController,T=Lce(s,O.signal),_=[];try{p.pending.add(O),await Promise.resolve(p.effect(v,Hf({},j,{getOriginalState:E,condition:(D,P)=>T(D,P).then(Boolean),take:T,delay:CB(O.signal),pause:Qx(O.signal),extra:n,signal:O.signal,fork:kce(O.signal,_),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((D,P,I)=>{D!==O&&(td(D,_j),I.delete(D))})},cancel:()=>{td(O,_j),p.pending.delete(O)},throwIfCancelled:()=>{nd(O.signal)}})))}catch(D){D instanceof fv||nR(r,D,{raisedBy:"effect"})}finally{await Promise.all(_),td(O,Ice),p.pending.delete(O)}},m=Bce(t);return{middleware:p=>v=>j=>{if(!fB(j))return v(j);if(MB.match(j))return s(j.payload);if(Fce.match(j)){m();return}if(DB.match(j))return c(j.payload);let E=p.getState();const O=()=>{if(E===eR)throw new Error(Yi(23));return E};let T;try{if(T=v(j),t.size>0){const _=p.getState(),D=Array.from(t.values());for(const P of D){let I=!1;try{I=P.predicate(j,_,E)}catch(U){I=!1,nR(r,U,{raisedBy:"predicate"})}I&&f(P,j,p,O)}}}finally{E=eR}return T},startListening:s,stopListening:c,clearListeners:m}};function Yi(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var zce={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},RB=js({name:"chartLayout",initialState:zce,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:Vce,setLayout:$ce,setChartSize:Hce,setScale:qce}=RB.actions,Yce=RB.reducer;function rR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function aR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rR(Object(n),!0).forEach(function(r){Wce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wce(e,t,n){return(t=Gce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gce(e){var t=Kce(e,"string");return typeof t=="symbol"?t:t+""}function Kce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zx=Math.PI/180,Xce=e=>e*180/Math.PI,Qr=(e,t,n,r)=>({x:e+Math.cos(-Zx*r)*n,y:t+Math.sin(-Zx*r)*n}),IB=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Qce=(e,t)=>{var{x:n,y:r}=e,{x:a,y:s}=t;return Math.sqrt((n-a)**2+(r-s)**2)},Zce=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:s}=t,c=Qce({x:n,y:r},{x:a,y:s});if(c<=0)return{radius:c,angle:0};var f=(n-a)/c,m=Math.acos(f);return r>s&&(m=2*Math.PI-m),{radius:c,angle:Xce(m),angleInRadian:m}},Jce=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),s=Math.min(r,a);return{startAngle:t-s*360,endAngle:n-s*360}},eue=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),s=Math.floor(r/360),c=Math.min(a,s);return e+c*360},tue=(e,t)=>{var{x:n,y:r}=e,{radius:a,angle:s}=Zce({x:n,y:r},t),{innerRadius:c,outerRadius:f}=t;if(a<c||a>f||a===0)return null;var{startAngle:m,endAngle:h}=Jce(t),p=s,v;if(m<=h){for(;p>h;)p-=360;for(;p<m;)p+=360;v=p>=m&&p<=h}else{for(;p>m;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=m}return v?aR(aR({},t),{},{radius:a,angle:eue(p,t)}):null};function iR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function hs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iR(Object(n),!0).forEach(function(r){nue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nue(e,t,n){return(t=rue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rue(e){var t=aue(e,"string");return typeof t=="symbol"?t:t+""}function aue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fn(e,t,n){return Dn(e)||Dn(t)?n:ko(t)?Hc(e,t,n):typeof t=="function"?t(e):n}var iue=(e,t,n,r,a)=>{var s,c=-1,f=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(f<=1||e==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var m=0;m<f;m++){var h=m>0?n[m-1].coordinate:n[f-1].coordinate,p=n[m].coordinate,v=m>=f-1?n[0].coordinate:n[m+1].coordinate,j=void 0;if(ya(p-h)!==ya(v-p)){var E=[];if(ya(v-p)===ya(a[1]-a[0])){j=v;var O=p+a[1]-a[0];E[0]=Math.min(O,(O+h)/2),E[1]=Math.max(O,(O+h)/2)}else{j=h;var T=v+a[1]-a[0];E[0]=Math.min(p,(T+p)/2),E[1]=Math.max(p,(T+p)/2)}var _=[Math.min(p,(j+p)/2),Math.max(p,(j+p)/2)];if(e>_[0]&&e<=_[1]||e>=E[0]&&e<=E[1]){({index:c}=n[m]);break}}else{var D=Math.min(h,v),P=Math.max(h,v);if(e>(D+p)/2&&e<=(P+p)/2){({index:c}=n[m]);break}}}else if(t){for(var I=0;I<f;I++)if(I===0&&e<=(t[I].coordinate+t[I+1].coordinate)/2||I>0&&I<f-1&&e>(t[I].coordinate+t[I-1].coordinate)/2&&e<=(t[I].coordinate+t[I+1].coordinate)/2||I===f-1&&e>(t[I].coordinate+t[I-1].coordinate)/2){({index:c}=t[I]);break}}return c},sue=(e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:s,verticalAlign:c,layout:f}=t;if((f==="vertical"||f==="horizontal"&&c==="middle")&&s!=="center"&&Je(e[s]))return hs(hs({},e),{},{[s]:e[s]+(r||0)});if((f==="horizontal"||f==="vertical"&&s==="center")&&c!=="middle"&&Je(e[c]))return hs(hs({},e),{},{[c]:e[c]+(a||0)})}return e},Vo=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",PB=(e,t,n,r)=>{if(r)return e.map(f=>f.coordinate);var a,s,c=e.map(f=>(f.coordinate===t&&(a=!0),f.coordinate===n&&(s=!0),f.coordinate));return a||c.push(t),s||c.push(n),c},kB=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:a,range:s,scale:c,realScaleType:f,isCategorical:m,categoricalDomain:h,tickCount:p,ticks:v,niceTicks:j,axisType:E}=e;if(!c)return null;var O=f==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,T=a==="category"&&c.bandwidth?c.bandwidth()/O:0;if(T=E==="angleAxis"&&s&&s.length>=2?ya(s[0]-s[1])*2*T:T,v||j){var _=(v||j||[]).map((D,P)=>{var I=r?r.indexOf(D):D;return{coordinate:c(I)+T,value:D,offset:T,index:P}});return _.filter(D=>!Si(D.coordinate))}return m&&h?h.map((D,P)=>({coordinate:c(D)+T,value:D,index:P,offset:T})):c.ticks&&p!=null?c.ticks(p).map((D,P)=>({coordinate:c(D)+T,value:D,offset:T,index:P})):c.domain().map((D,P)=>({coordinate:c(D)+T,value:r?r[D]:D,index:P,offset:T}))},sR=1e-4,oue=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-sR,s=Math.max(r[0],r[1])+sR,c=e(t[0]),f=e(t[n-1]);(c<a||c>s||f<a||f>s)&&e.domain([t[0],t[n-1]])}},lue=(e,t)=>{if(!t||t.length!==2||!Je(t[0])||!Je(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Je(e[0])||e[0]<n)&&(a[0]=n),(!Je(e[1])||e[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a},cue=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,s=0,c=0;c<t;++c){var f=Si(e[c][n][1])?e[c][n][0]:e[c][n][1];f>=0?(e[c][n][0]=a,e[c][n][1]=a+f,a=e[c][n][1]):(e[c][n][0]=s,e[c][n][1]=s+f,s=e[c][n][1])}},uue=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,s=0;s<t;++s){var c=Si(e[s][n][1])?e[s][n][0]:e[s][n][1];c>=0?(e[s][n][0]=a,e[s][n][1]=a+c,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},due={sign:cue,expand:$oe,none:eh,silhouette:Hoe,wiggle:qoe,positive:uue},fue=(e,t,n)=>{var r=due[n],a=Voe().keys(t).value((s,c)=>+Fn(s,c,0)).order(vj).offset(r);return a(e)};function sN(e){return e==null?void 0:String(e)}function Jx(e){var{axis:t,ticks:n,bandSize:r,entry:a,index:s,dataKey:c}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Dn(a[t.dataKey])){var f=D7(n,"value",a[t.dataKey]);if(f)return f.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var m=Fn(a,Dn(c)?t.dataKey:c);return Dn(m)?null:t.scale(m)}var oR=e=>{var{axis:t,ticks:n,offset:r,bandSize:a,entry:s,index:c}=e;if(t.type==="category")return n[c]?n[c].coordinate+r:null;var f=Fn(s,t.dataKey,t.scale.domain()[c]);return Dn(f)?null:t.scale(f)-a/2+r},hue=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]},mue=e=>{var t=e.flat(2).filter(Je);return[Math.min(...t),Math.max(...t)]},gue=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],pue=(e,t,n)=>{if(e!=null)return gue(Object.keys(e).reduce((r,a)=>{var s=e[a],{stackedData:c}=s,f=c.reduce((m,h)=>{var p=mue(h.slice(t,n+1));return[Math.min(m[0],p[0]),Math.max(m[1],p[1])]},[1/0,-1/0]);return[Math.min(f[0],r[0]),Math.max(f[1],r[1])]},[1/0,-1/0]))},lR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,md=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=ov(t,p=>p.coordinate),s=1/0,c=1,f=a.length;c<f;c++){var m=a[c],h=a[c-1];s=Math.min((m.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function uR(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:s}=e;return hs(hs({},t),{},{dataKey:n,payload:r,value:a,name:s})}function ru(e,t){if(e)return String(e);if(typeof t=="string")return t}function xue(e,t,n,r,a){if(n==="horizontal"||n==="vertical"){var s=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return s?{x:e,y:t}:null}return r?tue({x:e,y:t},r):null}var vue=(e,t,n,r)=>{var a=t.find(h=>h&&h.index===n);if(a){if(e==="horizontal")return{x:a.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,{radius:c}=r;return hs(hs(hs({},r),Qr(r.cx,r.cy,c,s)),{},{angle:s,radius:c})}var f=a.coordinate,{angle:m}=r;return hs(hs(hs({},r),Qr(r.cx,r.cy,f,m)),{},{angle:m,radius:f})}return{x:0,y:0}},yue=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Fl=e=>e.layout.width,Ul=e=>e.layout.height,bue=e=>e.layout.scale,LB=e=>e.layout.margin,oN=Me(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),lN=Me(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),BB="data-recharts-item-index",FB="data-recharts-item-data-key",mv=60;function dR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ec(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dR(Object(n),!0).forEach(function(r){wue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wue(e,t,n){return(t=Sue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sue(e){var t=jue(e,"string");return typeof t=="symbol"?t:t+""}function jue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Aue=e=>e.brush.height,ca=Me([Fl,Ul,LB,Aue,oN,lN,lB,Yle],(e,t,n,r,a,s,c,f)=>{var m=s.reduce((O,T)=>{var{orientation:_}=T;if(!T.mirror&&!T.hide){var D=typeof T.width=="number"?T.width:mv;return Ec(Ec({},O),{},{[_]:O[_]+D})}return O},{left:n.left||0,right:n.right||0}),h=a.reduce((O,T)=>{var{orientation:_}=T;return!T.mirror&&!T.hide?Ec(Ec({},O),{},{[_]:Hc(O,"".concat(_))+T.height}):O},{top:n.top||0,bottom:n.bottom||0}),p=Ec(Ec({},h),m),v=p.bottom;p.bottom+=r,p=sue(p,c,f);var j=e-p.left-p.right,E=t-p.top-p.bottom;return Ec(Ec({brushBottom:v},p),{},{width:Math.max(j,0),height:Math.max(E,0)})}),Eue=Me(ca,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),UB=Me(Fl,Ul,(e,t)=>({x:0,y:0,width:e,height:t})),Nue=A.createContext(null),Xa=()=>A.useContext(Nue)!=null,gv=e=>e.brush,pv=Me([gv,ca,LB],(e,t,n)=>({height:e.height,x:Je(e.x)?e.x:t.left,y:Je(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Je(e.width)?e.width:t.width})),cN=()=>{var e,t=Xa(),n=ft(Eue),r=ft(pv),a=(e=ft(gv))===null||e===void 0?void 0:e.padding;return!t||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},_ue={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},zB=()=>{var e;return(e=ft(ca))!==null&&e!==void 0?e:_ue},uN=()=>ft(Fl),dN=()=>ft(Ul),Cue={top:0,right:0,bottom:0,left:0},Tue=()=>{var e;return(e=ft(t=>t.layout.margin))!==null&&e!==void 0?e:Cue},cn=e=>e.layout.layoutType,ng=()=>ft(cn),Oue={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},VB=js({name:"legend",initialState:Oue,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=vl(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:fR,setLegendSettings:Mue,addLegendPayload:$B,removeLegendPayload:HB}=VB.actions,Due=VB.reducer,Rue=["contextPayload"];function Tj(){return Tj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tj.apply(null,arguments)}function hR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function nh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hR(Object(n),!0).forEach(function(r){fN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fN(e,t,n){return(t=Iue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iue(e){var t=Pue(e,"string");return typeof t=="symbol"?t:t+""}function Pue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kue(e,t){if(e==null)return{};var n,r,a=Lue(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Lue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Bue(e){return e.value}function Fue(e){var{contextPayload:t}=e,n=kue(e,Rue),r=aB(t,e.payloadUniqBy,Bue),a=nh(nh({},n),{},{payload:r});return A.isValidElement(e.content)?A.cloneElement(e.content,a):typeof e.content=="function"?A.createElement(e.content,a):A.createElement(GE,a)}function Uue(e,t,n,r,a,s){var{layout:c,align:f,verticalAlign:m}=t,h,p;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(f==="center"&&c==="vertical"?h={left:((r||0)-s.width)/2}:h=f==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(m==="middle"?p={top:((a||0)-s.height)/2}:p=m==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),nh(nh({},h),p)}function zue(e){var t=ar();return A.useEffect(()=>{t(Mue(e))},[t,e]),null}function Vue(e){var t=ar();return A.useEffect(()=>(t(fR(e)),()=>{t(fR({width:0,height:0}))}),[t,e]),null}function $ue(e){var t=Kle(),n=foe(),r=Tue(),{width:a,height:s,wrapperStyle:c,portal:f}=e,[m,h]=cB([t]),p=uN(),v=dN(),j=p-(r.left||0)-(r.right||0),E=va.getWidthOrHeight(e.layout,s,a,j),O=f?c:nh(nh({position:"absolute",width:(E==null?void 0:E.width)||a||"auto",height:(E==null?void 0:E.height)||s||"auto"},Uue(c,e,r,p,v,m)),c),T=f??n;if(T==null)return null;var _=A.createElement("div",{className:"recharts-legend-wrapper",style:O,ref:h},A.createElement(zue,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),A.createElement(Vue,{width:m.width,height:m.height}),A.createElement(Fue,Tj({},e,E,{margin:r,chartWidth:p,chartHeight:v,contextPayload:t})));return yd.createPortal(_,T)}class va extends A.PureComponent{static getWidthOrHeight(t,n,r,a){return t==="vertical"&&Je(n)?{height:n}:t==="horizontal"?{width:r||a}:null}render(){return A.createElement($ue,this.props)}}fN(va,"displayName","Legend");fN(va,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Oj(){return Oj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oj.apply(null,arguments)}function mR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function T2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mR(Object(n),!0).forEach(function(r){Hue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hue(e,t,n){return(t=que(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function que(e){var t=Yue(e,"string");return typeof t=="symbol"?t:t+""}function Yue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wue(e){return Array.isArray(e)&&ko(e[0])&&ko(e[1])?e.join(" ~ "):e}var Gue=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:s,formatter:c,itemSorter:f,wrapperClassName:m,labelClassName:h,label:p,labelFormatter:v,accessibilityLayer:j=!1}=e,E=()=>{if(s&&s.length){var F={padding:0,margin:0},L=(f?ov(s,f):s).map((B,$)=>{if(B.type==="none")return null;var z=B.formatter||c||Wue,{value:H,name:X}=B,K=H,ee=X;if(z){var ue=z(H,X,B,$,s);if(Array.isArray(ue))[K,ee]=ue;else if(ue!=null)K=ue;else return null}var ne=T2({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},r);return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:ne},ko(ee)?A.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,ko(ee)?A.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,A.createElement("span",{className:"recharts-tooltip-item-value"},K),A.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:F},L)}return null},O=T2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),T=T2({margin:0},a),_=!Dn(p),D=_?p:"",P=en("recharts-default-tooltip",m),I=en("recharts-tooltip-label",h);_&&v&&s!==void 0&&s!==null&&(D=v(p,s));var U=j?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",Oj({className:P,style:O},U),A.createElement("p",{className:I,style:T},A.isValidElement(D)?D:"".concat(D)),E())},Dm="recharts-tooltip-wrapper",Kue={visibility:"hidden"};function Xue(e){var{coordinate:t,translateX:n,translateY:r}=e;return en(Dm,{["".concat(Dm,"-right")]:Je(n)&&t&&Je(t.x)&&n>=t.x,["".concat(Dm,"-left")]:Je(n)&&t&&Je(t.x)&&n<t.x,["".concat(Dm,"-bottom")]:Je(r)&&t&&Je(t.y)&&r>=t.y,["".concat(Dm,"-top")]:Je(r)&&t&&Je(t.y)&&r<t.y})}function gR(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:a,position:s,reverseDirection:c,tooltipDimension:f,viewBox:m,viewBoxDimension:h}=e;if(s&&Je(s[r]))return s[r];var p=n[r]-f-(a>0?a:0),v=n[r]+a;if(t[r])return c[r]?p:v;var j=m[r];if(j==null)return 0;if(c[r]){var E=p,O=j;return E<O?Math.max(v,j):Math.max(p,j)}if(h==null)return 0;var T=v+f,_=j+h;return T>_?Math.max(p,j):Math.max(v,j)}function Que(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Zue(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:s,tooltipBox:c,useTranslate3d:f,viewBox:m}=e,h,p,v;return c.height>0&&c.width>0&&n?(p=gR({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:c.width,viewBox:m,viewBoxDimension:m.width}),v=gR({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:c.height,viewBox:m,viewBoxDimension:m.height}),h=Que({translateX:p,translateY:v,useTranslate3d:f})):h=Kue,{cssProperties:h,cssClasses:Xue({translateX:p,translateY:v,coordinate:n})}}function pR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Xp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pR(Object(n),!0).forEach(function(r){Mj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mj(e,t,n){return(t=Jue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jue(e){var t=ede(e,"string");return typeof t=="symbol"?t:t+""}function ede(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class tde extends A.PureComponent{constructor(){super(...arguments),Mj(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Mj(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:s,coordinate:c,hasPayload:f,isAnimationActive:m,offset:h,position:p,reverseDirection:v,useTranslate3d:j,viewBox:E,wrapperStyle:O,lastBoundingBox:T,innerRef:_,hasPortalFromProps:D}=this.props,{cssClasses:P,cssProperties:I}=Zue({allowEscapeViewBox:n,coordinate:c,offsetTopLeft:h,position:p,reverseDirection:v,tooltipBox:{height:T.height,width:T.width},useTranslate3d:j,viewBox:E}),U=D?{}:Xp(Xp({transition:m&&t?"transform ".concat(r,"ms ").concat(a):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&f?"visible":"hidden",position:"absolute",top:0,left:0}),F=Xp(Xp({},U),{},{visibility:!this.state.dismissed&&t&&f?"visible":"hidden"},O);return A.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:P,style:F,ref:_},s)}}var nde=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),au={isSsr:nde()},qB=()=>ft(e=>e.rootProps.accessibilityLayer);function Ma(e){return Number.isFinite(e)}function rh(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Dj(){return Dj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dj.apply(null,arguments)}function xR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function vR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xR(Object(n),!0).forEach(function(r){rde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rde(e,t,n){return(t=ade(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ade(e){var t=ide(e,"string");return typeof t=="symbol"?t:t+""}function ide(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yR={curveBasisClosed:Moe,curveBasisOpen:Doe,curveBasis:Ooe,curveBumpX:poe,curveBumpY:xoe,curveLinearClosed:Roe,curveLinear:iv,curveMonotoneX:Ioe,curveMonotoneY:Poe,curveNatural:koe,curveStep:Loe,curveStepAfter:Foe,curveStepBefore:Boe},Qp=e=>Ma(e.x)&&Ma(e.y),Rm=e=>e.x,Im=e=>e.y,sde=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Z0(e));return(n==="curveMonotone"||n==="curveBump")&&t?yR["".concat(n).concat(t==="vertical"?"Y":"X")]:yR[n]||iv},ode=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:a,connectNulls:s=!1}=e,c=sde(t,a),f=s?n.filter(Qp):n,m;if(Array.isArray(r)){var h=s?r.filter(v=>Qp(v)):r,p=f.map((v,j)=>vR(vR({},v),{},{base:h[j]}));return a==="vertical"?m=qp().y(Im).x1(Rm).x0(v=>v.base.x):m=qp().x(Rm).y1(Im).y0(v=>v.base.y),m.defined(Qp).curve(c),m(p)}return a==="vertical"&&Je(r)?m=qp().y(Im).x1(Rm).x0(r):Je(r)?m=qp().x(Rm).y1(Im).y0(r):m=U7().x(Rm).y(Im),m.defined(Qp).curve(c),m(f)},qf=e=>{var{className:t,points:n,path:r,pathRef:a}=e;if((!n||!n.length)&&!r)return null;var s=n&&n.length?ode(e):r;return A.createElement("path",Dj({},Ut(e,!1),zE(e),{className:en("recharts-curve",t),d:s===null?void 0:s,ref:a}))},lde=["x","y","top","left","width","height","className"];function Rj(){return Rj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rj.apply(null,arguments)}function bR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cde(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bR(Object(n),!0).forEach(function(r){ude(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ude(e,t,n){return(t=dde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dde(e){var t=fde(e,"string");return typeof t=="symbol"?t:t+""}function fde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hde(e,t){if(e==null)return{};var n,r,a=mde(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function mde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var gde=(e,t,n,r,a,s)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(s,",").concat(t,"h").concat(n),pde=e=>{var{x:t=0,y:n=0,top:r=0,left:a=0,width:s=0,height:c=0,className:f}=e,m=hde(e,lde),h=cde({x:t,y:n,top:r,left:a,width:s,height:c},m);return!Je(t)||!Je(n)||!Je(s)||!Je(c)||!Je(r)||!Je(a)?null:A.createElement("path",Rj({},Ut(h,!0),{className:en("recharts-cross",f),d:gde(t,n,s,c,r,a)}))};function xde(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function wR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function vde(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wR(Object(n),!0).forEach(function(r){yde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yde(e,t,n){return(t=bde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bde(e){var t=wde(e,"string");return typeof t=="symbol"?t:t+""}function wde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xi(e,t){var n=vde({},e),r=t,a=Object.keys(t),s=a.reduce((c,f)=>(c[f]===void 0&&r[f]!==void 0&&(c[f]=r[f]),c),n);return s}var O2={},M2={},D2={},SR;function Sde(){return SR||(SR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}e.isPlainObject=t}(D2)),D2}var jR;function jde(){return jR||(jR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sde(),n=tB(),r=ZE(),a=JE(),s=XE();function c(h,p,v){return f(h,p,void 0,void 0,void 0,void 0,v)}function f(h,p,v,j,E,O,T){const _=T(h,p,v,j,E,O);if(_!==void 0)return _;if(typeof h==typeof p)switch(typeof h){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return h===p;case"number":return h===p||Object.is(h,p);case"function":return h===p;case"object":return m(h,p,O,T)}return m(h,p,O,T)}function m(h,p,v,j){if(Object.is(h,p))return!0;let E=r.getTag(h),O=r.getTag(p);if(E===a.argumentsTag&&(E=a.objectTag),O===a.argumentsTag&&(O=a.objectTag),E!==O)return!1;switch(E){case a.stringTag:return h.toString()===p.toString();case a.numberTag:{const D=h.valueOf(),P=p.valueOf();return s.eq(D,P)}case a.booleanTag:case a.dateTag:case a.symbolTag:return Object.is(h.valueOf(),p.valueOf());case a.regexpTag:return h.source===p.source&&h.flags===p.flags;case a.functionTag:return h===p}v=v??new Map;const T=v.get(h),_=v.get(p);if(T!=null&&_!=null)return T===p;v.set(h,p),v.set(p,h);try{switch(E){case a.mapTag:{if(h.size!==p.size)return!1;for(const[D,P]of h.entries())if(!p.has(D)||!f(P,p.get(D),D,h,p,v,j))return!1;return!0}case a.setTag:{if(h.size!==p.size)return!1;const D=Array.from(h.values()),P=Array.from(p.values());for(let I=0;I<D.length;I++){const U=D[I],F=P.findIndex(L=>f(U,L,void 0,h,p,v,j));if(F===-1)return!1;P.splice(F,1)}return!0}case a.arrayTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:case a.bigUint64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.bigInt64ArrayTag:case a.float32ArrayTag:case a.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(h)!==Buffer.isBuffer(p)||h.length!==p.length)return!1;for(let D=0;D<h.length;D++)if(!f(h[D],p[D],D,h,p,v,j))return!1;return!0}case a.arrayBufferTag:return h.byteLength!==p.byteLength?!1:m(new Uint8Array(h),new Uint8Array(p),v,j);case a.dataViewTag:return h.byteLength!==p.byteLength||h.byteOffset!==p.byteOffset?!1:m(new Uint8Array(h),new Uint8Array(p),v,j);case a.errorTag:return h.name===p.name&&h.message===p.message;case a.objectTag:{if(!(m(h.constructor,p.constructor,v,j)||t.isPlainObject(h)&&t.isPlainObject(p)))return!1;const P=[...Object.keys(h),...n.getSymbols(h)],I=[...Object.keys(p),...n.getSymbols(p)];if(P.length!==I.length)return!1;for(let U=0;U<P.length;U++){const F=P[U],L=h[F];if(!Object.hasOwn(p,F))return!1;const B=p[F];if(!f(L,B,F,h,p,v,j))return!1}return!0}default:return!1}}finally{v.delete(h),v.delete(p)}}e.isEqualWith=c}(M2)),M2}var R2={},AR;function Ade(){return AR||(AR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t}(R2)),R2}var ER;function Ede(){return ER||(ER=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jde(),n=Ade();function r(a,s){return t.isEqualWith(a,s,n.noop)}e.isEqual=r}(O2)),O2}var I2,NR;function Nde(){return NR||(NR=1,I2=Ede().isEqual),I2}var _de=Nde();const Cde=Ki(_de);function Tde(e){var t={},n=()=>null,r=!1,a=null,s=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var f=c,[m,...h]=f;if(typeof m=="number"){a=e.setTimeout(s.bind(null,h),m);return}s(m),a=e.setTimeout(s.bind(null,h));return}typeof c=="object"&&(t=c,n(t)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,a&&(a(),a=null),s(c)},subscribe:c=>(n=c,()=>{n=()=>null}),getTimeoutController:()=>e}}var e1=1e-4,YB=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],WB=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),_R=(e,t)=>n=>{var r=YB(e,t);return WB(r,n)},Ode=(e,t)=>n=>{var r=YB(e,t),a=[...r.map((s,c)=>s*c).slice(1),0];return WB(a,n)},CR=function(){for(var t,n,r,a,s=arguments.length,c=new Array(s),f=0;f<s;f++)c[f]=arguments[f];if(c.length===1)switch(c[0]){case"linear":[t,r,n,a]=[0,0,1,1];break;case"ease":[t,r,n,a]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,a]=[.42,0,1,1];break;case"ease-out":[t,r,n,a]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,a]=[0,0,.58,1];break;default:{var m=c[0].split("(");m[0]==="cubic-bezier"&&m[1].split(")")[0].split(",").length===4&&([t,r,n,a]=m[1].split(")")[0].split(",").map(O=>parseFloat(O)))}}else c.length===4&&([t,r,n,a]=c);var h=_R(t,n),p=_R(r,a),v=Ode(t,n),j=O=>O>1?1:O<0?0:O,E=O=>{for(var T=O>1?1:O,_=T,D=0;D<8;++D){var P=h(_)-T,I=v(_);if(Math.abs(P-T)<e1||I<e1)return p(_);_=j(_-P/I)}return p(_)};return E.isStepper=!1,E},Mde=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=t,s=(c,f,m)=>{var h=-(c-f)*n,p=m*r,v=m+(h-p)*a/1e3,j=m*a/1e3+c;return Math.abs(j-f)<e1&&Math.abs(v)<e1?[f,0]:[j,v]};return s.isStepper=!0,s.dt=a,s},Dde=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return CR(e);case"spring":return Mde();default:if(e.split("(")[0]==="cubic-bezier")return CR(e)}return typeof e=="function"?e:null};function TR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function OR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TR(Object(n),!0).forEach(function(r){Rde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rde(e,t,n){return(t=Ide(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ide(e){var t=Pde(e,"string");return typeof t=="symbol"?t:t+""}function Pde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kde=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Lde=(e,t,n)=>e.map(r=>"".concat(kde(r)," ").concat(t,"ms ").concat(n)).join(","),Bde=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(a=>r.includes(a))),j0=(e,t)=>Object.keys(t).reduce((n,r)=>OR(OR({},n),{},{[r]:e(r,t[r])}),{});function MR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Oa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MR(Object(n),!0).forEach(function(r){Fde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fde(e,t,n){return(t=Ude(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ude(e){var t=zde(e,"string");return typeof t=="symbol"?t:t+""}function zde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var t1=(e,t,n)=>e+(t-e)*n,Ij=e=>{var{from:t,to:n}=e;return t!==n},GB=(e,t,n)=>{var r=j0((a,s)=>{if(Ij(s)){var[c,f]=e(s.from,s.to,s.velocity);return Oa(Oa({},s),{},{from:c,velocity:f})}return s},t);return n<1?j0((a,s)=>Ij(s)?Oa(Oa({},s),{},{velocity:t1(s.velocity,r[a].velocity,n),from:t1(s.from,r[a].from,n)}):s,t):GB(e,r,n-1)};function Vde(e,t,n,r,a,s){var c,f=r.reduce((j,E)=>Oa(Oa({},j),{},{[E]:{from:e[E],velocity:0,to:t[E]}}),{}),m=()=>j0((j,E)=>E.from,f),h=()=>!Object.values(f).filter(Ij).length,p=null,v=j=>{c||(c=j);var E=j-c,O=E/n.dt;f=GB(n,f,O),a(Oa(Oa(Oa({},e),t),m())),c=j,h()||(p=s.setTimeout(v))};return()=>(p=s.setTimeout(v),()=>{p()})}function $de(e,t,n,r,a,s,c){var f=null,m=a.reduce((v,j)=>Oa(Oa({},v),{},{[j]:[e[j],t[j]]}),{}),h,p=v=>{h||(h=v);var j=(v-h)/r,E=j0((T,_)=>t1(..._,n(j)),m);if(s(Oa(Oa(Oa({},e),t),E)),j<1)f=c.setTimeout(p);else{var O=j0((T,_)=>t1(..._,n(1)),m);s(Oa(Oa(Oa({},e),t),O))}};return()=>(f=c.setTimeout(p),()=>{f()})}const Hde=(e,t,n,r,a,s)=>{var c=Bde(e,t);return n.isStepper===!0?Vde(e,t,n,c,a,s):$de(e,t,n,r,c,a,s)};class qde{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,s=c=>{c-r>=n?t(c):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{cancelAnimationFrame(a)}}}var Yde=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function Pj(){return Pj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pj.apply(null,arguments)}function Wde(e,t){if(e==null)return{};var n,r,a=Gde(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Gde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function DR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Nc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DR(Object(n),!0).forEach(function(r){Gu(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gu(e,t,n){return(t=Kde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kde(e){var t=Xde(e,"string");return typeof t=="symbol"?t:t+""}function Xde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qde(){return Tde(new qde)}class hN extends A.PureComponent{constructor(t,n){super(t,n),Gu(this,"mounted",!1),Gu(this,"manager",null),Gu(this,"stopJSAnimation",null),Gu(this,"unSubscribe",null);var{isActive:r,attributeName:a,from:s,to:c,children:f,duration:m,animationManager:h}=this.props;if(this.manager=h,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||m<=0){this.state={style:{}},typeof f=="function"&&(this.state={style:c});return}if(s){if(typeof f=="function"){this.state={style:s};return}this.state={style:a?{[a]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:n}=this.props;this.mounted=!0,!(!t||!n)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:n,canBegin:r,attributeName:a,shouldReAnimate:s,to:c,from:f}=this.props,{style:m}=this.state;if(r){if(!n){var h={style:a?{[a]:c}:c};this.state&&m&&(a&&m[a]!==c||!a&&m!==c)&&this.setState(h);return}if(!(Cde(t.to,c)&&t.canBegin&&t.isActive)){var p=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=p||s?f:t.to;if(this.state&&m){var j={style:a?{[a]:v}:v};(a&&m[a]!==v||!a&&m!==v)&&this.setState(j)}this.runAnimation(Nc(Nc({},this.props),{},{from:v,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:n,to:r,duration:a,easing:s,begin:c,onAnimationEnd:f,onAnimationStart:m}=t,h=Hde(n,r,Dde(s),a,this.changeStyle,this.manager.getTimeoutController()),p=()=>{this.stopJSAnimation=h()};this.manager.start([m,c,p,a,f])}runAnimation(t){var{begin:n,duration:r,attributeName:a,to:s,easing:c,onAnimationStart:f,onAnimationEnd:m,children:h}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof c=="function"||typeof h=="function"||c==="spring"){this.runJSAnimation(t);return}var p=a?{[a]:s}:s,v=Lde(Object.keys(p),r,c);this.manager.start([f,n,Nc(Nc({},p),{},{transition:v}),r,m])}render(){var t=this.props,{children:n,begin:r,duration:a,attributeName:s,easing:c,isActive:f,from:m,to:h,canBegin:p,onAnimationEnd:v,shouldReAnimate:j,onAnimationReStart:E,animationManager:O}=t,T=Wde(t,Yde),_=A.Children.count(n),D=this.state.style;if(typeof n=="function")return n(D);if(!f||_===0||a<=0)return n;var P=I=>{var{style:U={},className:F}=I.props,L=A.cloneElement(I,Nc(Nc({},T),{},{style:Nc(Nc({},U),D),className:F}));return L};return _===1?P(A.Children.only(n)):A.createElement("div",null,A.Children.map(n,I=>P(I)))}}Gu(hN,"displayName","Animate");Gu(hN,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var Zde=A.createContext(null);function Ol(e){var t,n,r=A.useContext(Zde);return A.createElement(hN,Pj({},e,{animationManager:(t=(n=e.animationManager)!==null&&n!==void 0?n:r)!==null&&t!==void 0?t:Qde()}))}function n1(){return n1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n1.apply(null,arguments)}var RR=(e,t,n,r,a)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),c=r>=0?1:-1,f=n>=0?1:-1,m=r>=0&&n>=0||r<0&&n<0?1:0,h;if(s>0&&a instanceof Array){for(var p=[0,0,0,0],v=0,j=4;v<j;v++)p[v]=a[v]>s?s:a[v];h="M".concat(e,",").concat(t+c*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(m,",").concat(e+f*p[0],",").concat(t)),h+="L ".concat(e+n-f*p[1],",").concat(t),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(m,`,
        `).concat(e+n,",").concat(t+c*p[1])),h+="L ".concat(e+n,",").concat(t+r-c*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(m,`,
        `).concat(e+n-f*p[2],",").concat(t+r)),h+="L ".concat(e+f*p[3],",").concat(t+r),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(m,`,
        `).concat(e,",").concat(t+r-c*p[3])),h+="Z"}else if(s>0&&a===+a&&a>0){var E=Math.min(s,a);h="M ".concat(e,",").concat(t+c*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(m,",").concat(e+f*E,",").concat(t,`
            L `).concat(e+n-f*E,",").concat(t,`
            A `).concat(E,",").concat(E,",0,0,").concat(m,",").concat(e+n,",").concat(t+c*E,`
            L `).concat(e+n,",").concat(t+r-c*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(m,",").concat(e+n-f*E,",").concat(t+r,`
            L `).concat(e+f*E,",").concat(t+r,`
            A `).concat(E,",").concat(E,",0,0,").concat(m,",").concat(e,",").concat(t+r-c*E," Z")}else h="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},Jde={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},KB=e=>{var t=Xi(e,Jde),n=A.useRef(null),[r,a]=A.useState(-1);A.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var D=n.current.getTotalLength();D&&a(D)}catch{}},[]);var{x:s,y:c,width:f,height:m,radius:h,className:p}=t,{animationEasing:v,animationDuration:j,animationBegin:E,isAnimationActive:O,isUpdateAnimationActive:T}=t;if(s!==+s||c!==+c||f!==+f||m!==+m||f===0||m===0)return null;var _=en("recharts-rectangle",p);return T?A.createElement(Ol,{canBegin:r>0,from:{width:f,height:m,x:s,y:c},to:{width:f,height:m,x:s,y:c},duration:j,animationEasing:v,isActive:T},D=>{var{width:P,height:I,x:U,y:F}=D;return A.createElement(Ol,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:E,duration:j,isActive:O,easing:v},A.createElement("path",n1({},Ut(t,!0),{className:_,d:RR(U,F,P,I,h),ref:n})))}):A.createElement("path",n1({},Ut(t,!0),{className:_,d:RR(s,c,f,m,h)}))};function XB(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:s}=e,c=Qr(t,n,r,a),f=Qr(t,n,r,s);return{points:[c,f],cx:t,cy:n,radius:r,startAngle:a,endAngle:s}}function kj(){return kj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kj.apply(null,arguments)}var efe=(e,t)=>{var n=ya(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Zp=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:s,isExternal:c,cornerRadius:f,cornerIsExternal:m}=e,h=f*(c?1:-1)+r,p=Math.asin(f/h)/Zx,v=m?a:a+s*p,j=Qr(t,n,h,v),E=Qr(t,n,r,v),O=m?a-s*p:a,T=Qr(t,n,h*Math.cos(p*Zx),O);return{center:j,circleTangency:E,lineTangency:T,theta:p}},QB=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:s,endAngle:c}=e,f=efe(s,c),m=s+f,h=Qr(t,n,a,s),p=Qr(t,n,a,m),v="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(f)>180),",").concat(+(s>m),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var j=Qr(t,n,r,s),E=Qr(t,n,r,m);v+="L ".concat(E.x,",").concat(E.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(f)>180),",").concat(+(s<=m),`,
            `).concat(j.x,",").concat(j.y," Z")}else v+="L ".concat(t,",").concat(n," Z");return v},tfe=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:f,startAngle:m,endAngle:h}=e,p=ya(h-m),{circleTangency:v,lineTangency:j,theta:E}=Zp({cx:t,cy:n,radius:a,angle:m,sign:p,cornerRadius:s,cornerIsExternal:f}),{circleTangency:O,lineTangency:T,theta:_}=Zp({cx:t,cy:n,radius:a,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:f}),D=f?Math.abs(m-h):Math.abs(m-h)-E-_;if(D<0)return c?"M ".concat(j.x,",").concat(j.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):QB({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:m,endAngle:h});var P="M ".concat(j.x,",").concat(j.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(D>180),",").concat(+(p<0),",").concat(O.x,",").concat(O.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(T.x,",").concat(T.y,`
  `);if(r>0){var{circleTangency:I,lineTangency:U,theta:F}=Zp({cx:t,cy:n,radius:r,angle:m,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:f}),{circleTangency:L,lineTangency:B,theta:$}=Zp({cx:t,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:f}),z=f?Math.abs(m-h):Math.abs(m-h)-F-$;if(z<0&&s===0)return"".concat(P,"L").concat(t,",").concat(n,"Z");P+="L".concat(B.x,",").concat(B.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(z>180),",").concat(+(p>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(U.x,",").concat(U.y,"Z")}else P+="L".concat(t,",").concat(n,"Z");return P},nfe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ZB=e=>{var t=Xi(e,nfe),{cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:c,forceCornerRadius:f,cornerIsExternal:m,startAngle:h,endAngle:p,className:v}=t;if(s<a||h===p)return null;var j=en("recharts-sector",v),E=s-a,O=ii(c,E,0,!0),T;return O>0&&Math.abs(h-p)<360?T=tfe({cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:Math.min(O,E/2),forceCornerRadius:f,cornerIsExternal:m,startAngle:h,endAngle:p}):T=QB({cx:n,cy:r,innerRadius:a,outerRadius:s,startAngle:h,endAngle:p}),A.createElement("path",kj({},Ut(t,!0),{className:j,d:T}))};function rfe(e,t,n){var r,a,s,c;if(e==="horizontal")r=t.x,s=r,a=n.top,c=n.top+n.height;else if(e==="vertical")a=t.y,c=a,r=n.left,s=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:f,cy:m,innerRadius:h,outerRadius:p,angle:v}=t,j=Qr(f,m,h,v),E=Qr(f,m,p,v);r=j.x,a=j.y,s=E.x,c=E.y}else return XB(t);return[{x:r,y:a},{x:s,y:c}]}var P2={},k2={},L2={},IR;function afe(){return IR||(IR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sB();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n}(L2)),L2}var PR;function ife(){return PR||(PR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=afe();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n}(k2)),k2}var kR;function sfe(){return kR||(kR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oB(),n=ife();function r(a,s,c){c&&typeof c!="number"&&t.isIterateeCall(a,s,c)&&(s=c=void 0),a=n.toFinite(a),s===void 0?(s=a,a=0):s=n.toFinite(s),c=c===void 0?a<s?1:-1:n.toFinite(c);const f=Math.max(Math.ceil((s-a)/(c||1)),0),m=new Array(f);for(let h=0;h<f;h++)m[h]=a,a+=c;return m}e.range=r}(P2)),P2}var B2,LR;function ofe(){return LR||(LR=1,B2=sfe().range),B2}var lfe=ofe();const JB=Ki(lfe);function Pc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cfe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mN(e){let t,n,r;e.length!==2?(t=Pc,n=(f,m)=>Pc(e(f),m),r=(f,m)=>e(f)-m):(t=e===Pc||e===cfe?e:ufe,n=e,r=e);function a(f,m,h=0,p=f.length){if(h<p){if(t(m,m)!==0)return p;do{const v=h+p>>>1;n(f[v],m)<0?h=v+1:p=v}while(h<p)}return h}function s(f,m,h=0,p=f.length){if(h<p){if(t(m,m)!==0)return p;do{const v=h+p>>>1;n(f[v],m)<=0?h=v+1:p=v}while(h<p)}return h}function c(f,m,h=0,p=f.length){const v=a(f,m,h,p-1);return v>h&&r(f[v-1],m)>-r(f[v],m)?v-1:v}return{left:a,center:c,right:s}}function ufe(){return 0}function e9(e){return e===null?NaN:+e}function*dfe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const ffe=mN(Pc),rg=ffe.right;mN(e9).center;class BR extends Map{constructor(t,n=gfe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(FR(this,t))}has(t){return super.has(FR(this,t))}set(t,n){return super.set(hfe(this,t),n)}delete(t){return super.delete(mfe(this,t))}}function FR({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function hfe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function mfe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function gfe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function pfe(e=Pc){if(e===Pc)return t9;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function t9(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const xfe=Math.sqrt(50),vfe=Math.sqrt(10),yfe=Math.sqrt(2);function r1(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),s=r/Math.pow(10,a),c=s>=xfe?10:s>=vfe?5:s>=yfe?2:1;let f,m,h;return a<0?(h=Math.pow(10,-a)/c,f=Math.round(e*h),m=Math.round(t*h),f/h<e&&++f,m/h>t&&--m,h=-h):(h=Math.pow(10,a)*c,f=Math.round(e/h),m=Math.round(t/h),f*h<e&&++f,m*h>t&&--m),m<f&&.5<=n&&n<2?r1(e,t,n*2):[f,m,h]}function Lj(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,s,c]=r?r1(t,e,n):r1(e,t,n);if(!(s>=a))return[];const f=s-a+1,m=new Array(f);if(r)if(c<0)for(let h=0;h<f;++h)m[h]=(s-h)/-c;else for(let h=0;h<f;++h)m[h]=(s-h)*c;else if(c<0)for(let h=0;h<f;++h)m[h]=(a+h)/-c;else for(let h=0;h<f;++h)m[h]=(a+h)*c;return m}function Bj(e,t,n){return t=+t,e=+e,n=+n,r1(e,t,n)[2]}function Fj(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?Bj(t,e,n):Bj(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function UR(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function zR(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function n9(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?t9:pfe(a);r>n;){if(r-n>600){const m=r-n+1,h=t-n+1,p=Math.log(m),v=.5*Math.exp(2*p/3),j=.5*Math.sqrt(p*v*(m-v)/m)*(h-m/2<0?-1:1),E=Math.max(n,Math.floor(t-h*v/m+j)),O=Math.min(r,Math.floor(t+(m-h)*v/m+j));n9(e,t,E,O,a)}const s=e[t];let c=n,f=r;for(Pm(e,n,t),a(e[r],s)>0&&Pm(e,n,r);c<f;){for(Pm(e,c,f),++c,--f;a(e[c],s)<0;)++c;for(;a(e[f],s)>0;)--f}a(e[n],s)===0?Pm(e,n,f):(++f,Pm(e,f,r)),f<=t&&(n=f+1),t<=f&&(r=f-1)}return e}function Pm(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function bfe(e,t,n){if(e=Float64Array.from(dfe(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return zR(e);if(t>=1)return UR(e);var r,a=(r-1)*t,s=Math.floor(a),c=UR(n9(e,s).subarray(0,s+1)),f=zR(e.subarray(s+1));return c+(f-c)*(a-s)}}function wfe(e,t,n=e9){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,s=Math.floor(a),c=+n(e[s],s,e),f=+n(e[s+1],s+1,e);return c+(f-c)*(a-s)}}function Sfe(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(a);++r<a;)s[r]=e+r*n;return s}function As(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function zl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Uj=Symbol("implicit");function gN(){var e=new BR,t=[],n=[],r=Uj;function a(s){let c=e.get(s);if(c===void 0){if(r!==Uj)return r;e.set(s,c=t.push(s)-1)}return n[c%n.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new BR;for(const c of s)e.has(c)||e.set(c,t.push(c)-1);return a},a.range=function(s){return arguments.length?(n=Array.from(s),a):n.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return gN(t,n).unknown(r)},As.apply(a,arguments),a}function pN(){var e=gN().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,s,c,f=!1,m=0,h=0,p=.5;delete e.unknown;function v(){var j=t().length,E=a<r,O=E?a:r,T=E?r:a;s=(T-O)/Math.max(1,j-m+h*2),f&&(s=Math.floor(s)),O+=(T-O-s*(j-m))*p,c=s*(1-m),f&&(O=Math.round(O),c=Math.round(c));var _=Sfe(j).map(function(D){return O+s*D});return n(E?_.reverse():_)}return e.domain=function(j){return arguments.length?(t(j),v()):t()},e.range=function(j){return arguments.length?([r,a]=j,r=+r,a=+a,v()):[r,a]},e.rangeRound=function(j){return[r,a]=j,r=+r,a=+a,f=!0,v()},e.bandwidth=function(){return c},e.step=function(){return s},e.round=function(j){return arguments.length?(f=!!j,v()):f},e.padding=function(j){return arguments.length?(m=Math.min(1,h=+j),v()):m},e.paddingInner=function(j){return arguments.length?(m=Math.min(1,j),v()):m},e.paddingOuter=function(j){return arguments.length?(h=+j,v()):h},e.align=function(j){return arguments.length?(p=Math.max(0,Math.min(1,j)),v()):p},e.copy=function(){return pN(t(),[r,a]).round(f).paddingInner(m).paddingOuter(h).align(p)},As.apply(v(),arguments)}function r9(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return r9(t())},e}function jfe(){return r9(pN.apply(null,arguments).paddingInner(1))}function xN(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function a9(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ag(){}var A0=.7,a1=1/A0,Yf="\\s*([+-]?\\d+)\\s*",E0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Do="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Afe=/^#([0-9a-f]{3,8})$/,Efe=new RegExp(`^rgb\\(${Yf},${Yf},${Yf}\\)$`),Nfe=new RegExp(`^rgb\\(${Do},${Do},${Do}\\)$`),_fe=new RegExp(`^rgba\\(${Yf},${Yf},${Yf},${E0}\\)$`),Cfe=new RegExp(`^rgba\\(${Do},${Do},${Do},${E0}\\)$`),Tfe=new RegExp(`^hsl\\(${E0},${Do},${Do}\\)$`),Ofe=new RegExp(`^hsla\\(${E0},${Do},${Do},${E0}\\)$`),VR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xN(ag,N0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:$R,formatHex:$R,formatHex8:Mfe,formatHsl:Dfe,formatRgb:HR,toString:HR});function $R(){return this.rgb().formatHex()}function Mfe(){return this.rgb().formatHex8()}function Dfe(){return i9(this).formatHsl()}function HR(){return this.rgb().formatRgb()}function N0(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Afe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?qR(t):n===3?new yi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Jp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Jp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Efe.exec(e))?new yi(t[1],t[2],t[3],1):(t=Nfe.exec(e))?new yi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=_fe.exec(e))?Jp(t[1],t[2],t[3],t[4]):(t=Cfe.exec(e))?Jp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Tfe.exec(e))?GR(t[1],t[2]/100,t[3]/100,1):(t=Ofe.exec(e))?GR(t[1],t[2]/100,t[3]/100,t[4]):VR.hasOwnProperty(e)?qR(VR[e]):e==="transparent"?new yi(NaN,NaN,NaN,0):null}function qR(e){return new yi(e>>16&255,e>>8&255,e&255,1)}function Jp(e,t,n,r){return r<=0&&(e=t=n=NaN),new yi(e,t,n,r)}function Rfe(e){return e instanceof ag||(e=N0(e)),e?(e=e.rgb(),new yi(e.r,e.g,e.b,e.opacity)):new yi}function zj(e,t,n,r){return arguments.length===1?Rfe(e):new yi(e,t,n,r??1)}function yi(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}xN(yi,zj,a9(ag,{brighter(e){return e=e==null?a1:Math.pow(a1,e),new yi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?A0:Math.pow(A0,e),new yi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new yi(rd(this.r),rd(this.g),rd(this.b),i1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:YR,formatHex:YR,formatHex8:Ife,formatRgb:WR,toString:WR}));function YR(){return`#${Ku(this.r)}${Ku(this.g)}${Ku(this.b)}`}function Ife(){return`#${Ku(this.r)}${Ku(this.g)}${Ku(this.b)}${Ku((isNaN(this.opacity)?1:this.opacity)*255)}`}function WR(){const e=i1(this.opacity);return`${e===1?"rgb(":"rgba("}${rd(this.r)}, ${rd(this.g)}, ${rd(this.b)}${e===1?")":`, ${e})`}`}function i1(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function rd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ku(e){return e=rd(e),(e<16?"0":"")+e.toString(16)}function GR(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new $s(e,t,n,r)}function i9(e){if(e instanceof $s)return new $s(e.h,e.s,e.l,e.opacity);if(e instanceof ag||(e=N0(e)),!e)return new $s;if(e instanceof $s)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),s=Math.max(t,n,r),c=NaN,f=s-a,m=(s+a)/2;return f?(t===s?c=(n-r)/f+(n<r)*6:n===s?c=(r-t)/f+2:c=(t-n)/f+4,f/=m<.5?s+a:2-s-a,c*=60):f=m>0&&m<1?0:c,new $s(c,f,m,e.opacity)}function Pfe(e,t,n,r){return arguments.length===1?i9(e):new $s(e,t,n,r??1)}function $s(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}xN($s,Pfe,a9(ag,{brighter(e){return e=e==null?a1:Math.pow(a1,e),new $s(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?A0:Math.pow(A0,e),new $s(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new yi(F2(e>=240?e-240:e+120,a,r),F2(e,a,r),F2(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new $s(KR(this.h),ex(this.s),ex(this.l),i1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=i1(this.opacity);return`${e===1?"hsl(":"hsla("}${KR(this.h)}, ${ex(this.s)*100}%, ${ex(this.l)*100}%${e===1?")":`, ${e})`}`}}));function KR(e){return e=(e||0)%360,e<0?e+360:e}function ex(e){return Math.max(0,Math.min(1,e||0))}function F2(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const vN=e=>()=>e;function kfe(e,t){return function(n){return e+n*t}}function Lfe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Bfe(e){return(e=+e)==1?s9:function(t,n){return n-t?Lfe(t,n,e):vN(isNaN(t)?n:t)}}function s9(e,t){var n=t-e;return n?kfe(e,n):vN(isNaN(e)?t:e)}const XR=function e(t){var n=Bfe(t);function r(a,s){var c=n((a=zj(a)).r,(s=zj(s)).r),f=n(a.g,s.g),m=n(a.b,s.b),h=s9(a.opacity,s.opacity);return function(p){return a.r=c(p),a.g=f(p),a.b=m(p),a.opacity=h(p),a+""}}return r.gamma=e,r}(1);function Ffe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(s){for(a=0;a<n;++a)r[a]=e[a]*(1-s)+t[a]*s;return r}}function Ufe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function zfe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),s=new Array(n),c;for(c=0;c<r;++c)a[c]=Ah(e[c],t[c]);for(;c<n;++c)s[c]=t[c];return function(f){for(c=0;c<r;++c)s[c]=a[c](f);return s}}function Vfe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function s1(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function $fe(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Ah(e[a],t[a]):r[a]=t[a];return function(s){for(a in n)r[a]=n[a](s);return r}}var Vj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,U2=new RegExp(Vj.source,"g");function Hfe(e){return function(){return e}}function qfe(e){return function(t){return e(t)+""}}function Yfe(e,t){var n=Vj.lastIndex=U2.lastIndex=0,r,a,s,c=-1,f=[],m=[];for(e=e+"",t=t+"";(r=Vj.exec(e))&&(a=U2.exec(t));)(s=a.index)>n&&(s=t.slice(n,s),f[c]?f[c]+=s:f[++c]=s),(r=r[0])===(a=a[0])?f[c]?f[c]+=a:f[++c]=a:(f[++c]=null,m.push({i:c,x:s1(r,a)})),n=U2.lastIndex;return n<t.length&&(s=t.slice(n),f[c]?f[c]+=s:f[++c]=s),f.length<2?m[0]?qfe(m[0].x):Hfe(t):(t=m.length,function(h){for(var p=0,v;p<t;++p)f[(v=m[p]).i]=v.x(h);return f.join("")})}function Ah(e,t){var n=typeof t,r;return t==null||n==="boolean"?vN(t):(n==="number"?s1:n==="string"?(r=N0(t))?(t=r,XR):Yfe:t instanceof N0?XR:t instanceof Date?Vfe:Ufe(t)?Ffe:Array.isArray(t)?zfe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?$fe:s1)(e,t)}function yN(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Wfe(e,t){t===void 0&&(t=e,e=Ah);for(var n=0,r=t.length-1,a=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(a,a=t[++n]);return function(c){var f=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return s[f](c-f)}}function Gfe(e){return function(){return e}}function o1(e){return+e}var QR=[0,1];function ai(e){return e}function $j(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Gfe(isNaN(t)?NaN:.5)}function Kfe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Xfe(e,t,n){var r=e[0],a=e[1],s=t[0],c=t[1];return a<r?(r=$j(a,r),s=n(c,s)):(r=$j(r,a),s=n(s,c)),function(f){return s(r(f))}}function Qfe(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),s=new Array(r),c=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<r;)a[c]=$j(e[c],e[c+1]),s[c]=n(t[c],t[c+1]);return function(f){var m=rg(e,f,1,r)-1;return s[m](a[m](f))}}function ig(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function xv(){var e=QR,t=QR,n=Ah,r,a,s,c=ai,f,m,h;function p(){var j=Math.min(e.length,t.length);return c!==ai&&(c=Kfe(e[0],e[j-1])),f=j>2?Qfe:Xfe,m=h=null,v}function v(j){return j==null||isNaN(j=+j)?s:(m||(m=f(e.map(r),t,n)))(r(c(j)))}return v.invert=function(j){return c(a((h||(h=f(t,e.map(r),s1)))(j)))},v.domain=function(j){return arguments.length?(e=Array.from(j,o1),p()):e.slice()},v.range=function(j){return arguments.length?(t=Array.from(j),p()):t.slice()},v.rangeRound=function(j){return t=Array.from(j),n=yN,p()},v.clamp=function(j){return arguments.length?(c=j?!0:ai,p()):c!==ai},v.interpolate=function(j){return arguments.length?(n=j,p()):n},v.unknown=function(j){return arguments.length?(s=j,v):s},function(j,E){return r=j,a=E,p()}}function bN(){return xv()(ai,ai)}function Zfe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function l1(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ah(e){return e=l1(Math.abs(e)),e?e[1]:NaN}function Jfe(e,t){return function(n,r){for(var a=n.length,s=[],c=0,f=e[0],m=0;a>0&&f>0&&(m+f+1>r&&(f=Math.max(1,r-m)),s.push(n.substring(a-=f,a+f)),!((m+=f+1)>r));)f=e[c=(c+1)%e.length];return s.reverse().join(t)}}function ehe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var the=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _0(e){if(!(t=the.exec(e)))throw new Error("invalid format: "+e);var t;return new wN({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}_0.prototype=wN.prototype;function wN(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}wN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function nhe(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var o9;function rhe(e,t){var n=l1(e,t);if(!n)return e+"";var r=n[0],a=n[1],s=a-(o9=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,c=r.length;return s===c?r:s>c?r+new Array(s-c+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+l1(e,Math.max(0,t+s-1))[0]}function ZR(e,t){var n=l1(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const JR={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Zfe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ZR(e*100,t),r:ZR,s:rhe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function eI(e){return e}var tI=Array.prototype.map,nI=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ahe(e){var t=e.grouping===void 0||e.thousands===void 0?eI:Jfe(tI.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?eI:ehe(tI.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"−":e.minus+"",m=e.nan===void 0?"NaN":e.nan+"";function h(v){v=_0(v);var j=v.fill,E=v.align,O=v.sign,T=v.symbol,_=v.zero,D=v.width,P=v.comma,I=v.precision,U=v.trim,F=v.type;F==="n"?(P=!0,F="g"):JR[F]||(I===void 0&&(I=12),U=!0,F="g"),(_||j==="0"&&E==="=")&&(_=!0,j="0",E="=");var L=T==="$"?n:T==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",B=T==="$"?r:/[%p]/.test(F)?c:"",$=JR[F],z=/[defgprs%]/.test(F);I=I===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function H(X){var K=L,ee=B,ue,ne,G;if(F==="c")ee=$(X)+ee,X="";else{X=+X;var Q=X<0||1/X<0;if(X=isNaN(X)?m:$(Math.abs(X),I),U&&(X=nhe(X)),Q&&+X==0&&O!=="+"&&(Q=!1),K=(Q?O==="("?O:f:O==="-"||O==="("?"":O)+K,ee=(F==="s"?nI[8+o9/3]:"")+ee+(Q&&O==="("?")":""),z){for(ue=-1,ne=X.length;++ue<ne;)if(G=X.charCodeAt(ue),48>G||G>57){ee=(G===46?a+X.slice(ue+1):X.slice(ue))+ee,X=X.slice(0,ue);break}}}P&&!_&&(X=t(X,1/0));var ae=K.length+X.length+ee.length,he=ae<D?new Array(D-ae+1).join(j):"";switch(P&&_&&(X=t(he+X,he.length?D-ee.length:1/0),he=""),E){case"<":X=K+X+ee+he;break;case"=":X=K+he+X+ee;break;case"^":X=he.slice(0,ae=he.length>>1)+K+X+ee+he.slice(ae);break;default:X=he+K+X+ee;break}return s(X)}return H.toString=function(){return v+""},H}function p(v,j){var E=h((v=_0(v),v.type="f",v)),O=Math.max(-8,Math.min(8,Math.floor(ah(j)/3)))*3,T=Math.pow(10,-O),_=nI[8+O/3];return function(D){return E(T*D)+_}}return{format:h,formatPrefix:p}}var tx,SN,l9;ihe({thousands:",",grouping:[3],currency:["$",""]});function ihe(e){return tx=ahe(e),SN=tx.format,l9=tx.formatPrefix,tx}function she(e){return Math.max(0,-ah(Math.abs(e)))}function ohe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ah(t)/3)))*3-ah(Math.abs(e)))}function lhe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ah(t)-ah(e))+1}function c9(e,t,n,r){var a=Fj(e,t,n),s;switch(r=_0(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=ohe(a,c))&&(r.precision=s),l9(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=lhe(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=she(a))&&(r.precision=s-(r.type==="%")*2);break}}return SN(r)}function iu(e){var t=e.domain;return e.ticks=function(n){var r=t();return Lj(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return c9(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,s=r.length-1,c=r[a],f=r[s],m,h,p=10;for(f<c&&(h=c,c=f,f=h,h=a,a=s,s=h);p-- >0;){if(h=Bj(c,f,n),h===m)return r[a]=c,r[s]=f,t(r);if(h>0)c=Math.floor(c/h)*h,f=Math.ceil(f/h)*h;else if(h<0)c=Math.ceil(c*h)/h,f=Math.floor(f*h)/h;else break;m=h}return e},e}function u9(){var e=bN();return e.copy=function(){return ig(e,u9())},As.apply(e,arguments),iu(e)}function d9(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,o1),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return d9(e).unknown(t)},e=arguments.length?Array.from(e,o1):[0,1],iu(n)}function f9(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],s=e[r],c;return s<a&&(c=n,n=r,r=c,c=a,a=s,s=c),e[n]=t.floor(a),e[r]=t.ceil(s),e}function rI(e){return Math.log(e)}function aI(e){return Math.exp(e)}function che(e){return-Math.log(-e)}function uhe(e){return-Math.exp(-e)}function dhe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function fhe(e){return e===10?dhe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function hhe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function iI(e){return(t,n)=>-e(-t,n)}function jN(e){const t=e(rI,aI),n=t.domain;let r=10,a,s;function c(){return a=hhe(r),s=fhe(r),n()[0]<0?(a=iI(a),s=iI(s),e(che,uhe)):e(rI,aI),t}return t.base=function(f){return arguments.length?(r=+f,c()):r},t.domain=function(f){return arguments.length?(n(f),c()):n()},t.ticks=f=>{const m=n();let h=m[0],p=m[m.length-1];const v=p<h;v&&([h,p]=[p,h]);let j=a(h),E=a(p),O,T;const _=f==null?10:+f;let D=[];if(!(r%1)&&E-j<_){if(j=Math.floor(j),E=Math.ceil(E),h>0){for(;j<=E;++j)for(O=1;O<r;++O)if(T=j<0?O/s(-j):O*s(j),!(T<h)){if(T>p)break;D.push(T)}}else for(;j<=E;++j)for(O=r-1;O>=1;--O)if(T=j>0?O/s(-j):O*s(j),!(T<h)){if(T>p)break;D.push(T)}D.length*2<_&&(D=Lj(h,p,_))}else D=Lj(j,E,Math.min(E-j,_)).map(s);return v?D.reverse():D},t.tickFormat=(f,m)=>{if(f==null&&(f=10),m==null&&(m=r===10?"s":","),typeof m!="function"&&(!(r%1)&&(m=_0(m)).precision==null&&(m.trim=!0),m=SN(m)),f===1/0)return m;const h=Math.max(1,r*f/t.ticks().length);return p=>{let v=p/s(Math.round(a(p)));return v*r<r-.5&&(v*=r),v<=h?m(p):""}},t.nice=()=>n(f9(n(),{floor:f=>s(Math.floor(a(f))),ceil:f=>s(Math.ceil(a(f)))})),t}function h9(){const e=jN(xv()).domain([1,10]);return e.copy=()=>ig(e,h9()).base(e.base()),As.apply(e,arguments),e}function sI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function oI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function AN(e){var t=1,n=e(sI(t),oI(t));return n.constant=function(r){return arguments.length?e(sI(t=+r),oI(t)):t},iu(n)}function m9(){var e=AN(xv());return e.copy=function(){return ig(e,m9()).constant(e.constant())},As.apply(e,arguments)}function lI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function mhe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function ghe(e){return e<0?-e*e:e*e}function EN(e){var t=e(ai,ai),n=1;function r(){return n===1?e(ai,ai):n===.5?e(mhe,ghe):e(lI(n),lI(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},iu(t)}function NN(){var e=EN(xv());return e.copy=function(){return ig(e,NN()).exponent(e.exponent())},As.apply(e,arguments),e}function phe(){return NN.apply(null,arguments).exponent(.5)}function cI(e){return Math.sign(e)*e*e}function xhe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function g9(){var e=bN(),t=[0,1],n=!1,r;function a(s){var c=xhe(e(s));return isNaN(c)?r:n?Math.round(c):c}return a.invert=function(s){return e.invert(cI(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,o1)).map(cI)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(n=!!s,a):n},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return g9(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},As.apply(a,arguments),iu(a)}function p9(){var e=[],t=[],n=[],r;function a(){var c=0,f=Math.max(1,t.length);for(n=new Array(f-1);++c<f;)n[c-1]=wfe(e,c/f);return s}function s(c){return c==null||isNaN(c=+c)?r:t[rg(n,c)]}return s.invertExtent=function(c){var f=t.indexOf(c);return f<0?[NaN,NaN]:[f>0?n[f-1]:e[0],f<n.length?n[f]:e[e.length-1]]},s.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let f of c)f!=null&&!isNaN(f=+f)&&e.push(f);return e.sort(Pc),a()},s.range=function(c){return arguments.length?(t=Array.from(c),a()):t.slice()},s.unknown=function(c){return arguments.length?(r=c,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return p9().domain(e).range(t).unknown(r)},As.apply(s,arguments)}function x9(){var e=0,t=1,n=1,r=[.5],a=[0,1],s;function c(m){return m!=null&&m<=m?a[rg(r,m,0,n)]:s}function f(){var m=-1;for(r=new Array(n);++m<n;)r[m]=((m+1)*t-(m-n)*e)/(n+1);return c}return c.domain=function(m){return arguments.length?([e,t]=m,e=+e,t=+t,f()):[e,t]},c.range=function(m){return arguments.length?(n=(a=Array.from(m)).length-1,f()):a.slice()},c.invertExtent=function(m){var h=a.indexOf(m);return h<0?[NaN,NaN]:h<1?[e,r[0]]:h>=n?[r[n-1],t]:[r[h-1],r[h]]},c.unknown=function(m){return arguments.length&&(s=m),c},c.thresholds=function(){return r.slice()},c.copy=function(){return x9().domain([e,t]).range(a).unknown(s)},As.apply(iu(c),arguments)}function v9(){var e=[.5],t=[0,1],n,r=1;function a(s){return s!=null&&s<=s?t[rg(e,s,0,r)]:n}return a.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var c=t.indexOf(s);return[e[c-1],e[c]]},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return v9().domain(e).range(t).unknown(n)},As.apply(a,arguments)}const z2=new Date,V2=new Date;function ua(e,t,n,r){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const c=a(s),f=a.ceil(s);return s-c<f-s?c:f},a.offset=(s,c)=>(t(s=new Date(+s),c==null?1:Math.floor(c)),s),a.range=(s,c,f)=>{const m=[];if(s=a.ceil(s),f=f==null?1:Math.floor(f),!(s<c)||!(f>0))return m;let h;do m.push(h=new Date(+s)),t(s,f),e(s);while(h<s&&s<c);return m},a.filter=s=>ua(c=>{if(c>=c)for(;e(c),!s(c);)c.setTime(c-1)},(c,f)=>{if(c>=c)if(f<0)for(;++f<=0;)for(;t(c,-1),!s(c););else for(;--f>=0;)for(;t(c,1),!s(c););}),n&&(a.count=(s,c)=>(z2.setTime(+s),V2.setTime(+c),e(z2),e(V2),Math.floor(n(z2,V2))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(r?c=>r(c)%s===0:c=>a.count(0,c)%s===0):a)),a}const c1=ua(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);c1.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ua(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):c1);c1.range;const ml=1e3,ms=ml*60,gl=ms*60,Ml=gl*24,_N=Ml*7,uI=Ml*30,$2=Ml*365,Xu=ua(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ml)},(e,t)=>(t-e)/ml,e=>e.getUTCSeconds());Xu.range;const CN=ua(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ml)},(e,t)=>{e.setTime(+e+t*ms)},(e,t)=>(t-e)/ms,e=>e.getMinutes());CN.range;const TN=ua(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ms)},(e,t)=>(t-e)/ms,e=>e.getUTCMinutes());TN.range;const ON=ua(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ml-e.getMinutes()*ms)},(e,t)=>{e.setTime(+e+t*gl)},(e,t)=>(t-e)/gl,e=>e.getHours());ON.range;const MN=ua(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*gl)},(e,t)=>(t-e)/gl,e=>e.getUTCHours());MN.range;const sg=ua(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ms)/Ml,e=>e.getDate()-1);sg.range;const vv=ua(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ml,e=>e.getUTCDate()-1);vv.range;const y9=ua(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ml,e=>Math.floor(e/Ml));y9.range;function Sd(e){return ua(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ms)/_N)}const yv=Sd(0),u1=Sd(1),vhe=Sd(2),yhe=Sd(3),ih=Sd(4),bhe=Sd(5),whe=Sd(6);yv.range;u1.range;vhe.range;yhe.range;ih.range;bhe.range;whe.range;function jd(e){return ua(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/_N)}const bv=jd(0),d1=jd(1),She=jd(2),jhe=jd(3),sh=jd(4),Ahe=jd(5),Ehe=jd(6);bv.range;d1.range;She.range;jhe.range;sh.range;Ahe.range;Ehe.range;const DN=ua(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());DN.range;const RN=ua(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());RN.range;const Dl=ua(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Dl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ua(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Dl.range;const Rl=ua(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Rl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ua(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Rl.range;function b9(e,t,n,r,a,s){const c=[[Xu,1,ml],[Xu,5,5*ml],[Xu,15,15*ml],[Xu,30,30*ml],[s,1,ms],[s,5,5*ms],[s,15,15*ms],[s,30,30*ms],[a,1,gl],[a,3,3*gl],[a,6,6*gl],[a,12,12*gl],[r,1,Ml],[r,2,2*Ml],[n,1,_N],[t,1,uI],[t,3,3*uI],[e,1,$2]];function f(h,p,v){const j=p<h;j&&([h,p]=[p,h]);const E=v&&typeof v.range=="function"?v:m(h,p,v),O=E?E.range(h,+p+1):[];return j?O.reverse():O}function m(h,p,v){const j=Math.abs(p-h)/v,E=mN(([,,_])=>_).right(c,j);if(E===c.length)return e.every(Fj(h/$2,p/$2,v));if(E===0)return c1.every(Math.max(Fj(h,p,v),1));const[O,T]=c[j/c[E-1][2]<c[E][2]/j?E-1:E];return O.every(T)}return[f,m]}const[Nhe,_he]=b9(Rl,RN,bv,y9,MN,TN),[Che,The]=b9(Dl,DN,yv,sg,ON,CN);function H2(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function q2(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function km(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Ohe(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,s=e.days,c=e.shortDays,f=e.months,m=e.shortMonths,h=Lm(a),p=Bm(a),v=Lm(s),j=Bm(s),E=Lm(c),O=Bm(c),T=Lm(f),_=Bm(f),D=Lm(m),P=Bm(m),I={a:Q,A:ae,b:he,B:te,c:null,d:pI,e:pI,f:Jhe,g:cme,G:dme,H:Xhe,I:Qhe,j:Zhe,L:w9,m:eme,M:tme,p:fe,q:se,Q:yI,s:bI,S:nme,u:rme,U:ame,V:ime,w:sme,W:ome,x:null,X:null,y:lme,Y:ume,Z:fme,"%":vI},U={a:me,A:Re,b:ye,B:oe,c:null,d:xI,e:xI,f:pme,g:Nme,G:Cme,H:hme,I:mme,j:gme,L:j9,m:xme,M:vme,p:pe,q:Ie,Q:yI,s:bI,S:yme,u:bme,U:wme,V:Sme,w:jme,W:Ame,x:null,X:null,y:Eme,Y:_me,Z:Tme,"%":vI},F={a:H,A:X,b:K,B:ee,c:ue,d:mI,e:mI,f:Yhe,g:hI,G:fI,H:gI,I:gI,j:Vhe,L:qhe,m:zhe,M:$he,p:z,q:Uhe,Q:Ghe,s:Khe,S:Hhe,u:Phe,U:khe,V:Lhe,w:Ihe,W:Bhe,x:ne,X:G,y:hI,Y:fI,Z:Fhe,"%":Whe};I.x=L(n,I),I.X=L(r,I),I.c=L(t,I),U.x=L(n,U),U.X=L(r,U),U.c=L(t,U);function L(xe,Fe){return function(Le){var Ne=[],Xe=-1,$e=0,Ze=xe.length,Mt,ht,Nt;for(Le instanceof Date||(Le=new Date(+Le));++Xe<Ze;)xe.charCodeAt(Xe)===37&&(Ne.push(xe.slice($e,Xe)),(ht=dI[Mt=xe.charAt(++Xe)])!=null?Mt=xe.charAt(++Xe):ht=Mt==="e"?" ":"0",(Nt=Fe[Mt])&&(Mt=Nt(Le,ht)),Ne.push(Mt),$e=Xe+1);return Ne.push(xe.slice($e,Xe)),Ne.join("")}}function B(xe,Fe){return function(Le){var Ne=km(1900,void 0,1),Xe=$(Ne,xe,Le+="",0),$e,Ze;if(Xe!=Le.length)return null;if("Q"in Ne)return new Date(Ne.Q);if("s"in Ne)return new Date(Ne.s*1e3+("L"in Ne?Ne.L:0));if(Fe&&!("Z"in Ne)&&(Ne.Z=0),"p"in Ne&&(Ne.H=Ne.H%12+Ne.p*12),Ne.m===void 0&&(Ne.m="q"in Ne?Ne.q:0),"V"in Ne){if(Ne.V<1||Ne.V>53)return null;"w"in Ne||(Ne.w=1),"Z"in Ne?($e=q2(km(Ne.y,0,1)),Ze=$e.getUTCDay(),$e=Ze>4||Ze===0?d1.ceil($e):d1($e),$e=vv.offset($e,(Ne.V-1)*7),Ne.y=$e.getUTCFullYear(),Ne.m=$e.getUTCMonth(),Ne.d=$e.getUTCDate()+(Ne.w+6)%7):($e=H2(km(Ne.y,0,1)),Ze=$e.getDay(),$e=Ze>4||Ze===0?u1.ceil($e):u1($e),$e=sg.offset($e,(Ne.V-1)*7),Ne.y=$e.getFullYear(),Ne.m=$e.getMonth(),Ne.d=$e.getDate()+(Ne.w+6)%7)}else("W"in Ne||"U"in Ne)&&("w"in Ne||(Ne.w="u"in Ne?Ne.u%7:"W"in Ne?1:0),Ze="Z"in Ne?q2(km(Ne.y,0,1)).getUTCDay():H2(km(Ne.y,0,1)).getDay(),Ne.m=0,Ne.d="W"in Ne?(Ne.w+6)%7+Ne.W*7-(Ze+5)%7:Ne.w+Ne.U*7-(Ze+6)%7);return"Z"in Ne?(Ne.H+=Ne.Z/100|0,Ne.M+=Ne.Z%100,q2(Ne)):H2(Ne)}}function $(xe,Fe,Le,Ne){for(var Xe=0,$e=Fe.length,Ze=Le.length,Mt,ht;Xe<$e;){if(Ne>=Ze)return-1;if(Mt=Fe.charCodeAt(Xe++),Mt===37){if(Mt=Fe.charAt(Xe++),ht=F[Mt in dI?Fe.charAt(Xe++):Mt],!ht||(Ne=ht(xe,Le,Ne))<0)return-1}else if(Mt!=Le.charCodeAt(Ne++))return-1}return Ne}function z(xe,Fe,Le){var Ne=h.exec(Fe.slice(Le));return Ne?(xe.p=p.get(Ne[0].toLowerCase()),Le+Ne[0].length):-1}function H(xe,Fe,Le){var Ne=E.exec(Fe.slice(Le));return Ne?(xe.w=O.get(Ne[0].toLowerCase()),Le+Ne[0].length):-1}function X(xe,Fe,Le){var Ne=v.exec(Fe.slice(Le));return Ne?(xe.w=j.get(Ne[0].toLowerCase()),Le+Ne[0].length):-1}function K(xe,Fe,Le){var Ne=D.exec(Fe.slice(Le));return Ne?(xe.m=P.get(Ne[0].toLowerCase()),Le+Ne[0].length):-1}function ee(xe,Fe,Le){var Ne=T.exec(Fe.slice(Le));return Ne?(xe.m=_.get(Ne[0].toLowerCase()),Le+Ne[0].length):-1}function ue(xe,Fe,Le){return $(xe,t,Fe,Le)}function ne(xe,Fe,Le){return $(xe,n,Fe,Le)}function G(xe,Fe,Le){return $(xe,r,Fe,Le)}function Q(xe){return c[xe.getDay()]}function ae(xe){return s[xe.getDay()]}function he(xe){return m[xe.getMonth()]}function te(xe){return f[xe.getMonth()]}function fe(xe){return a[+(xe.getHours()>=12)]}function se(xe){return 1+~~(xe.getMonth()/3)}function me(xe){return c[xe.getUTCDay()]}function Re(xe){return s[xe.getUTCDay()]}function ye(xe){return m[xe.getUTCMonth()]}function oe(xe){return f[xe.getUTCMonth()]}function pe(xe){return a[+(xe.getUTCHours()>=12)]}function Ie(xe){return 1+~~(xe.getUTCMonth()/3)}return{format:function(xe){var Fe=L(xe+="",I);return Fe.toString=function(){return xe},Fe},parse:function(xe){var Fe=B(xe+="",!1);return Fe.toString=function(){return xe},Fe},utcFormat:function(xe){var Fe=L(xe+="",U);return Fe.toString=function(){return xe},Fe},utcParse:function(xe){var Fe=B(xe+="",!0);return Fe.toString=function(){return xe},Fe}}}var dI={"-":"",_:" ",0:"0"},wa=/^\s*\d+/,Mhe=/^%/,Dhe=/[\\^$*+?|[\]().{}]/g;function pn(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",s=a.length;return r+(s<n?new Array(n-s+1).join(t)+a:a)}function Rhe(e){return e.replace(Dhe,"\\$&")}function Lm(e){return new RegExp("^(?:"+e.map(Rhe).join("|")+")","i")}function Bm(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Ihe(e,t,n){var r=wa.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Phe(e,t,n){var r=wa.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function khe(e,t,n){var r=wa.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Lhe(e,t,n){var r=wa.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Bhe(e,t,n){var r=wa.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function fI(e,t,n){var r=wa.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function hI(e,t,n){var r=wa.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Fhe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Uhe(e,t,n){var r=wa.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function zhe(e,t,n){var r=wa.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function mI(e,t,n){var r=wa.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Vhe(e,t,n){var r=wa.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function gI(e,t,n){var r=wa.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function $he(e,t,n){var r=wa.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Hhe(e,t,n){var r=wa.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function qhe(e,t,n){var r=wa.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Yhe(e,t,n){var r=wa.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Whe(e,t,n){var r=Mhe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Ghe(e,t,n){var r=wa.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Khe(e,t,n){var r=wa.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function pI(e,t){return pn(e.getDate(),t,2)}function Xhe(e,t){return pn(e.getHours(),t,2)}function Qhe(e,t){return pn(e.getHours()%12||12,t,2)}function Zhe(e,t){return pn(1+sg.count(Dl(e),e),t,3)}function w9(e,t){return pn(e.getMilliseconds(),t,3)}function Jhe(e,t){return w9(e,t)+"000"}function eme(e,t){return pn(e.getMonth()+1,t,2)}function tme(e,t){return pn(e.getMinutes(),t,2)}function nme(e,t){return pn(e.getSeconds(),t,2)}function rme(e){var t=e.getDay();return t===0?7:t}function ame(e,t){return pn(yv.count(Dl(e)-1,e),t,2)}function S9(e){var t=e.getDay();return t>=4||t===0?ih(e):ih.ceil(e)}function ime(e,t){return e=S9(e),pn(ih.count(Dl(e),e)+(Dl(e).getDay()===4),t,2)}function sme(e){return e.getDay()}function ome(e,t){return pn(u1.count(Dl(e)-1,e),t,2)}function lme(e,t){return pn(e.getFullYear()%100,t,2)}function cme(e,t){return e=S9(e),pn(e.getFullYear()%100,t,2)}function ume(e,t){return pn(e.getFullYear()%1e4,t,4)}function dme(e,t){var n=e.getDay();return e=n>=4||n===0?ih(e):ih.ceil(e),pn(e.getFullYear()%1e4,t,4)}function fme(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pn(t/60|0,"0",2)+pn(t%60,"0",2)}function xI(e,t){return pn(e.getUTCDate(),t,2)}function hme(e,t){return pn(e.getUTCHours(),t,2)}function mme(e,t){return pn(e.getUTCHours()%12||12,t,2)}function gme(e,t){return pn(1+vv.count(Rl(e),e),t,3)}function j9(e,t){return pn(e.getUTCMilliseconds(),t,3)}function pme(e,t){return j9(e,t)+"000"}function xme(e,t){return pn(e.getUTCMonth()+1,t,2)}function vme(e,t){return pn(e.getUTCMinutes(),t,2)}function yme(e,t){return pn(e.getUTCSeconds(),t,2)}function bme(e){var t=e.getUTCDay();return t===0?7:t}function wme(e,t){return pn(bv.count(Rl(e)-1,e),t,2)}function A9(e){var t=e.getUTCDay();return t>=4||t===0?sh(e):sh.ceil(e)}function Sme(e,t){return e=A9(e),pn(sh.count(Rl(e),e)+(Rl(e).getUTCDay()===4),t,2)}function jme(e){return e.getUTCDay()}function Ame(e,t){return pn(d1.count(Rl(e)-1,e),t,2)}function Eme(e,t){return pn(e.getUTCFullYear()%100,t,2)}function Nme(e,t){return e=A9(e),pn(e.getUTCFullYear()%100,t,2)}function _me(e,t){return pn(e.getUTCFullYear()%1e4,t,4)}function Cme(e,t){var n=e.getUTCDay();return e=n>=4||n===0?sh(e):sh.ceil(e),pn(e.getUTCFullYear()%1e4,t,4)}function Tme(){return"+0000"}function vI(){return"%"}function yI(e){return+e}function bI(e){return Math.floor(+e/1e3)}var Cf,E9,N9;Ome({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ome(e){return Cf=Ohe(e),E9=Cf.format,Cf.parse,N9=Cf.utcFormat,Cf.utcParse,Cf}function Mme(e){return new Date(e)}function Dme(e){return e instanceof Date?+e:+new Date(+e)}function IN(e,t,n,r,a,s,c,f,m,h){var p=bN(),v=p.invert,j=p.domain,E=h(".%L"),O=h(":%S"),T=h("%I:%M"),_=h("%I %p"),D=h("%a %d"),P=h("%b %d"),I=h("%B"),U=h("%Y");function F(L){return(m(L)<L?E:f(L)<L?O:c(L)<L?T:s(L)<L?_:r(L)<L?a(L)<L?D:P:n(L)<L?I:U)(L)}return p.invert=function(L){return new Date(v(L))},p.domain=function(L){return arguments.length?j(Array.from(L,Dme)):j().map(Mme)},p.ticks=function(L){var B=j();return e(B[0],B[B.length-1],L??10)},p.tickFormat=function(L,B){return B==null?F:h(B)},p.nice=function(L){var B=j();return(!L||typeof L.range!="function")&&(L=t(B[0],B[B.length-1],L??10)),L?j(f9(B,L)):p},p.copy=function(){return ig(p,IN(e,t,n,r,a,s,c,f,m,h))},p}function Rme(){return As.apply(IN(Che,The,Dl,DN,yv,sg,ON,CN,Xu,E9).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ime(){return As.apply(IN(Nhe,_he,Rl,RN,bv,vv,MN,TN,Xu,N9).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function wv(){var e=0,t=1,n,r,a,s,c=ai,f=!1,m;function h(v){return v==null||isNaN(v=+v)?m:c(a===0?.5:(v=(s(v)-n)*a,f?Math.max(0,Math.min(1,v)):v))}h.domain=function(v){return arguments.length?([e,t]=v,n=s(e=+e),r=s(t=+t),a=n===r?0:1/(r-n),h):[e,t]},h.clamp=function(v){return arguments.length?(f=!!v,h):f},h.interpolator=function(v){return arguments.length?(c=v,h):c};function p(v){return function(j){var E,O;return arguments.length?([E,O]=j,c=v(E,O),h):[c(0),c(1)]}}return h.range=p(Ah),h.rangeRound=p(yN),h.unknown=function(v){return arguments.length?(m=v,h):m},function(v){return s=v,n=v(e),r=v(t),a=n===r?0:1/(r-n),h}}function su(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function _9(){var e=iu(wv()(ai));return e.copy=function(){return su(e,_9())},zl.apply(e,arguments)}function C9(){var e=jN(wv()).domain([1,10]);return e.copy=function(){return su(e,C9()).base(e.base())},zl.apply(e,arguments)}function T9(){var e=AN(wv());return e.copy=function(){return su(e,T9()).constant(e.constant())},zl.apply(e,arguments)}function PN(){var e=EN(wv());return e.copy=function(){return su(e,PN()).exponent(e.exponent())},zl.apply(e,arguments)}function Pme(){return PN.apply(null,arguments).exponent(.5)}function O9(){var e=[],t=ai;function n(r){if(r!=null&&!isNaN(r=+r))return t((rg(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Pc),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,s)=>bfe(e,s/r))},n.copy=function(){return O9(t).domain(e)},zl.apply(n,arguments)}function Sv(){var e=0,t=.5,n=1,r=1,a,s,c,f,m,h=ai,p,v=!1,j;function E(T){return isNaN(T=+T)?j:(T=.5+((T=+p(T))-s)*(r*T<r*s?f:m),h(v?Math.max(0,Math.min(1,T)):T))}E.domain=function(T){return arguments.length?([e,t,n]=T,a=p(e=+e),s=p(t=+t),c=p(n=+n),f=a===s?0:.5/(s-a),m=s===c?0:.5/(c-s),r=s<a?-1:1,E):[e,t,n]},E.clamp=function(T){return arguments.length?(v=!!T,E):v},E.interpolator=function(T){return arguments.length?(h=T,E):h};function O(T){return function(_){var D,P,I;return arguments.length?([D,P,I]=_,h=Wfe(T,[D,P,I]),E):[h(0),h(.5),h(1)]}}return E.range=O(Ah),E.rangeRound=O(yN),E.unknown=function(T){return arguments.length?(j=T,E):j},function(T){return p=T,a=T(e),s=T(t),c=T(n),f=a===s?0:.5/(s-a),m=s===c?0:.5/(c-s),r=s<a?-1:1,E}}function M9(){var e=iu(Sv()(ai));return e.copy=function(){return su(e,M9())},zl.apply(e,arguments)}function D9(){var e=jN(Sv()).domain([.1,1,10]);return e.copy=function(){return su(e,D9()).base(e.base())},zl.apply(e,arguments)}function R9(){var e=AN(Sv());return e.copy=function(){return su(e,R9()).constant(e.constant())},zl.apply(e,arguments)}function kN(){var e=EN(Sv());return e.copy=function(){return su(e,kN()).exponent(e.exponent())},zl.apply(e,arguments)}function kme(){return kN.apply(null,arguments).exponent(.5)}const Gm=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:pN,scaleDiverging:M9,scaleDivergingLog:D9,scaleDivergingPow:kN,scaleDivergingSqrt:kme,scaleDivergingSymlog:R9,scaleIdentity:d9,scaleImplicit:Uj,scaleLinear:u9,scaleLog:h9,scaleOrdinal:gN,scalePoint:jfe,scalePow:NN,scaleQuantile:p9,scaleQuantize:x9,scaleRadial:g9,scaleSequential:_9,scaleSequentialLog:C9,scaleSequentialPow:PN,scaleSequentialQuantile:O9,scaleSequentialSqrt:Pme,scaleSequentialSymlog:T9,scaleSqrt:phe,scaleSymlog:m9,scaleThreshold:v9,scaleTime:Rme,scaleUtc:Ime,tickFormat:c9},Symbol.toStringTag,{value:"Module"}));var Ad=e=>e.chartData,LN=Me([Ad],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),jv=(e,t,n,r)=>r?LN(e):Ad(e);function oh(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Ma(t)&&Ma(n))return!0}return!1}function wI(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Lme(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,a,s;if(Ma(n))a=n;else if(typeof n=="function")return;if(Ma(r))s=r;else if(typeof r=="function")return;var c=[a,s];if(oh(c))return c}}function Bme(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(oh(r))return wI(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,c,f;if(a==="auto")t!=null&&(c=Math.min(...t));else if(Je(a))c=a;else if(typeof a=="function")try{t!=null&&(c=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&lR.test(a)){var m=lR.exec(a);if(m==null||t==null)c=void 0;else{var h=+m[1];c=t[0]-h}}else c=t==null?void 0:t[0];if(s==="auto")t!=null&&(f=Math.max(...t));else if(Je(s))f=s;else if(typeof s=="function")try{t!=null&&(f=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&cR.test(s)){var p=cR.exec(s);if(p==null||t==null)f=void 0;else{var v=+p[1];f=t[1]+v}}else f=t==null?void 0:t[1];var j=[c,f];if(oh(j))return t==null?j:wI(j,t,n)}}}var Eh=1e9,Fme={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},FN,nr=!0,ws="[DecimalError] ",ad=ws+"Invalid argument: ",BN=ws+"Exponent out of range: ",Nh=Math.floor,Vu=Math.pow,Ume=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Hi,xa=1e7,Gn=7,I9=9007199254740991,f1=Nh(I9/Gn),lt={};lt.absoluteValue=lt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};lt.comparedTo=lt.cmp=function(e){var t,n,r,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(r=s.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===a?0:r>a^s.s<0?1:-1};lt.decimalPlaces=lt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Gn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};lt.dividedBy=lt.div=function(e){return yl(this,new this.constructor(e))};lt.dividedToIntegerBy=lt.idiv=function(e){var t=this,n=t.constructor;return Un(yl(t,new n(e),0,1),n.precision)};lt.equals=lt.eq=function(e){return!this.cmp(e)};lt.exponent=function(){return Zr(this)};lt.greaterThan=lt.gt=function(e){return this.cmp(e)>0};lt.greaterThanOrEqualTo=lt.gte=function(e){return this.cmp(e)>=0};lt.isInteger=lt.isint=function(){return this.e>this.d.length-2};lt.isNegative=lt.isneg=function(){return this.s<0};lt.isPositive=lt.ispos=function(){return this.s>0};lt.isZero=function(){return this.s===0};lt.lessThan=lt.lt=function(e){return this.cmp(e)<0};lt.lessThanOrEqualTo=lt.lte=function(e){return this.cmp(e)<1};lt.logarithm=lt.log=function(e){var t,n=this,r=n.constructor,a=r.precision,s=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Hi))throw Error(ws+"NaN");if(n.s<1)throw Error(ws+(n.s?"NaN":"-Infinity"));return n.eq(Hi)?new r(0):(nr=!1,t=yl(C0(n,s),C0(e,s),s),nr=!0,Un(t,a))};lt.minus=lt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?L9(t,e):P9(t,(e.s=-e.s,e))};lt.modulo=lt.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(ws+"NaN");return n.s?(nr=!1,t=yl(n,e,0,1).times(e),nr=!0,n.minus(t)):Un(new r(n),a)};lt.naturalExponential=lt.exp=function(){return k9(this)};lt.naturalLogarithm=lt.ln=function(){return C0(this)};lt.negated=lt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};lt.plus=lt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?P9(t,e):L9(t,(e.s=-e.s,e))};lt.precision=lt.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ad+e);if(t=Zr(a)+1,r=a.d.length-1,n=r*Gn+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};lt.squareRoot=lt.sqrt=function(){var e,t,n,r,a,s,c,f=this,m=f.constructor;if(f.s<1){if(!f.s)return new m(0);throw Error(ws+"NaN")}for(e=Zr(f),nr=!1,a=Math.sqrt(+f),a==0||a==1/0?(t=No(f.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Nh((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new m(t)):r=new m(a.toString()),n=m.precision,a=c=n+3;;)if(s=r,r=s.plus(yl(f,s,c+2)).times(.5),No(s.d).slice(0,c)===(t=No(r.d)).slice(0,c)){if(t=t.slice(c-3,c+1),a==c&&t=="4999"){if(Un(s,n+1,0),s.times(s).eq(f)){r=s;break}}else if(t!="9999")break;c+=4}return nr=!0,Un(r,n)};lt.times=lt.mul=function(e){var t,n,r,a,s,c,f,m,h,p=this,v=p.constructor,j=p.d,E=(e=new v(e)).d;if(!p.s||!e.s)return new v(0);for(e.s*=p.s,n=p.e+e.e,m=j.length,h=E.length,m<h&&(s=j,j=E,E=s,c=m,m=h,h=c),s=[],c=m+h,r=c;r--;)s.push(0);for(r=h;--r>=0;){for(t=0,a=m+r;a>r;)f=s[a]+E[r]*j[a-r-1]+t,s[a--]=f%xa|0,t=f/xa|0;s[a]=(s[a]+t)%xa|0}for(;!s[--c];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,nr?Un(e,v.precision):e};lt.toDecimalPlaces=lt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Lo(e,0,Eh),t===void 0?t=r.rounding:Lo(t,0,8),Un(n,e+Zr(n)+1,t))};lt.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=gd(r,!0):(Lo(e,0,Eh),t===void 0?t=a.rounding:Lo(t,0,8),r=Un(new a(r),e+1,t),n=gd(r,!0,e+1)),n};lt.toFixed=function(e,t){var n,r,a=this,s=a.constructor;return e===void 0?gd(a):(Lo(e,0,Eh),t===void 0?t=s.rounding:Lo(t,0,8),r=Un(new s(a),e+Zr(a)+1,t),n=gd(r.abs(),!1,e+Zr(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};lt.toInteger=lt.toint=function(){var e=this,t=e.constructor;return Un(new t(e),Zr(e)+1,t.rounding)};lt.toNumber=function(){return+this};lt.toPower=lt.pow=function(e){var t,n,r,a,s,c,f=this,m=f.constructor,h=12,p=+(e=new m(e));if(!e.s)return new m(Hi);if(f=new m(f),!f.s){if(e.s<1)throw Error(ws+"Infinity");return f}if(f.eq(Hi))return f;if(r=m.precision,e.eq(Hi))return Un(f,r);if(t=e.e,n=e.d.length-1,c=t>=n,s=f.s,c){if((n=p<0?-p:p)<=I9){for(a=new m(Hi),t=Math.ceil(r/Gn+4),nr=!1;n%2&&(a=a.times(f),jI(a.d,t)),n=Nh(n/2),n!==0;)f=f.times(f),jI(f.d,t);return nr=!0,e.s<0?new m(Hi).div(a):Un(a,r)}}else if(s<0)throw Error(ws+"NaN");return s=s<0&&e.d[Math.max(t,n)]&1?-1:1,f.s=1,nr=!1,a=e.times(C0(f,r+h)),nr=!0,a=k9(a),a.s=s,a};lt.toPrecision=function(e,t){var n,r,a=this,s=a.constructor;return e===void 0?(n=Zr(a),r=gd(a,n<=s.toExpNeg||n>=s.toExpPos)):(Lo(e,1,Eh),t===void 0?t=s.rounding:Lo(t,0,8),a=Un(new s(a),e,t),n=Zr(a),r=gd(a,e<=n||n<=s.toExpNeg,e)),r};lt.toSignificantDigits=lt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Lo(e,1,Eh),t===void 0?t=r.rounding:Lo(t,0,8)),Un(new r(n),e,t)};lt.toString=lt.valueOf=lt.val=lt.toJSON=lt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Zr(e),n=e.constructor;return gd(e,t<=n.toExpNeg||t>=n.toExpPos)};function P9(e,t){var n,r,a,s,c,f,m,h,p=e.constructor,v=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),nr?Un(t,v):t;if(m=e.d,h=t.d,c=e.e,a=t.e,m=m.slice(),s=c-a,s){for(s<0?(r=m,s=-s,f=h.length):(r=h,a=c,f=m.length),c=Math.ceil(v/Gn),f=c>f?c+1:f+1,s>f&&(s=f,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(f=m.length,s=h.length,f-s<0&&(s=f,r=h,h=m,m=r),n=0;s;)n=(m[--s]=m[s]+h[s]+n)/xa|0,m[s]%=xa;for(n&&(m.unshift(n),++a),f=m.length;m[--f]==0;)m.pop();return t.d=m,t.e=a,nr?Un(t,v):t}function Lo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(ad+e)}function No(e){var t,n,r,a=e.length-1,s="",c=e[0];if(a>0){for(s+=c,t=1;t<a;t++)r=e[t]+"",n=Gn-r.length,n&&(s+=Dc(n)),s+=r;c=e[t],r=c+"",n=Gn-r.length,n&&(s+=Dc(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var yl=function(){function e(r,a){var s,c=0,f=r.length;for(r=r.slice();f--;)s=r[f]*a+c,r[f]=s%xa|0,c=s/xa|0;return c&&r.unshift(c),r}function t(r,a,s,c){var f,m;if(s!=c)m=s>c?1:-1;else for(f=m=0;f<s;f++)if(r[f]!=a[f]){m=r[f]>a[f]?1:-1;break}return m}function n(r,a,s){for(var c=0;s--;)r[s]-=c,c=r[s]<a[s]?1:0,r[s]=c*xa+r[s]-a[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,s,c){var f,m,h,p,v,j,E,O,T,_,D,P,I,U,F,L,B,$,z=r.constructor,H=r.s==a.s?1:-1,X=r.d,K=a.d;if(!r.s)return new z(r);if(!a.s)throw Error(ws+"Division by zero");for(m=r.e-a.e,B=K.length,F=X.length,E=new z(H),O=E.d=[],h=0;K[h]==(X[h]||0);)++h;if(K[h]>(X[h]||0)&&--m,s==null?P=s=z.precision:c?P=s+(Zr(r)-Zr(a))+1:P=s,P<0)return new z(0);if(P=P/Gn+2|0,h=0,B==1)for(p=0,K=K[0],P++;(h<F||p)&&P--;h++)I=p*xa+(X[h]||0),O[h]=I/K|0,p=I%K|0;else{for(p=xa/(K[0]+1)|0,p>1&&(K=e(K,p),X=e(X,p),B=K.length,F=X.length),U=B,T=X.slice(0,B),_=T.length;_<B;)T[_++]=0;$=K.slice(),$.unshift(0),L=K[0],K[1]>=xa/2&&++L;do p=0,f=t(K,T,B,_),f<0?(D=T[0],B!=_&&(D=D*xa+(T[1]||0)),p=D/L|0,p>1?(p>=xa&&(p=xa-1),v=e(K,p),j=v.length,_=T.length,f=t(v,T,j,_),f==1&&(p--,n(v,B<j?$:K,j))):(p==0&&(f=p=1),v=K.slice()),j=v.length,j<_&&v.unshift(0),n(T,v,_),f==-1&&(_=T.length,f=t(K,T,B,_),f<1&&(p++,n(T,B<_?$:K,_))),_=T.length):f===0&&(p++,T=[0]),O[h++]=p,f&&T[0]?T[_++]=X[U]||0:(T=[X[U]],_=1);while((U++<F||T[0]!==void 0)&&P--)}return O[0]||O.shift(),E.e=m,Un(E,c?s+Zr(E)+1:s)}}();function k9(e,t){var n,r,a,s,c,f,m=0,h=0,p=e.constructor,v=p.precision;if(Zr(e)>16)throw Error(BN+Zr(e));if(!e.s)return new p(Hi);for(nr=!1,f=v,c=new p(.03125);e.abs().gte(.1);)e=e.times(c),h+=5;for(r=Math.log(Vu(2,h))/Math.LN10*2+5|0,f+=r,n=a=s=new p(Hi),p.precision=f;;){if(a=Un(a.times(e),f),n=n.times(++m),c=s.plus(yl(a,n,f)),No(c.d).slice(0,f)===No(s.d).slice(0,f)){for(;h--;)s=Un(s.times(s),f);return p.precision=v,t==null?(nr=!0,Un(s,v)):s}s=c}}function Zr(e){for(var t=e.e*Gn,n=e.d[0];n>=10;n/=10)t++;return t}function Y2(e,t,n){if(t>e.LN10.sd())throw nr=!0,n&&(e.precision=n),Error(ws+"LN10 precision limit exceeded");return Un(new e(e.LN10),t)}function Dc(e){for(var t="";e--;)t+="0";return t}function C0(e,t){var n,r,a,s,c,f,m,h,p,v=1,j=10,E=e,O=E.d,T=E.constructor,_=T.precision;if(E.s<1)throw Error(ws+(E.s?"NaN":"-Infinity"));if(E.eq(Hi))return new T(0);if(t==null?(nr=!1,h=_):h=t,E.eq(10))return t==null&&(nr=!0),Y2(T,h);if(h+=j,T.precision=h,n=No(O),r=n.charAt(0),s=Zr(E),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)E=E.times(e),n=No(E.d),r=n.charAt(0),v++;s=Zr(E),r>1?(E=new T("0."+n),s++):E=new T(r+"."+n.slice(1))}else return m=Y2(T,h+2,_).times(s+""),E=C0(new T(r+"."+n.slice(1)),h-j).plus(m),T.precision=_,t==null?(nr=!0,Un(E,_)):E;for(f=c=E=yl(E.minus(Hi),E.plus(Hi),h),p=Un(E.times(E),h),a=3;;){if(c=Un(c.times(p),h),m=f.plus(yl(c,new T(a),h)),No(m.d).slice(0,h)===No(f.d).slice(0,h))return f=f.times(2),s!==0&&(f=f.plus(Y2(T,h+2,_).times(s+""))),f=yl(f,new T(v),h),T.precision=_,t==null?(nr=!0,Un(f,_)):f;f=m,a+=2}}function SI(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=Nh(n/Gn),e.d=[],r=(n+1)%Gn,n<0&&(r+=Gn),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=Gn;r<a;)e.d.push(+t.slice(r,r+=Gn));t=t.slice(r),r=Gn-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),nr&&(e.e>f1||e.e<-f1))throw Error(BN+n)}else e.s=0,e.e=0,e.d=[0];return e}function Un(e,t,n){var r,a,s,c,f,m,h,p,v=e.d;for(c=1,s=v[0];s>=10;s/=10)c++;if(r=t-c,r<0)r+=Gn,a=t,h=v[p=0];else{if(p=Math.ceil((r+1)/Gn),s=v.length,p>=s)return e;for(h=s=v[p],c=1;s>=10;s/=10)c++;r%=Gn,a=r-Gn+c}if(n!==void 0&&(s=Vu(10,c-a-1),f=h/s%10|0,m=t<0||v[p+1]!==void 0||h%s,m=n<4?(f||m)&&(n==0||n==(e.s<0?3:2)):f>5||f==5&&(n==4||m||n==6&&(r>0?a>0?h/Vu(10,c-a):0:v[p-1])%10&1||n==(e.s<0?8:7))),t<1||!v[0])return m?(s=Zr(e),v.length=1,t=t-s-1,v[0]=Vu(10,(Gn-t%Gn)%Gn),e.e=Nh(-t/Gn)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(r==0?(v.length=p,s=1,p--):(v.length=p+1,s=Vu(10,Gn-r),v[p]=a>0?(h/Vu(10,c-a)%Vu(10,a)|0)*s:0),m)for(;;)if(p==0){(v[0]+=s)==xa&&(v[0]=1,++e.e);break}else{if(v[p]+=s,v[p]!=xa)break;v[p--]=0,s=1}for(r=v.length;v[--r]===0;)v.pop();if(nr&&(e.e>f1||e.e<-f1))throw Error(BN+Zr(e));return e}function L9(e,t){var n,r,a,s,c,f,m,h,p,v,j=e.constructor,E=j.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new j(e),nr?Un(t,E):t;if(m=e.d,v=t.d,r=t.e,h=e.e,m=m.slice(),c=h-r,c){for(p=c<0,p?(n=m,c=-c,f=v.length):(n=v,r=h,f=m.length),a=Math.max(Math.ceil(E/Gn),f)+2,c>a&&(c=a,n.length=1),n.reverse(),a=c;a--;)n.push(0);n.reverse()}else{for(a=m.length,f=v.length,p=a<f,p&&(f=a),a=0;a<f;a++)if(m[a]!=v[a]){p=m[a]<v[a];break}c=0}for(p&&(n=m,m=v,v=n,t.s=-t.s),f=m.length,a=v.length-f;a>0;--a)m[f++]=0;for(a=v.length;a>c;){if(m[--a]<v[a]){for(s=a;s&&m[--s]===0;)m[s]=xa-1;--m[s],m[a]+=xa}m[a]-=v[a]}for(;m[--f]===0;)m.pop();for(;m[0]===0;m.shift())--r;return m[0]?(t.d=m,t.e=r,nr?Un(t,E):t):new j(0)}function gd(e,t,n){var r,a=Zr(e),s=No(e.d),c=s.length;return t?(n&&(r=n-c)>0?s=s.charAt(0)+"."+s.slice(1)+Dc(r):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Dc(-a-1)+s,n&&(r=n-c)>0&&(s+=Dc(r))):a>=c?(s+=Dc(a+1-c),n&&(r=n-a-1)>0&&(s=s+"."+Dc(r))):((r=a+1)<c&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-c)>0&&(a+1===c&&(s+="."),s+=Dc(r))),e.s<0?"-"+s:s}function jI(e,t){if(e.length>t)return e.length=t,!0}function B9(e){var t,n,r;function a(s){var c=this;if(!(c instanceof a))return new a(s);if(c.constructor=a,s instanceof a){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(ad+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return SI(c,s.toString())}else if(typeof s!="string")throw Error(ad+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,Ume.test(s))SI(c,s);else throw Error(ad+s)}if(a.prototype=lt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=B9,a.config=a.set=zme,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function zme(e){if(!e||typeof e!="object")throw Error(ws+"Object expected");var t,n,r,a=["precision",1,Eh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(Nh(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(ad+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ad+n+": "+r);return this}var FN=B9(Fme);Hi=new FN(1);const Mn=FN;var Vme=e=>e,F9={},U9=e=>e===F9,AI=e=>function t(){return arguments.length===0||arguments.length===1&&U9(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},z9=(e,t)=>e===1?t:AI(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=r.filter(c=>c!==F9).length;return s>=e?t(...r):z9(e-s,AI(function(){for(var c=arguments.length,f=new Array(c),m=0;m<c;m++)f[m]=arguments[m];var h=r.map(p=>U9(p)?f.shift():p);return t(...h,...f)}))}),Av=e=>z9(e.length,e),Hj=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},$me=Av((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),Hme=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Vme;var a=n.reverse(),s=a[0],c=a.slice(1);return function(){return c.reduce((f,m)=>m(f),s(...arguments))}},qj=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),V9=e=>{var t=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return t&&a.every((c,f)=>{var m;return c===((m=t)===null||m===void 0?void 0:m[f])})||(t=a,n=e(...a)),n}};function $9(e){var t;return e===0?t=1:t=Math.floor(new Mn(e).abs().log(10).toNumber())+1,t}function H9(e,t,n){for(var r=new Mn(e),a=0,s=[];r.lt(t)&&a<1e5;)s.push(r.toNumber()),r=r.add(n),a++;return s}Av((e,t,n)=>{var r=+e,a=+t;return r+n*(a-r)});Av((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});Av((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var q9=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},Y9=(e,t,n)=>{if(e.lte(0))return new Mn(0);var r=$9(e.toNumber()),a=new Mn(10).pow(r),s=e.div(a),c=r!==1?.05:.1,f=new Mn(Math.ceil(s.div(c).toNumber())).add(n).mul(c),m=f.mul(a);return t?new Mn(m.toNumber()):new Mn(Math.ceil(m.toNumber()))},qme=(e,t,n)=>{var r=new Mn(1),a=new Mn(e);if(!a.isint()&&n){var s=Math.abs(e);s<1?(r=new Mn(10).pow($9(e)-1),a=new Mn(Math.floor(a.div(r).toNumber())).mul(r)):s>1&&(a=new Mn(Math.floor(e)))}else e===0?a=new Mn(Math.floor((t-1)/2)):n||(a=new Mn(Math.floor(e)));var c=Math.floor((t-1)/2),f=Hme($me(m=>a.add(new Mn(m-c).mul(r)).toNumber()),Hj);return f(0,t)},W9=function(t,n,r,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Mn(0),tickMin:new Mn(0),tickMax:new Mn(0)};var c=Y9(new Mn(n).sub(t).div(r-1),a,s),f;t<=0&&n>=0?f=new Mn(0):(f=new Mn(t).add(n).div(2),f=f.sub(new Mn(f).mod(c)));var m=Math.ceil(f.sub(t).div(c).toNumber()),h=Math.ceil(new Mn(n).sub(f).div(c).toNumber()),p=m+h+1;return p>r?W9(t,n,r,a,s+1):(p<r&&(h=n>0?h+(r-p):h,m=n>0?m:m+(r-p)),{step:c,tickMin:f.sub(new Mn(m).mul(c)),tickMax:f.add(new Mn(h).mul(c))})};function Yme(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[c,f]=q9([t,n]);if(c===-1/0||f===1/0){var m=f===1/0?[c,...Hj(0,r-1).map(()=>1/0)]:[...Hj(0,r-1).map(()=>-1/0),f];return t>n?qj(m):m}if(c===f)return qme(c,r,a);var{step:h,tickMin:p,tickMax:v}=W9(c,f,s,a,0),j=H9(p,v.add(new Mn(.1).mul(h)),h);return t>n?qj(j):j}function Wme(e,t){var[n,r]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,c]=q9([n,r]);if(s===-1/0||c===1/0)return[n,r];if(s===c)return[s];var f=Math.max(t,2),m=Y9(new Mn(c).sub(s).div(f-1),a,0),h=[...H9(new Mn(s),new Mn(c),m),c];return a===!1&&(h=h.map(p=>Math.round(p))),n>r?qj(h):h}var Gme=V9(Yme),Kme=V9(Wme),G9=e=>e.rootProps.maxBarSize,Xme=e=>e.rootProps.barGap,K9=e=>e.rootProps.barCategoryGap,Qme=e=>e.rootProps.barSize,og=e=>e.rootProps.stackOffset,UN=e=>e.options.chartName,zN=e=>e.rootProps.syncId,X9=e=>e.rootProps.syncMethod,VN=e=>e.options.eventEmitter,dl={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Li={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Ev=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Zme={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:dl.angleAxisId,includeHidden:!1,name:void 0,reversed:dl.reversed,scale:dl.scale,tick:dl.tick,tickCount:void 0,ticks:void 0,type:dl.type,unit:void 0},Jme={allowDataOverflow:Li.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Li.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Li.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Li.scale,tick:Li.tick,tickCount:Li.tickCount,ticks:void 0,type:Li.type,unit:void 0},e0e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:dl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:dl.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:dl.scale,tick:dl.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},t0e={allowDataOverflow:Li.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Li.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Li.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Li.scale,tick:Li.tick,tickCount:Li.tickCount,ticks:void 0,type:"category",unit:void 0},$N=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?e0e:Zme,HN=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?t0e:Jme,Nv=e=>e.polarOptions,qN=Me([Fl,Ul,ca],IB),Q9=Me([Nv,qN],(e,t)=>{if(e!=null)return ii(e.innerRadius,t,0)}),Z9=Me([Nv,qN],(e,t)=>{if(e!=null)return ii(e.outerRadius,t,t*.8)}),n0e=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},J9=Me([Nv],n0e);Me([$N,J9],Ev);var eF=Me([qN,Q9,Z9],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});Me([HN,eF],Ev);var r0e=Me([cn,Nv,Q9,Z9,Fl,Ul],(e,t,n,r,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:c,cy:f,startAngle:m,endAngle:h}=t;return{cx:ii(c,a,a/2),cy:ii(f,s,s/2),innerRadius:n,outerRadius:r,startAngle:m,endAngle:h,clockWise:!1}}}),zr=(e,t)=>t,lg=(e,t,n)=>n;function EI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function h1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EI(Object(n),!0).forEach(function(r){a0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a0e(e,t,n){return(t=i0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i0e(e){var t=s0e(e,"string");return typeof t=="symbol"?t:t+""}function s0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yj=[0,"auto"],Pi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Vl=(e,t)=>{var n=e.cartesianAxis.xAxis[t];return n??Pi},ki={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Yj,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:mv},ou=(e,t)=>{var n=e.cartesianAxis.yAxis[t];return n??ki},o0e={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},YN=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??o0e},Vr=(e,t,n)=>{switch(t){case"xAxis":return Vl(e,n);case"yAxis":return ou(e,n);case"zAxis":return YN(e,n);case"angleAxis":return $N(e,n);case"radiusAxis":return HN(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},l0e=(e,t,n)=>{switch(t){case"xAxis":return Vl(e,n);case"yAxis":return ou(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},cg=(e,t,n)=>{switch(t){case"xAxis":return Vl(e,n);case"yAxis":return ou(e,n);case"angleAxis":return $N(e,n);case"radiusAxis":return HN(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},tF=e=>e.graphicalItems.countOfBars>0;function WN(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var ug=e=>e.graphicalItems.cartesianItems,c0e=Me([zr,lg],WN),GN=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),dg=Me([ug,Vr,c0e],GN),nF=e=>e.filter(t=>t.stackId===void 0),u0e=Me([dg],nF),KN=e=>e.map(t=>t.data).filter(Boolean).flat(1),d0e=Me([dg],KN),XN=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},_v=Me([d0e,jv],XN),QN=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Fn(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(a=>({value:Fn(a,r)}))):e.map(r=>({value:r})),Cv=Me([_v,Vr,dg],QN);function rF(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Ed(e){return e.filter(t=>ko(t)||t instanceof Date).map(Number).filter(t=>Si(t)===!1)}function f0e(e,t,n){return!n||typeof t!="number"||Si(t)?[]:n.length?Ed(n.flatMap(r=>{var a=Fn(e,r.dataKey),s,c;if(Array.isArray(a)?[s,c]=a:s=c=a,!(!Ma(s)||!Ma(c)))return[t-s,t+c]})):[]}var aF=(e,t,n)=>{var r={},a=t.reduce((s,c)=>(c.stackId==null||(s[c.stackId]==null&&(s[c.stackId]=[]),s[c.stackId].push(c)),s),r);return Object.fromEntries(Object.entries(a).map(s=>{var[c,f]=s,m=f.map(h=>h.dataKey);return[c,{stackedData:fue(e,m,n),graphicalItems:f}]}))},T0=Me([_v,dg,og],aF),iF=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:a}=t;if(n!=="zAxis"){var s=pue(e,r,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},h0e=Me([T0,Ad,zr],iF),sF=(e,t,n,r)=>n.length>0?e.flatMap(a=>n.flatMap(s=>{var c,f,m=(c=s.errorBars)===null||c===void 0?void 0:c.filter(p=>rF(r,p)),h=Fn(a,(f=t.dataKey)!==null&&f!==void 0?f:s.dataKey);return{value:h,errorDomain:f0e(a,h,m)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:Fn(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})),m0e=Me(_v,Vr,u0e,zr,sF);function g0e(e){var{value:t}=e;if(ko(t)||t instanceof Date)return t}var p0e=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Ed(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},x0e=(e,t,n)=>{var r=e.map(g0e).filter(a=>a!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&M7(r))?JB(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},ZN=e=>{var t;if(e==null||!("domain"in e))return Yj;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Ed(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Yj},JN=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var s=a.flat(),c=Math.min(...s),f=Math.max(...s);return[c,f]}},oF=e=>e.referenceElements.dots,_h=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),v0e=Me([oF,zr,lg],_h),lF=e=>e.referenceElements.areas,y0e=Me([lF,zr,lg],_h),cF=e=>e.referenceElements.lines,b0e=Me([cF,zr,lg],_h),uF=(e,t)=>{var n=Ed(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},w0e=Me(v0e,zr,uF),dF=(e,t)=>{var n=Ed(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},S0e=Me([y0e,zr],dF),fF=(e,t)=>{var n=Ed(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},j0e=Me(b0e,zr,fF),A0e=Me(w0e,j0e,S0e,(e,t,n)=>JN(e,n,t)),hF=Me([Vr],ZN),e_=(e,t,n,r,a)=>{var s=Lme(t,e.allowDataOverflow);return s??Bme(t,JN(n,a,p0e(r)),e.allowDataOverflow)},E0e=Me([Vr,hF,h0e,m0e,A0e],e_),N0e=[0,1],t_=(e,t,n,r,a,s,c)=>{if(!(e==null||n==null||n.length===0)){var{dataKey:f,type:m}=e,h=Vo(t,s);return h&&f==null?JB(0,n.length):m==="category"?x0e(r,e,h):a==="expand"?N0e:c}},n_=Me([Vr,cn,_v,Cv,og,zr,E0e],t_),mF=(e,t,n,r,a)=>{if(e!=null){var{scale:s,type:c}=e;if(s==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":c==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":c==="category"?"band":"linear";if(typeof s=="string"){var f="scale".concat(Z0(s));return f in Gm?f:"point"}}},Ch=Me([Vr,cn,tF,UN,zr],mF);function _0e(e){if(e!=null){if(e in Gm)return Gm[e]();var t="scale".concat(Z0(e));if(t in Gm)return Gm[t]()}}function r_(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var a=_0e(t);if(a!=null){var s=a.domain(n).range(r);return oue(s),s}}}var a_=(e,t,n)=>{var r=ZN(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&oh(e))return Gme(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&oh(e))return Kme(e,t.tickCount,t.allowDecimals)}},i_=Me([n_,cg,Ch],a_),s_=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&oh(t)&&Array.isArray(n)&&n.length>0){var a=t[0],s=n[0],c=t[1],f=n[n.length-1];return[Math.min(a,s),Math.max(c,f)]}return t},C0e=Me([Vr,n_,i_,zr],s_),T0e=Me(Cv,Vr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Ed(e.map(f=>f.value))).sort((f,m)=>f-m);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(a===0)return 1/0;for(var s=0;s<r.length-1;s++){var c=r[s+1]-r[s];n=Math.min(n,c)}return n/a}}),gF=Me(T0e,cn,K9,ca,(e,t,n,r)=>r,(e,t,n,r,a)=>{if(!Ma(e))return 0;var s=t==="vertical"?r.height:r.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var c=ii(n,e*s),f=e*s/2;return f-c-(f-c)/s*c}return 0}),O0e=(e,t)=>{var n=Vl(e,t);return n==null||typeof n.padding!="string"?0:gF(e,"xAxis",t,n.padding)},M0e=(e,t)=>{var n=ou(e,t);return n==null||typeof n.padding!="string"?0:gF(e,"yAxis",t,n.padding)},D0e=Me(Vl,O0e,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((n=a.left)!==null&&n!==void 0?n:0)+t,right:((r=a.right)!==null&&r!==void 0?r:0)+t}}),R0e=Me(ou,M0e,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((n=a.top)!==null&&n!==void 0?n:0)+t,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+t}}),I0e=Me([ca,D0e,pv,gv,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:s}=r;return a?[s.left,n.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),P0e=Me([ca,cn,R0e,pv,gv,(e,t,n)=>n],(e,t,n,r,a,s)=>{var{padding:c}=a;return s?[r.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),fg=(e,t,n,r)=>{var a;switch(t){case"xAxis":return I0e(e,n,r);case"yAxis":return P0e(e,n,r);case"zAxis":return(a=YN(e,n))===null||a===void 0?void 0:a.range;case"angleAxis":return J9(e);case"radiusAxis":return eF(e,n);default:return}},pF=Me([Vr,fg],Ev),Th=Me([Vr,Ch,C0e,pF],r_);Me(dg,zr,(e,t)=>e.flatMap(n=>{var r;return(r=n.errorBars)!==null&&r!==void 0?r:[]}).filter(n=>rF(t,n)));function xF(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Tv=(e,t)=>t,Ov=(e,t,n)=>n,k0e=Me(oN,Tv,Ov,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(xF)),L0e=Me(lN,Tv,Ov,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(xF)),vF=(e,t)=>({width:e.width,height:t.height}),B0e=(e,t)=>{var n=typeof t.width=="number"?t.width:mv;return{width:n,height:e.height}},yF=Me(ca,Vl,vF),F0e=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},U0e=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},z0e=Me(Ul,ca,k0e,Tv,Ov,(e,t,n,r,a)=>{var s={},c;return n.forEach(f=>{var m=vF(t,f);c==null&&(c=F0e(t,r,e));var h=r==="top"&&!a||r==="bottom"&&a;s[f.id]=c-Number(h)*m.height,c+=(h?-1:1)*m.height}),s}),V0e=Me(Fl,ca,L0e,Tv,Ov,(e,t,n,r,a)=>{var s={},c;return n.forEach(f=>{var m=B0e(t,f);c==null&&(c=U0e(t,r,e));var h=r==="left"&&!a||r==="right"&&a;s[f.id]=c-Number(h)*m.width,c+=(h?-1:1)*m.width}),s}),$0e=(e,t)=>{var n=ca(e),r=Vl(e,t);if(r!=null){var a=z0e(e,r.orientation,r.mirror),s=a[t];return s==null?{x:n.left,y:0}:{x:n.left,y:s}}},H0e=(e,t)=>{var n=ca(e),r=ou(e,t);if(r!=null){var a=V0e(e,r.orientation,r.mirror),s=a[t];return s==null?{x:0,y:n.top}:{x:s,y:n.top}}},bF=Me(ca,ou,(e,t)=>{var n=typeof t.width=="number"?t.width:mv;return{width:n,height:e.height}}),NI=(e,t,n)=>{switch(t){case"xAxis":return yF(e,n).width;case"yAxis":return bF(e,n).height;default:return}},wF=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:s,dataKey:c}=n,f=Vo(e,r),m=t.map(h=>h.value);if(c&&f&&s==="category"&&a&&M7(m))return m}},o_=Me([cn,Cv,Vr,zr],wF),SF=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:s}=n,c=Vo(e,r);if(c&&(a==="number"||s!=="auto"))return t.map(f=>f.value)}},l_=Me([cn,Cv,cg,zr],SF),_I=Me([cn,l0e,Ch,Th,o_,l_,fg,i_,zr],(e,t,n,r,a,s,c,f,m)=>{if(t==null)return null;var h=Vo(e,m);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:m,categoricalDomain:s,duplicateDomain:a,isCategorical:h,niceTicks:f,range:c,realScaleType:n,scale:r}}),q0e=(e,t,n,r,a,s,c,f,m)=>{if(!(t==null||r==null)){var h=Vo(e,m),{type:p,ticks:v,tickCount:j}=t,E=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,O=p==="category"&&r.bandwidth?r.bandwidth()/E:0;O=m==="angleAxis"&&s!=null&&s.length>=2?ya(s[0]-s[1])*2*O:O;var T=v||a;if(T){var _=T.map((D,P)=>{var I=c?c.indexOf(D):D;return{index:P,coordinate:r(I)+O,value:D,offset:O}});return _.filter(D=>!Si(D.coordinate))}return h&&f?f.map((D,P)=>({coordinate:r(D)+O,value:D,index:P,offset:O})):r.ticks?r.ticks(j).map(D=>({coordinate:r(D)+O,value:D,offset:O})):r.domain().map((D,P)=>({coordinate:r(D)+O,value:c?c[D]:D,index:P,offset:O}))}},jF=Me([cn,cg,Ch,Th,i_,fg,o_,l_,zr],q0e),Y0e=(e,t,n,r,a,s,c)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var f=Vo(e,c),{tickCount:m}=t,h=0;return h=c==="angleAxis"&&(r==null?void 0:r.length)>=2?ya(r[0]-r[1])*2*h:h,f&&s?s.map((p,v)=>({coordinate:n(p)+h,value:p,index:v,offset:h})):n.ticks?n.ticks(m).map(p=>({coordinate:n(p)+h,value:p,offset:h})):n.domain().map((p,v)=>({coordinate:n(p)+h,value:a?a[p]:p,index:v,offset:h}))}},Bo=Me([cn,cg,Th,fg,o_,l_,zr],Y0e),Ss=Me(Vr,Th,(e,t)=>{if(!(e==null||t==null))return h1(h1({},e),{},{scale:t})}),W0e=Me([Vr,Ch,n_,pF],r_);Me((e,t,n)=>YN(e,n),W0e,(e,t)=>{if(!(e==null||t==null))return h1(h1({},e),{},{scale:t})});var G0e=Me([cn,oN,lN],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),AF=e=>e.options.defaultTooltipEventType,EF=e=>e.options.validateTooltipEventTypes;function NF(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function c_(e,t){var n=AF(e),r=EF(e);return NF(t,n,r)}function K0e(e){return ft(t=>c_(t,e))}var _F=(e,t)=>{var n,r=Number(t);if(!(Si(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},X0e=e=>e.tooltip.settings,Ic={active:!1,index:null,dataKey:void 0,coordinate:void 0},Q0e={itemInteraction:{click:Ic,hover:Ic},axisInteraction:{click:Ic,hover:Ic},keyboardInteraction:Ic,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},CF=js({name:"tooltip",initialState:Q0e,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=vl(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Z0e,removeTooltipEntrySettings:J0e,setTooltipSettingsState:ege,setActiveMouseOverItemIndex:TF,mouseLeaveItem:tge,mouseLeaveChart:OF,setActiveClickItemIndex:nge,setMouseOverAxisIndex:MF,setMouseClickAxisIndex:rge,setSyncInteraction:Wj,setKeyboardInteraction:Gj}=CF.actions,age=CF.reducer;function CI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function nx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CI(Object(n),!0).forEach(function(r){ige(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ige(e,t,n){return(t=sge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sge(e){var t=oge(e,"string");return typeof t=="symbol"?t:t+""}function oge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lge(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function cge(e){return e.index!=null}var DF=(e,t,n,r)=>{if(t==null)return Ic;var a=lge(e,t,n);if(a==null)return Ic;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(cge(a)){if(s)return nx(nx({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return nx(nx({},Ic),{},{coordinate:a.coordinate})},u_=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!Ma(r))return n;var a=0,s=1/0;return t.length>0&&(s=t.length-1),String(Math.max(a,Math.min(r,s)))},RF=(e,t,n,r,a,s,c,f)=>{if(!(s==null||f==null)){var m=c[0],h=m==null?void 0:f(m.positions,s);if(h!=null)return h;var p=a==null?void 0:a[Number(s)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:p.coordinate}}}},IF=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return n==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var c;return((c=s.settings)===null||c===void 0?void 0:c.dataKey)===a})},hg=e=>e.options.tooltipPayloadSearcher,Oh=e=>e.tooltip;function TI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function OI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TI(Object(n),!0).forEach(function(r){uge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uge(e,t,n){return(t=dge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dge(e){var t=fge(e,"string");return typeof t=="symbol"?t:t+""}function fge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hge(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function mge(e,t){return e??t}var PF=(e,t,n,r,a,s,c)=>{if(!(t==null||s==null)){var{chartData:f,computedData:m,dataStartIndex:h,dataEndIndex:p}=n,v=[];return e.reduce((j,E)=>{var O,{dataDefinedOnItem:T,settings:_}=E,D=mge(T,f),P=hge(D,h,p),I=(O=_==null?void 0:_.dataKey)!==null&&O!==void 0?O:r==null?void 0:r.dataKey,U=_==null?void 0:_.nameKey,F;if(r!=null&&r.dataKey&&Array.isArray(P)&&!Array.isArray(P[0])&&c==="axis"?F=D7(P,r.dataKey,a):F=s(P,t,m,U),Array.isArray(F))F.forEach(B=>{var $=OI(OI({},_),{},{name:B.name,unit:B.unit,color:void 0,fill:void 0});j.push(uR({tooltipEntrySettings:$,dataKey:B.dataKey,payload:B.payload,value:Fn(B.payload,B.dataKey),name:B.name}))});else{var L;j.push(uR({tooltipEntrySettings:_,dataKey:I,payload:F,value:Fn(F,I),name:(L=Fn(F,U))!==null&&L!==void 0?L:_==null?void 0:_.name}))}return j},v)}},Sa=e=>{var t=cn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Mh=e=>e.tooltip.settings.axisId,Ra=e=>{var t=Sa(e),n=Mh(e);return cg(e,t,n)},d_=Me([Ra,cn,tF,UN,Sa],mF),gge=Me([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),pge=Me([Sa,Mh],WN),Mv=Me([gge,Ra,pge],GN),xge=Me([Mv],KN),Nd=Me([xge,Ad],XN),f_=Me([Nd,Ra,Mv],QN),vge=Me([Ra],ZN),yge=Me([Nd,Mv,og],aF),bge=Me([yge,Ad,Sa],iF),wge=Me([Mv],nF),Sge=Me([Nd,Ra,wge,Sa],sF),jge=Me([oF,Sa,Mh],_h),Age=Me([jge,Sa],uF),Ege=Me([lF,Sa,Mh],_h),Nge=Me([Ege,Sa],dF),_ge=Me([cF,Sa,Mh],_h),Cge=Me([_ge,Sa],fF),Tge=Me([Age,Cge,Nge],JN),Oge=Me([Ra,vge,bge,Sge,Tge],e_),kF=Me([Ra,cn,Nd,f_,og,Sa,Oge],t_),Mge=Me([kF,Ra,d_],a_),Dge=Me([Ra,kF,Mge,Sa],s_),LF=e=>{var t=Sa(e),n=Mh(e),r=!1;return fg(e,t,n,r)},BF=Me([Ra,LF],Ev),FF=Me([Ra,d_,Dge,BF],r_),Rge=Me([cn,f_,Ra,Sa],wF),Ige=Me([cn,f_,Ra,Sa],SF),Pge=(e,t,n,r,a,s,c,f)=>{if(t){var{type:m}=t,h=Vo(e,f);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,v=m==="category"&&r.bandwidth?r.bandwidth()/p:0;return v=f==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?ya(a[0]-a[1])*2*v:v,h&&c?c.map((j,E)=>({coordinate:r(j)+v,value:j,index:E,offset:v})):r.domain().map((j,E)=>({coordinate:r(j)+v,value:s?s[j]:j,index:E,offset:v}))}}},$l=Me([cn,Ra,d_,FF,LF,Rge,Ige,Sa],Pge),h_=Me([AF,EF,X0e],(e,t,n)=>NF(n.shared,e,t)),UF=e=>e.tooltip.settings.trigger,m_=e=>e.tooltip.settings.defaultIndex,Dv=Me([Oh,h_,UF,m_],DF),Yc=Me([Dv,Nd],u_),zF=Me([$l,Yc],_F),VF=Me([Dv],e=>{if(e)return e.dataKey}),$F=Me([Oh,h_,UF,m_],IF),kge=Me([Fl,Ul,cn,ca,$l,m_,$F,hg],RF),Lge=Me([Dv,kge],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Bge=Me([Dv],e=>e.active),Fge=Me([$F,Yc,Ad,Ra,zF,hg,h_],PF),Uge=Me([Fge],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function MI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function DI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MI(Object(n),!0).forEach(function(r){zge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zge(e,t,n){return(t=Vge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vge(e){var t=$ge(e,"string");return typeof t=="symbol"?t:t+""}function $ge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hge=()=>ft(Ra),qge=()=>{var e=Hge(),t=ft($l),n=ft(FF);return md(DI(DI({},e),{},{scale:n}),t)},HF=()=>ft(UN),g_=(e,t)=>t,qF=(e,t,n)=>n,p_=(e,t,n,r)=>r,Yge=Me($l,e=>ov(e,t=>t.coordinate)),x_=Me([Oh,g_,qF,p_],DF),YF=Me([x_,Nd],u_),Wge=(e,t,n)=>{if(t!=null){var r=Oh(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},WF=Me([Oh,g_,qF,p_],IF),m1=Me([Fl,Ul,cn,ca,$l,p_,WF,hg],RF),Gge=Me([x_,m1],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),GF=Me($l,YF,_F),Kge=Me([WF,YF,Ad,Ra,GF,hg,g_],PF),Xge=Me([x_],e=>({isActive:e.active,activeIndex:e.index})),Qge=(e,t,n,r,a,s,c,f)=>{if(!(!e||!t||!r||!a||!s)){var m=xue(e.chartX,e.chartY,t,n,f);if(m){var h=yue(m,t),p=iue(h,c,s,r,a),v=vue(t,s,p,m);return{activeIndex:String(p),activeCoordinate:v}}}};function Kj(){return Kj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kj.apply(null,arguments)}function RI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function rx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RI(Object(n),!0).forEach(function(r){Zge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zge(e,t,n){return(t=Jge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jge(e){var t=epe(e,"string");return typeof t=="symbol"?t:t+""}function epe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tpe(e){var{coordinate:t,payload:n,index:r,offset:a,tooltipAxisBandSize:s,layout:c,cursor:f,tooltipEventType:m,chartName:h}=e,p=t,v=n,j=r;if(!f||!p||h!=="ScatterChart"&&m!=="axis")return null;var E,O;if(h==="ScatterChart")E=p,O=pde;else if(h==="BarChart")E=xde(c,p,a,s),O=KB;else if(c==="radial"){var{cx:T,cy:_,radius:D,startAngle:P,endAngle:I}=XB(p);E={cx:T,cy:_,startAngle:P,endAngle:I,innerRadius:D,outerRadius:D},O=ZB}else E={points:rfe(c,p,a)},O=qf;var U=typeof f=="object"&&"className"in f?f.className:void 0,F=rx(rx(rx(rx({stroke:"#ccc",pointerEvents:"none"},a),E),Ut(f,!1)),{},{payload:v,payloadIndex:j,className:en("recharts-tooltip-cursor",U)});return A.isValidElement(f)?A.cloneElement(f,F):A.createElement(O,F)}function npe(e){var t=qge(),n=zB(),r=ng(),a=HF();return A.createElement(tpe,Kj({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:a}))}var KF=A.createContext(null),rpe=()=>A.useContext(KF),W2={exports:{}},II;function ape(){return II||(II=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(m,h,p){this.fn=m,this.context=h,this.once=p||!1}function s(m,h,p,v,j){if(typeof p!="function")throw new TypeError("The listener must be a function");var E=new a(p,v||m,j),O=n?n+h:h;return m._events[O]?m._events[O].fn?m._events[O]=[m._events[O],E]:m._events[O].push(E):(m._events[O]=E,m._eventsCount++),m}function c(m,h){--m._eventsCount===0?m._events=new r:delete m._events[h]}function f(){this._events=new r,this._eventsCount=0}f.prototype.eventNames=function(){var h=[],p,v;if(this._eventsCount===0)return h;for(v in p=this._events)t.call(p,v)&&h.push(n?v.slice(1):v);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},f.prototype.listeners=function(h){var p=n?n+h:h,v=this._events[p];if(!v)return[];if(v.fn)return[v.fn];for(var j=0,E=v.length,O=new Array(E);j<E;j++)O[j]=v[j].fn;return O},f.prototype.listenerCount=function(h){var p=n?n+h:h,v=this._events[p];return v?v.fn?1:v.length:0},f.prototype.emit=function(h,p,v,j,E,O){var T=n?n+h:h;if(!this._events[T])return!1;var _=this._events[T],D=arguments.length,P,I;if(_.fn){switch(_.once&&this.removeListener(h,_.fn,void 0,!0),D){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,p),!0;case 3:return _.fn.call(_.context,p,v),!0;case 4:return _.fn.call(_.context,p,v,j),!0;case 5:return _.fn.call(_.context,p,v,j,E),!0;case 6:return _.fn.call(_.context,p,v,j,E,O),!0}for(I=1,P=new Array(D-1);I<D;I++)P[I-1]=arguments[I];_.fn.apply(_.context,P)}else{var U=_.length,F;for(I=0;I<U;I++)switch(_[I].once&&this.removeListener(h,_[I].fn,void 0,!0),D){case 1:_[I].fn.call(_[I].context);break;case 2:_[I].fn.call(_[I].context,p);break;case 3:_[I].fn.call(_[I].context,p,v);break;case 4:_[I].fn.call(_[I].context,p,v,j);break;default:if(!P)for(F=1,P=new Array(D-1);F<D;F++)P[F-1]=arguments[F];_[I].fn.apply(_[I].context,P)}}return!0},f.prototype.on=function(h,p,v){return s(this,h,p,v,!1)},f.prototype.once=function(h,p,v){return s(this,h,p,v,!0)},f.prototype.removeListener=function(h,p,v,j){var E=n?n+h:h;if(!this._events[E])return this;if(!p)return c(this,E),this;var O=this._events[E];if(O.fn)O.fn===p&&(!j||O.once)&&(!v||O.context===v)&&c(this,E);else{for(var T=0,_=[],D=O.length;T<D;T++)(O[T].fn!==p||j&&!O[T].once||v&&O[T].context!==v)&&_.push(O[T]);_.length?this._events[E]=_.length===1?_[0]:_:c(this,E)}return this},f.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&c(this,p)):(this._events=new r,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=n,f.EventEmitter=f,e.exports=f}(W2)),W2.exports}var ipe=ape();const spe=Ki(ipe);var O0=new spe,Xj="recharts.syncEvent.tooltip",PI="recharts.syncEvent.brush";function Rv(e,t){if(t){var n=Number.parseInt(t,10);if(!Si(n))return e==null?void 0:e[n]}}var ope={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},XF=js({name:"options",initialState:ope,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),lpe=XF.reducer,{createEventEmitter:cpe}=XF.actions;function upe(e){return e.tooltip.syncInteraction}var dpe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},QF=js({name:"chartData",initialState:dpe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:kI,setDataStartEndIndexes:fpe,setComputedData:vAe}=QF.actions,hpe=QF.reducer,ZF=()=>{};function mpe(){var e=ft(zN),t=ft(VN),n=ar(),r=ft(X9),a=ft($l),s=ng(),c=cN(),f=ft(m=>m.rootProps.className);A.useEffect(()=>{if(e==null)return ZF;var m=(h,p,v)=>{if(t!==v&&e===h){if(r==="index"){n(p);return}if(a!=null){var j;if(typeof r=="function"){var E={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},O=r(a,E);j=a[O]}else r==="value"&&(j=a.find(L=>String(L.value)===p.payload.label));var{coordinate:T}=p.payload;if(j==null||p.payload.active===!1||T==null||c==null){n(Wj({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:_,y:D}=T,P=Math.min(_,c.x+c.width),I=Math.min(D,c.y+c.height),U={x:s==="horizontal"?j.coordinate:P,y:s==="horizontal"?I:j.coordinate},F=Wj({active:p.payload.active,coordinate:U,dataKey:p.payload.dataKey,index:String(j.index),label:p.payload.label});n(F)}}};return O0.on(Xj,m),()=>{O0.off(Xj,m)}},[f,n,t,e,r,a,s,c])}function gpe(){var e=ft(zN),t=ft(VN),n=ar();A.useEffect(()=>{if(e==null)return ZF;var r=(a,s,c)=>{t!==c&&e===a&&n(fpe(s))};return O0.on(PI,r),()=>{O0.off(PI,r)}},[n,t,e])}function ppe(){var e=ar();A.useEffect(()=>{e(cpe())},[e]),mpe(),gpe()}function xpe(e,t,n,r,a,s){var c=ft(j=>Wge(j,e,t)),f=ft(VN),m=ft(zN),h=ft(X9),p=ft(upe),v=p==null?void 0:p.active;A.useEffect(()=>{if(!v&&m!=null&&f!=null){var j=Wj({active:s,coordinate:n,dataKey:c,index:a,label:typeof r=="number"?String(r):r});O0.emit(Xj,m,j,f)}},[v,n,c,a,r,f,m,h,s])}function LI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function BI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LI(Object(n),!0).forEach(function(r){vpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vpe(e,t,n){return(t=ype(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ype(e){var t=bpe(e,"string");return typeof t=="symbol"?t:t+""}function bpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wpe(e){return e.dataKey}function Spe(e,t){return A.isValidElement(e)?A.cloneElement(e,t):typeof e=="function"?A.createElement(e,t):A.createElement(Gue,t)}var FI=[],jpe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!au.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function dr(e){var t=Xi(e,jpe),{active:n,allowEscapeViewBox:r,animationDuration:a,animationEasing:s,content:c,filterNull:f,isAnimationActive:m,offset:h,payloadUniqBy:p,position:v,reverseDirection:j,useTranslate3d:E,wrapperStyle:O,cursor:T,shared:_,trigger:D,defaultIndex:P,portal:I,axisId:U}=t,F=ar(),L=typeof P=="number"?String(P):P;A.useEffect(()=>{F(ege({shared:_,trigger:D,axisId:U,active:n,defaultIndex:L}))},[F,_,D,U,n,L]);var B=cN(),$=qB(),z=K0e(_),{activeIndex:H,isActive:X}=ft(ye=>Xge(ye,z,D,L)),K=ft(ye=>Kge(ye,z,D,L)),ee=ft(ye=>GF(ye,z,D,L)),ue=ft(ye=>Gge(ye,z,D,L)),ne=K,G=rpe(),Q=n??X,[ae,he]=cB([ne,Q]),te=z==="axis"?ee:void 0;xpe(z,D,ue,te,H,Q);var fe=I??G;if(fe==null)return null;var se=ne??FI;Q||(se=FI),f&&se.length&&(se=aB(ne.filter(ye=>ye.value!=null&&(ye.hide!==!0||t.includeHidden)),p,wpe));var me=se.length>0,Re=A.createElement(tde,{allowEscapeViewBox:r,animationDuration:a,animationEasing:s,isAnimationActive:m,active:Q,coordinate:ue,hasPayload:me,offset:h,position:v,reverseDirection:j,useTranslate3d:E,viewBox:B,wrapperStyle:O,lastBoundingBox:ae,innerRef:he,hasPortalFromProps:!!I},Spe(c,BI(BI({},t),{},{payload:se,label:te,active:Q,coordinate:ue,accessibilityLayer:$})));return A.createElement(A.Fragment,null,yd.createPortal(Re,fe),Q&&A.createElement(npe,{cursor:T,tooltipEventType:z,coordinate:ue,payload:ne,index:H}))}var G2={},K2={},X2={},UI;function Ape(){return UI||(UI=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:a,edges:s}={}){let c,f=null;const m=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{f!==null&&(n.apply(c,f),c=void 0,f=null)},v=()=>{h&&p(),T()};let j=null;const E=()=>{j!=null&&clearTimeout(j),j=setTimeout(()=>{j=null,v()},r)},O=()=>{j!==null&&(clearTimeout(j),j=null)},T=()=>{O(),c=void 0,f=null},_=()=>{p()},D=function(...P){if(a!=null&&a.aborted)return;c=this,f=P;const I=j==null;E(),m&&I&&p()};return D.schedule=E,D.cancel=T,D.flush=_,a==null||a.addEventListener("abort",T,{once:!0}),D}e.debounce=t}(X2)),X2}var zI;function Epe(){return zI||(zI=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ape();function n(r,a=0,s={}){typeof s!="object"&&(s={});const{leading:c=!1,trailing:f=!0,maxWait:m}=s,h=Array(2);c&&(h[0]="leading"),f&&(h[1]="trailing");let p,v=null;const j=t.debounce(function(...T){p=r.apply(this,T),v=null},a,{edges:h}),E=function(...T){return m!=null&&(v===null&&(v=Date.now()),Date.now()-v>=m)?(p=r.apply(this,T),v=Date.now(),j.cancel(),j.schedule(),p):(j.apply(this,T),p)},O=()=>(j.flush(),p);return E.cancel=j.cancel,E.flush=O,E}e.debounce=n}(K2)),K2}var VI;function Npe(){return VI||(VI=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Epe();function n(r,a=0,s={}){const{leading:c=!0,trailing:f=!0}=s;return t.debounce(r,a,{leading:c,maxWait:a,trailing:f})}e.throttle=n}(G2)),G2}var Q2,$I;function _pe(){return $I||($I=1,Q2=Npe().throttle),Q2}var Cpe=_pe();const Tpe=Ki(Cpe);var a0=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s]};function HI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Z2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HI(Object(n),!0).forEach(function(r){Ope(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ope(e,t,n){return(t=Mpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mpe(e){var t=Dpe(e,"string");return typeof t=="symbol"?t:t+""}function Dpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ni=A.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a="100%",height:s="100%",minWidth:c=0,minHeight:f,maxHeight:m,children:h,debounce:p=0,id:v,className:j,onResize:E,style:O={}}=e,T=A.useRef(null),_=A.useRef();_.current=E,A.useImperativeHandle(t,()=>T.current);var[D,P]=A.useState({containerWidth:r.width,containerHeight:r.height}),I=A.useCallback((F,L)=>{P(B=>{var $=Math.round(F),z=Math.round(L);return B.containerWidth===$&&B.containerHeight===z?B:{containerWidth:$,containerHeight:z}})},[]);A.useEffect(()=>{var F=z=>{var H,{width:X,height:K}=z[0].contentRect;I(X,K),(H=_.current)===null||H===void 0||H.call(_,X,K)};p>0&&(F=Tpe(F,p,{trailing:!0,leading:!1}));var L=new ResizeObserver(F),{width:B,height:$}=T.current.getBoundingClientRect();return I(B,$),L.observe(T.current),()=>{L.disconnect()}},[I,p]);var U=A.useMemo(()=>{var{containerWidth:F,containerHeight:L}=D;if(F<0||L<0)return null;a0(Wu(a)||Wu(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,s),a0(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=Wu(a)?F:a,$=Wu(s)?L:s;return n&&n>0&&(B?$=B/n:$&&(B=$*n),m&&$>m&&($=m)),a0(B>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,$,a,s,c,f,n),A.Children.map(h,z=>A.cloneElement(z,{width:B,height:$,style:Z2({width:B,height:$},z.props.style)}))},[n,h,s,m,f,c,D,a]);return A.createElement("div",{id:v?"".concat(v):void 0,className:en("recharts-responsive-container",j),style:Z2(Z2({},O),{},{width:a,height:s,minWidth:c,minHeight:f,maxHeight:m}),ref:T},A.createElement("div",{style:{width:0,height:0,overflow:"visible"}},U))}),Wc=e=>null;Wc.displayName="Cell";function qI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Qj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qI(Object(n),!0).forEach(function(r){Rpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rpe(e,t,n){return(t=Ipe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ipe(e){var t=Ppe(e,"string");return typeof t=="symbol"?t:t+""}function Ppe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tf={widthCache:{},cacheCount:0},kpe=2e3,Lpe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},YI="recharts_measurement_span";function Bpe(e){var t=Qj({},e);return Object.keys(t).forEach(n=>{t[n]||delete t[n]}),t}var i0=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||au.isSsr)return{width:0,height:0};var r=Bpe(n),a=JSON.stringify({text:t,copyStyle:r});if(Tf.widthCache[a])return Tf.widthCache[a];try{var s=document.getElementById(YI);s||(s=document.createElement("span"),s.setAttribute("id",YI),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var c=Qj(Qj({},Lpe),r);Object.assign(s.style,c),s.textContent="".concat(t);var f=s.getBoundingClientRect(),m={width:f.width,height:f.height};return Tf.widthCache[a]=m,++Tf.cacheCount>kpe&&(Tf.cacheCount=0,Tf.widthCache={}),m}catch{return{width:0,height:0}}},WI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Fpe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Upe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,JF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},zpe=Object.keys(JF),Ff="NaN";function Vpe(e,t){return e*JF[t]}class xi{static parse(t){var n,[,r,a]=(n=Upe.exec(t))!==null&&n!==void 0?n:[];return new xi(parseFloat(r),a??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Si(t)&&(this.unit=""),n!==""&&!Fpe.test(n)&&(this.num=NaN,this.unit=""),zpe.includes(n)&&(this.num=Vpe(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new xi(NaN,""):new xi(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new xi(NaN,""):new xi(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new xi(NaN,""):new xi(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new xi(NaN,""):new xi(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Si(this.num)}}function eU(e){if(e.includes(Ff))return Ff;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,s]=(n=WI.exec(t))!==null&&n!==void 0?n:[],c=xi.parse(r??""),f=xi.parse(s??""),m=a==="*"?c.multiply(f):c.divide(f);if(m.isNaN())return Ff;t=t.replace(WI,m.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,p,v,j]=(h=GI.exec(t))!==null&&h!==void 0?h:[],E=xi.parse(p??""),O=xi.parse(j??""),T=v==="+"?E.add(O):E.subtract(O);if(T.isNaN())return Ff;t=t.replace(GI,T.toString())}return t}var KI=/\(([^()]*)\)/;function $pe(e){for(var t=e,n;(n=KI.exec(t))!=null;){var[,r]=n;t=t.replace(KI,eU(r))}return t}function Hpe(e){var t=e.replace(/\s+/g,"");return t=$pe(t),t=eU(t),t}function qpe(e){try{return Hpe(e)}catch{return Ff}}function J2(e){var t=qpe(e.slice(5,-1));return t===Ff?"":t}var Ype=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Wpe=["dx","dy","angle","className","breakAll"];function Zj(){return Zj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zj.apply(null,arguments)}function XI(e,t){if(e==null)return{};var n,r,a=Gpe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Gpe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var tU=/[ \f\n\r\t\v\u2028\u2029]+/,nU=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];Dn(t)||(n?a=t.toString().split(""):a=t.toString().split(tU));var s=a.map(f=>({word:f,width:i0(f,r).width})),c=n?0:i0(" ",r).width;return{wordsWithComputedWidth:s,spaceWidth:c}}catch{return null}},Kpe=(e,t,n,r,a)=>{var{maxLines:s,children:c,style:f,breakAll:m}=e,h=Je(s),p=c,v=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X.reduce((K,ee)=>{var{word:ue,width:ne}=ee,G=K[K.length-1];if(G&&(r==null||a||G.width+ne+n<Number(r)))G.words.push(ue),G.width+=ne+n;else{var Q={words:[ue],width:ne};K.push(Q)}return K},[])},j=v(t),E=H=>H.reduce((X,K)=>X.width>K.width?X:K);if(!h||a)return j;var O=j.length>s||E(j).width>Number(r);if(!O)return j;for(var T="…",_=H=>{var X=p.slice(0,H),K=nU({breakAll:m,style:f,children:X+T}).wordsWithComputedWidth,ee=v(K),ue=ee.length>s||E(ee).width>Number(r);return[ue,ee]},D=0,P=p.length-1,I=0,U;D<=P&&I<=p.length-1;){var F=Math.floor((D+P)/2),L=F-1,[B,$]=_(L),[z]=_(F);if(!B&&!z&&(D=F+1),B&&z&&(P=F-1),!B&&z){U=$;break}I++}return U||j},QI=e=>{var t=Dn(e)?[]:e.toString().split(tU);return[{words:t}]},Xpe=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:s,maxLines:c}=e;if((t||n)&&!au.isSsr){var f,m,h=nU({breakAll:s,children:r,style:a});if(h){var{wordsWithComputedWidth:p,spaceWidth:v}=h;f=p,m=v}else return QI(r);return Kpe({breakAll:s,children:r,maxLines:c,style:a},f,m,t,n)}return QI(r)},ZI="#808080",Iv=A.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:a="1em",capHeight:s="0.71em",scaleToFit:c=!1,textAnchor:f="start",verticalAnchor:m="end",fill:h=ZI}=e,p=XI(e,Ype),v=A.useMemo(()=>Xpe({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:c,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,c,p.style,p.width]),{dx:j,dy:E,angle:O,className:T,breakAll:_}=p,D=XI(p,Wpe);if(!ko(n)||!ko(r))return null;var P=n+(Je(j)?j:0),I=r+(Je(E)?E:0),U;switch(m){case"start":U=J2("calc(".concat(s,")"));break;case"middle":U=J2("calc(".concat((v.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:U=J2("calc(".concat(v.length-1," * -").concat(a,")"));break}var F=[];if(c){var L=v[0].width,{width:B}=p;F.push("scale(".concat(Je(B)?B/L:1,")"))}return O&&F.push("rotate(".concat(O,", ").concat(P,", ").concat(I,")")),F.length&&(D.transform=F.join(" ")),A.createElement("text",Zj({},Ut(D,!0),{ref:t,x:P,y:I,className:en("recharts-text",T),textAnchor:f,fill:h.includes("url")?ZI:h}),v.map(($,z)=>{var H=$.words.join(_?"":" ");return A.createElement("tspan",{x:P,dy:z===0?U:a,key:"".concat(H,"-").concat(z)},H)}))});Iv.displayName="Text";var Qpe=["offset"],Zpe=["labelRef"];function JI(e,t){if(e==null)return{};var n,r,a=Jpe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Jpe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function eP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Wr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eP(Object(n),!0).forEach(function(r){exe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function exe(e,t,n){return(t=txe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function txe(e){var t=nxe(e,"string");return typeof t=="symbol"?t:t+""}function nxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fl(){return fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fl.apply(null,arguments)}var rxe=e=>{var{value:t,formatter:n}=e,r=Dn(e.children)?t:e.children;return typeof n=="function"?n(r):r},v_=e=>e!=null&&typeof e=="function",axe=(e,t)=>{var n=ya(t-e),r=Math.min(Math.abs(t-e),360);return n*r},ixe=(e,t,n)=>{var{position:r,viewBox:a,offset:s,className:c}=e,{cx:f,cy:m,innerRadius:h,outerRadius:p,startAngle:v,endAngle:j,clockWise:E}=a,O=(h+p)/2,T=axe(v,j),_=T>=0?1:-1,D,P;r==="insideStart"?(D=v+_*s,P=E):r==="insideEnd"?(D=j-_*s,P=!E):r==="end"&&(D=j+_*s,P=E),P=T<=0?P:!P;var I=Qr(f,m,O,D),U=Qr(f,m,O,D+(P?1:-1)*359),F="M".concat(I.x,",").concat(I.y,`
    A`).concat(O,",").concat(O,",0,1,").concat(P?0:1,`,
    `).concat(U.x,",").concat(U.y),L=Dn(e.id)?qc("recharts-radial-line-"):e.id;return A.createElement("text",fl({},n,{dominantBaseline:"central",className:en("recharts-radial-bar-label",c)}),A.createElement("defs",null,A.createElement("path",{id:L,d:F})),A.createElement("textPath",{xlinkHref:"#".concat(L)},t))},sxe=e=>{var{viewBox:t,offset:n,position:r}=e,{cx:a,cy:s,innerRadius:c,outerRadius:f,startAngle:m,endAngle:h}=t,p=(m+h)/2;if(r==="outside"){var{x:v,y:j}=Qr(a,s,f+n,p);return{x:v,y:j,textAnchor:v>=a?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var E=(c+f)/2,{x:O,y:T}=Qr(a,s,E,p);return{x:O,y:T,textAnchor:"middle",verticalAnchor:"middle"}},oxe=(e,t)=>{var{parentViewBox:n,offset:r,position:a}=e,{x:s,y:c,width:f,height:m}=t,h=m>=0?1:-1,p=h*r,v=h>0?"end":"start",j=h>0?"start":"end",E=f>=0?1:-1,O=E*r,T=E>0?"end":"start",_=E>0?"start":"end";if(a==="top"){var D={x:s+f/2,y:c-h*r,textAnchor:"middle",verticalAnchor:v};return Wr(Wr({},D),n?{height:Math.max(c-n.y,0),width:f}:{})}if(a==="bottom"){var P={x:s+f/2,y:c+m+p,textAnchor:"middle",verticalAnchor:j};return Wr(Wr({},P),n?{height:Math.max(n.y+n.height-(c+m),0),width:f}:{})}if(a==="left"){var I={x:s-O,y:c+m/2,textAnchor:T,verticalAnchor:"middle"};return Wr(Wr({},I),n?{width:Math.max(I.x-n.x,0),height:m}:{})}if(a==="right"){var U={x:s+f+O,y:c+m/2,textAnchor:_,verticalAnchor:"middle"};return Wr(Wr({},U),n?{width:Math.max(n.x+n.width-U.x,0),height:m}:{})}var F=n?{width:f,height:m}:{};return a==="insideLeft"?Wr({x:s+O,y:c+m/2,textAnchor:_,verticalAnchor:"middle"},F):a==="insideRight"?Wr({x:s+f-O,y:c+m/2,textAnchor:T,verticalAnchor:"middle"},F):a==="insideTop"?Wr({x:s+f/2,y:c+p,textAnchor:"middle",verticalAnchor:j},F):a==="insideBottom"?Wr({x:s+f/2,y:c+m-p,textAnchor:"middle",verticalAnchor:v},F):a==="insideTopLeft"?Wr({x:s+O,y:c+p,textAnchor:_,verticalAnchor:j},F):a==="insideTopRight"?Wr({x:s+f-O,y:c+p,textAnchor:T,verticalAnchor:j},F):a==="insideBottomLeft"?Wr({x:s+O,y:c+m-p,textAnchor:_,verticalAnchor:v},F):a==="insideBottomRight"?Wr({x:s+f-O,y:c+m-p,textAnchor:T,verticalAnchor:v},F):a&&typeof a=="object"&&(Je(a.x)||Wu(a.x))&&(Je(a.y)||Wu(a.y))?Wr({x:s+ii(a.x,f),y:c+ii(a.y,m),textAnchor:"end",verticalAnchor:"end"},F):Wr({x:s+f/2,y:c+m/2,textAnchor:"middle",verticalAnchor:"middle"},F)},lxe=e=>"cx"in e&&Je(e.cx);function Vi(e){var{offset:t=5}=e,n=JI(e,Qpe),r=Wr({offset:t},n),{viewBox:a,position:s,value:c,children:f,content:m,className:h="",textBreakAll:p,labelRef:v}=r,j=cN(),E=a||j;if(!E||Dn(c)&&Dn(f)&&!A.isValidElement(m)&&typeof m!="function")return null;if(A.isValidElement(m)){var{labelRef:O}=r,T=JI(r,Zpe);return A.cloneElement(m,T)}var _;if(typeof m=="function"){if(_=A.createElement(m,r),A.isValidElement(_))return _}else _=rxe(r);var D=lxe(E),P=Ut(r,!0);if(D&&(s==="insideStart"||s==="insideEnd"||s==="end"))return ixe(r,_,P);var I=D?sxe(r):oxe(r,E);return A.createElement(Iv,fl({ref:v,className:en("recharts-label",h)},P,I,{breakAll:p}),_)}Vi.displayName="Label";var rU=e=>{var{cx:t,cy:n,angle:r,startAngle:a,endAngle:s,r:c,radius:f,innerRadius:m,outerRadius:h,x:p,y:v,top:j,left:E,width:O,height:T,clockWise:_,labelViewBox:D}=e;if(D)return D;if(Je(O)&&Je(T)){if(Je(p)&&Je(v))return{x:p,y:v,width:O,height:T};if(Je(j)&&Je(E))return{x:j,y:E,width:O,height:T}}if(Je(p)&&Je(v))return{x:p,y:v,width:0,height:0};if(Je(t)&&Je(n))return{cx:t,cy:n,startAngle:a||r||0,endAngle:s||r||0,innerRadius:m||0,outerRadius:h||f||c||0,clockWise:_};if(e.viewBox)return e.viewBox},cxe=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?A.createElement(Vi,fl({key:"label-implicit"},r)):ko(e)?A.createElement(Vi,fl({key:"label-implicit",value:e},r)):A.isValidElement(e)?e.type===Vi?A.cloneElement(e,Wr({key:"label-implicit"},r)):A.createElement(Vi,fl({key:"label-implicit",content:e},r)):v_(e)?A.createElement(Vi,fl({key:"label-implicit",content:e},r)):e&&typeof e=="object"?A.createElement(Vi,fl({},e,{key:"label-implicit"},r)):null},uxe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var{children:a,labelRef:s}=t,c=rU(t),f=eg(a,Vi).map((h,p)=>A.cloneElement(h,{viewBox:n||c,key:"label-".concat(p)}));if(!r)return f;var m=cxe(t.label,n||c,s);return[m,...f]};Vi.parseViewBox=rU;Vi.renderCallByParent=uxe;var eS={},tS={},tP;function dxe(){return tP||(tP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t}(tS)),tS}var nS={},nP;function fxe(){return nP||(nP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t}(nS)),nS}var rP;function hxe(){return rP||(rP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dxe(),n=fxe(),r=KE();function a(s){if(r.isArrayLike(s))return t.last(n.toArray(s))}e.last=a}(eS)),eS}var rS,aP;function mxe(){return aP||(aP=1,rS=hxe().last),rS}var gxe=mxe();const pxe=Ki(gxe);var xxe=["valueAccessor"],vxe=["data","dataKey","clockWise","id","textBreakAll"];function g1(){return g1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g1.apply(null,arguments)}function iP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function sP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iP(Object(n),!0).forEach(function(r){yxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yxe(e,t,n){return(t=bxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bxe(e){var t=wxe(e,"string");return typeof t=="symbol"?t:t+""}function wxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oP(e,t){if(e==null)return{};var n,r,a=Sxe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Sxe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var jxe=e=>Array.isArray(e.value)?pxe(e.value):e.value;function bl(e){var{valueAccessor:t=jxe}=e,n=oP(e,xxe),{data:r,dataKey:a,clockWise:s,id:c,textBreakAll:f}=n,m=oP(n,vxe);return!r||!r.length?null:A.createElement(gr,{className:"recharts-label-list"},r.map((h,p)=>{var v=Dn(a)?t(h,p):Fn(h&&h.payload,a),j=Dn(c)?{}:{id:"".concat(c,"-").concat(p)};return A.createElement(Vi,g1({},Ut(h,!0),m,j,{parentViewBox:h.parentViewBox,value:v,textBreakAll:f,viewBox:Vi.parseViewBox(Dn(s)?h:sP(sP({},h),{},{clockWise:s})),key:"label-".concat(p),index:p}))}))}bl.displayName="LabelList";function Axe(e,t){return e?e===!0?A.createElement(bl,{key:"labelList-implicit",data:t}):A.isValidElement(e)||v_(e)?A.createElement(bl,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?A.createElement(bl,g1({data:t},e,{key:"labelList-implicit"})):null:null}function Exe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var{children:r}=e,a=eg(r,bl).map((c,f)=>A.cloneElement(c,{data:t,key:"labelList-".concat(f)}));if(!n)return a;var s=Axe(e.label,t);return[s,...a]}bl.renderCallByParent=Exe;function Jj(){return Jj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jj.apply(null,arguments)}var y_=e=>{var{cx:t,cy:n,r,className:a}=e,s=en("recharts-dot",a);return t===+t&&n===+n&&r===+r?A.createElement("circle",Jj({},Ut(e,!1),zE(e),{className:s,cx:t,cy:n,r})):null},aU=e=>e.graphicalItems.polarItems,Nxe=Me([zr,lg],WN),b_=Me([aU,Vr,Nxe],GN),_xe=Me([b_],KN),w_=Me([_xe,LN],XN),Cxe=Me([w_,Vr,b_],QN),Txe=Me([w_,Vr,b_],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(a=>{var s,c=Fn(r,(s=t.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Fn(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]}))),lP=()=>{},Oxe=Me([Vr,hF,lP,Txe,lP],e_),iU=Me([Vr,cn,w_,Cxe,og,zr,Oxe],t_),Mxe=Me([iU,Vr,Ch],a_);Me([Vr,iU,Mxe,zr],s_);var Dxe={radiusAxis:{},angleAxis:{}},sU=js({name:"polarAxis",initialState:Dxe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:yAe,removeRadiusAxis:bAe,addAngleAxis:wAe,removeAngleAxis:SAe}=sU.actions,Rxe=sU.reducer;function cP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function uP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cP(Object(n),!0).forEach(function(r){Ixe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ixe(e,t,n){return(t=Pxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pxe(e){var t=kxe(e,"string");return typeof t=="symbol"?t:t+""}function kxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var S_=(e,t)=>t,Lxe=[],j_=(e,t,n)=>(n==null?void 0:n.length)===0?Lxe:n,oU=Me([LN,S_,j_],(e,t,n)=>{var{chartData:r}=e,a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(s=>uP(uP({},t.presentationProps),s.props))),a!=null)return a}),Bxe=Me([oU,S_,j_],(e,t,n)=>{if(e!=null)return e.map((r,a)=>{var s,c=Fn(r,t.nameKey,t.name),f;return n!=null&&(s=n[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?f=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?f=r.fill:f=t.fill,{value:ru(c,t.dataKey),color:f,payload:r,type:t.legendType}})}),Fxe=Me([aU,S_],(e,t)=>{if(e.some(n=>n.type==="pie"&&t.dataKey===n.dataKey&&t.data===n.data))return t}),Uxe=Me([oU,Fxe,j_,ca],(e,t,n,r)=>{if(!(t==null||e==null))return M1e({offset:r,pieSettings:t,displayedData:e,cells:n})}),zxe={countOfBars:0,cartesianItems:[],polarItems:[]},lU=js({name:"graphicalItems",initialState:zxe,reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,a=vl(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},removeCartesianGraphicalItem(e,t){var n=vl(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=vl(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addBar:Vxe,removeBar:$xe,addCartesianGraphicalItem:Hxe,replaceCartesianGraphicalItem:qxe,removeCartesianGraphicalItem:Yxe,addPolarGraphicalItem:Wxe,removePolarGraphicalItem:Gxe}=lU.actions,Kxe=lU.reducer;function dP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(n),!0).forEach(function(r){Xxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xxe(e,t,n){return(t=Qxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qxe(e){var t=Zxe(e,"string");return typeof t=="symbol"?t:t+""}function Zxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jxe(e){var t=ar(),n=A.useRef(null);return A.useEffect(()=>{var r=fP(fP({},e),{},{stackId:sN(e.stackId)});n.current===null?t(Hxe(r)):n.current!==r&&t(qxe({prev:n.current,next:r})),n.current=r},[t,e]),A.useEffect(()=>()=>{n.current&&(t(Yxe(n.current)),n.current=null)},[t]),null}function e1e(e){var t=ar();return A.useEffect(()=>(t(Wxe(e)),()=>{t(Gxe(e))}),[t,e]),null}var aS={},hP;function t1e(){return hP||(hP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var a;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&a.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t}(aS)),aS}var iS,mP;function n1e(){return mP||(mP=1,iS=t1e().isPlainObject),iS}var r1e=n1e();const a1e=Ki(r1e);function p1(){return p1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p1.apply(null,arguments)}var gP=(e,t,n,r,a)=>{var s=n-r,c;return c="M ".concat(e,",").concat(t),c+="L ".concat(e+n,",").concat(t),c+="L ".concat(e+n-s/2,",").concat(t+a),c+="L ".concat(e+n-s/2-r,",").concat(t+a),c+="L ".concat(e,",").concat(t," Z"),c},i1e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},s1e=e=>{var t=Xi(e,i1e),n=A.useRef(),[r,a]=A.useState(-1);A.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&a(_)}catch{}},[]);var{x:s,y:c,upperWidth:f,lowerWidth:m,height:h,className:p}=t,{animationEasing:v,animationDuration:j,animationBegin:E,isUpdateAnimationActive:O}=t;if(s!==+s||c!==+c||f!==+f||m!==+m||h!==+h||f===0&&m===0||h===0)return null;var T=en("recharts-trapezoid",p);return O?A.createElement(Ol,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:h,x:s,y:c},to:{upperWidth:f,lowerWidth:m,height:h,x:s,y:c},duration:j,animationEasing:v,isActive:O},_=>{var{upperWidth:D,lowerWidth:P,height:I,x:U,y:F}=_;return A.createElement(Ol,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:E,duration:j,easing:v},A.createElement("path",p1({},Ut(t,!0),{className:T,d:gP(U,F,D,P,I),ref:n})))}):A.createElement("g",null,A.createElement("path",p1({},Ut(t,!0),{className:T,d:gP(s,c,f,m,h)})))},o1e=["option","shapeType","propTransformer","activeClassName","isActive"];function l1e(e,t){if(e==null)return{};var n,r,a=c1e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function c1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function pP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function x1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pP(Object(n),!0).forEach(function(r){u1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function u1e(e,t,n){return(t=d1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d1e(e){var t=f1e(e,"string");return typeof t=="symbol"?t:t+""}function f1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h1e(e,t){return x1(x1({},t),e)}function m1e(e,t){return e==="symbols"}function xP(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return A.createElement(KB,n);case"trapezoid":return A.createElement(s1e,n);case"sector":return A.createElement(ZB,n);case"symbols":if(m1e(t))return A.createElement(YE,n);break;default:return null}}function g1e(e){return A.isValidElement(e)?e.props:e}function cU(e){var{option:t,shapeType:n,propTransformer:r=h1e,activeClassName:a="recharts-active-shape",isActive:s}=e,c=l1e(e,o1e),f;if(A.isValidElement(t))f=A.cloneElement(t,x1(x1({},c),g1e(t)));else if(typeof t=="function")f=t(c);else if(a1e(t)&&typeof t!="boolean"){var m=r(t,c);f=A.createElement(xP,{shapeType:n,elementProps:m})}else{var h=c;f=A.createElement(xP,{shapeType:n,elementProps:h})}return s?A.createElement(gr,{className:a},f):f}var A_=(e,t)=>{var n=ar();return(r,a)=>s=>{e==null||e(r,a,s),n(TF({activeIndex:String(a),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},E_=e=>{var t=ar();return(n,r)=>a=>{e==null||e(n,r,a),t(tge())}},N_=(e,t)=>{var n=ar();return(r,a)=>s=>{e==null||e(r,a,s),n(nge({activeIndex:String(a),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function Pv(e){var{fn:t,args:n}=e,r=ar(),a=Xa();return A.useEffect(()=>{if(!a){var s=t(n);return r(Z0e(s)),()=>{r(J0e(s))}}},[t,n,r,a]),null}var uU=()=>{};function __(e){var{legendPayload:t}=e,n=ar(),r=Xa();return A.useEffect(()=>r?uU:(n($B(t)),()=>{n(HB(t))}),[n,r,t]),null}function p1e(e){var{legendPayload:t}=e,n=ar(),r=ft(cn);return A.useEffect(()=>r!=="centric"&&r!=="radial"?uU:(n($B(t)),()=>{n(HB(t))}),[n,r,t]),null}function kv(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=A.useRef(qc(t)),r=A.useRef(e);return r.current!==e&&(n.current=qc(t),r.current=e),n.current}var x1e=["onMouseEnter","onClick","onMouseLeave"];function v1e(e,t){if(e==null)return{};var n,r,a=y1e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function y1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function vP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vP(Object(n),!0).forEach(function(r){Lv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lv(e,t,n){return(t=b1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b1e(e){var t=w1e(e,"string");return typeof t=="symbol"?t:t+""}function w1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pd(){return pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pd.apply(null,arguments)}function S1e(e){var t=A.useMemo(()=>Ut(e,!1),[e]),n=A.useMemo(()=>eg(e.children,Wc),[e.children]),r=A.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:t}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,t]),a=ft(s=>Bxe(s,r,n));return A.createElement(p1e,{legendPayload:a})}function j1e(e){var{dataKey:t,nameKey:n,sectors:r,stroke:a,strokeWidth:s,fill:c,name:f,hide:m,tooltipType:h}=e;return{dataDefinedOnItem:r==null?void 0:r.map(p=>p.tooltipPayload),positions:r==null?void 0:r.map(p=>p.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:c,dataKey:t,nameKey:n,name:ru(f,t),hide:m,type:h,color:c,unit:""}}}var A1e=(e,t)=>e>t?"start":e<t?"end":"middle",E1e=(e,t,n)=>typeof t=="function"?t(e):ii(t,n,n*.8),N1e=(e,t,n)=>{var{top:r,left:a,width:s,height:c}=t,f=IB(s,c),m=a+ii(e.cx,s,s/2),h=r+ii(e.cy,c,c/2),p=ii(e.innerRadius,f,0),v=E1e(n,e.outerRadius,f),j=e.maxRadius||Math.sqrt(s*s+c*c)/2;return{cx:m,cy:h,innerRadius:p,outerRadius:v,maxRadius:j}},_1e=(e,t)=>{var n=ya(t-e),r=Math.min(Math.abs(t-e),360);return n*r},C1e=(e,t)=>{if(A.isValidElement(e))return A.cloneElement(e,t);if(typeof e=="function")return e(t);var n=en("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return A.createElement(qf,pd({},t,{type:"linear",className:n}))},T1e=(e,t,n)=>{if(A.isValidElement(e))return A.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),A.isValidElement(r)))return r;var a=en("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return A.createElement(Iv,pd({},t,{alignmentBaseline:"middle",className:a}),r)};function O1e(e){var{sectors:t,props:n,showLabels:r}=e,{label:a,labelLine:s,dataKey:c}=n;if(!r||!a||!t)return null;var f=Ut(n,!1),m=Ut(a,!1),h=Ut(s,!1),p=typeof a=="object"&&"offsetRadius"in a&&a.offsetRadius||20,v=t.map((j,E)=>{var O=(j.startAngle+j.endAngle)/2,T=Qr(j.cx,j.cy,j.outerRadius+p,O),_=jr(jr(jr(jr({},f),j),{},{stroke:"none"},m),{},{index:E,textAnchor:A1e(T.x,j.cx)},T),D=jr(jr(jr(jr({},f),j),{},{fill:"none",stroke:j.fill},h),{},{index:E,points:[Qr(j.cx,j.cy,j.outerRadius,O),T],key:"line"});return A.createElement(gr,{key:"label-".concat(j.startAngle,"-").concat(j.endAngle,"-").concat(j.midAngle,"-").concat(E)},s&&C1e(s,D),T1e(a,_,Fn(j,c)))});return A.createElement(gr,{className:"recharts-pie-labels"},v)}function dU(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:a,showLabels:s}=e,c=ft(Yc),{onMouseEnter:f,onClick:m,onMouseLeave:h}=a,p=v1e(a,x1e),v=A_(f,a.dataKey),j=E_(h),E=N_(m,a.dataKey);return t==null?null:A.createElement(A.Fragment,null,t.map((O,T)=>{if((O==null?void 0:O.startAngle)===0&&(O==null?void 0:O.endAngle)===0&&t.length!==1)return null;var _=n&&String(T)===c,D=c?r:null,P=_?n:D,I=jr(jr({},O),{},{stroke:O.stroke,tabIndex:-1,[BB]:T,[FB]:a.dataKey});return A.createElement(gr,pd({tabIndex:-1,className:"recharts-pie-sector"},J0(p,O,T),{onMouseEnter:v(O,T),onMouseLeave:j(O,T),onClick:E(O,T),key:"sector-".concat(O==null?void 0:O.startAngle,"-").concat(O==null?void 0:O.endAngle,"-").concat(O.midAngle,"-").concat(T)}),A.createElement(cU,pd({option:P,isActive:_,shapeType:"sector"},I)))}),A.createElement(O1e,{sectors:t,props:a,showLabels:s}))}function M1e(e){var t,{pieSettings:n,displayedData:r,cells:a,offset:s}=e,{cornerRadius:c,startAngle:f,endAngle:m,dataKey:h,nameKey:p,tooltipType:v}=n,j=Math.abs(n.minAngle),E=_1e(f,m),O=Math.abs(E),T=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,_=r.filter(L=>Fn(L,h,0)!==0).length,D=(O>=360?_:_-1)*T,P=O-_*j-D,I=r.reduce((L,B)=>{var $=Fn(B,h,0);return L+(Je($)?$:0)},0),U;if(I>0){var F;U=r.map((L,B)=>{var $=Fn(L,h,0),z=Fn(L,p,B),H=N1e(n,s,L),X=(Je($)?$:0)/I,K,ee=jr(jr({},L),a&&a[B]&&a[B].props);B?K=F.endAngle+ya(E)*T*($!==0?1:0):K=f;var ue=K+ya(E)*(($!==0?j:0)+X*P),ne=(K+ue)/2,G=(H.innerRadius+H.outerRadius)/2,Q=[{name:z,value:$,payload:ee,dataKey:h,type:v}],ae=Qr(H.cx,H.cy,G,ne);return F=jr(jr(jr(jr({},n.presentationProps),{},{percent:X,cornerRadius:c,name:z,tooltipPayload:Q,midAngle:ne,middleRadius:G,tooltipPosition:ae},ee),H),{},{value:Fn(L,h),startAngle:K,endAngle:ue,payload:ee,paddingAngle:ya(E)*T}),F})}return U}function D1e(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:a,animationBegin:s,animationDuration:c,animationEasing:f,activeShape:m,inactiveShape:h,onAnimationStart:p,onAnimationEnd:v}=t,j=kv(t,"recharts-pie-"),E=n.current,[O,T]=A.useState(!0),_=A.useCallback(()=>{typeof v=="function"&&v(),T(!1)},[v]),D=A.useCallback(()=>{typeof p=="function"&&p(),T(!0)},[p]);return A.createElement(Ol,{begin:s,duration:c,isActive:a,easing:f,from:{t:0},to:{t:1},onAnimationStart:D,onAnimationEnd:_,key:j},P=>{var{t:I}=P,U=[],F=r&&r[0],L=F.startAngle;return r.forEach((B,$)=>{var z=E&&E[$],H=$>0?Hc(B,"paddingAngle",0):0;if(z){var X=zi(z.endAngle-z.startAngle,B.endAngle-B.startAngle),K=jr(jr({},B),{},{startAngle:L+H,endAngle:L+X(I)+H});U.push(K),L=K.endAngle}else{var{endAngle:ee,startAngle:ue}=B,ne=zi(0,ee-ue),G=ne(I),Q=jr(jr({},B),{},{startAngle:L+H,endAngle:L+G+H});U.push(Q),L=Q.endAngle}}),n.current=U,A.createElement(gr,null,A.createElement(dU,{sectors:U,activeShape:m,inactiveShape:h,allOtherPieProps:t,showLabels:!O}))})}function R1e(e){var{sectors:t,isAnimationActive:n,activeShape:r,inactiveShape:a}=e,s=A.useRef(null),c=s.current;return n&&t&&t.length&&(!c||c!==t)?A.createElement(D1e,{props:e,previousSectorsRef:s}):A.createElement(dU,{sectors:t,activeShape:r,inactiveShape:a,allOtherPieProps:e,showLabels:!0})}function I1e(e){var{hide:t,className:n,rootTabIndex:r}=e,a=en("recharts-pie",n);return t?null:A.createElement(gr,{tabIndex:r,className:a},A.createElement(R1e,e))}var fU={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!au.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function P1e(e){var t=Xi(e,fU),n=A.useMemo(()=>eg(e.children,Wc),[e.children]),r=Ut(t,!1),a=A.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:r}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,r]),s=ft(c=>Uxe(c,a,n));return A.createElement(A.Fragment,null,A.createElement(Pv,{fn:j1e,args:jr(jr({},t),{},{sectors:s})}),A.createElement(I1e,pd({},t,{sectors:s})))}class lh extends A.PureComponent{constructor(){super(...arguments),Lv(this,"id",qc("recharts-pie-"))}render(){return A.createElement(A.Fragment,null,A.createElement(e1e,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),A.createElement(S1e,this.props),A.createElement(P1e,this.props),this.props.children)}}Lv(lh,"displayName","Pie");Lv(lh,"defaultProps",fU);var k1e=Me([ca],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),L1e=Me([k1e,Fl,Ul],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),B1e=e=>{var t=Xa();return ft(n=>Ss(n,"xAxis",e,t))},F1e=e=>{var t=Xa();return ft(n=>Ss(n,"yAxis",e,t))},Bv=()=>ft(L1e),U1e=()=>ft(Uge);function yP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yP(Object(n),!0).forEach(function(r){z1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z1e(e,t,n){return(t=V1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V1e(e){var t=$1e(e,"string");return typeof t=="symbol"?t:t+""}function $1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H1e=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:a,dataKey:s}=e;if(a===!1||t.x==null||t.y==null)return null;var c=bP(bP({index:n,dataKey:s,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Ut(a,!1)),zE(a)),f;return A.isValidElement(a)?f=A.cloneElement(a,c):typeof a=="function"?f=a(c):f=A.createElement(y_,c),A.createElement(gr,{className:"recharts-active-dot"},f)};function eA(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:a}=e,s=ft(Yc),c=U1e();if(t==null||c==null)return null;var f=t.find(m=>c.includes(m.payload));return Dn(f)?null:H1e({point:f,childIndex:Number(s),mainColor:n,dataKey:a,activeDot:r})}var q1e=()=>{var e=ar();return A.useEffect(()=>(e(Vxe()),()=>{e($xe())})),null},Y1e=["children"];function W1e(e,t){if(e==null)return{};var n,r,a=G1e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function G1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var wP=()=>{},hU=A.createContext({addErrorBar:wP,removeErrorBar:wP}),K1e={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},mU=A.createContext(K1e);function gU(e){var{children:t}=e,n=W1e(e,Y1e);return A.createElement(mU.Provider,{value:n},t)}var X1e=()=>A.useContext(mU),C_=e=>{var{children:t,xAxisId:n,yAxisId:r,zAxisId:a,dataKey:s,data:c,stackId:f,hide:m,type:h,barSize:p}=e,[v,j]=A.useState([]),E=A.useCallback(_=>{j(D=>[...D,_])},[j]),O=A.useCallback(_=>{j(D=>D.filter(P=>P!==_))},[j]),T=Xa();return A.createElement(hU.Provider,{value:{addErrorBar:E,removeErrorBar:O}},A.createElement(Jxe,{type:h,data:c,xAxisId:n,yAxisId:r,zAxisId:a,dataKey:s,errorBars:v,stackId:f,hide:m,barSize:p,isPanorama:T}),t)};function Q1e(e){var{addErrorBar:t,removeErrorBar:n}=A.useContext(hU);return A.useEffect(()=>(t(e),()=>{n(e)}),[t,n,e]),null}var Z1e=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function pU(e,t,n){return(t=J1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J1e(e){var t=eve(e,"string");return typeof t=="symbol"?t:t+""}function eve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M0(){return M0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M0.apply(null,arguments)}function tve(e,t){if(e==null)return{};var n,r,a=nve(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function nve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function rve(e){var{direction:t,width:n,dataKey:r,isAnimationActive:a,animationBegin:s,animationDuration:c,animationEasing:f}=e,m=tve(e,Z1e),h=Ut(m,!1),{data:p,dataPointFormatter:v,xAxisId:j,yAxisId:E,errorBarOffset:O}=X1e(),T=B1e(j),_=F1e(E);if((T==null?void 0:T.scale)==null||(_==null?void 0:_.scale)==null||p==null||t==="x"&&T.type!=="number")return null;var D=p.map(P=>{var{x:I,y:U,value:F,errorVal:L}=v(P,r,t);if(!L)return null;var B=[],$,z;if(Array.isArray(L)?[$,z]=L:$=z=L,t==="x"){var{scale:H}=T,X=U+O,K=X+n,ee=X-n,ue=H(F-$),ne=H(F+z);B.push({x1:ne,y1:K,x2:ne,y2:ee}),B.push({x1:ue,y1:X,x2:ne,y2:X}),B.push({x1:ue,y1:K,x2:ue,y2:ee})}else if(t==="y"){var{scale:G}=_,Q=I+O,ae=Q-n,he=Q+n,te=G(F-$),fe=G(F+z);B.push({x1:ae,y1:fe,x2:he,y2:fe}),B.push({x1:Q,y1:te,x2:Q,y2:fe}),B.push({x1:ae,y1:te,x2:he,y2:te})}var se="".concat(I+O,"px ").concat(U+O,"px");return A.createElement(gr,M0({className:"recharts-errorBar",key:"bar-".concat(B.map(me=>"".concat(me.x1,"-").concat(me.x2,"-").concat(me.y1,"-").concat(me.y2)))},h),B.map(me=>{var Re=a?{transformOrigin:"".concat(me.x1-5,"px")}:void 0;return A.createElement(Ol,{from:{transform:"scaleY(0)",transformOrigin:se},to:{transform:"scaleY(1)",transformOrigin:se},begin:s,easing:f,isActive:a,duration:c,key:"line-".concat(me.x1,"-").concat(me.x2,"-").concat(me.y1,"-").concat(me.y2),style:{transformOrigin:se}},A.createElement("line",M0({},me,{style:Re})))}))});return A.createElement(gr,{className:"recharts-errorBars"},D)}var xU=A.createContext(void 0);function ave(e){var t=A.useContext(xU);return e??t??"x"}function vU(e){var{direction:t,children:n}=e;return A.createElement(xU.Provider,{value:t},n)}var yU={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function ive(e){var t=ave(e.direction),{width:n,isAnimationActive:r,animationBegin:a,animationDuration:s,animationEasing:c}=Xi(e,yU);return A.createElement(A.Fragment,null,A.createElement(Q1e,{dataKey:e.dataKey,direction:t}),A.createElement(rve,M0({},e,{direction:t,width:n,isAnimationActive:r,animationBegin:a,animationDuration:s,animationEasing:c})))}class bU extends A.Component{render(){return A.createElement(ive,this.props)}}pU(bU,"defaultProps",yU);pU(bU,"displayName","ErrorBar");var sve="Invariant failed";function ove(e,t){throw new Error(sve)}var lve=["x","y"];function tA(){return tA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tA.apply(null,arguments)}function SP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Fm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SP(Object(n),!0).forEach(function(r){cve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cve(e,t,n){return(t=uve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uve(e){var t=dve(e,"string");return typeof t=="symbol"?t:t+""}function dve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fve(e,t){if(e==null)return{};var n,r,a=hve(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function hve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function mve(e,t){var{x:n,y:r}=e,a=fve(e,lve),s="".concat(n),c=parseInt(s,10),f="".concat(r),m=parseInt(f,10),h="".concat(t.height||a.height),p=parseInt(h,10),v="".concat(t.width||a.width),j=parseInt(v,10);return Fm(Fm(Fm(Fm(Fm({},t),a),c?{x:c}:{}),m?{y:m}:{}),{},{height:p,width:j,name:t.name,radius:t.radius})}function wU(e){return A.createElement(cU,tA({shapeType:"rectangle",propTransformer:mve,activeClassName:"recharts-active-bar"},e))}var gve=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,a)=>{if(Je(t))return t;var s=Je(r)||Dn(r);return s?t(r,a):(s||ove(),n)}};function Fv(e,t){var n,r,a=ft(h=>Vl(h,e)),s=ft(h=>ou(h,t)),c=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Pi.allowDataOverflow,f=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:ki.allowDataOverflow,m=c||f;return{needClip:m,needClipX:c,needClipY:f}}function T_(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,a=Bv(),{needClipX:s,needClipY:c,needClip:f}=Fv(t,n);if(!f)return null;var{x:m,y:h,width:p,height:v}=a;return A.createElement("clipPath",{id:"clipPath-".concat(r)},A.createElement("rect",{x:s?m:m-p/2,y:c?h:h-v/2,width:s?p:p*2,height:c?v:v*2}))}var pve=["onMouseEnter","onMouseLeave","onClick"],xve=["value","background","tooltipPosition"],vve=["onMouseEnter","onClick","onMouseLeave"];function D0(){return D0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D0.apply(null,arguments)}function jP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function qa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jP(Object(n),!0).forEach(function(r){Uv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uv(e,t,n){return(t=yve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yve(e){var t=bve(e,"string");return typeof t=="symbol"?t:t+""}function bve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nA(e,t){if(e==null)return{};var n,r,a=wve(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function wve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Sve=e=>{var{dataKey:t,name:n,fill:r,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:r,value:ru(n,t),payload:e}]};function jve(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:a,name:s,hide:c,unit:f}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:t,nameKey:void 0,name:ru(s,t),hide:c,type:e.tooltipType,color:e.fill,unit:f}}}function Ave(e){var t=ft(Yc),{data:n,dataKey:r,background:a,allOtherBarProps:s}=e,{onMouseEnter:c,onMouseLeave:f,onClick:m}=s,h=nA(s,pve),p=A_(c,r),v=E_(f),j=N_(m,r);if(!a||n==null)return null;var E=Ut(a,!1);return A.createElement(A.Fragment,null,n.map((O,T)=>{var{value:_,background:D,tooltipPosition:P}=O,I=nA(O,xve);if(!D)return null;var U=p(O,T),F=v(O,T),L=j(O,T),B=qa(qa(qa(qa(qa({option:a,isActive:String(T)===t},I),{},{fill:"#eee"},D),E),J0(h,O,T)),{},{onMouseEnter:U,onMouseLeave:F,onClick:L,dataKey:r,index:T,className:"recharts-bar-background-rectangle"});return A.createElement(wU,D0({key:"background-bar-".concat(T)},B))}))}function SU(e){var{data:t,props:n,showLabels:r}=e,a=Ut(n,!1),{shape:s,dataKey:c,activeBar:f}=n,m=ft(Yc),h=ft(VF),{onMouseEnter:p,onClick:v,onMouseLeave:j}=n,E=nA(n,vve),O=A_(p,c),T=E_(j),_=N_(v,c);return t?A.createElement(A.Fragment,null,t.map((D,P)=>{var I=f&&String(P)===m&&(h==null||c===h),U=I?f:s,F=qa(qa(qa({},a),D),{},{isActive:I,option:U,index:P,dataKey:c});return A.createElement(gr,D0({className:"recharts-bar-rectangle"},J0(E,D,P),{onMouseEnter:O(D,P),onMouseLeave:T(D,P),onClick:_(D,P),key:"rectangle-".concat(D==null?void 0:D.x,"-").concat(D==null?void 0:D.y,"-").concat(D==null?void 0:D.value,"-").concat(P)}),A.createElement(wU,F))}),r&&bl.renderCallByParent(n,t)):null}function Eve(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:a,isAnimationActive:s,animationBegin:c,animationDuration:f,animationEasing:m,onAnimationEnd:h,onAnimationStart:p}=t,v=n.current,j=kv(t,"recharts-bar-"),[E,O]=A.useState(!1),T=A.useCallback(()=>{typeof h=="function"&&h(),O(!1)},[h]),_=A.useCallback(()=>{typeof p=="function"&&p(),O(!0)},[p]);return A.createElement(Ol,{begin:c,duration:f,isActive:s,easing:m,from:{t:0},to:{t:1},onAnimationEnd:T,onAnimationStart:_,key:j},D=>{var{t:P}=D,I=P===1?r:r.map((U,F)=>{var L=v&&v[F];if(L){var B=zi(L.x,U.x),$=zi(L.y,U.y),z=zi(L.width,U.width),H=zi(L.height,U.height);return qa(qa({},U),{},{x:B(P),y:$(P),width:z(P),height:H(P)})}if(a==="horizontal"){var X=zi(0,U.height),K=X(P);return qa(qa({},U),{},{y:U.y+U.height-K,height:K})}var ee=zi(0,U.width),ue=ee(P);return qa(qa({},U),{},{width:ue})});return P>0&&(n.current=I),A.createElement(gr,null,A.createElement(SU,{props:t,data:I,showLabels:!E}))})}function Nve(e){var{data:t,isAnimationActive:n}=e,r=A.useRef(null);return n&&t&&t.length&&(r.current==null||r.current!==t)?A.createElement(Eve,{previousRectanglesRef:r,props:e}):A.createElement(SU,{props:e,data:t,showLabels:!0})}var jU=0,_ve=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Fn(e,t)}};class Cve extends A.PureComponent{constructor(){super(...arguments),Uv(this,"id",qc("recharts-bar-"))}render(){var{hide:t,data:n,dataKey:r,className:a,xAxisId:s,yAxisId:c,needClip:f,background:m,id:h,layout:p}=this.props;if(t)return null;var v=en("recharts-bar",a),j=Dn(h)?this.id:h;return A.createElement(gr,{className:v},f&&A.createElement("defs",null,A.createElement(T_,{clipPathId:j,xAxisId:s,yAxisId:c})),A.createElement(gr,{className:"recharts-bar-rectangles",clipPath:f?"url(#clipPath-".concat(j,")"):null},A.createElement(Ave,{data:n,dataKey:r,background:m,allOtherBarProps:this.props}),A.createElement(Nve,this.props)),A.createElement(vU,{direction:p==="horizontal"?"y":"x"},this.props.children))}}var AU={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!au.isSsr,legendType:"rect",minPointSize:jU,xAxisId:0,yAxisId:0};function Tve(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:a,minPointSize:s,activeBar:c,animationBegin:f,animationDuration:m,animationEasing:h,isAnimationActive:p}=Xi(e,AU),{needClip:v}=Fv(t,n),j=ng(),E=Xa(),O=A.useMemo(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:s,stackId:sN(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,s,e.stackId]),T=eg(e.children,Wc),_=ft(I=>rye(I,t,n,E,O,T));if(j!=="vertical"&&j!=="horizontal")return null;var D,P=_==null?void 0:_[0];return P==null||P.height==null||P.width==null?D=0:D=j==="vertical"?P.height/2:P.width/2,A.createElement(gU,{xAxisId:t,yAxisId:n,data:_,dataPointFormatter:_ve,errorBarOffset:D},A.createElement(Cve,D0({},e,{layout:j,needClip:v,data:_,xAxisId:t,yAxisId:n,hide:r,legendType:a,minPointSize:s,activeBar:c,animationBegin:f,animationDuration:m,animationEasing:h,isAnimationActive:p})))}function Ove(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:s,xAxis:c,yAxis:f,xAxisTicks:m,yAxisTicks:h,stackedData:p,displayedData:v,offset:j,cells:E}=e,O=t==="horizontal"?f:c,T=p?O.scale.domain():null,_=hue({numericAxis:O});return v.map((D,P)=>{var I,U,F,L,B,$;p?I=lue(p[P],T):(I=Fn(D,n),Array.isArray(I)||(I=[_,I]));var z=gve(r,jU)(I[1],P);if(t==="horizontal"){var H,[X,K]=[f.scale(I[0]),f.scale(I[1])];U=oR({axis:c,ticks:m,bandSize:s,offset:a.offset,entry:D,index:P}),F=(H=K??X)!==null&&H!==void 0?H:void 0,L=a.size;var ee=X-K;if(B=Si(ee)?0:ee,$={x:U,y:j.top,width:L,height:j.height},Math.abs(z)>0&&Math.abs(B)<Math.abs(z)){var ue=ya(B||z)*(Math.abs(z)-Math.abs(B));F-=ue,B+=ue}}else{var[ne,G]=[c.scale(I[0]),c.scale(I[1])];if(U=ne,F=oR({axis:f,ticks:h,bandSize:s,offset:a.offset,entry:D,index:P}),L=G-ne,B=a.size,$={x:j.left,y:F,width:j.width,height:B},Math.abs(z)>0&&Math.abs(L)<Math.abs(z)){var Q=ya(L||z)*(Math.abs(z)-Math.abs(L));L+=Q}}var ae=qa(qa({},D),{},{x:U,y:F,width:L,height:B,value:p?I:I[1],payload:D,background:$,tooltipPosition:{x:U+L/2,y:F+B/2}},E&&E[P]&&E[P].props);return ae})}class Ir extends A.PureComponent{render(){return A.createElement(C_,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},A.createElement(q1e,null),A.createElement(__,{legendPayload:Sve(this.props)}),A.createElement(Pv,{fn:jve,args:this.props}),A.createElement(Tve,this.props))}}Uv(Ir,"displayName","Bar");Uv(Ir,"defaultProps",AU);function AP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ax(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AP(Object(n),!0).forEach(function(r){Mve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mve(e,t,n){return(t=Dve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dve(e){var t=Rve(e,"string");return typeof t=="symbol"?t:t+""}function Rve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ive=(e,t)=>t,Pve=(e,t,n)=>n,kve=(e,t,n,r)=>r,O_=(e,t,n,r,a)=>a,Lve=(e,t,n,r,a)=>a.maxBarSize,Bve=(e,t,n,r,a,s)=>s,EP=(e,t,n)=>{var r=n??e;if(!Dn(r))return ii(r,t,0)},Fve=Me([cn,ug,Ive,Pve,kve],(e,t,n,r,a)=>t.filter(s=>e==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Uve=(e,t,n,r)=>{var a=cn(e);return a==="horizontal"?T0(e,"yAxis",n,r):T0(e,"xAxis",t,r)},zve=(e,t,n)=>{var r=cn(e);return r==="horizontal"?NI(e,"xAxis",t):NI(e,"yAxis",n)};function Vve(e){return e.stackId!=null&&e.dataKey!=null}var $ve=(e,t,n)=>{var r={},a=e.filter(Vve),s=e.filter(h=>h.stackId==null),c=a.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),r),f=Object.entries(c).map(h=>{var[p,v]=h,j=v.map(O=>O.dataKey),E=EP(t,n,v[0].barSize);return{stackId:p,dataKeys:j,barSize:E}}),m=s.map(h=>{var p=[h.dataKey].filter(j=>j!=null),v=EP(t,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:v}});return[...f,...m]},Hve=Me([Fve,Qme,zve],$ve),qve=(e,t,n,r,a)=>{var s,c,f=cn(e),m=G9(e),{maxBarSize:h}=a,p=Dn(h)?m:h,v,j;return f==="horizontal"?(v=Ss(e,"xAxis",t,r),j=Bo(e,"xAxis",t,r)):(v=Ss(e,"yAxis",n,r),j=Bo(e,"yAxis",n,r)),(s=(c=md(v,j,!0))!==null&&c!==void 0?c:p)!==null&&s!==void 0?s:0},EU=(e,t,n,r)=>{var a=cn(e),s,c;return a==="horizontal"?(s=Ss(e,"xAxis",t,r),c=Bo(e,"xAxis",t,r)):(s=Ss(e,"yAxis",n,r),c=Bo(e,"yAxis",n,r)),md(s,c)};function Yve(e,t,n,r,a){var s=r.length;if(!(s<1)){var c=ii(e,n,0,!0),f,m=[];if(Ma(r[0].barSize)){var h=!1,p=n/s,v=r.reduce((D,P)=>D+(P.barSize||0),0);v+=(s-1)*c,v>=n&&(v-=(s-1)*c,c=0),v>=n&&p>0&&(h=!0,p*=.9,v=s*p);var j=(n-v)/2>>0,E={offset:j-c,size:0};f=r.reduce((D,P)=>{var I,U={stackId:P.stackId,dataKeys:P.dataKeys,position:{offset:E.offset+E.size+c,size:h?p:(I=P.barSize)!==null&&I!==void 0?I:0}},F=[...D,U];return E=F[F.length-1].position,F},m)}else{var O=ii(t,n,0,!0);n-2*O-(s-1)*c<=0&&(c=0);var T=(n-2*O-(s-1)*c)/s;T>1&&(T>>=0);var _=Ma(a)?Math.min(T,a):T;f=r.reduce((D,P,I)=>[...D,{stackId:P.stackId,dataKeys:P.dataKeys,position:{offset:O+(T+c)*I+(T-_)/2,size:_}}],m)}return f}}var Wve=(e,t,n,r,a,s,c)=>{var f=Dn(c)?t:c,m=Yve(n,r,a!==s?a:s,e,f);return a!==s&&m!=null&&(m=m.map(h=>ax(ax({},h),{},{position:ax(ax({},h.position),{},{offset:h.position.offset-a/2})}))),m},Gve=Me([Hve,G9,Xme,K9,qve,EU,Lve],Wve),Kve=(e,t,n,r)=>Ss(e,"xAxis",t,r),Xve=(e,t,n,r)=>Ss(e,"yAxis",n,r),Qve=(e,t,n,r)=>Bo(e,"xAxis",t,r),Zve=(e,t,n,r)=>Bo(e,"yAxis",n,r),Jve=Me([Gve,O_],(e,t)=>{if(e!=null){var n=e.find(r=>r.stackId===t.stackId&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),eye=(e,t)=>{if(!(!e||(t==null?void 0:t.dataKey)==null)){var{stackId:n}=t;if(n!=null){var r=e[n];if(r){var{stackedData:a}=r;if(a){var s=a.find(c=>c.key===t.dataKey);return s}}}}},tye=Me([ug,O_],(e,t)=>{if(e.some(n=>n.type==="bar"&&t.dataKey===n.dataKey&&t.stackId===n.stackId&&t.stackId===n.stackId))return t}),nye=Me([Uve,O_],eye),rye=Me([ca,Kve,Xve,Qve,Zve,Jve,cn,jv,EU,nye,tye,Bve],(e,t,n,r,a,s,c,f,m,h,p,v)=>{var{chartData:j,dataStartIndex:E,dataEndIndex:O}=f;if(!(p==null||s==null||c!=="horizontal"&&c!=="vertical"||t==null||n==null||r==null||a==null||m==null)){var{data:T}=p,_;if(T!=null&&T.length>0?_=T:_=j==null?void 0:j.slice(E,O+1),_!=null)return Ove({layout:c,barSettings:p,pos:s,bandSize:m,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,stackedData:h,displayedData:_,offset:e,cells:v})}}),NU=e=>{var{chartData:t}=e,n=ar(),r=Xa();return A.useEffect(()=>r?()=>{}:(n(kI(t)),()=>{n(kI(void 0))}),[t,n,r]),null},NP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},_U=js({name:"brush",initialState:NP,reducers:{setBrushSettings(e,t){return t.payload==null?NP:t.payload}}}),{setBrushSettings:jAe}=_U.actions,aye=_U.reducer;function iye(e,t,n){return(t=sye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sye(e){var t=oye(e,"string");return typeof t=="symbol"?t:t+""}function oye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class M_{static create(t){return new M_(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(n){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?t>=r&&t<=a:t>=a&&t<=r}}iye(M_,"EPS",1e-4);function lye(e){return(e%180+180)%180}var cye=function(t){var{width:n,height:r}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=lye(a),c=s*Math.PI/180,f=Math.atan(r/n),m=c>f&&c<Math.PI-f?r/Math.sin(c):n/Math.cos(c);return Math.abs(m)},uye={dots:[],areas:[],lines:[]},CU=js({name:"referenceElements",initialState:uye,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=vl(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=vl(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=vl(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:AAe,removeDot:EAe,addArea:NAe,removeArea:_Ae,addLine:CAe,removeLine:TAe}=CU.actions,dye=CU.reducer,fye=A.createContext(void 0),hye=e=>{var{children:t}=e,[n]=A.useState("".concat(qc("recharts"),"-clip")),r=Bv();if(r==null)return null;var{x:a,y:s,width:c,height:f}=r;return A.createElement(fye.Provider,{value:n},A.createElement("defs",null,A.createElement("clipPath",{id:n},A.createElement("rect",{x:a,y:s,height:f,width:c}))),t)};function sS(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function TU(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],a=0;a<e.length;a+=t)r.push(e[a]);return r}function mye(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return cye(r,n)}function gye(e,t,n){var r=n==="width",{x:a,y:s,width:c,height:f}=e;return t===1?{start:r?a:s,end:r?a+c:s+f}:{start:r?a+c:s+f,end:r?a:s}}function v1(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var s=n();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-a)<=0}function pye(e,t){return TU(e,t+1)}function xye(e,t,n,r,a){for(var s=(r||[]).slice(),{start:c,end:f}=t,m=0,h=1,p=c,v=function(){var O=r==null?void 0:r[m];if(O===void 0)return{v:TU(r,h)};var T=m,_,D=()=>(_===void 0&&(_=n(O,T)),_),P=O.coordinate,I=m===0||v1(e,P,D,p,f);I||(m=0,p=c,h+=1),I&&(p=P+e*(D()/2+a),m+=h)},j;h<=s.length;)if(j=v(),j)return j.v;return[]}function _P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ha(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_P(Object(n),!0).forEach(function(r){vye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_P(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vye(e,t,n){return(t=yye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yye(e){var t=bye(e,"string");return typeof t=="symbol"?t:t+""}function bye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wye(e,t,n,r,a){for(var s=(r||[]).slice(),c=s.length,{start:f}=t,{end:m}=t,h=function(j){var E=s[j],O,T=()=>(O===void 0&&(O=n(E,j)),O);if(j===c-1){var _=e*(E.coordinate+e*T()/2-m);s[j]=E=Ha(Ha({},E),{},{tickCoord:_>0?E.coordinate-_*e:E.coordinate})}else s[j]=E=Ha(Ha({},E),{},{tickCoord:E.coordinate});var D=v1(e,E.tickCoord,T,f,m);D&&(m=E.tickCoord-e*(T()/2+a),s[j]=Ha(Ha({},E),{},{isShow:!0}))},p=c-1;p>=0;p--)h(p);return s}function Sye(e,t,n,r,a,s){var c=(r||[]).slice(),f=c.length,{start:m,end:h}=t;if(s){var p=r[f-1],v=n(p,f-1),j=e*(p.coordinate+e*v/2-h);c[f-1]=p=Ha(Ha({},p),{},{tickCoord:j>0?p.coordinate-j*e:p.coordinate});var E=v1(e,p.tickCoord,()=>v,m,h);E&&(h=p.tickCoord-e*(v/2+a),c[f-1]=Ha(Ha({},p),{},{isShow:!0}))}for(var O=s?f-1:f,T=function(P){var I=c[P],U,F=()=>(U===void 0&&(U=n(I,P)),U);if(P===0){var L=e*(I.coordinate-e*F()/2-m);c[P]=I=Ha(Ha({},I),{},{tickCoord:L<0?I.coordinate-L*e:I.coordinate})}else c[P]=I=Ha(Ha({},I),{},{tickCoord:I.coordinate});var B=v1(e,I.tickCoord,F,m,h);B&&(m=I.tickCoord+e*(F()/2+a),c[P]=Ha(Ha({},I),{},{isShow:!0}))},_=0;_<O;_++)T(_);return c}function D_(e,t,n){var{tick:r,ticks:a,viewBox:s,minTickGap:c,orientation:f,interval:m,tickFormatter:h,unit:p,angle:v}=e;if(!a||!a.length||!r)return[];if(Je(m)||au.isSsr){var j;return(j=pye(a,Je(m)?m:0))!==null&&j!==void 0?j:[]}var E=[],O=f==="top"||f==="bottom"?"width":"height",T=p&&O==="width"?i0(p,{fontSize:t,letterSpacing:n}):{width:0,height:0},_=(I,U)=>{var F=typeof h=="function"?h(I.value,U):I.value;return O==="width"?mye(i0(F,{fontSize:t,letterSpacing:n}),T,v):i0(F,{fontSize:t,letterSpacing:n})[O]},D=a.length>=2?ya(a[1].coordinate-a[0].coordinate):1,P=gye(s,D,O);return m==="equidistantPreserveStart"?xye(D,P,_,a,c):(m==="preserveStart"||m==="preserveStartEnd"?E=Sye(D,P,_,a,c,m==="preserveStartEnd"):E=wye(D,P,_,a,c),E.filter(I=>I.isShow))}var jye=["viewBox"],Aye=["viewBox"];function Uf(){return Uf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uf.apply(null,arguments)}function CP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function oa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(n),!0).forEach(function(r){R_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TP(e,t){if(e==null)return{};var n,r,a=Eye(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Eye(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function R_(e,t,n){return(t=Nye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nye(e){var t=_ye(e,"string");return typeof t=="symbol"?t:t+""}function _ye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class lu extends A.Component{constructor(t){super(t),this.tickRefs=A.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,n){var{viewBox:r}=t,a=TP(t,jye),s=this.props,{viewBox:c}=s,f=TP(s,Aye);return!sS(r,c)||!sS(a,f)||!sS(n,this.state)}getTickLineCoord(t){var{x:n,y:r,width:a,height:s,orientation:c,tickSize:f,mirror:m,tickMargin:h}=this.props,p,v,j,E,O,T,_=m?-1:1,D=t.tickSize||f,P=Je(t.tickCoord)?t.tickCoord:t.coordinate;switch(c){case"top":p=v=t.coordinate,E=r+ +!m*s,j=E-_*D,T=j-_*h,O=P;break;case"left":j=E=t.coordinate,v=n+ +!m*a,p=v-_*D,O=p-_*h,T=P;break;case"right":j=E=t.coordinate,v=n+ +m*a,p=v+_*D,O=p+_*h,T=P;break;default:p=v=t.coordinate,E=r+ +m*s,j=E+_*D,T=j+_*h,O=P;break}return{line:{x1:p,y1:j,x2:v,y2:E},tick:{x:O,y:T}}}getTickTextAnchor(){var{orientation:t,mirror:n}=this.props,r;switch(t){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:t,mirror:n}=this.props;switch(t){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:t,y:n,width:r,height:a,orientation:s,mirror:c,axisLine:f}=this.props,m=oa(oa(oa({},Ut(this.props,!1)),Ut(f,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var h=+(s==="top"&&!c||s==="bottom"&&c);m=oa(oa({},m),{},{x1:t,y1:n+h*a,x2:t+r,y2:n+h*a})}else{var p=+(s==="left"&&!c||s==="right"&&c);m=oa(oa({},m),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+a})}return A.createElement("line",Uf({},m,{className:en("recharts-cartesian-axis-line",Hc(f,"className"))}))}static renderTickItem(t,n,r){var a,s=en(n.className,"recharts-cartesian-axis-tick-value");if(A.isValidElement(t))a=A.cloneElement(t,oa(oa({},n),{},{className:s}));else if(typeof t=="function")a=t(oa(oa({},n),{},{className:s}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=en(c,t.className)),a=A.createElement(Iv,Uf({},n,{className:c}),r)}return a}renderTicks(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:a,stroke:s,tick:c,tickFormatter:f,unit:m}=this.props,h=D_(oa(oa({},this.props),{},{ticks:r}),t,n),p=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),j=Ut(this.props,!1),E=Ut(c,!1),O=oa(oa({},j),{},{fill:"none"},Ut(a,!1)),T=h.map((_,D)=>{var{line:P,tick:I}=this.getTickLineCoord(_),U=oa(oa(oa(oa({textAnchor:p,verticalAnchor:v},j),{},{stroke:"none",fill:s},E),I),{},{index:D,payload:_,visibleTicksCount:h.length,tickFormatter:f});return A.createElement(gr,Uf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},J0(this.props,_,D)),a&&A.createElement("line",Uf({},O,P,{className:en("recharts-cartesian-axis-tick-line",Hc(a,"className"))})),c&&lu.renderTickItem(c,U,"".concat(typeof f=="function"?f(_.value,D):_.value).concat(m||"")))});return T.length>0?A.createElement("g",{className:"recharts-cartesian-axis-ticks"},T):null}render(){var{axisLine:t,width:n,height:r,className:a,hide:s}=this.props;if(s)return null;var{ticks:c}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:A.createElement(gr,{className:en("recharts-cartesian-axis",a),ref:f=>{if(f){var m=f.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(m);var h=m[0];if(h){var p=window.getComputedStyle(h).fontSize,v=window.getComputedStyle(h).letterSpacing;(p!==this.state.fontSize||v!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(h).fontSize,letterSpacing:window.getComputedStyle(h).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,c),Vi.renderCallByParent(this.props))}}R_(lu,"displayName","CartesianAxis");R_(lu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Cye=["x1","y1","x2","y2","key"],Tye=["offset"],Oye=["xAxisId","yAxisId"],Mye=["xAxisId","yAxisId"];function OP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ya(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(n),!0).forEach(function(r){Dye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dye(e,t,n){return(t=Rye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rye(e){var t=Iye(e,"string");return typeof t=="symbol"?t:t+""}function Iye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qu(){return Qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qu.apply(null,arguments)}function y1(e,t){if(e==null)return{};var n,r,a=Pye(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Pye(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var kye=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:a,width:s,height:c,ry:f}=e;return A.createElement("rect",{x:r,y:a,ry:f,width:s,height:c,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function OU(e,t){var n;if(A.isValidElement(e))n=A.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:a,x2:s,y2:c,key:f}=t,m=y1(t,Cye),h=Ut(m,!1),{offset:p}=h,v=y1(h,Tye);n=A.createElement("line",Qu({},v,{x1:r,y1:a,x2:s,y2:c,fill:"none",key:f}))}return n}function Lye(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:c}=e,f=y1(e,Oye),m=a.map((h,p)=>{var v=Ya(Ya({},f),{},{x1:t,y1:h,x2:t+n,y2:h,key:"line-".concat(p),index:p});return OU(r,v)});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},m)}function Bye(e){var{y:t,height:n,vertical:r=!0,verticalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:c}=e,f=y1(e,Mye),m=a.map((h,p)=>{var v=Ya(Ya({},f),{},{x1:h,y1:t,x2:h,y2:t+n,key:"line-".concat(p),index:p});return OU(r,v)});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},m)}function Fye(e){var{horizontalFill:t,fillOpacity:n,x:r,y:a,width:s,height:c,horizontalPoints:f,horizontal:m=!0}=e;if(!m||!t||!t.length)return null;var h=f.map(v=>Math.round(v+a-a)).sort((v,j)=>v-j);a!==h[0]&&h.unshift(0);var p=h.map((v,j)=>{var E=!h[j+1],O=E?a+c-v:h[j+1]-v;if(O<=0)return null;var T=j%t.length;return A.createElement("rect",{key:"react-".concat(j),y:v,x:r,height:O,width:s,stroke:"none",fill:t[T],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function Uye(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:a,y:s,width:c,height:f,verticalPoints:m}=e;if(!t||!n||!n.length)return null;var h=m.map(v=>Math.round(v+a-a)).sort((v,j)=>v-j);a!==h[0]&&h.unshift(0);var p=h.map((v,j)=>{var E=!h[j+1],O=E?a+c-v:h[j+1]-v;if(O<=0)return null;var T=j%n.length;return A.createElement("rect",{key:"react-".concat(j),x:v,y:s,width:O,height:f,stroke:"none",fill:n[T],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var zye=(e,t)=>{var{xAxis:n,width:r,height:a,offset:s}=e;return PB(D_(Ya(Ya(Ya({},lu.defaultProps),n),{},{ticks:kB(n),viewBox:{x:0,y:0,width:r,height:a}})),s.left,s.left+s.width,t)},Vye=(e,t)=>{var{yAxis:n,width:r,height:a,offset:s}=e;return PB(D_(Ya(Ya(Ya({},lu.defaultProps),n),{},{ticks:kB(n),viewBox:{x:0,y:0,width:r,height:a}})),s.top,s.top+s.height,t)},$ye={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Kr(e){var t=uN(),n=dN(),r=zB(),a=Ya(Ya({},Xi(e,$ye)),{},{x:Je(e.x)?e.x:r.left,y:Je(e.y)?e.y:r.top,width:Je(e.width)?e.width:r.width,height:Je(e.height)?e.height:r.height}),{xAxisId:s,yAxisId:c,x:f,y:m,width:h,height:p,syncWithTicks:v,horizontalValues:j,verticalValues:E}=a,O=Xa(),T=ft(z=>_I(z,"xAxis",s,O)),_=ft(z=>_I(z,"yAxis",c,O));if(!Je(h)||h<=0||!Je(p)||p<=0||!Je(f)||f!==+f||!Je(m)||m!==+m)return null;var D=a.verticalCoordinatesGenerator||zye,P=a.horizontalCoordinatesGenerator||Vye,{horizontalPoints:I,verticalPoints:U}=a;if((!I||!I.length)&&typeof P=="function"){var F=j&&j.length,L=P({yAxis:_?Ya(Ya({},_),{},{ticks:F?j:_.ticks}):void 0,width:t,height:n,offset:r},F?!0:v);a0(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(I=L)}if((!U||!U.length)&&typeof D=="function"){var B=E&&E.length,$=D({xAxis:T?Ya(Ya({},T),{},{ticks:B?E:T.ticks}):void 0,width:t,height:n,offset:r},B?!0:v);a0(Array.isArray($),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof $,"]")),Array.isArray($)&&(U=$)}return A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement(kye,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),A.createElement(Fye,Qu({},a,{horizontalPoints:I})),A.createElement(Uye,Qu({},a,{verticalPoints:U})),A.createElement(Lye,Qu({},a,{offset:r,horizontalPoints:I,xAxis:T,yAxis:_})),A.createElement(Bye,Qu({},a,{offset:r,verticalPoints:U,xAxis:T,yAxis:_})))}Kr.displayName="CartesianGrid";var MU=(e,t,n,r)=>Ss(e,"xAxis",t,r),DU=(e,t,n,r)=>Bo(e,"xAxis",t,r),RU=(e,t,n,r)=>Ss(e,"yAxis",n,r),IU=(e,t,n,r)=>Bo(e,"yAxis",n,r),Hye=Me([cn,MU,RU,DU,IU],(e,t,n,r,a)=>Vo(e,"xAxis")?md(t,r,!1):md(n,a,!1)),qye=(e,t,n,r,a)=>a,Yye=Me([ug,qye],(e,t)=>{if(e.some(n=>n.type==="line"&&t.dataKey===n.dataKey&&t.data===n.data))return t}),Wye=Me([cn,MU,RU,DU,IU,Yye,Hye,jv],(e,t,n,r,a,s,c,f)=>{var{chartData:m,dataStartIndex:h,dataEndIndex:p}=f;if(!(s==null||t==null||n==null||r==null||a==null||r.length===0||a.length===0||c==null)){var{dataKey:v,data:j}=s,E;if(j!=null&&j.length>0?E=j:E=m==null?void 0:m.slice(h,p+1),E!=null)return fbe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:v,bandSize:c,displayedData:E})}}),Gye=["type","layout","connectNulls","needClip"],Kye=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function PU(e,t){if(e==null)return{};var n,r,a=Xye(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Xye(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function MP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function zs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(n),!0).forEach(function(r){zv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zv(e,t,n){return(t=Qye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qye(e){var t=Zye(e,"string");return typeof t=="symbol"?t:t+""}function Zye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ch(){return ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ch.apply(null,arguments)}var Jye=e=>{var{dataKey:t,name:n,stroke:r,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:r,value:ru(n,t),payload:e}]};function ebe(e){var{dataKey:t,data:n,stroke:r,strokeWidth:a,fill:s,name:c,hide:f,unit:m}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:ru(c,t),hide:f,type:e.tooltipType,color:e.stroke,unit:m}}}var kU=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function tbe(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],a=0;a<t;++a)r=[...r,...n];return r}var nbe=(e,t,n)=>{var r=n.reduce((v,j)=>v+j);if(!r)return kU(t,e);for(var a=Math.floor(e/r),s=e%r,c=t-e,f=[],m=0,h=0;m<n.length;h+=n[m],++m)if(h+n[m]>s){f=[...n.slice(0,m),s-h];break}var p=f.length%2===0?[0,c]:[c];return[...tbe(n,a),...f,...p].map(v=>"".concat(v,"px")).join(", ")};function rbe(e,t){var n;if(A.isValidElement(e))n=A.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=en("recharts-line-dot",typeof e!="boolean"?e.className:"");n=A.createElement(y_,ch({},t,{className:r}))}return n}function abe(e,t){return e==null?!1:t?!0:e.length===1}function ibe(e){var{clipPathId:t,points:n,props:r}=e,{dot:a,dataKey:s,needClip:c}=r;if(!abe(n,a))return null;var f=rv(a),m=Ut(r,!1),h=Ut(a,!0),p=n.map((j,E)=>{var O=zs(zs(zs({key:"dot-".concat(E),r:3},m),h),{},{index:E,cx:j.x,cy:j.y,dataKey:s,value:j.value,payload:j.payload,points:n});return rbe(a,O)}),v={clipPath:c?"url(#clipPath-".concat(f?"":"dots-").concat(t,")"):null};return A.createElement(gr,ch({className:"recharts-line-dots",key:"dots"},v),p)}function rA(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:a,props:s,showLabels:c}=e,{type:f,layout:m,connectNulls:h,needClip:p}=s,v=PU(s,Gye),j=zs(zs({},Ut(v,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:p?"url(#clipPath-".concat(t,")"):null,points:r,type:f,layout:m,connectNulls:h,strokeDasharray:a??s.strokeDasharray});return A.createElement(A.Fragment,null,(r==null?void 0:r.length)>1&&A.createElement(qf,ch({},j,{pathRef:n})),A.createElement(ibe,{points:r,clipPathId:t,props:s}),c&&bl.renderCallByParent(s,r))}function sbe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function obe(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:a,longestAnimatedLengthRef:s}=e,{points:c,strokeDasharray:f,isAnimationActive:m,animationBegin:h,animationDuration:p,animationEasing:v,animateNewValues:j,width:E,height:O,onAnimationEnd:T,onAnimationStart:_}=n,D=a.current,P=kv(n,"recharts-line-"),[I,U]=A.useState(!1),F=A.useCallback(()=>{typeof T=="function"&&T(),U(!1)},[T]),L=A.useCallback(()=>{typeof _=="function"&&_(),U(!0)},[_]),B=sbe(r.current),$=s.current;return A.createElement(Ol,{begin:h,duration:p,isActive:m,easing:v,from:{t:0},to:{t:1},onAnimationEnd:F,onAnimationStart:L,key:P},z=>{var{t:H}=z,X=zi($,B+$),K=Math.min(X(H),B),ee;if(f){var ue="".concat(f).split(/[,\s]+/gim).map(Q=>parseFloat(Q));ee=nbe(K,B,ue)}else ee=kU(B,K);if(D){var ne=D.length/c.length,G=H===1?c:c.map((Q,ae)=>{var he=Math.floor(ae*ne);if(D[he]){var te=D[he],fe=zi(te.x,Q.x),se=zi(te.y,Q.y);return zs(zs({},Q),{},{x:fe(H),y:se(H)})}if(j){var me=zi(E*2,Q.x),Re=zi(O/2,Q.y);return zs(zs({},Q),{},{x:me(H),y:Re(H)})}return zs(zs({},Q),{},{x:Q.x,y:Q.y})});return a.current=G,A.createElement(rA,{props:n,points:G,clipPathId:t,pathRef:r,showLabels:!I,strokeDasharray:ee})}return H>0&&B>0&&(a.current=c,s.current=K),A.createElement(rA,{props:n,points:c,clipPathId:t,pathRef:r,showLabels:!I,strokeDasharray:ee})})}function lbe(e){var{clipPathId:t,props:n}=e,{points:r,isAnimationActive:a}=n,s=A.useRef(null),c=A.useRef(0),f=A.useRef(null),m=s.current;return a&&r&&r.length&&m!==r?A.createElement(obe,{props:n,clipPathId:t,previousPointsRef:s,longestAnimatedLengthRef:c,pathRef:f}):A.createElement(rA,{props:n,points:r,clipPathId:t,pathRef:f,showLabels:!0})}var cbe=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Fn(e.payload,t)});class ube extends A.Component{constructor(){super(...arguments),zv(this,"id",qc("recharts-line-"))}render(){var t,{hide:n,dot:r,points:a,className:s,xAxisId:c,yAxisId:f,top:m,left:h,width:p,height:v,id:j,needClip:E,layout:O}=this.props;if(n)return null;var T=en("recharts-line",s),_=Dn(j)?this.id:j,{r:D=3,strokeWidth:P=2}=(t=Ut(r,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},I=rv(r),U=D*2+P;return A.createElement(A.Fragment,null,A.createElement(gr,{className:T},E&&A.createElement("defs",null,A.createElement(T_,{clipPathId:_,xAxisId:c,yAxisId:f}),!I&&A.createElement("clipPath",{id:"clipPath-dots-".concat(_)},A.createElement("rect",{x:h-U/2,y:m-U/2,width:p+U,height:v+U}))),A.createElement(lbe,{props:this.props,clipPathId:_}),A.createElement(vU,{direction:O==="horizontal"?"y":"x"},A.createElement(gU,{xAxisId:c,yAxisId:f,data:a,dataPointFormatter:cbe,errorBarOffset:0},this.props.children))),A.createElement(eA,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var LU={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!au.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function dbe(e){var t=Xi(e,LU),{activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:s,animationEasing:c,connectNulls:f,dot:m,hide:h,isAnimationActive:p,label:v,legendType:j,xAxisId:E,yAxisId:O}=t,T=PU(t,Kye),{needClip:_}=Fv(E,O),{height:D,width:P,x:I,y:U}=Bv(),F=ng(),L=Xa(),B=A.useMemo(()=>({dataKey:e.dataKey,data:e.data}),[e.dataKey,e.data]),$=ft(z=>Wye(z,E,O,L,B));return F!=="horizontal"&&F!=="vertical"?null:A.createElement(ube,ch({},T,{connectNulls:f,dot:m,activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:s,animationEasing:c,isAnimationActive:p,hide:h,label:v,legendType:j,xAxisId:E,yAxisId:O,points:$,layout:F,height:D,width:P,left:I,top:U,needClip:_}))}function fbe(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:s,dataKey:c,bandSize:f,displayedData:m}=e;return m.map((h,p)=>{var v=Fn(h,c);return t==="horizontal"?{x:Jx({axis:n,ticks:a,bandSize:f,entry:h,index:p}),y:Dn(v)?null:r.scale(v),value:v,payload:h}:{x:Dn(v)?null:n.scale(v),y:Jx({axis:r,ticks:s,bandSize:f,entry:h,index:p}),value:v,payload:h}})}class vs extends A.PureComponent{render(){return A.createElement(C_,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},A.createElement(__,{legendPayload:Jye(this.props)}),A.createElement(Pv,{fn:ebe,args:this.props}),A.createElement(dbe,this.props))}}zv(vs,"displayName","Line");zv(vs,"defaultProps",LU);var BU=(e,t,n,r)=>Ss(e,"xAxis",t,r),FU=(e,t,n,r)=>Bo(e,"xAxis",t,r),UU=(e,t,n,r)=>Ss(e,"yAxis",n,r),zU=(e,t,n,r)=>Bo(e,"yAxis",n,r),hbe=Me([cn,BU,UU,FU,zU],(e,t,n,r,a)=>Vo(e,"xAxis")?md(t,r,!1):md(n,a,!1)),mbe=(e,t,n,r,a)=>{var s,c=cn(e),f=Vo(c,"xAxis"),m;if(f?m=T0(e,"yAxis",n,r):m=T0(e,"xAxis",t,r),m!=null){var{dataKey:h,stackId:p}=a;if(p!=null){var v=(s=m[p])===null||s===void 0?void 0:s.stackedData;return v==null?void 0:v.find(j=>j.key===h)}}},gbe=(e,t,n,r,a)=>a,pbe=Me([ug,gbe],(e,t)=>{if(e.some(n=>n.type==="area"&&t.dataKey===n.dataKey&&sN(t.stackId)===n.stackId&&t.data===n.data))return t}),xbe=Me([cn,BU,UU,FU,zU,mbe,jv,hbe,pbe],(e,t,n,r,a,s,c,f,m)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:v}=c;if(!(m==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||a==null||r.length===0||a.length===0||f==null)){var{data:j}=m,E;if(j&&j.length>0?E=j:E=h==null?void 0:h.slice(p,v+1),E!=null){var O=void 0;return kbe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataStartIndex:p,areaSettings:m,stackedData:s,displayedData:E,chartBaseValue:O,bandSize:f})}}}),vbe=["layout","type","stroke","connectNulls","isRange"],ybe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function VU(e,t){if(e==null)return{};var n,r,a=bbe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function bbe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function DP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Zu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DP(Object(n),!0).forEach(function(r){Vv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vv(e,t,n){return(t=wbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wbe(e){var t=Sbe(e,"string");return typeof t=="symbol"?t:t+""}function Sbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kc(){return kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kc.apply(null,arguments)}function b1(e,t){return e&&e!=="none"?e:t}var jbe=e=>{var{dataKey:t,name:n,stroke:r,fill:a,legendType:s,hide:c}=e;return[{inactive:c,dataKey:t,type:s,color:b1(r,a),value:ru(n,t),payload:e}]};function Abe(e){var{dataKey:t,data:n,stroke:r,strokeWidth:a,fill:s,name:c,hide:f,unit:m}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:ru(c,t),hide:f,type:e.tooltipType,color:b1(r,s),unit:m}}}var Ebe=(e,t)=>{var n;if(A.isValidElement(e))n=A.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=en("recharts-area-dot",typeof e!="boolean"?e.className:"");n=A.createElement(y_,kc({},t,{className:r}))}return n};function Nbe(e,t){return e==null?!1:t?!0:e.length===1}function _be(e){var{clipPathId:t,points:n,props:r}=e,{needClip:a,dot:s,dataKey:c}=r;if(!Nbe(n,s))return null;var f=rv(s),m=Ut(r,!1),h=Ut(s,!0),p=n.map((j,E)=>{var O=Zu(Zu(Zu({key:"dot-".concat(E),r:3},m),h),{},{index:E,cx:j.x,cy:j.y,dataKey:c,value:j.value,payload:j.payload,points:n});return Ebe(s,O)}),v={clipPath:a?"url(#clipPath-".concat(f?"":"dots-").concat(t,")"):void 0};return A.createElement(gr,kc({className:"recharts-area-dots"},v),p)}function aA(e){var{points:t,baseLine:n,needClip:r,clipPathId:a,props:s,showLabels:c}=e,{layout:f,type:m,stroke:h,connectNulls:p,isRange:v}=s,j=VU(s,vbe);return A.createElement(A.Fragment,null,(t==null?void 0:t.length)>1&&A.createElement(gr,{clipPath:r?"url(#clipPath-".concat(a,")"):void 0},A.createElement(qf,kc({},Ut(j,!0),{points:t,connectNulls:p,type:m,baseLine:n,layout:f,stroke:"none",className:"recharts-area-area"})),h!=="none"&&A.createElement(qf,kc({},Ut(s,!1),{className:"recharts-area-curve",layout:f,type:m,connectNulls:p,fill:"none",points:t})),h!=="none"&&v&&A.createElement(qf,kc({},Ut(s,!1),{className:"recharts-area-curve",layout:f,type:m,connectNulls:p,fill:"none",points:n}))),A.createElement(_be,{points:t,props:s,clipPathId:a}),c&&bl.renderCallByParent(s,t))}function Cbe(e){var{alpha:t,baseLine:n,points:r,strokeWidth:a}=e,s=r[0].y,c=r[r.length-1].y;if(!Ma(s)||!Ma(c))return null;var f=t*Math.abs(s-c),m=Math.max(...r.map(h=>h.x||0));return Je(n)?m=Math.max(n,m):n&&Array.isArray(n)&&n.length&&(m=Math.max(...n.map(h=>h.x||0),m)),Je(m)?A.createElement("rect",{x:0,y:s<c?s:s-f,width:m+(a?parseInt("".concat(a),10):1),height:Math.floor(f)}):null}function Tbe(e){var{alpha:t,baseLine:n,points:r,strokeWidth:a}=e,s=r[0].x,c=r[r.length-1].x;if(!Ma(s)||!Ma(c))return null;var f=t*Math.abs(s-c),m=Math.max(...r.map(h=>h.y||0));return Je(n)?m=Math.max(n,m):n&&Array.isArray(n)&&n.length&&(m=Math.max(...n.map(h=>h.y||0),m)),Je(m)?A.createElement("rect",{x:s<c?s:s-f,y:0,width:f,height:Math.floor(m+(a?parseInt("".concat(a),10):1))}):null}function Obe(e){var{alpha:t,layout:n,points:r,baseLine:a,strokeWidth:s}=e;return n==="vertical"?A.createElement(Cbe,{alpha:t,points:r,baseLine:a,strokeWidth:s}):A.createElement(Tbe,{alpha:t,points:r,baseLine:a,strokeWidth:s})}function Mbe(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:a,previousBaselineRef:s}=e,{points:c,baseLine:f,isAnimationActive:m,animationBegin:h,animationDuration:p,animationEasing:v,onAnimationStart:j,onAnimationEnd:E}=r,O=kv(r,"recharts-area-"),[T,_]=A.useState(!0),D=A.useCallback(()=>{typeof E=="function"&&E(),_(!1)},[E]),P=A.useCallback(()=>{typeof j=="function"&&j(),_(!0)},[j]),I=a.current,U=s.current;return A.createElement(Ol,{begin:h,duration:p,isActive:m,easing:v,from:{t:0},to:{t:1},onAnimationEnd:D,onAnimationStart:P,key:O},F=>{var{t:L}=F;if(I){var B=I.length/c.length,$=L===1?c:c.map((H,X)=>{var K=Math.floor(X*B);if(I[K]){var ee=I[K];return Zu(Zu({},H),{},{x:_f(ee.x,H.x,L),y:_f(ee.y,H.y,L)})}return H}),z;return Je(f)?z=_f(U,f,L):Dn(f)||Si(f)?z=_f(U,0,L):z=f.map((H,X)=>{var K=Math.floor(X*B);if(Array.isArray(U)&&U[K]){var ee=U[K];return Zu(Zu({},H),{},{x:_f(ee.x,H.x,L),y:_f(ee.y,H.y,L)})}return H}),L>0&&(a.current=$,s.current=z),A.createElement(aA,{points:$,baseLine:z,needClip:t,clipPathId:n,props:r,showLabels:!T})}return L>0&&(a.current=c,s.current=f),A.createElement(gr,null,A.createElement("defs",null,A.createElement("clipPath",{id:"animationClipPath-".concat(n)},A.createElement(Obe,{alpha:L,points:c,baseLine:f,layout:r.layout,strokeWidth:r.strokeWidth}))),A.createElement(gr,{clipPath:"url(#animationClipPath-".concat(n,")")},A.createElement(aA,{points:c,baseLine:f,needClip:t,clipPathId:n,props:r,showLabels:!0})))})}function Dbe(e){var{needClip:t,clipPathId:n,props:r}=e,{points:a,baseLine:s,isAnimationActive:c}=r,f=A.useRef(null),m=A.useRef(),h=f.current,p=m.current;return c&&a&&a.length&&(h!==a||p!==s)?A.createElement(Mbe,{needClip:t,clipPathId:n,props:r,previousPointsRef:f,previousBaselineRef:m}):A.createElement(aA,{points:a,baseLine:s,needClip:t,clipPathId:n,props:r,showLabels:!0})}class Rbe extends A.PureComponent{constructor(){super(...arguments),Vv(this,"id",qc("recharts-area-"))}render(){var t,{hide:n,dot:r,points:a,className:s,top:c,left:f,needClip:m,xAxisId:h,yAxisId:p,width:v,height:j,id:E,baseLine:O}=this.props;if(n)return null;var T=en("recharts-area",s),_=Dn(E)?this.id:E,{r:D=3,strokeWidth:P=2}=(t=Ut(r,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},I=rv(r),U=D*2+P;return A.createElement(A.Fragment,null,A.createElement(gr,{className:T},m&&A.createElement("defs",null,A.createElement(T_,{clipPathId:_,xAxisId:h,yAxisId:p}),!I&&A.createElement("clipPath",{id:"clipPath-dots-".concat(_)},A.createElement("rect",{x:f-U/2,y:c-U/2,width:v+U,height:j+U}))),A.createElement(Dbe,{needClip:m,clipPathId:_,props:this.props})),A.createElement(eA,{points:a,mainColor:b1(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(O)&&A.createElement(eA,{points:O,mainColor:b1(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var $U={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!au.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function Ibe(e){var t,n=Xi(e,$U),{activeDot:r,animationBegin:a,animationDuration:s,animationEasing:c,connectNulls:f,dot:m,fill:h,fillOpacity:p,hide:v,isAnimationActive:j,legendType:E,stroke:O,xAxisId:T,yAxisId:_}=n,D=VU(n,ybe),P=ng(),I=HF(),{needClip:U}=Fv(T,_),F=Xa(),L=A.useMemo(()=>({baseValue:e.baseValue,stackId:e.stackId,connectNulls:f,data:e.data,dataKey:e.dataKey}),[e.baseValue,e.stackId,f,e.data,e.dataKey]),{points:B,isRange:$,baseLine:z}=(t=ft(ue=>xbe(ue,T,_,F,L)))!==null&&t!==void 0?t:{},{height:H,width:X,x:K,y:ee}=Bv();return P!=="horizontal"&&P!=="vertical"||I!=="AreaChart"&&I!=="ComposedChart"?null:A.createElement(Rbe,kc({},D,{activeDot:r,animationBegin:a,animationDuration:s,animationEasing:c,baseLine:z,connectNulls:f,dot:m,fill:h,fillOpacity:p,height:H,hide:v,layout:P,isAnimationActive:j,isRange:$,legendType:E,needClip:U,points:B,stroke:O,width:X,left:K,top:ee,xAxisId:T,yAxisId:_}))}var Pbe=(e,t,n,r,a)=>{var s=n??t;if(Je(s))return s;var c=e==="horizontal"?a:r,f=c.scale.domain();if(c.type==="number"){var m=Math.max(f[0],f[1]),h=Math.min(f[0],f[1]);return s==="dataMin"?h:s==="dataMax"||m<0?m:Math.max(Math.min(f[0],f[1]),0)}return s==="dataMin"?f[0]:s==="dataMax"?f[1]:f[0]};function kbe(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:a,layout:s,chartBaseValue:c,xAxis:f,yAxis:m,displayedData:h,dataStartIndex:p,xAxisTicks:v,yAxisTicks:j,bandSize:E}=e,O=a&&a.length,T=Pbe(s,c,n,f,m),_=s==="horizontal",D=!1,P=h.map((U,F)=>{var L;O?L=a[p+F]:(L=Fn(U,r),Array.isArray(L)?D=!0:L=[T,L]);var B=L[1]==null||O&&!t&&Fn(U,r)==null;return _?{x:Jx({axis:f,ticks:v,bandSize:E,entry:U,index:F}),y:B?null:m.scale(L[1]),value:L,payload:U}:{x:B?null:f.scale(L[1]),y:Jx({axis:m,ticks:j,bandSize:E,entry:U,index:F}),value:L,payload:U}}),I;return O||D?I=P.map(U=>{var F=Array.isArray(U.value)?U.value[0]:null;return _?{x:U.x,y:F!=null&&U.y!=null?m.scale(F):null}:{x:F!=null?f.scale(F):null,y:U.y}}):I=_?m.scale(T):f.scale(T),{points:P,baseLine:I,isRange:D}}class xd extends A.PureComponent{render(){return A.createElement(C_,{type:"area",data:this.props.data,dataKey:this.props.dataKey,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,stackId:this.props.stackId,hide:this.props.hide,barSize:void 0},A.createElement(__,{legendPayload:jbe(this.props)}),A.createElement(Pv,{fn:Abe,args:this.props}),A.createElement(Ibe,this.props))}}Vv(xd,"displayName","Area");Vv(xd,"defaultProps",$U);function RP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function IP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RP(Object(n),!0).forEach(function(r){Lbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lbe(e,t,n){return(t=Bbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bbe(e){var t=Fbe(e,"string");return typeof t=="symbol"?t:t+""}function Fbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ube={xAxis:{},yAxis:{},zAxis:{}},HU=js({name:"cartesianAxis",initialState:Ube,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=IP(IP({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:zbe,removeXAxis:Vbe,addYAxis:$be,removeYAxis:Hbe,addZAxis:OAe,removeZAxis:MAe,updateYAxisWidth:qbe}=HU.actions,Ybe=HU.reducer,Wbe=["children"],Gbe=["dangerouslySetInnerHTML","ticks"];function qU(e,t,n){return(t=Kbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kbe(e){var t=Xbe(e,"string");return typeof t=="symbol"?t:t+""}function Xbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iA(){return iA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iA.apply(null,arguments)}function YU(e,t){if(e==null)return{};var n,r,a=Qbe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Qbe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Zbe(e){var t=ar(),n=A.useMemo(()=>{var{children:s}=e,c=YU(e,Wbe);return c},[e]),r=ft(s=>Vl(s,n.id)),a=n===r;return A.useEffect(()=>(t(zbe(n)),()=>{t(Vbe(n))}),[n,t]),a?e.children:null}var Jbe=e=>{var{xAxisId:t,className:n}=e,r=ft(UB),a=Xa(),s="xAxis",c=ft(E=>Th(E,s,t,a)),f=ft(E=>jF(E,s,t,a)),m=ft(E=>yF(E,t)),h=ft(E=>$0e(E,t));if(m==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:v}=e,j=YU(e,Gbe);return A.createElement(lu,iA({},j,{scale:c,x:h.x,y:h.y,width:m.width,height:m.height,className:en("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:f}))},ewe=e=>{var t,n,r,a,s;return A.createElement(Zbe,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(r=e.angle)!==null&&r!==void 0?r:0,minTickGap:(a=e.minTickGap)!==null&&a!==void 0?a:5,tick:(s=e.tick)!==null&&s!==void 0?s:!0,tickFormatter:e.tickFormatter},A.createElement(Jbe,e))};class Pr extends A.Component{render(){return A.createElement(ewe,this.props)}}qU(Pr,"displayName","XAxis");qU(Pr,"defaultProps",{allowDataOverflow:Pi.allowDataOverflow,allowDecimals:Pi.allowDecimals,allowDuplicatedCategory:Pi.allowDuplicatedCategory,height:Pi.height,hide:!1,mirror:Pi.mirror,orientation:Pi.orientation,padding:Pi.padding,reversed:Pi.reversed,scale:Pi.scale,tickCount:Pi.tickCount,type:Pi.type,xAxisId:0});var twe=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:s=0}=e,c=0;if(t){t.forEach(p=>{if(p){var v=p.getBoundingClientRect();v.width>c&&(c=v.width)}});var f=n?n.getBoundingClientRect().width:0,m=a+s,h=c+m+f+(n?r:0);return Math.round(h)}return 0},nwe=["dangerouslySetInnerHTML","ticks"];function WU(e,t,n){return(t=rwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rwe(e){var t=awe(e,"string");return typeof t=="symbol"?t:t+""}function awe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sA(){return sA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sA.apply(null,arguments)}function iwe(e,t){if(e==null)return{};var n,r,a=swe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function swe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function owe(e){var t=ar();return A.useEffect(()=>(t($be(e)),()=>{t(Hbe(e))}),[e,t]),null}var lwe=e=>{var t,{yAxisId:n,className:r,width:a,label:s}=e,c=A.useRef(null),f=A.useRef(null),m=ft(UB),h=Xa(),p=ar(),v="yAxis",j=ft(I=>Th(I,v,n,h)),E=ft(I=>bF(I,n)),O=ft(I=>H0e(I,n)),T=ft(I=>jF(I,v,n,h));if(A.useLayoutEffect(()=>{var I;if(!(a!=="auto"||!E||v_(s)||A.isValidElement(s))){var U=c.current,F=U==null||(I=U.tickRefs)===null||I===void 0?void 0:I.current,{tickSize:L,tickMargin:B}=U.props,$=twe({ticks:F,label:f.current,labelGapWithTick:5,tickSize:L,tickMargin:B});Math.round(E.width)!==Math.round($)&&p(qbe({id:n,width:$}))}},[c,c==null||(t=c.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,E==null?void 0:E.width,E,p,s,n,a]),E==null||O==null)return null;var{dangerouslySetInnerHTML:_,ticks:D}=e,P=iwe(e,nwe);return A.createElement(lu,sA({},P,{ref:c,labelRef:f,scale:j,x:O.x,y:O.y,width:E.width,height:E.height,className:en("recharts-".concat(v," ").concat(v),r),viewBox:m,ticks:T}))},cwe=e=>{var t,n,r,a,s;return A.createElement(A.Fragment,null,A.createElement(owe,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(r=e.angle)!==null&&r!==void 0?r:0,minTickGap:(a=e.minTickGap)!==null&&a!==void 0?a:5,tick:(s=e.tick)!==null&&s!==void 0?s:!0,tickFormatter:e.tickFormatter}),A.createElement(lwe,e))},uwe={allowDataOverflow:ki.allowDataOverflow,allowDecimals:ki.allowDecimals,allowDuplicatedCategory:ki.allowDuplicatedCategory,hide:!1,mirror:ki.mirror,orientation:ki.orientation,padding:ki.padding,reversed:ki.reversed,scale:ki.scale,tickCount:ki.tickCount,type:ki.type,width:ki.width,yAxisId:0};class kr extends A.Component{render(){return A.createElement(cwe,this.props)}}WU(kr,"displayName","YAxis");WU(kr,"defaultProps",uwe);var oS={exports:{}},lS={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PP;function dwe(){if(PP)return lS;PP=1;var e=uh();function t(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,a=e.useRef,s=e.useEffect,c=e.useMemo,f=e.useDebugValue;return lS.useSyncExternalStoreWithSelector=function(m,h,p,v,j){var E=a(null);if(E.current===null){var O={hasValue:!1,value:null};E.current=O}else O=E.current;E=c(function(){function _(F){if(!D){if(D=!0,P=F,F=v(F),j!==void 0&&O.hasValue){var L=O.value;if(j(L,F))return I=L}return I=F}if(L=I,n(P,F))return L;var B=v(F);return j!==void 0&&j(L,B)?(P=F,L):(P=F,I=B)}var D=!1,P,I,U=p===void 0?null:p;return[function(){return _(h())},U===null?void 0:function(){return _(U())}]},[h,p,v,j]);var T=r(m,E[0],E[1]);return s(function(){O.hasValue=!0,O.value=T},[T]),f(T),T},lS}var kP;function fwe(){return kP||(kP=1,oS.exports=dwe()),oS.exports}fwe();function hwe(e){e()}function mwe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){hwe(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!r||e===null||(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var LP={notify(){},get:()=>[]};function gwe(e,t){let n,r=LP,a=0,s=!1;function c(T){p();const _=r.subscribe(T);let D=!1;return()=>{D||(D=!0,_(),v())}}function f(){r.notify()}function m(){O.onStateChange&&O.onStateChange()}function h(){return s}function p(){a++,n||(n=e.subscribe(m),r=mwe())}function v(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=LP)}function j(){s||(s=!0,p())}function E(){s&&(s=!1,v())}const O={addNestedSub:c,notifyNestedSubs:f,handleChangeWrapper:m,isSubscribed:h,trySubscribe:j,tryUnsubscribe:E,getListeners:()=>r};return O}var pwe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xwe=pwe(),vwe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ywe=vwe(),bwe=()=>xwe||ywe?A.useLayoutEffect:A.useEffect,wwe=bwe(),cS=Symbol.for("react-redux-context"),uS=typeof globalThis<"u"?globalThis:{};function Swe(){if(!A.createContext)return{};const e=uS[cS]??(uS[cS]=new Map);let t=e.get(A.createContext);return t||(t=A.createContext(null),e.set(A.createContext,t)),t}var jwe=Swe();function Awe(e){const{children:t,context:n,serverState:r,store:a}=e,s=A.useMemo(()=>{const m=gwe(a);return{store:a,subscription:m,getServerState:r?()=>r:void 0}},[a,r]),c=A.useMemo(()=>a.getState(),[a]);wwe(()=>{const{subscription:m}=s;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),c!==a.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[s,c]);const f=n||jwe;return A.createElement(f.Provider,{value:s},t)}var Ewe=Awe,Nwe=(e,t)=>t,I_=Me([Nwe,cn,r0e,Sa,BF,$l,Yge,ca],Qge),P_=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},GU=bs("mouseClick"),KU=tg();KU.startListening({actionCreator:GU,effect:(e,t)=>{var n=e.payload,r=I_(t.getState(),P_(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(rge({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var oA=bs("mouseMove"),XU=tg();XU.startListening({actionCreator:oA,effect:(e,t)=>{var n=e.payload,r=t.getState(),a=c_(r,r.tooltip.settings.shared),s=I_(r,P_(n));a==="axis"&&((s==null?void 0:s.activeIndex)!=null?t.dispatch(MF({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(OF()))}});function _we(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var BP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},QU=js({name:"rootProps",initialState:BP,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:BP.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Cwe=QU.reducer,{updateOptions:Twe}=QU.actions,ZU=js({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Owe}=ZU.actions,Mwe=ZU.reducer,JU=bs("keyDown"),ez=bs("focus"),k_=tg();k_.startListening({actionCreator:JU,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var c=Number(u_(a,Nd(n))),f=$l(n);if(s==="Enter"){var m=m1(n,"axis","hover",String(a.index));t.dispatch(Gj({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:m}));return}var h=G0e(n),p=h==="left-to-right"?1:-1,v=s==="ArrowRight"?1:-1,j=c+v*p;if(!(f==null||j>=f.length||j<0)){var E=m1(n,"axis","hover",String(j));t.dispatch(Gj({active:!0,activeIndex:j.toString(),activeDataKey:void 0,activeCoordinate:E}))}}}}});k_.startListening({actionCreator:ez,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var s="0",c=m1(n,"axis","hover",String(s));t.dispatch(Gj({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:c}))}}}});var us=bs("externalEvent"),tz=tg();tz.startListening({actionCreator:us,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:Lge(n),activeDataKey:VF(n),activeIndex:Yc(n),activeLabel:zF(n),activeTooltipIndex:Yc(n),isTooltipActive:Bge(n)};e.payload.handler(r,e.payload.reactEvent)}}});var Dwe=Me([Oh],e=>e.tooltipItemPayloads),Rwe=Me([Dwe,hg,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var a=e.find(f=>f.settings.dataKey===r);if(a!=null){var{positions:s}=a;if(s!=null){var c=t(s,n);return c}}}),nz=bs("touchMove"),rz=tg();rz.startListening({actionCreator:nz,effect:(e,t)=>{var n=e.payload,r=t.getState(),a=c_(r,r.tooltip.settings.shared);if(a==="axis"){var s=I_(r,P_({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(MF({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var c,f=n.touches[0],m=document.elementFromPoint(f.clientX,f.clientY);if(!m||!m.getAttribute)return;var h=m.getAttribute(BB),p=(c=m.getAttribute(FB))!==null&&c!==void 0?c:void 0,v=Rwe(t.getState(),h,p);t.dispatch(TF({activeDataKey:p,activeIndex:h,activeCoordinate:v}))}}});var Iwe=dB({brush:aye,cartesianAxis:Ybe,chartData:hpe,graphicalItems:Kxe,layout:Yce,legend:Due,options:lpe,polarAxis:Rxe,polarOptions:Mwe,referenceElements:dye,rootProps:Cwe,tooltip:age}),Pwe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return xce({reducer:Iwe,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([KU.middleware,XU.middleware,k_.middleware,tz.middleware,rz.middleware]),devTools:{serialize:{replacer:_we},name:"recharts-".concat(n)}})};function az(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,a=Xa(),s=A.useRef(null);if(a)return n;s.current==null&&(s.current=Pwe(t,r));var c=eN;return A.createElement(Ewe,{context:c,store:s.current},n)}function iz(e){var{layout:t,width:n,height:r,margin:a}=e,s=ar(),c=Xa();return A.useEffect(()=>{c||(s($ce(t)),s(Hce({width:n,height:r})),s(Vce(a)))},[s,c,t,n,r,a]),null}function sz(e){var t=ar();return A.useEffect(()=>{t(Twe(e))},[t,e]),null}var kwe=["children"];function Lwe(e,t){if(e==null)return{};var n,r,a=Bwe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Bwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function w1(){return w1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w1.apply(null,arguments)}var Fwe={width:"100%",height:"100%"},Uwe=A.forwardRef((e,t)=>{var n=uN(),r=dN(),a=qB();if(!rh(n)||!rh(r))return null;var{children:s,otherAttributes:c,title:f,desc:m}=e,h,p;return typeof c.tabIndex=="number"?h=c.tabIndex:h=a?0:void 0,typeof c.role=="string"?p=c.role:p=a?"application":void 0,A.createElement(VE,w1({},c,{title:f,desc:m,role:p,tabIndex:h,width:n,height:r,style:Fwe,ref:t}),s)}),zwe=e=>{var{children:t}=e,n=ft(pv);if(!n)return null;var{width:r,height:a,y:s,x:c}=n;return A.createElement(VE,{width:r,height:a,x:c,y:s},t)},FP=A.forwardRef((e,t)=>{var{children:n}=e,r=Lwe(e,kwe),a=Xa();return a?A.createElement(zwe,null,n):A.createElement(Uwe,w1({ref:t},r),n)});function Vwe(){var e=ar(),[t,n]=A.useState(null),r=ft(bue);return A.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;Ma(s)&&s!==r&&e(qce(s))}},[t,e,r]),n}function UP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $we(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UP(Object(n),!0).forEach(function(r){Hwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hwe(e,t,n){return(t=qwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qwe(e){var t=Ywe(e,"string");return typeof t=="symbol"?t:t+""}function Ywe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wwe=A.forwardRef((e,t)=>{var{children:n,className:r,height:a,onClick:s,onContextMenu:c,onDoubleClick:f,onMouseDown:m,onMouseEnter:h,onMouseLeave:p,onMouseMove:v,onMouseUp:j,onTouchEnd:E,onTouchMove:O,onTouchStart:T,style:_,width:D}=e,P=ar(),[I,U]=A.useState(null),[F,L]=A.useState(null);ppe();var B=Vwe(),$=A.useCallback(se=>{B(se),typeof t=="function"&&t(se),U(se),L(se)},[B,t,U,L]),z=A.useCallback(se=>{P(GU(se)),P(us({handler:s,reactEvent:se}))},[P,s]),H=A.useCallback(se=>{P(oA(se)),P(us({handler:h,reactEvent:se}))},[P,h]),X=A.useCallback(se=>{P(OF()),P(us({handler:p,reactEvent:se}))},[P,p]),K=A.useCallback(se=>{P(oA(se)),P(us({handler:v,reactEvent:se}))},[P,v]),ee=A.useCallback(()=>{P(ez())},[P]),ue=A.useCallback(se=>{P(JU(se.key))},[P]),ne=A.useCallback(se=>{P(us({handler:c,reactEvent:se}))},[P,c]),G=A.useCallback(se=>{P(us({handler:f,reactEvent:se}))},[P,f]),Q=A.useCallback(se=>{P(us({handler:m,reactEvent:se}))},[P,m]),ae=A.useCallback(se=>{P(us({handler:j,reactEvent:se}))},[P,j]),he=A.useCallback(se=>{P(us({handler:T,reactEvent:se}))},[P,T]),te=A.useCallback(se=>{P(nz(se)),P(us({handler:O,reactEvent:se}))},[P,O]),fe=A.useCallback(se=>{P(us({handler:E,reactEvent:se}))},[P,E]);return A.createElement(KF.Provider,{value:I},A.createElement(I7.Provider,{value:F},A.createElement("div",{className:en("recharts-wrapper",r),style:$we({position:"relative",cursor:"default",width:D,height:a},_),onClick:z,onContextMenu:ne,onDoubleClick:G,onFocus:ee,onKeyDown:ue,onMouseDown:Q,onMouseEnter:H,onMouseLeave:X,onMouseMove:K,onMouseUp:ae,onTouchEnd:fe,onTouchMove:te,onTouchStart:he,ref:$},n)))}),Gwe=["children","className","width","height","style","compact","title","desc"];function Kwe(e,t){if(e==null)return{};var n,r,a=Xwe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Xwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var oz=A.forwardRef((e,t)=>{var{children:n,className:r,width:a,height:s,style:c,compact:f,title:m,desc:h}=e,p=Kwe(e,Gwe),v=Ut(p,!1);return f?A.createElement(FP,{otherAttributes:v,title:m,desc:h},n):A.createElement(Wwe,{className:r,style:c,width:a,height:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},A.createElement(FP,{otherAttributes:v,title:m,desc:h,ref:t},A.createElement(hye,null,n)))}),Qwe=["width","height"];function lA(){return lA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lA.apply(null,arguments)}function Zwe(e,t){if(e==null)return{};var n,r,a=Jwe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Jwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var e2e={top:5,right:5,bottom:5,left:5},t2e={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:e2e,reverseStackOrder:!1,syncMethod:"index"},L_=A.forwardRef(function(t,n){var r,a=Xi(t.categoricalChartProps,t2e),{width:s,height:c}=a,f=Zwe(a,Qwe);if(!rh(s)||!rh(c))return null;var{chartName:m,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:v,categoricalChartProps:j}=t,E={chartName:m,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:v,eventEmitter:void 0};return A.createElement(az,{preloadedState:{options:E},reduxStoreName:(r=j.id)!==null&&r!==void 0?r:m},A.createElement(NU,{chartData:j.data}),A.createElement(iz,{width:s,height:c,layout:a.layout,margin:a.margin}),A.createElement(sz,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),A.createElement(oz,lA({},f,{width:s,height:c,ref:n})))}),n2e=["axis"],R0=A.forwardRef((e,t)=>A.createElement(L_,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:n2e,tooltipPayloadSearcher:Rv,categoricalChartProps:e,ref:t})),r2e=["axis","item"],Ro=A.forwardRef((e,t)=>A.createElement(L_,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:r2e,tooltipPayloadSearcher:Rv,categoricalChartProps:e,ref:t}));function a2e(e){var t=ar();return A.useEffect(()=>{t(Owe(e))},[t,e]),null}var i2e=["width","height","layout"];function cA(){return cA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cA.apply(null,arguments)}function s2e(e,t){if(e==null)return{};var n,r,a=o2e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function o2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var l2e={top:5,right:5,bottom:5,left:5},c2e={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:l2e,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},u2e=A.forwardRef(function(t,n){var r,a=Xi(t.categoricalChartProps,c2e),{width:s,height:c,layout:f}=a,m=s2e(a,i2e);if(!rh(s)||!rh(c))return null;var{chartName:h,defaultTooltipEventType:p,validateTooltipEventTypes:v,tooltipPayloadSearcher:j}=t,E={chartName:h,defaultTooltipEventType:p,validateTooltipEventTypes:v,tooltipPayloadSearcher:j,eventEmitter:void 0};return A.createElement(az,{preloadedState:{options:E},reduxStoreName:(r=a.id)!==null&&r!==void 0?r:h},A.createElement(NU,{chartData:a.data}),A.createElement(iz,{width:s,height:c,layout:f,margin:a.margin}),A.createElement(sz,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),A.createElement(a2e,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),A.createElement(oz,cA({width:s,height:c},m,{ref:n})))}),d2e=["item"],f2e={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},S1=A.forwardRef((e,t)=>{var n=Xi(e,f2e);return A.createElement(u2e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:d2e,tooltipPayloadSearcher:Rv,categoricalChartProps:n,ref:t})}),h2e=["axis"],$v=A.forwardRef((e,t)=>A.createElement(L_,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:h2e,tooltipPayloadSearcher:Rv,categoricalChartProps:e,ref:t}));const lz=6048e5,m2e=864e5,cz=6e4,uz=36e5,zP=Symbol.for("constructDateFrom");function Ka(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&zP in e?e[zP](t):e instanceof Date?new e.constructor(t):new Date(t)}function Da(e,t){return Ka(t||e,e)}function dz(e,t,n){const r=Da(e,n==null?void 0:n.in);return isNaN(t)?Ka(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function g2e(e,t,n){const r=Da(e,n==null?void 0:n.in);if(isNaN(t))return Ka(e,NaN);if(!t)return r;const a=r.getDate(),s=Ka(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const c=s.getDate();return a>=c?s:(r.setFullYear(s.getFullYear(),s.getMonth(),a),r)}let p2e={};function Hv(){return p2e}function I0(e,t){var f,m,h,p;const n=Hv(),r=(t==null?void 0:t.weekStartsOn)??((m=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,a=Da(e,t==null?void 0:t.in),s=a.getDay(),c=(s<r?7:0)+s-r;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function j1(e,t){return I0(e,{...t,weekStartsOn:1})}function fz(e,t){const n=Da(e,t==null?void 0:t.in),r=n.getFullYear(),a=Ka(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const s=j1(a),c=Ka(n,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const f=j1(c);return n.getTime()>=s.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}function VP(e){const t=Da(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function B_(e,...t){const n=Ka.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function A1(e,t){const n=Da(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function x2e(e,t,n){const[r,a]=B_(n==null?void 0:n.in,e,t),s=A1(r),c=A1(a),f=+s-VP(s),m=+c-VP(c);return Math.round((f-m)/m2e)}function v2e(e,t){const n=fz(e,t),r=Ka(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),j1(r)}function y2e(e){return Ka(e,Date.now())}function b2e(e,t,n){const[r,a]=B_(n==null?void 0:n.in,e,t);return+A1(r)==+A1(a)}function w2e(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function S2e(e){return!(!w2e(e)&&typeof e!="number"||isNaN(+Da(e)))}function F_(e,t){const n=Da(e,t==null?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function hz(e,t){const[n,r]=B_(e,t.start,t.end);return{start:n,end:r}}function j2e(e,t){const{start:n,end:r}=hz(t==null?void 0:t.in,e);let a=+n>+r;const s=a?+n:+r,c=a?r:n;c.setHours(0,0,0,0);let f=1;const m=[];for(;+c<=s;)m.push(Ka(n,c)),c.setDate(c.getDate()+f),c.setHours(0,0,0,0);return a?m.reverse():m}function A2e(e,t){const{start:n,end:r}=hz(t==null?void 0:t.in,e);let a=+n>+r;const s=a?+n:+r,c=a?r:n;c.setHours(0,0,0,0),c.setDate(1);let f=1;const m=[];for(;+c<=s;)m.push(Ka(n,c)),c.setMonth(c.getMonth()+f);return a?m.reverse():m}function U_(e,t){const n=Da(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function E2e(e,t){const n=Da(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const N2e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_2e=(e,t,n)=>{let r;const a=N2e[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Wf(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const C2e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},T2e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},O2e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},M2e={date:Wf({formats:C2e,defaultWidth:"full"}),time:Wf({formats:T2e,defaultWidth:"full"}),dateTime:Wf({formats:O2e,defaultWidth:"full"})},D2e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},R2e=(e,t,n,r)=>D2e[e];function jo(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,f=n!=null&&n.width?String(n.width):c;a=e.formattingValues[f]||e.formattingValues[c]}else{const c=e.defaultWidth,f=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[f]||e.values[c]}const s=e.argumentCallback?e.argumentCallback(t):t;return a[s]}}const I2e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},P2e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},k2e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},L2e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},B2e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},F2e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},U2e=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},z2e={ordinalNumber:U2e,era:jo({values:I2e,defaultWidth:"wide"}),quarter:jo({values:P2e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:jo({values:k2e,defaultWidth:"wide"}),day:jo({values:L2e,defaultWidth:"wide"}),dayPeriod:jo({values:B2e,defaultWidth:"wide",formattingValues:F2e,defaultFormattingWidth:"wide"})};function Ao(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const c=s[0],f=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],m=Array.isArray(f)?$2e(f,v=>v.test(c)):V2e(f,v=>v.test(c));let h;h=e.valueCallback?e.valueCallback(m):m,h=n.valueCallback?n.valueCallback(h):h;const p=t.slice(c.length);return{value:h,rest:p}}}function V2e(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function $2e(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function mz(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],s=t.match(e.parsePattern);if(!s)return null;let c=e.valueCallback?e.valueCallback(s[0]):s[0];c=n.valueCallback?n.valueCallback(c):c;const f=t.slice(a.length);return{value:c,rest:f}}}const H2e=/^(\d+)(th|st|nd|rd)?/i,q2e=/\d+/i,Y2e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},W2e={any:[/^b/i,/^(a|c)/i]},G2e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},K2e={any:[/1/i,/2/i,/3/i,/4/i]},X2e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Q2e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Z2e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},J2e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},eSe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},tSe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},nSe={ordinalNumber:mz({matchPattern:H2e,parsePattern:q2e,valueCallback:e=>parseInt(e,10)}),era:Ao({matchPatterns:Y2e,defaultMatchWidth:"wide",parsePatterns:W2e,defaultParseWidth:"any"}),quarter:Ao({matchPatterns:G2e,defaultMatchWidth:"wide",parsePatterns:K2e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ao({matchPatterns:X2e,defaultMatchWidth:"wide",parsePatterns:Q2e,defaultParseWidth:"any"}),day:Ao({matchPatterns:Z2e,defaultMatchWidth:"wide",parsePatterns:J2e,defaultParseWidth:"any"}),dayPeriod:Ao({matchPatterns:eSe,defaultMatchWidth:"any",parsePatterns:tSe,defaultParseWidth:"any"})},rSe={code:"en-US",formatDistance:_2e,formatLong:M2e,formatRelative:R2e,localize:z2e,match:nSe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function aSe(e,t){const n=Da(e,t==null?void 0:t.in);return x2e(n,E2e(n))+1}function iSe(e,t){const n=Da(e,t==null?void 0:t.in),r=+j1(n)-+v2e(n);return Math.round(r/lz)+1}function gz(e,t){var p,v,j,E;const n=Da(e,t==null?void 0:t.in),r=n.getFullYear(),a=Hv(),s=(t==null?void 0:t.firstWeekContainsDate)??((v=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??a.firstWeekContainsDate??((E=(j=a.locale)==null?void 0:j.options)==null?void 0:E.firstWeekContainsDate)??1,c=Ka((t==null?void 0:t.in)||e,0);c.setFullYear(r+1,0,s),c.setHours(0,0,0,0);const f=I0(c,t),m=Ka((t==null?void 0:t.in)||e,0);m.setFullYear(r,0,s),m.setHours(0,0,0,0);const h=I0(m,t);return+n>=+f?r+1:+n>=+h?r:r-1}function sSe(e,t){var f,m,h,p;const n=Hv(),r=(t==null?void 0:t.firstWeekContainsDate)??((m=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,a=gz(e,t),s=Ka((t==null?void 0:t.in)||e,0);return s.setFullYear(a,0,r),s.setHours(0,0,0,0),I0(s,t)}function oSe(e,t){const n=Da(e,t==null?void 0:t.in),r=+I0(n,t)-+sSe(n,t);return Math.round(r/lz)+1}function Tn(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const _c={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Tn(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Tn(n+1,2)},d(e,t){return Tn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Tn(e.getHours()%12||12,t.length)},H(e,t){return Tn(e.getHours(),t.length)},m(e,t){return Tn(e.getMinutes(),t.length)},s(e,t){return Tn(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return Tn(a,t.length)}},Of={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$P={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return _c.y(e,t)},Y:function(e,t,n,r){const a=gz(e,r),s=a>0?a:1-a;if(t==="YY"){const c=s%100;return Tn(c,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):Tn(s,t.length)},R:function(e,t){const n=fz(e);return Tn(n,t.length)},u:function(e,t){const n=e.getFullYear();return Tn(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Tn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Tn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return _c.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Tn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=oSe(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):Tn(a,t.length)},I:function(e,t,n){const r=iSe(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Tn(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):_c.d(e,t)},D:function(e,t,n){const r=aSe(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Tn(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Tn(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Tn(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return Tn(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=Of.noon:r===0?a=Of.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=Of.evening:r>=12?a=Of.afternoon:r>=4?a=Of.morning:a=Of.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return _c.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):_c.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Tn(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Tn(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):_c.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):_c.s(e,t)},S:function(e,t){return _c.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return qP(r);case"XXXX":case"XX":return $u(r);case"XXXXX":case"XXX":default:return $u(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return qP(r);case"xxxx":case"xx":return $u(r);case"xxxxx":case"xxx":default:return $u(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+HP(r,":");case"OOOO":default:return"GMT"+$u(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+HP(r,":");case"zzzz":default:return"GMT"+$u(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return Tn(r,t.length)},T:function(e,t,n){return Tn(+e,t.length)}};function HP(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),s=r%60;return s===0?n+String(a):n+String(a)+t+Tn(s,2)}function qP(e,t){return e%60===0?(e>0?"-":"+")+Tn(Math.abs(e)/60,2):$u(e,t)}function $u(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Tn(Math.trunc(r/60),2),s=Tn(r%60,2);return n+a+t+s}const YP=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},pz=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},lSe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return YP(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",YP(r,t)).replace("{{time}}",pz(a,t))},cSe={p:pz,P:lSe},uSe=/^D+$/,dSe=/^Y+$/,fSe=["D","DD","YY","YYYY"];function hSe(e){return uSe.test(e)}function mSe(e){return dSe.test(e)}function gSe(e,t,n){const r=pSe(e,t,n);if(console.warn(r),fSe.includes(e))throw new RangeError(r)}function pSe(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const xSe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vSe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ySe=/^'([^]*?)'?$/,bSe=/''/g,wSe=/[a-zA-Z]/;function fr(e,t,n){var p,v,j,E,O,T,_,D;const r=Hv(),a=(n==null?void 0:n.locale)??r.locale??rSe,s=(n==null?void 0:n.firstWeekContainsDate)??((v=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??r.firstWeekContainsDate??((E=(j=r.locale)==null?void 0:j.options)==null?void 0:E.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((T=(O=n==null?void 0:n.locale)==null?void 0:O.options)==null?void 0:T.weekStartsOn)??r.weekStartsOn??((D=(_=r.locale)==null?void 0:_.options)==null?void 0:D.weekStartsOn)??0,f=Da(e,n==null?void 0:n.in);if(!S2e(f))throw new RangeError("Invalid time value");let m=t.match(vSe).map(P=>{const I=P[0];if(I==="p"||I==="P"){const U=cSe[I];return U(P,a.formatLong)}return P}).join("").match(xSe).map(P=>{if(P==="''")return{isToken:!1,value:"'"};const I=P[0];if(I==="'")return{isToken:!1,value:SSe(P)};if($P[I])return{isToken:!0,value:P};if(I.match(wSe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");return{isToken:!1,value:P}});a.localize.preprocessor&&(m=a.localize.preprocessor(f,m));const h={firstWeekContainsDate:s,weekStartsOn:c,locale:a};return m.map(P=>{if(!P.isToken)return P.value;const I=P.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&mSe(I)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&hSe(I))&&gSe(I,t,String(e));const U=$P[I[0]];return U(f,I,a.localize,h)}).join("")}function SSe(e){const t=e.match(ySe);return t?t[1].replace(bSe,"'"):e}function E1(e,t){return b2e(Ka(e,e),y2e(e))}function Eo(e,t,n){return dz(e,-t,n)}function Rr(e,t){const n=()=>Ka(t==null?void 0:t.in,NaN),a=NSe(e);let s;if(a.date){const h=_Se(a.date,2);s=CSe(h.restDateString,h.year)}if(!s||isNaN(+s))return n();const c=+s;let f=0,m;if(a.time&&(f=TSe(a.time),isNaN(f)))return n();if(a.timezone){if(m=OSe(a.timezone),isNaN(m))return n()}else{const h=new Date(c+f),p=Da(0,t==null?void 0:t.in);return p.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),p.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),p}return Da(c+f+m,t==null?void 0:t.in)}const ix={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},jSe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ASe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ESe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function NSe(e){const t={},n=e.split(ix.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],ix.timeZoneDelimiter.test(t.date)&&(t.date=e.split(ix.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const a=ix.timezone.exec(r);a?(t.time=r.replace(a[1],""),t.timezone=a[1]):t.time=r}return t}function _Se(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?a:s*100,restDateString:e.slice((r[1]||r[2]).length)}}function CSe(e,t){if(t===null)return new Date(NaN);const n=e.match(jSe);if(!n)return new Date(NaN);const r=!!n[4],a=Um(n[1]),s=Um(n[2])-1,c=Um(n[3]),f=Um(n[4]),m=Um(n[5])-1;if(r)return PSe(t,f,m)?MSe(t,f,m):new Date(NaN);{const h=new Date(0);return!RSe(t,s,c)||!ISe(t,a)?new Date(NaN):(h.setUTCFullYear(t,s,Math.max(a,c)),h)}}function Um(e){return e?parseInt(e):1}function TSe(e){const t=e.match(ASe);if(!t)return NaN;const n=dS(t[1]),r=dS(t[2]),a=dS(t[3]);return kSe(n,r,a)?n*uz+r*cz+a*1e3:NaN}function dS(e){return e&&parseFloat(e.replace(",","."))||0}function OSe(e){if(e==="Z")return 0;const t=e.match(ESe);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return LSe(r,a)?n*(r*uz+a*cz):NaN}function MSe(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const a=r.getUTCDay()||7,s=(t-1)*7+n+1-a;return r.setUTCDate(r.getUTCDate()+s),r}const DSe=[31,null,31,30,31,30,31,31,30,31,30,31];function xz(e){return e%400===0||e%4===0&&e%100!==0}function RSe(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(DSe[t]||(xz(e)?29:28))}function ISe(e,t){return t>=1&&t<=(xz(e)?366:365)}function PSe(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function kSe(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function LSe(e,t){return t>=0&&t<=59}function fS(e,t,n){return g2e(e,-t,n)}const Cc=["#8884d8","#82ca9d","#ffc658","#ff7300","#8dd1e1","#d084d0","#ffb347","#87ceeb","#dda0dd","#98fb98"];function BSe(){var O;const{profile:e}=yn(),{t,language:n}=tn(),[r,a]=A.useState({spendingTrend:[],categoryBreakdown:[],monthlyComparison:[],topMerchants:[],paymentMethods:[],weeklyPattern:[],hourlyPattern:[],budgetAnalysis:{monthlyAverage:0,currentMonth:0,projection:0,variance:0},kpis:{totalSpent:0,averageTransaction:0,transactionCount:0,topCategory:"",savingsRate:0,spendingGrowth:0}}),[s,c]=A.useState(!0),[f,m]=A.useState("last_30_days"),[h,p]=A.useState("line");A.useEffect(()=>{e&&v()},[e,f]);const v=async()=>{var T,_,D,P;if(e)try{c(!0);const I=new Date;let U=new Date;switch(f){case"last_7_days":U=Eo(I,7);break;case"last_30_days":U=Eo(I,30);break;case"last_90_days":U=Eo(I,90);break;case"last_year":U=Eo(I,365);break;default:U=Eo(I,30)}const{data:F,error:L}=await ot.from("transactions").select(`
          *,
          to_profile:profiles!transactions_to_user_id_fkey (
            full_name,
            user_type
          )
        `).eq("from_user_id",e.id).gte("created_at",U.toISOString()).lte("created_at",I.toISOString()).order("created_at",{ascending:!0});if(L)throw L;const B=F||[],$=j2e({start:U,end:I}).map(oe=>{const pe=B.filter(Ie=>fr(new Date(Ie.created_at),"yyyy-MM-dd")===fr(oe,"yyyy-MM-dd"));return{date:fr(oe,"MMM dd"),amount:pe.reduce((Ie,xe)=>Ie+xe.amount,0),transactions:pe.length}}),z=new Map;B.forEach(oe=>{const pe=oe.transaction_type;if(z.has(pe)){const Ie=z.get(pe);z.set(pe,{amount:Ie.amount+oe.amount,count:Ie.count+1})}else z.set(pe,{amount:oe.amount,count:1})});const H=B.reduce((oe,pe)=>oe+pe.amount,0),X=Array.from(z.entries()).map(([oe,pe],Ie)=>({category:oe,amount:pe.amount,count:pe.count,percentage:H>0?pe.amount/H*100:0,color:Cc[Ie%Cc.length]})).sort((oe,pe)=>pe.amount-oe.amount),K=A2e({start:fS(I,11),end:I}).map(oe=>{const pe=U_(oe),Ie=F_(oe),xe=B.filter(Xe=>{const $e=new Date(Xe.created_at);return $e>=pe&&$e<=Ie}),Fe=fS(pe,12),Le=fS(Ie,12),Ne=xe.reduce((Xe,$e)=>Xe+$e.amount,0)*.8;return{month:fr(oe,"MMM"),currentYear:xe.reduce((Xe,$e)=>Xe+$e.amount,0),previousYear:Ne}}),ee=new Map;B.forEach(oe=>{var Ie;const pe=((Ie=oe.to_profile)==null?void 0:Ie.full_name)||"Unknown";if(ee.has(pe)){const xe=ee.get(pe);ee.set(pe,{amount:xe.amount+oe.amount,transactions:xe.transactions+1})}else ee.set(pe,{amount:oe.amount,transactions:1})});const ue=Array.from(ee.entries()).map(([oe,pe])=>({name:oe,amount:pe.amount,transactions:pe.transactions})).sort((oe,pe)=>pe.amount-oe.amount).slice(0,5),ne=new Map;B.forEach(oe=>{const pe=oe.payment_method||"wallet";if(ne.has(pe)){const Ie=ne.get(pe);ne.set(pe,{amount:Ie.amount+oe.amount,count:Ie.count+1})}else ne.set(pe,{amount:oe.amount,count:1})});const G=Array.from(ne.entries()).map(([oe,pe])=>({method:oe,amount:pe.amount,count:pe.count,percentage:H>0?pe.amount/H*100:0})),ae=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(oe=>{const pe=B.filter(Ie=>fr(new Date(Ie.created_at),"EEE")===oe);return{day:oe,amount:pe.reduce((Ie,xe)=>Ie+xe.amount,0),transactions:pe.length}}),he=Array.from({length:24},(oe,pe)=>{const Ie=B.filter(xe=>new Date(xe.created_at).getHours()===pe);return{hour:`${pe.toString().padStart(2,"0")}:00`,amount:Ie.reduce((xe,Fe)=>xe+Fe.amount,0),transactions:Ie.length}}),te=B.filter(oe=>{const pe=new Date(oe.created_at),Ie=new Date;return pe.getMonth()===Ie.getMonth()&&pe.getFullYear()===Ie.getFullYear()}).reduce((oe,pe)=>oe+pe.amount,0),fe=H/Math.max(1,Math.ceil((I.getTime()-U.getTime())/(30*24*60*60*1e3))),se=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),me=new Date().getDate(),Re=te/me*se,ye={totalSpent:H,averageTransaction:B.length>0?H/B.length:0,transactionCount:B.length,topCategory:((T=X[0])==null?void 0:T.category)||"",savingsRate:Math.max(0,(fe-te)/Math.max(fe,1)*100),spendingGrowth:K.length>=2?((((_=K[K.length-1])==null?void 0:_.currentYear)||0)-(((D=K[K.length-2])==null?void 0:D.currentYear)||0))/Math.max(((P=K[K.length-2])==null?void 0:P.currentYear)||1,1)*100:0};a({spendingTrend:$,categoryBreakdown:X,monthlyComparison:K,topMerchants:ue,paymentMethods:G,weeklyPattern:ae,hourlyPattern:he,budgetAnalysis:{monthlyAverage:fe,currentMonth:te,projection:Re,variance:(Re-fe)/Math.max(fe,1)*100},kpis:ye})}catch(I){console.error("Error fetching analytics:",I)}finally{c(!1)}},j=T=>new Intl.NumberFormat(n==="ar"?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(T),E=()=>{const T={generatedAt:new Date().toISOString(),period:f,...r},_=new Blob([JSON.stringify(T,null,2)],{type:"application/json"}),D=URL.createObjectURL(_),P=document.createElement("a");P.href=D,P.download=`spending-analytics-${fr(new Date,"yyyy-MM-dd")}.json`,P.click(),URL.revokeObjectURL(D)};return s?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t("spendingAnalytics")}),i.jsx("p",{className:"text-muted-foreground",children:t("detailedInsightsIntoYourSpending")})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(Lr,{value:f,onValueChange:m,children:[i.jsx(Fr,{className:"w-[160px]",children:i.jsx(Br,{})}),i.jsxs(Ur,{children:[i.jsx(st,{value:"last_7_days",children:t("last7Days")}),i.jsx(st,{value:"last_30_days",children:t("last30Days")}),i.jsx(st,{value:"last_90_days",children:t("last90Days")}),i.jsx(st,{value:"last_year",children:t("lastYear")})]})]}),i.jsxs(De,{variant:"outline",onClick:E,children:[i.jsx(Zs,{className:"h-4 w-4 mr-2"}),t("exportReport")]})]})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-6",children:[i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:t("totalSpent")}),i.jsx(Xr,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:j(r.kpis.totalSpent)}),i.jsxs("div",{className:"flex items-center space-x-2",children:[r.kpis.spendingGrowth>=0?i.jsx(Kn,{className:"h-4 w-4 text-red-500"}):i.jsx(Nl,{className:"h-4 w-4 text-green-500"}),i.jsxs("p",{className:`text-xs ${r.kpis.spendingGrowth>=0?"text-red-500":"text-green-500"}`,children:[r.kpis.spendingGrowth>=0?"+":"",r.kpis.spendingGrowth.toFixed(1),"% ",t("fromLastMonth")]})]})]})]})}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:t("avgTransaction")}),i.jsx(Io,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:j(r.kpis.averageTransaction)}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.kpis.transactionCount," ",t("transactions")]})]})]})}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:t("monthlyBudget")}),i.jsx(k1,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:j(r.budgetAnalysis.projection)}),i.jsxs("p",{className:`text-xs ${r.budgetAnalysis.variance>=0?"text-red-500":"text-green-500"}`,children:[r.budgetAnalysis.variance>=0?"+":"",r.budgetAnalysis.variance.toFixed(1),"% ",t("projected")]})]})]})}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:t("topCategory")}),i.jsx(sE,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t(r.kpis.topCategory)}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[(O=r.categoryBreakdown[0])==null?void 0:O.percentage.toFixed(1),"% ",t("ofSpending")]})]})]})}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:t("savingsRate")}),i.jsx(Kn,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(we,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[r.kpis.savingsRate.toFixed(1),"%"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:t("comparedToAverage")})]})]})}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:t("frequency")}),i.jsx(iE,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:(r.kpis.transactionCount/Math.max(1,parseInt(f.split("_")[1]))).toFixed(1)}),i.jsx("p",{className:"text-xs text-muted-foreground",children:t("transactionsPerDay")})]})]})})]}),i.jsxs(Ll,{defaultValue:"trend",className:"space-y-4",children:[i.jsxs(Bl,{className:"grid w-full grid-cols-6",children:[i.jsx(kt,{value:"trend",children:t("spendingTrend")}),i.jsx(kt,{value:"category",children:t("categories")}),i.jsx(kt,{value:"comparison",children:t("comparison")}),i.jsx(kt,{value:"patterns",children:t("patterns")}),i.jsx(kt,{value:"merchants",children:t("merchants")}),i.jsx(kt,{value:"methods",children:t("paymentMethods")})]}),i.jsx(Lt,{value:"trend",className:"space-y-4",children:i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(ke,{children:t("spendingTrend")}),i.jsx(rt,{children:t("dailySpendingPattern")})]}),i.jsxs(Lr,{value:h,onValueChange:p,children:[i.jsx(Fr,{className:"w-[120px]",children:i.jsx(Br,{})}),i.jsxs(Ur,{children:[i.jsx(st,{value:"line",children:t("line")}),i.jsx(st,{value:"area",children:t("area")}),i.jsx(st,{value:"bar",children:t("bar")})]})]})]}),i.jsx(we,{children:i.jsx(ni,{width:"100%",height:400,children:h==="line"?i.jsxs(R0,{data:r.spendingTrend,children:[i.jsx(Kr,{strokeDasharray:"3 3"}),i.jsx(Pr,{dataKey:"date"}),i.jsx(kr,{}),i.jsx(dr,{formatter:T=>[j(Number(T)),t("amount")]}),i.jsx(va,{}),i.jsx(vs,{type:"monotone",dataKey:"amount",stroke:"#8884d8",strokeWidth:2})]}):h==="area"?i.jsxs($v,{data:r.spendingTrend,children:[i.jsx(Kr,{strokeDasharray:"3 3"}),i.jsx(Pr,{dataKey:"date"}),i.jsx(kr,{}),i.jsx(dr,{formatter:T=>[j(Number(T)),t("amount")]}),i.jsx(xd,{type:"monotone",dataKey:"amount",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})]}):i.jsxs(Ro,{data:r.spendingTrend,children:[i.jsx(Kr,{strokeDasharray:"3 3"}),i.jsx(Pr,{dataKey:"date"}),i.jsx(kr,{}),i.jsx(dr,{formatter:T=>[j(Number(T)),t("amount")]}),i.jsx(Ir,{dataKey:"amount",fill:"#8884d8"})]})})})]})}),i.jsx(Lt,{value:"category",className:"space-y-4",children:i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:t("spendingByCategory")}),i.jsx(rt,{children:t("categoryDistribution")})]}),i.jsx(we,{children:i.jsx(ni,{width:"100%",height:300,children:i.jsxs(S1,{children:[i.jsx(lh,{data:r.categoryBreakdown,cx:"50%",cy:"50%",labelLine:!1,label:({name:T,percentage:_})=>`${t(T)} ${_.toFixed(1)}%`,outerRadius:80,fill:"#8884d8",dataKey:"amount",children:r.categoryBreakdown.map((T,_)=>i.jsx(Wc,{fill:T.color},`cell-${_}`))}),i.jsx(dr,{formatter:T=>[j(Number(T)),t("amount")]})]})})})]}),i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:t("categoryBreakdown")}),i.jsx(rt,{children:t("detailedCategoryAnalysis")})]}),i.jsx(we,{children:i.jsx("div",{className:"space-y-4",children:r.categoryBreakdown.map((T,_)=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:T.color}}),i.jsx("span",{className:"font-medium",children:t(T.category)})]}),i.jsx("span",{className:"text-sm font-medium",children:j(T.amount)})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[i.jsxs("span",{children:[T.count," ",t("transactions")]}),i.jsxs("span",{children:[T.percentage.toFixed(1),"%"]})]}),i.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:i.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${T.percentage}%`,backgroundColor:T.color}})})]},T.category))})})]})]})}),i.jsx(Lt,{value:"comparison",className:"space-y-4",children:i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:t("monthlyComparison")}),i.jsx(rt,{children:t("currentVsPreviousYear")})]}),i.jsx(we,{children:i.jsx(ni,{width:"100%",height:400,children:i.jsxs(Ro,{data:r.monthlyComparison,children:[i.jsx(Kr,{strokeDasharray:"3 3"}),i.jsx(Pr,{dataKey:"month"}),i.jsx(kr,{}),i.jsx(dr,{formatter:T=>[j(Number(T)),""]}),i.jsx(va,{}),i.jsx(Ir,{dataKey:"currentYear",fill:"#8884d8",name:t("currentYear")}),i.jsx(Ir,{dataKey:"previousYear",fill:"#82ca9d",name:t("previousYear")})]})})})]})}),i.jsx(Lt,{value:"patterns",className:"space-y-4",children:i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:t("weeklyPattern")}),i.jsx(rt,{children:t("spendingByDayOfWeek")})]}),i.jsx(we,{children:i.jsx(ni,{width:"100%",height:300,children:i.jsxs(Ro,{data:r.weeklyPattern,children:[i.jsx(Kr,{strokeDasharray:"3 3"}),i.jsx(Pr,{dataKey:"day"}),i.jsx(kr,{}),i.jsx(dr,{formatter:T=>[j(Number(T)),t("amount")]}),i.jsx(Ir,{dataKey:"amount",fill:"#8884d8"})]})})})]}),i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:t("hourlyPattern")}),i.jsx(rt,{children:t("spendingByHourOfDay")})]}),i.jsx(we,{children:i.jsx(ni,{width:"100%",height:300,children:i.jsxs(R0,{data:r.hourlyPattern,children:[i.jsx(Kr,{strokeDasharray:"3 3"}),i.jsx(Pr,{dataKey:"hour"}),i.jsx(kr,{}),i.jsx(dr,{formatter:T=>[j(Number(T)),t("amount")]}),i.jsx(vs,{type:"monotone",dataKey:"amount",stroke:"#82ca9d",strokeWidth:2})]})})})]})]})}),i.jsx(Lt,{value:"merchants",className:"space-y-4",children:i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:t("topMerchants")}),i.jsx(rt,{children:t("merchantsBySpending")})]}),i.jsx(we,{children:i.jsx("div",{className:"space-y-4",children:r.topMerchants.map((T,_)=>i.jsxs(Ye.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:_*.1},className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("div",{className:"text-2xl font-bold text-muted-foreground",children:["#",_+1]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:T.name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[T.transactions," ",t("transactions")]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"font-bold",children:j(T.amount)}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[j(T.amount/T.transactions)," ",t("avg")]})]})]},T.name))})})]})}),i.jsx(Lt,{value:"methods",className:"space-y-4",children:i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:t("paymentMethods")}),i.jsx(rt,{children:t("methodDistribution")})]}),i.jsx(we,{children:i.jsx(ni,{width:"100%",height:300,children:i.jsxs(S1,{children:[i.jsx(lh,{data:r.paymentMethods,cx:"50%",cy:"50%",labelLine:!1,label:({method:T,percentage:_})=>`${t(T)} ${_.toFixed(1)}%`,outerRadius:80,fill:"#8884d8",dataKey:"amount",children:r.paymentMethods.map((T,_)=>i.jsx(Wc,{fill:Cc[_%Cc.length]},`cell-${_}`))}),i.jsx(dr,{formatter:T=>[j(Number(T)),t("amount")]})]})})})]}),i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:t("methodBreakdown")}),i.jsx(rt,{children:t("detailedMethodAnalysis")})]}),i.jsx(we,{children:i.jsx("div",{className:"space-y-4",children:r.paymentMethods.map((T,_)=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Cc[_%Cc.length]}}),i.jsx("span",{className:"font-medium",children:t(T.method)})]}),i.jsx("span",{className:"text-sm font-medium",children:j(T.amount)})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[i.jsxs("span",{children:[T.count," ",t("transactions")]}),i.jsxs("span",{children:[T.percentage.toFixed(1),"%"]})]}),i.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:i.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${T.percentage}%`,backgroundColor:Cc[_%Cc.length]}})})]},T.method))})})]})]})})]}),r.budgetAnalysis.variance>20&&i.jsx(be,{className:"border-orange-200 bg-orange-50",children:i.jsxs(we,{className:"pt-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(T6,{className:"h-5 w-5 text-orange-600"}),i.jsx("span",{className:"font-medium text-orange-800",children:t("budgetWarning")}),i.jsxs(At,{variant:"outline",className:"bg-orange-100 text-orange-800",children:["+",r.budgetAnalysis.variance.toFixed(1),"% ",t("overBudget")]})]}),i.jsxs("p",{className:"text-sm text-orange-700 mt-2",children:[t("yourProjectedSpendingIs")," ",j(r.budgetAnalysis.projection)," ",t("comparedToYourAverage")," ",j(r.budgetAnalysis.monthlyAverage)]})]})})]})}function mg(){const{profile:e,user:t,refreshProfile:n}=yn(),{t:r,language:a,setLanguage:s}=tn(),[c,f]=A.useState(!1),[m,h]=A.useState(!1),[p,v]=A.useState({full_name:(e==null?void 0:e.full_name)||"",phone_number:(e==null?void 0:e.phone_number)||"",language_preference:(e==null?void 0:e.language_preference)||"en"}),j=(D,P)=>{v(I=>({...I,[D]:P}))},E=async()=>{if(e){h(!0);try{const{error:D}=await ot.from("profiles").update({full_name:p.full_name,phone_number:p.phone_number,language_preference:p.language_preference,updated_at:new Date().toISOString()}).eq("id",e.id);if(D)throw D;p.language_preference!==a&&s(p.language_preference),await n(),f(!1),nt.success(r("profileUpdated"))}catch(D){console.error("Error updating profile:",D),nt.error(r("errorUpdatingProfile"))}finally{h(!1)}}},O=()=>{v({full_name:(e==null?void 0:e.full_name)||"",phone_number:(e==null?void 0:e.phone_number)||"",language_preference:(e==null?void 0:e.language_preference)||"en"}),f(!1)},T=D=>({passenger:r("passenger"),driver:r("driver"),merchant:r("merchant"),event_admin:r("eventAdmin"),admin:r("systemAdmin")})[D]||D,_=D=>D.split(" ").map(P=>P[0]).join("").toUpperCase();return e?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:r("profile")}),i.jsx("p",{className:"text-muted-foreground",children:r("manageYourAccountInformation")})]}),!c&&i.jsxs(De,{onClick:()=>f(!0),variant:"outline",children:[i.jsx(D6,{className:"h-4 w-4 mr-2"}),r("editProfile")]})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[i.jsxs(be,{children:[i.jsx(Pe,{children:i.jsx(ke,{className:"text-lg",children:r("profilePicture")})}),i.jsxs(we,{className:"flex flex-col items-center space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsxs(sj,{className:"h-24 w-24",children:[i.jsx(oj,{src:e.avatar_url}),i.jsx(lj,{className:"text-lg",children:_(e.full_name)})]}),i.jsx(De,{size:"sm",variant:"outline",className:"absolute -bottom-2 -right-2 h-8 w-8 rounded-full p-0",children:i.jsx(hx,{className:"h-4 w-4"})})]}),i.jsx("p",{className:"text-sm text-muted-foreground text-center",children:r("clickToUploadNewPicture")})]})]}),i.jsxs(be,{className:"md:col-span-2",children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsxs("div",{children:[i.jsx(ke,{className:"text-lg",children:r("personalInformation")}),i.jsx(rt,{children:r("updateYourPersonalDetails")})]}),c&&i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(De,{size:"sm",onClick:E,disabled:m,children:[i.jsx(sJ,{className:"h-4 w-4 mr-2"}),r("save")]}),i.jsxs(De,{size:"sm",variant:"outline",onClick:O,children:[i.jsx(L1,{className:"h-4 w-4 mr-2"}),r("cancel")]})]})]}),i.jsxs(we,{className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(pt,{htmlFor:"full_name",children:r("fullName")}),c?i.jsx(qt,{id:"full_name",value:p.full_name,onChange:D=>j("full_name",D.target.value)}):i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Cx,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{children:e.full_name})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pt,{htmlFor:"phone_number",children:r("phoneNumber")}),c?i.jsx(qt,{id:"phone_number",value:p.phone_number,onChange:D=>j("phone_number",D.target.value)}):i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(tJ,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{children:e.phone_number||r("notProvided")})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pt,{children:r("email")}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(lE,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{children:e.email})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pt,{children:r("language")}),c?i.jsxs(Lr,{value:p.language_preference,onValueChange:D=>j("language_preference",D),children:[i.jsx(Fr,{children:i.jsx(Br,{})}),i.jsxs(Ur,{children:[i.jsx(st,{value:"en",children:"English"}),i.jsx(st,{value:"ar",children:"العربية"})]})]}):i.jsx("span",{children:e.language_preference==="ar"?"العربية":"English"})]})]}),i.jsx(Vc,{}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(pt,{children:r("accountType")}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(qs,{className:"h-4 w-4 text-muted-foreground"}),i.jsx(At,{variant:"secondary",children:T(e.user_type)})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pt,{children:r("memberSince")}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(bi,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{children:new Date(e.created_at).toLocaleDateString(a==="ar"?"ar-SY":"en-US")})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pt,{children:r("verificationStatus")}),i.jsx(At,{variant:e.is_verified?"default":"secondary",children:e.is_verified?r("verified"):r("unverified")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pt,{children:r("accountStatus")}),i.jsx(At,{variant:e.is_active?"default":"destructive",children:e.is_active?r("active"):r("inactive")})]})]})]})]})]}),i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:r("accountActions")}),i.jsx(rt,{children:r("manageYourAccountSecurity")})]}),i.jsx(we,{className:"space-y-4",children:i.jsxs("div",{className:"flex flex-wrap gap-4",children:[i.jsx(De,{variant:"outline",children:r("changePassword")}),i.jsx(De,{variant:"outline",children:r("downloadData")}),i.jsx(De,{variant:"outline",children:r("twoFactorAuth")}),i.jsx(De,{variant:"destructive",disabled:!0,children:r("deleteAccount")})]})})]})]}):null}var qv="Switch",[FSe,DAe]=Js(qv),[USe,zSe]=FSe(qv),vz=A.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:s,required:c,disabled:f,value:m="on",onCheckedChange:h,form:p,...v}=e,[j,E]=A.useState(null),O=Rn(t,I=>E(I)),T=A.useRef(!1),_=j?p||!!j.closest("form"):!0,[D,P]=ld({prop:a,defaultProp:s??!1,onChange:h,caller:qv});return i.jsxs(USe,{scope:n,checked:D,disabled:f,children:[i.jsx(Ot.button,{type:"button",role:"switch","aria-checked":D,"aria-required":c,"data-state":Sz(D),"data-disabled":f?"":void 0,disabled:f,value:m,...v,ref:O,onClick:mt(e.onClick,I=>{P(U=>!U),_&&(T.current=I.isPropagationStopped(),T.current||I.stopPropagation())})}),_&&i.jsx(wz,{control:j,bubbles:!T.current,name:r,value:m,checked:D,required:c,disabled:f,form:p,style:{transform:"translateX(-100%)"}})]})});vz.displayName=qv;var yz="SwitchThumb",bz=A.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,a=zSe(yz,n);return i.jsx(Ot.span,{"data-state":Sz(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});bz.displayName=yz;var VSe="SwitchBubbleInput",wz=A.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...a},s)=>{const c=A.useRef(null),f=Rn(c,s),m=c5(n),h=K6(t);return A.useEffect(()=>{const p=c.current;if(!p)return;const v=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(v,"checked").set;if(m!==n&&E){const O=new Event("click",{bubbles:r});E.call(p,n),p.dispatchEvent(O)}},[m,n,r]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:f,style:{...a.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});wz.displayName=VSe;function Sz(e){return e?"checked":"unchecked"}var $Se=vz,HSe=bz;function ks({className:e,...t}){return i.jsx($Se,{"data-slot":"switch",className:Et("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:i.jsx(HSe,{"data-slot":"switch-thumb",className:Et("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function gg(){const{profile:e}=yn(),{t,language:n,setLanguage:r}=tn(),[a,s]=A.useState(!1),[c,f]=A.useState(!0),[m,h]=A.useState(!1),[p,v]=A.useState({email:!0,push:!0,sms:!1,transactions:!0,marketing:!1,security:!0}),[j,E]=A.useState({profileVisibility:"public",showOnlineStatus:!0,allowDataCollection:!1}),O=(I,U)=>{v(F=>({...F,[I]:U})),nt.success(t("settingUpdated"))},T=(I,U)=>{E(F=>({...F,[I]:U})),nt.success(t("settingUpdated"))},_=I=>{r(I),nt.success(t("languageChanged"))},D=()=>{nt.info(t("dataExportStarted"))},P=()=>{nt.error(t("featureNotAvailable"))};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t("settings")}),i.jsx("p",{className:"text-muted-foreground",children:t("manageYourAppPreferences")})]}),i.jsxs("div",{className:"grid gap-6",children:[i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsxs(ke,{className:"flex items-center space-x-2",children:[i.jsx(oE,{className:"h-5 w-5"}),i.jsx("span",{children:t("languageAndAppearance")})]}),i.jsx(rt,{children:t("customizeYourAppExperience")})]}),i.jsxs(we,{className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(pt,{children:t("language")}),i.jsxs(Lr,{value:n,onValueChange:_,children:[i.jsx(Fr,{children:i.jsx(Br,{})}),i.jsxs(Ur,{children:[i.jsx(st,{value:"en",children:"English"}),i.jsx(st,{value:"ar",children:"العربية"})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(pt,{children:t("darkMode")}),i.jsx("p",{className:"text-sm text-muted-foreground",children:t("toggleDarkMode")})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(bJ,{className:"h-4 w-4"}),i.jsx(ks,{checked:m,onCheckedChange:h}),i.jsx(ZZ,{className:"h-4 w-4"})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(pt,{children:t("showWalletBalance")}),i.jsx("p",{className:"text-sm text-muted-foreground",children:t("displayBalanceInDashboard")})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(wi,{className:"h-4 w-4"}),i.jsx(ks,{checked:c,onCheckedChange:f}),i.jsx(mr,{className:"h-4 w-4"})]})]})]})]}),i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsxs(ke,{className:"flex items-center space-x-2",children:[i.jsx(_6,{className:"h-5 w-5"}),i.jsx("span",{children:t("notifications")})]}),i.jsx(rt,{children:t("controlWhenAndHowYouReceiveNotifications")})]}),i.jsx(we,{className:"space-y-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsxs(pt,{className:"flex items-center space-x-2",children:[i.jsx(lE,{className:"h-4 w-4"}),i.jsx("span",{children:t("emailNotifications")})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:t("receiveEmailUpdates")})]}),i.jsx(ks,{checked:p.email,onCheckedChange:I=>O("email",I)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsxs(pt,{className:"flex items-center space-x-2",children:[i.jsx(r0,{className:"h-4 w-4"}),i.jsx("span",{children:t("pushNotifications")})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:t("receivePushNotifications")})]}),i.jsx(ks,{checked:p.push,onCheckedChange:I=>O("push",I)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(pt,{children:t("smsNotifications")}),i.jsx("p",{className:"text-sm text-muted-foreground",children:t("receiveSmsUpdates")})]}),i.jsx(ks,{checked:p.sms,onCheckedChange:I=>O("sms",I)})]}),i.jsx(Vc,{}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsxs(pt,{className:"flex items-center space-x-2",children:[i.jsx(Io,{className:"h-4 w-4"}),i.jsx("span",{children:t("transactionNotifications")})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:t("notifyOnTransactions")})]}),i.jsx(ks,{checked:p.transactions,onCheckedChange:I=>O("transactions",I)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(pt,{children:t("marketingNotifications")}),i.jsx("p",{className:"text-sm text-muted-foreground",children:t("receivePromotionalEmails")})]}),i.jsx(ks,{checked:p.marketing,onCheckedChange:I=>O("marketing",I)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsxs(pt,{className:"flex items-center space-x-2",children:[i.jsx(qs,{className:"h-4 w-4"}),i.jsx("span",{children:t("securityNotifications")})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:t("notifyOnSecurityEvents")})]}),i.jsx(ks,{checked:p.security,onCheckedChange:I=>O("security",I)})]})]})})]}),i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsxs(ke,{className:"flex items-center space-x-2",children:[i.jsx(qs,{className:"h-5 w-5"}),i.jsx("span",{children:t("privacyAndSecurity")})]}),i.jsx(rt,{children:t("controlYourDataAndPrivacy")})]}),i.jsx(we,{className:"space-y-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(pt,{children:t("profileVisibility")}),i.jsxs(Lr,{value:j.profileVisibility,onValueChange:I=>T("profileVisibility",I),children:[i.jsx(Fr,{children:i.jsx(Br,{})}),i.jsxs(Ur,{children:[i.jsx(st,{value:"public",children:t("public")}),i.jsx(st,{value:"private",children:t("private")}),i.jsx(st,{value:"contacts",children:t("contactsOnly")})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(pt,{children:t("showOnlineStatus")}),i.jsx("p",{className:"text-sm text-muted-foreground",children:t("letOthersKnowWhenYouAreOnline")})]}),i.jsx(ks,{checked:j.showOnlineStatus,onCheckedChange:I=>T("showOnlineStatus",I)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(pt,{children:t("allowDataCollection")}),i.jsx("p",{className:"text-sm text-muted-foreground",children:t("helpImproveAppBySharing")})]}),i.jsx(ks,{checked:j.allowDataCollection,onCheckedChange:I=>T("allowDataCollection",I)})]})]})})]}),i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:t("accountManagement")}),i.jsx(rt,{children:t("manageYourAccountDataAndSettings")})]}),i.jsxs(we,{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-wrap gap-4",children:[i.jsx(De,{variant:"outline",onClick:D,children:t("exportMyData")}),i.jsx(De,{variant:"outline",children:t("changePassword")}),i.jsx(De,{variant:"outline",children:t("twoFactorAuth")}),i.jsx(De,{variant:"outline",children:t("connectedAccounts")})]}),i.jsx(Vc,{}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pt,{className:"text-destructive",children:t("dangerZone")}),i.jsx("p",{className:"text-sm text-muted-foreground",children:t("irreversibleActions")}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(De,{variant:"destructive",onClick:P,children:t("deleteAccount")}),i.jsx(De,{variant:"outline",children:t("deactivateAccount")})]})]})]})]}),i.jsxs(be,{children:[i.jsx(Pe,{children:i.jsx(ke,{children:t("appInformation")})}),i.jsxs(we,{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:t("version")}),i.jsx("span",{children:"1.0.0"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:t("lastUpdate")}),i.jsx("span",{children:new Date().toLocaleDateString(n==="ar"?"ar-SY":"en-US")})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:t("buildNumber")}),i.jsx("span",{children:"1.0.0-beta"})]})]})]})]})]})}function qSe(){return i.jsx(X0,{userType:"passenger",children:i.jsxs(gh,{children:[i.jsx(wt,{index:!0,element:i.jsx(Sie,{})}),i.jsx(wt,{path:"wallet",element:i.jsx(Zie,{})}),i.jsx(wt,{path:"scanner",element:i.jsx(qse,{})}),i.jsx(wt,{path:"transactions",element:i.jsx(Yse,{})}),i.jsx(wt,{path:"events",element:i.jsx(Wse,{})}),i.jsx(wt,{path:"tickets",element:i.jsx(Gse,{})}),i.jsx(wt,{path:"analytics",element:i.jsx(BSe,{})}),i.jsx(wt,{path:"profile",element:i.jsx(mg,{})}),i.jsx(wt,{path:"settings",element:i.jsx(gg,{})})]})})}var z_="Progress",V_=100,[YSe,RAe]=Js(z_),[WSe,GSe]=YSe(z_),jz=A.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:a,getValueLabel:s=KSe,...c}=e;(a||a===0)&&!WP(a)&&console.error(XSe(`${a}`,"Progress"));const f=WP(a)?a:V_;r!==null&&!GP(r,f)&&console.error(QSe(`${r}`,"Progress"));const m=GP(r,f)?r:null,h=N1(m)?s(m,f):void 0;return i.jsx(WSe,{scope:n,value:m,max:f,children:i.jsx(Ot.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":N1(m)?m:void 0,"aria-valuetext":h,role:"progressbar","data-state":Nz(m,f),"data-value":m??void 0,"data-max":f,...c,ref:t})})});jz.displayName=z_;var Az="ProgressIndicator",Ez=A.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,a=GSe(Az,n);return i.jsx(Ot.div,{"data-state":Nz(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...r,ref:t})});Ez.displayName=Az;function KSe(e,t){return`${Math.round(e/t*100)}%`}function Nz(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function N1(e){return typeof e=="number"}function WP(e){return N1(e)&&!isNaN(e)&&e>0}function GP(e,t){return N1(e)&&!isNaN(e)&&e<=t&&e>=0}function XSe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${V_}\`.`}function QSe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${V_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ZSe=jz,JSe=Ez;function _z({className:e,value:t,...n}){return i.jsx(ZSe,{"data-slot":"progress",className:Et("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...n,children:i.jsx(JSe,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}function eje(){const{user:e}=yn(),{t,isRTL:n}=tn(),[r,a]=A.useState({totalEarnings:0,dailyEarnings:0,weeklyEarnings:0,monthlyEarnings:0,totalTrips:0,dailyTrips:0,activeQRCodes:0,averageRating:0}),[s,c]=A.useState([]),[f,m]=A.useState(!0),[h,p]=A.useState(!1);A.useEffect(()=>{e&&Promise.all([v(),j()]).finally(()=>m(!1))},[e]);const v=async()=>{if(e)try{const{data:P,error:I}=await ot.from("transactions").select("amount, created_at").eq("to_user_id",e.id).eq("type","transport_payment");if(I)throw I;const U=new Date,F=new Date(U.getFullYear(),U.getMonth(),U.getDate()),L=new Date(F.getTime()-7*24*60*60*1e3),B=new Date(F.getTime()-30*24*60*60*1e3),$=P||[],z=$.reduce((Q,ae)=>Q+ae.amount,0),H=$.filter(Q=>new Date(Q.created_at)>=F).reduce((Q,ae)=>Q+ae.amount,0),X=$.filter(Q=>new Date(Q.created_at)>=L).reduce((Q,ae)=>Q+ae.amount,0),K=$.filter(Q=>new Date(Q.created_at)>=B).reduce((Q,ae)=>Q+ae.amount,0),ee=$.length,ue=$.filter(Q=>new Date(Q.created_at)>=F).length,{data:ne,error:G}=await ot.from("qr_codes").select("id").eq("created_by",e.id).eq("is_active",!0);if(G)throw G;a({totalEarnings:z,dailyEarnings:H,weeklyEarnings:X,monthlyEarnings:K,totalTrips:ee,dailyTrips:ue,activeQRCodes:(ne==null?void 0:ne.length)||0,averageRating:4.5})}catch(P){console.error("Error fetching driver stats:",P)}},j=async()=>{if(e)try{const{data:P,error:I}=await ot.from("transactions").select(`
          id,
          amount,
          created_at,
          status,
          from_user_id,
          profiles!transactions_from_user_id_fkey (
            full_name
          )
        `).eq("to_user_id",e.id).eq("type","transport_payment").order("created_at",{ascending:!1}).limit(5);if(I)throw I;const U=(P==null?void 0:P.map(F=>{var L;return{id:F.id,passenger_name:((L=F.profiles)==null?void 0:L.full_name)||t("unknown_passenger"),amount:F.amount,created_at:F.created_at,status:F.status,pickup_location:"Damascus",dropoff_location:"Aleppo"}}))||[];c(U)}catch(P){console.error("Error fetching recent trips:",P)}},E=P=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(P),O=P=>new Date(P).toLocaleDateString(n?"ar-SY":"en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),T=P=>{const I={completed:{variant:"default",label:t("completed")},pending:{variant:"outline",label:t("pending")},cancelled:{variant:"destructive",label:t("cancelled")}},U=I[P]||I.pending;return i.jsx(At,{variant:U.variant,children:U.label})};if(f)return i.jsx(oi,{text:t("loading_dashboard")});const D=r.dailyEarnings/5e4*100;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[i.jsx("h1",{className:"text-3xl font-bold",children:t("driver_dashboard")}),i.jsx("p",{className:"text-muted-foreground",children:t("driver_dashboard_description")})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:t("daily_earnings")}),i.jsx(De,{variant:"ghost",size:"icon",onClick:()=>p(!h),className:"h-4 w-4",children:h?i.jsx(wi,{className:"h-4 w-4"}):i.jsx(mr,{className:"h-4 w-4"})})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:h?E(r.dailyEarnings):"••••••"}),i.jsxs("div",{className:"mt-2",children:[i.jsx(_z,{value:D,className:"h-2"}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[Math.round(D),"% ",t("of_daily_goal")]})]})]})]})}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:t("total_earnings")}),i.jsx(Xr,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:h?E(r.totalEarnings):"••••••"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.jsx(Kn,{className:"inline h-3 w-3 mr-1"}),t("weekly"),": ",h?E(r.weeklyEarnings):"••••••"]})]})]})}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:t("total_trips")}),i.jsx(Hs,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:r.totalTrips}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.dailyTrips," ",t("today")]})]})]})}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:t("active_qr_codes")}),i.jsx(Ar,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:r.activeQRCodes}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["⭐ ",r.averageRating.toFixed(1)," ",t("rating")]})]})]})})]}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:t("quick_actions")}),i.jsx(rt,{children:t("quick_actions_description")})]}),i.jsx(we,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx(De,{asChild:!0,className:"h-20 flex flex-col",children:i.jsxs(Ht,{to:"/driver/qr-generator",children:[i.jsx(Ar,{className:"h-6 w-6 mb-2"}),t("generate_qr_code")]})}),i.jsx(De,{asChild:!0,variant:"outline",className:"h-20 flex flex-col",children:i.jsxs(Ht,{to:"/driver/trips",children:[i.jsx(Hs,{className:"h-6 w-6 mb-2"}),t("view_trips")]})}),i.jsx(De,{asChild:!0,variant:"outline",className:"h-20 flex flex-col",children:i.jsxs(Ht,{to:"/driver/earnings",children:[i.jsx(Xr,{className:"h-6 w-6 mb-2"}),t("view_earnings")]})}),i.jsx(De,{asChild:!0,variant:"outline",className:"h-20 flex flex-col",children:i.jsxs(Ht,{to:"/driver/analytics",children:[i.jsx(sE,{className:"h-6 w-6 mb-2"}),t("view_analytics")]})})]})})]})}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:t("recent_trips")}),i.jsx(rt,{children:t("recent_trips_description")})]}),i.jsx(we,{children:s.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Hs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_trips_yet")}),i.jsx("p",{className:"text-muted-foreground",children:t("no_trips_description")})]}):i.jsxs("div",{className:"space-y-4",children:[s.map((P,I)=>i.jsxs(Ye.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*I},className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:i.jsx(Ga,{className:"h-5 w-5 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:P.passenger_name}),i.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[i.jsx(El,{className:"h-3 w-3 mr-1"}),P.pickup_location," → ",P.dropoff_location]}),i.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[i.jsx(ba,{className:"h-3 w-3 mr-1"}),O(P.created_at)]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"font-bold text-lg",children:E(P.amount)}),T(P.status)]})]},P.id)),i.jsx(De,{asChild:!0,variant:"outline",className:"w-full",children:i.jsx(Ht,{to:"/driver/trips",children:t("view_all_trips")})})]})})]})})]})}function tje(){const{user:e}=yn(),{t,isRTL:n}=tn(),[r,a]=A.useState({totalEarnings:0,dailyEarnings:0,weeklyEarnings:0,monthlyEarnings:0,yearlyEarnings:0,averagePerTrip:0,totalTrips:0,peakHours:[]}),[s,c]=A.useState([]),[f,m]=A.useState([]),[h,p]=A.useState(!0),[v,j]=A.useState({from:dz(new Date,-30),to:new Date}),[E,O]=A.useState("all"),[T,_]=A.useState("");A.useEffect(()=>{e&&D()},[e,v]),A.useEffect(()=>{I()},[s,E,T]);const D=async()=>{if(e)try{let z=ot.from("transactions").select(`
          id,
          amount,
          created_at,
          from_user_id,
          commission,
          profiles!transactions_from_user_id_fkey (
            full_name
          )
        `).eq("to_user_id",e.id).eq("type","transport_payment").order("created_at",{ascending:!1});v!=null&&v.from&&(z=z.gte("created_at",v.from.toISOString())),v!=null&&v.to&&(z=z.lte("created_at",v.to.toISOString()));const{data:H,error:X}=await z;if(X)throw X;const K=(H==null?void 0:H.map(ee=>{var ue;return{id:ee.id,amount:ee.amount,created_at:ee.created_at,passenger_name:((ue=ee.profiles)==null?void 0:ue.full_name)||t("unknown_passenger"),commission:ee.commission||0}}))||[];c(K),P(K)}catch(z){console.error("Error fetching earnings:",z),nt.error(t("error_fetch_earnings"))}finally{p(!1)}},P=z=>{if(z.length===0)return;const H=new Date,X=new Date(H.getFullYear(),H.getMonth(),H.getDate()),K=new Date(X.getTime()-7*24*60*60*1e3),ee=new Date(X.getTime()-30*24*60*60*1e3),ue=new Date(X.getTime()-365*24*60*60*1e3),ne=z.reduce((ye,oe)=>ye+oe.amount,0),G=z.filter(ye=>new Date(ye.created_at)>=X).reduce((ye,oe)=>ye+oe.amount,0),Q=z.filter(ye=>new Date(ye.created_at)>=K).reduce((ye,oe)=>ye+oe.amount,0),ae=z.filter(ye=>new Date(ye.created_at)>=ee).reduce((ye,oe)=>ye+oe.amount,0),he=z.filter(ye=>new Date(ye.created_at)>=ue).reduce((ye,oe)=>ye+oe.amount,0),te=z.length,fe=te>0?ne/te:0,se=new Array(24).fill(0);z.forEach(ye=>{const oe=new Date(ye.created_at).getHours();se[oe]++});const me=Math.max(...se),Re=se.map((ye,oe)=>({hour:oe,count:ye})).filter(ye=>ye.count===me&&ye.count>0).map(ye=>`${ye.hour}:00`);a({totalEarnings:ne,dailyEarnings:G,weeklyEarnings:Q,monthlyEarnings:ae,yearlyEarnings:he,averagePerTrip:fe,totalTrips:te,peakHours:Re})},I=()=>{let z=s;T&&(z=z.filter(H=>H.passenger_name.toLowerCase().includes(T.toLowerCase())||H.id.toLowerCase().includes(T.toLowerCase()))),m(z)},U=()=>{const z=[["Date","Passenger","Amount","Commission","Net Earnings","Transaction ID"],...f.map(ee=>[fr(new Date(ee.created_at),"yyyy-MM-dd HH:mm"),ee.passenger_name,ee.amount.toString(),(ee.commission||0).toString(),(ee.amount-(ee.commission||0)).toString(),ee.id])].map(ee=>ee.join(",")).join(`
`),H=new Blob([z],{type:"text/csv"}),X=URL.createObjectURL(H),K=document.createElement("a");K.href=X,K.download=`earnings-${fr(new Date,"yyyy-MM-dd")}.csv`,document.body.appendChild(K),K.click(),document.body.removeChild(K),URL.revokeObjectURL(X),nt.success(t("earnings_exported"))},F=z=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(z),L=z=>new Date(z).toLocaleDateString(n?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});if(h)return i.jsx(oi,{text:t("loading_earnings")});const B=r.monthlyEarnings*.85,$=B>0?(r.monthlyEarnings-B)/B*100:0;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:t("earnings")}),i.jsx("p",{className:"text-muted-foreground",children:t("earnings_description")})]}),i.jsxs(De,{onClick:U,variant:"outline",children:[i.jsx(Zs,{className:"h-4 w-4 mr-2"}),t("export")]})]}),i.jsx(be,{children:i.jsx(we,{className:"p-6",children:i.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:t("date_range")}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(qt,{type:"date",value:v!=null&&v.from?fr(v.from,"yyyy-MM-dd"):"",onChange:z=>j(H=>({from:z.target.value?new Date(z.target.value):void 0,to:H==null?void 0:H.to}))}),i.jsx(qt,{type:"date",value:v!=null&&v.to?fr(v.to,"yyyy-MM-dd"):"",onChange:z=>j(H=>({from:H==null?void 0:H.from,to:z.target.value?new Date(z.target.value):void 0}))})]})]}),i.jsx("div",{className:"flex gap-2",children:i.jsxs("div",{className:"w-48",children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:t("search")}),i.jsx(qt,{placeholder:t("search_transactions"),value:T,onChange:z=>_(z.target.value)})]})})]})})}),i.jsxs(Ll,{defaultValue:"overview",className:"w-full",children:[i.jsxs(Bl,{className:"grid w-full grid-cols-3",children:[i.jsx(kt,{value:"overview",children:t("overview")}),i.jsx(kt,{value:"details",children:t("details")}),i.jsx(kt,{value:"analytics",children:t("analytics")})]}),i.jsx(Lt,{value:"overview",className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:t("total_earnings")}),i.jsx(Xr,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:F(r.totalEarnings)}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.totalTrips," ",t("trips_completed")]})]})]})}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:t("monthly_earnings")}),$>=0?i.jsx(Kn,{className:"h-4 w-4 text-green-600"}):i.jsx(Nl,{className:"h-4 w-4 text-red-600"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:F(r.monthlyEarnings)}),i.jsxs("p",{className:`text-xs ${$>=0?"text-green-600":"text-red-600"}`,children:[$>=0?"+":"",$.toFixed(1),"% ",t("from_last_month")]})]})]})}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:t("average_per_trip")}),i.jsx(mr,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:F(r.averagePerTrip)}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[t("daily"),": ",F(r.dailyEarnings)]})]})]})}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:t("peak_hours")}),i.jsx(bi,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:r.peakHours.length>0?r.peakHours[0]:"--:--"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:r.peakHours.length>1&&`+${r.peakHours.length-1} ${t("more")}`})]})]})})]})}),i.jsx(Lt,{value:"details",className:"space-y-6",children:i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:t("recent_earnings")}),i.jsxs(rt,{children:[t("showing")," ",f.length," ",t("transactions")]})]}),i.jsx(we,{children:f.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Xr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_earnings_found")}),i.jsx("p",{className:"text-muted-foreground",children:t("no_earnings_description")})]}):i.jsx("div",{className:"space-y-4",children:f.map((z,H)=>i.jsxs(Ye.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*H},className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:i.jsx(Xr,{className:"h-5 w-5 text-green-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:z.passenger_name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:L(z.created_at)}),i.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:[z.id.slice(0,8),"..."]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-bold text-lg text-green-600",children:["+",F(z.amount)]}),z.commission&&z.commission>0&&i.jsxs("p",{className:"text-sm text-muted-foreground",children:[t("commission"),": -",F(z.commission)]}),i.jsx(At,{variant:"outline",className:"mt-1",children:t("trip_payment")})]})]},z.id))})})]})}),i.jsx(Lt,{value:"analytics",className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs(be,{children:[i.jsx(Pe,{children:i.jsx(ke,{children:t("earnings_breakdown")})}),i.jsxs(we,{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{children:t("daily_average")}),i.jsx("span",{className:"font-medium",children:F(r.dailyEarnings)})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{children:t("weekly_average")}),i.jsx("span",{className:"font-medium",children:F(r.weeklyEarnings/7)})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{children:t("monthly_average")}),i.jsx("span",{className:"font-medium",children:F(r.monthlyEarnings/30)})]}),i.jsxs("div",{className:"flex justify-between items-center border-t pt-4",children:[i.jsx("span",{className:"font-medium",children:t("total_net_earnings")}),i.jsx("span",{className:"font-bold text-lg",children:F(r.totalEarnings)})]})]})]}),i.jsxs(be,{children:[i.jsx(Pe,{children:i.jsx(ke,{children:t("performance_metrics")})}),i.jsxs(we,{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{children:t("total_trips")}),i.jsx("span",{className:"font-medium",children:r.totalTrips})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{children:t("average_per_trip")}),i.jsx("span",{className:"font-medium",children:F(r.averagePerTrip)})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{children:t("peak_hours")}),i.jsx("span",{className:"font-medium",children:r.peakHours.length>0?r.peakHours.join(", "):t("no_data")})]}),i.jsxs("div",{className:"flex justify-between items-center border-t pt-4",children:[i.jsx("span",{className:"font-medium",children:t("efficiency_rating")}),i.jsxs(At,{variant:"outline",children:["⭐ ",t("excellent")]})]})]})]})]})})]})]})}function nje(){const{user:e}=yn(),{t,isRTL:n}=tn(),[r,a]=A.useState([]),[s,c]=A.useState([]),[f,m]=A.useState(!0),[h,p]=A.useState(""),[v,j]=A.useState("all"),[E,O]=A.useState(null);A.useEffect(()=>{e&&T()},[e]),A.useEffect(()=>{_()},[r,h,v]);const T=async()=>{if(e)try{const{data:K,error:ee}=await ot.from("transactions").select(`
          id,
          amount,
          created_at,
          status,
          from_user_id,
          metadata,
          profiles!transactions_from_user_id_fkey (
            full_name
          )
        `).eq("to_user_id",e.id).eq("type","transport_payment").order("created_at",{ascending:!1});if(ee)throw ee;const ue=(K==null?void 0:K.map(ne=>{var Q;const G=ne.metadata||{};return{id:ne.id,passenger_name:((Q=ne.profiles)==null?void 0:Q.full_name)||t("unknown_passenger"),passenger_id:ne.from_user_id,amount:ne.amount,created_at:ne.created_at,status:ne.status,pickup_location:G.pickup_location||"Damascus City Center",dropoff_location:G.dropoff_location||"Damascus Airport",distance:G.distance||Math.floor(Math.random()*20)+5,duration:G.duration||Math.floor(Math.random()*45)+15,rating:G.rating||Math.floor(Math.random()*2)+4,notes:G.notes}}))||[];a(ue)}catch(K){console.error("Error fetching trips:",K),nt.error(t("error_fetch_trips"))}finally{m(!1)}},_=()=>{let K=r.filter(ee=>{const ue=ee.passenger_name.toLowerCase().includes(h.toLowerCase())||(ee.pickup_location||"").toLowerCase().includes(h.toLowerCase())||(ee.dropoff_location||"").toLowerCase().includes(h.toLowerCase())||ee.id.toLowerCase().includes(h.toLowerCase()),ne=v==="all"||ee.status===v;return ue&&ne});c(K)},D=K=>{const ee={completed:{variant:"default",label:t("completed")},pending:{variant:"outline",label:t("pending")},cancelled:{variant:"destructive",label:t("cancelled")},in_progress:{variant:"secondary",label:t("in_progress")}},ue=ee[K]||ee.pending;return i.jsx(At,{variant:ue.variant,children:ue.label})},P=K=>"⭐".repeat(Math.floor(K))+(K%1>=.5?"⭐":""),I=K=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(K),U=K=>new Date(K).toLocaleDateString(n?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),F=K=>{const ee=Math.floor(K/60),ue=K%60;return ee>0?`${ee}h ${ue}m`:`${ue}m`},L=K=>s.filter(ee=>ee.status===K);if(f)return i.jsx(oi,{text:t("loading_trips")});const B=L("completed"),$=L("pending"),z=L("cancelled"),H=L("in_progress");return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:t("trips")}),i.jsx("p",{className:"text-muted-foreground",children:t("trips_description")})]}),i.jsx(be,{children:i.jsx(we,{className:"p-6",children:i.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx(Pl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(qt,{placeholder:t("search_trips"),value:h,onChange:K=>p(K.target.value),className:"pl-10"})]})}),i.jsxs(Lr,{value:v,onValueChange:j,children:[i.jsxs(Fr,{className:"w-[150px]",children:[i.jsx(q0,{className:"h-4 w-4 mr-2"}),i.jsx(Br,{})]}),i.jsxs(Ur,{children:[i.jsx(st,{value:"all",children:t("all_statuses")}),i.jsx(st,{value:"completed",children:t("completed")}),i.jsx(st,{value:"pending",children:t("pending")}),i.jsx(st,{value:"in_progress",children:t("in_progress")}),i.jsx(st,{value:"cancelled",children:t("cancelled")})]})]})]})})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(be,{children:i.jsx(we,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("completed")}),i.jsx("p",{className:"text-2xl font-bold",children:B.length})]}),i.jsx(Hs,{className:"h-8 w-8 text-green-600"})]})})}),i.jsx(be,{children:i.jsx(we,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("pending")}),i.jsx("p",{className:"text-2xl font-bold",children:$.length})]}),i.jsx(ba,{className:"h-8 w-8 text-yellow-600"})]})})}),i.jsx(be,{children:i.jsx(we,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("in_progress")}),i.jsx("p",{className:"text-2xl font-bold",children:H.length})]}),i.jsx(WO,{className:"h-8 w-8 text-blue-600"})]})})}),i.jsx(be,{children:i.jsx(we,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("cancelled")}),i.jsx("p",{className:"text-2xl font-bold",children:z.length})]}),i.jsx(Hs,{className:"h-8 w-8 text-red-600"})]})})})]}),i.jsxs(Ll,{defaultValue:"all",className:"w-full",children:[i.jsxs(Bl,{className:"grid w-full grid-cols-5",children:[i.jsxs(kt,{value:"all",children:[t("all")," (",s.length,")"]}),i.jsxs(kt,{value:"completed",children:[t("completed")," (",B.length,")"]}),i.jsxs(kt,{value:"pending",children:[t("pending")," (",$.length,")"]}),i.jsxs(kt,{value:"in_progress",children:[t("in_progress")," (",H.length,")"]}),i.jsxs(kt,{value:"cancelled",children:[t("cancelled")," (",z.length,")"]})]}),i.jsx(Lt,{value:"all",className:"space-y-4",children:i.jsx(X,{trips:s})}),i.jsx(Lt,{value:"completed",className:"space-y-4",children:i.jsx(X,{trips:B})}),i.jsx(Lt,{value:"pending",className:"space-y-4",children:i.jsx(X,{trips:$})}),i.jsx(Lt,{value:"in_progress",className:"space-y-4",children:i.jsx(X,{trips:H})}),i.jsx(Lt,{value:"cancelled",className:"space-y-4",children:i.jsx(X,{trips:z})})]})]});function X({trips:K}){return K.length===0?i.jsx(be,{children:i.jsxs(we,{className:"text-center py-12",children:[i.jsx(Hs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_trips_found")}),i.jsx("p",{className:"text-muted-foreground",children:t("no_trips_description")})]})}):i.jsx("div",{className:"space-y-4",children:K.map((ee,ue)=>i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ue*.1},children:i.jsx(be,{className:"hover:shadow-lg transition-shadow",children:i.jsx(we,{className:"p-6",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[i.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:i.jsx(Ga,{className:"h-6 w-6 text-primary"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold",children:ee.passenger_name}),D(ee.status)]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(El,{className:"h-4 w-4 mr-2"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:t("pickup")}),i.jsx("p",{children:ee.pickup_location})]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(WO,{className:"h-4 w-4 mr-2"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:t("dropoff")}),i.jsx("p",{children:ee.dropoff_location})]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(ba,{className:"h-4 w-4 mr-2"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:t("date_time")}),i.jsx("p",{children:U(ee.created_at)})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between mt-4",children:[i.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[i.jsxs("span",{children:[i.jsxs("strong",{children:[t("distance"),":"]})," ",ee.distance,"km"]}),i.jsxs("span",{children:[i.jsxs("strong",{children:[t("duration"),":"]})," ",F(ee.duration||0)]}),ee.rating&&i.jsxs("span",{children:[i.jsxs("strong",{children:[t("rating"),":"]})," ",P(ee.rating)]})]}),i.jsx("div",{className:"text-right",children:i.jsx("p",{className:"text-2xl font-bold text-green-600",children:I(ee.amount)})})]})]})]}),i.jsxs(Zc,{children:[i.jsx(Q0,{asChild:!0,children:i.jsxs(De,{variant:"outline",size:"sm",onClick:()=>O(ee),children:[i.jsx(mr,{className:"h-4 w-4 mr-2"}),t("details")]})}),i.jsxs(Jc,{className:"max-w-2xl",children:[i.jsxs(eu,{children:[i.jsx(tu,{children:t("trip_details")}),i.jsxs(nu,{children:[t("trip_id"),": ",ee.id]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-2",children:t("passenger_info")}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsxs("p",{children:[i.jsxs("strong",{children:[t("name"),":"]})," ",ee.passenger_name]}),i.jsxs("p",{children:[i.jsxs("strong",{children:[t("rating"),":"]})," ",ee.rating?P(ee.rating):t("no_rating")]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-2",children:t("trip_info")}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsxs("p",{children:[i.jsxs("strong",{children:[t("date"),":"]})," ",U(ee.created_at)]}),i.jsxs("p",{children:[i.jsxs("strong",{children:[t("status"),":"]})," ",D(ee.status)]})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-2",children:t("route_details")}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-green-600",children:t("pickup_location")}),i.jsx("p",{children:ee.pickup_location})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-red-600",children:t("dropoff_location")}),i.jsx("p",{children:ee.dropoff_location})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-2",children:t("trip_metrics")}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[i.jsx("p",{className:"font-medium",children:t("distance")}),i.jsxs("p",{className:"text-lg font-bold",children:[ee.distance,"km"]})]}),i.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[i.jsx("p",{className:"font-medium",children:t("duration")}),i.jsx("p",{className:"text-lg font-bold",children:F(ee.duration||0)})]}),i.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[i.jsx("p",{className:"font-medium",children:t("earnings")}),i.jsx("p",{className:"text-lg font-bold text-green-600",children:I(ee.amount)})]})]})]}),ee.notes&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-2",children:t("notes")}),i.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded",children:ee.notes})]})]})]})]})]})})})},ee.id))})}}function Cz({className:e,...t}){return i.jsx("textarea",{"data-slot":"textarea",className:Et("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}function rje(){const{user:e}=yn(),{t,isRTL:n}=tn(),[r,a]=A.useState([]),[s,c]=A.useState(!0),[f,m]=A.useState(!1),[h,p]=A.useState({amount:"",description:"",pickup_location:"",dropoff_location:"",expires_at:""});A.useEffect(()=>{e&&v()},[e]);const v=async()=>{if(e)try{const{data:L,error:B}=await ot.from("qr_codes").select(`
          *,
          usage_count:transactions(count)
        `).eq("created_by",e.id).order("created_at",{ascending:!1});if(B)throw B;const $=(L==null?void 0:L.map(z=>{var H,X;return{...z,usage_count:((X=(H=z.usage_count)==null?void 0:H[0])==null?void 0:X.count)||0}}))||[];a($)}catch(L){console.error("Error fetching QR codes:",L),nt.error(t("error_fetch_qr_codes"))}finally{c(!1)}},j=async()=>{if(!e||!h.amount){nt.error(t("please_fill_required_fields"));return}m(!0);try{const L=parseFloat(h.amount);if(L<=0){nt.error(t("invalid_amount"));return}const B={type:"transport_payment",driver_id:e.id,amount:L,pickup_location:h.pickup_location||null,dropoff_location:h.dropoff_location||null,timestamp:Date.now()},{data:$,error:z}=await ot.from("qr_codes").insert({driver_id:e.id,qr_data:JSON.stringify(B),is_active:!0,expires_at:h.expires_at||null,route_info:`${h.pickup_location} → ${h.dropoff_location}`,vehicle_info:h.description||null}).select().single();if(z)throw z;nt.success(t("qr_code_generated_successfully")),p({amount:"",description:"",pickup_location:"",dropoff_location:"",expires_at:""}),v()}catch(L){console.error("Error generating QR code:",L),nt.error(t("error_generate_qr_code"))}finally{m(!1)}},E=async(L,B)=>{try{const{error:$}=await ot.from("qr_codes").update({is_active:!B}).eq("id",L).eq("driver_id",e==null?void 0:e.id);if($)throw $;nt.success(t(B?"qr_code_deactivated":"qr_code_activated")),v()}catch($){console.error("Error toggling QR code status:",$),nt.error(t("error_toggle_qr_status"))}},O=L=>{const B=L.qr_data;navigator.clipboard.writeText(B),nt.success(t("qr_data_copied"))},T=L=>{const B=L.qr_data,$=new Blob([B],{type:"application/json"}),z=URL.createObjectURL($),H=document.createElement("a");H.href=z,H.download=`qr-code-${L.id}.json`,document.body.appendChild(H),H.click(),document.body.removeChild(H),URL.revokeObjectURL(z),nt.success(t("qr_code_downloaded"))},_=L=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(L),D=L=>new Date(L).toLocaleDateString(n?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),P=L=>L?new Date(L)<new Date:!1,I=L=>P(L.expires_at)?i.jsx(At,{variant:"destructive",children:t("expired")}):L.is_active?i.jsx(At,{variant:"default",children:t("active")}):i.jsx(At,{variant:"outline",children:t("inactive")});if(s)return i.jsx(oi,{text:t("loading_qr_codes")});const U=r.filter(L=>L.is_active&&!P(L.expires_at)),F=r.filter(L=>!L.is_active||P(L.expires_at));return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:t("qr_code_generator")}),i.jsx("p",{className:"text-muted-foreground",children:t("qr_generator_description")})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(be,{children:i.jsx(we,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("active_qr_codes")}),i.jsx("p",{className:"text-2xl font-bold",children:U.length})]}),i.jsx(Ar,{className:"h-8 w-8 text-green-600"})]})})}),i.jsx(be,{children:i.jsx(we,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("total_usage")}),i.jsx("p",{className:"text-2xl font-bold",children:r.reduce((L,B)=>L+B.usage_count,0)})]}),i.jsx(mr,{className:"h-8 w-8 text-blue-600"})]})})}),i.jsx(be,{children:i.jsx(we,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("total_earnings")}),i.jsx("p",{className:"text-2xl font-bold",children:_(r.reduce((L,B)=>L+15e3*B.usage_count,0))})]}),i.jsx(Xr,{className:"h-8 w-8 text-green-600"})]})})})]}),i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:t("generate_new_qr_code")}),i.jsx(rt,{children:t("create_qr_description")})]}),i.jsxs(we,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs(pt,{htmlFor:"amount",children:[t("amount")," *"]}),i.jsx(qt,{id:"amount",type:"number",placeholder:"0",value:h.amount,onChange:L=>p(B=>({...B,amount:L.target.value}))})]}),i.jsxs("div",{children:[i.jsx(pt,{htmlFor:"expires_at",children:t("expires_at")}),i.jsx(qt,{id:"expires_at",type:"datetime-local",value:h.expires_at,onChange:L=>p(B=>({...B,expires_at:L.target.value}))})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(pt,{htmlFor:"pickup_location",children:t("pickup_location")}),i.jsx(qt,{id:"pickup_location",placeholder:t("pickup_location_placeholder"),value:h.pickup_location,onChange:L=>p(B=>({...B,pickup_location:L.target.value}))})]}),i.jsxs("div",{children:[i.jsx(pt,{htmlFor:"dropoff_location",children:t("dropoff_location")}),i.jsx(qt,{id:"dropoff_location",placeholder:t("dropoff_location_placeholder"),value:h.dropoff_location,onChange:L=>p(B=>({...B,dropoff_location:L.target.value}))})]})]}),i.jsxs("div",{children:[i.jsx(pt,{htmlFor:"description",children:t("description")}),i.jsx(Cz,{id:"description",placeholder:t("qr_description_placeholder"),value:h.description,onChange:L=>p(B=>({...B,description:L.target.value}))})]}),i.jsx(De,{onClick:j,disabled:f,className:"w-full",children:f?i.jsx(oi,{text:t("generating")}):i.jsxs(i.Fragment,{children:[i.jsx(Ar,{className:"h-4 w-4 mr-2"}),t("generate_qr_code")]})})]})]}),i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsxs(ke,{children:[t("active_qr_codes")," (",U.length,")"]}),i.jsx(rt,{children:t("manage_active_qr_codes")})]}),i.jsx(we,{children:U.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Ar,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_active_qr_codes")}),i.jsx("p",{className:"text-muted-foreground",children:t("generate_first_qr_code")})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:U.map((L,B)=>i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:B*.1},children:i.jsxs(be,{className:"hover:shadow-lg transition-shadow",children:[i.jsxs(Pe,{className:"pb-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ke,{className:"text-lg",children:_(L.amount||0)}),I(L)]}),L.description&&i.jsx(rt,{children:L.description})]}),i.jsxs(we,{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-2 text-sm",children:[L.route_info&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(El,{className:"h-4 w-4 mr-2 text-blue-600"}),i.jsx("span",{children:L.route_info})]}),L.vehicle_info&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(El,{className:"h-4 w-4 mr-2 text-gray-600"}),i.jsx("span",{children:L.vehicle_info})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(ba,{className:"h-4 w-4 mr-2 text-blue-600"}),i.jsx("span",{children:D(L.created_at||"")})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(mr,{className:"h-4 w-4 mr-2 text-purple-600"}),i.jsxs("span",{children:[L.usage_count," ",t("times_used")]})]}),L.expires_at&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(ba,{className:"h-4 w-4 mr-2 text-orange-600"}),i.jsxs("span",{children:[t("expires"),": ",D(L.expires_at)]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(De,{variant:"outline",size:"sm",onClick:()=>O(L),className:"flex-1",children:[i.jsx(O6,{className:"h-4 w-4 mr-1"}),t("copy")]}),i.jsxs(De,{variant:"outline",size:"sm",onClick:()=>T(L),className:"flex-1",children:[i.jsx(Zs,{className:"h-4 w-4 mr-1"}),t("download")]})]}),i.jsx(De,{variant:L.is_active?"destructive":"default",size:"sm",onClick:()=>E(L.id,L.is_active),className:"w-full",children:L.is_active?i.jsxs(i.Fragment,{children:[i.jsx(wi,{className:"h-4 w-4 mr-2"}),t("deactivate")]}):i.jsxs(i.Fragment,{children:[i.jsx(mr,{className:"h-4 w-4 mr-2"}),t("activate")]})})]})]})},L.id))})})]}),F.length>0&&i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsxs(ke,{children:[t("inactive_expired_qr_codes")," (",F.length,")"]}),i.jsx(rt,{children:t("manage_inactive_qr_codes")})]}),i.jsx(we,{children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:F.map((L,B)=>i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:B*.1},children:i.jsxs(be,{className:"opacity-60 hover:opacity-80 transition-opacity",children:[i.jsxs(Pe,{className:"pb-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ke,{className:"text-lg",children:_(L.amount||0)}),I(L)]}),L.description&&i.jsx(rt,{children:L.description})]}),i.jsxs(we,{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(ba,{className:"h-4 w-4 mr-2"}),i.jsx("span",{children:D(L.created_at||"")})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(mr,{className:"h-4 w-4 mr-2"}),i.jsxs("span",{children:[L.usage_count," ",t("times_used")]})]})]}),!P(L.expires_at)&&i.jsxs(De,{variant:"outline",size:"sm",onClick:()=>E(L.id,L.is_active),className:"w-full",children:[i.jsx(P1,{className:"h-4 w-4 mr-2"}),t("reactivate")]})]})]})},L.id))})})]})]})}const aje={lessThanXSeconds:{one:"أقل من ثانية",two:"أقل من ثانيتين",threeToTen:"أقل من {{count}} ثواني",other:"أقل من {{count}} ثانية"},xSeconds:{one:"ثانية واحدة",two:"ثانيتان",threeToTen:"{{count}} ثواني",other:"{{count}} ثانية"},halfAMinute:"نصف دقيقة",lessThanXMinutes:{one:"أقل من دقيقة",two:"أقل من دقيقتين",threeToTen:"أقل من {{count}} دقائق",other:"أقل من {{count}} دقيقة"},xMinutes:{one:"دقيقة واحدة",two:"دقيقتان",threeToTen:"{{count}} دقائق",other:"{{count}} دقيقة"},aboutXHours:{one:"ساعة واحدة تقريباً",two:"ساعتين تقريبا",threeToTen:"{{count}} ساعات تقريباً",other:"{{count}} ساعة تقريباً"},xHours:{one:"ساعة واحدة",two:"ساعتان",threeToTen:"{{count}} ساعات",other:"{{count}} ساعة"},xDays:{one:"يوم واحد",two:"يومان",threeToTen:"{{count}} أيام",other:"{{count}} يوم"},aboutXWeeks:{one:"أسبوع واحد تقريبا",two:"أسبوعين تقريبا",threeToTen:"{{count}} أسابيع تقريبا",other:"{{count}} أسبوعا تقريبا"},xWeeks:{one:"أسبوع واحد",two:"أسبوعان",threeToTen:"{{count}} أسابيع",other:"{{count}} أسبوعا"},aboutXMonths:{one:"شهر واحد تقريباً",two:"شهرين تقريبا",threeToTen:"{{count}} أشهر تقريبا",other:"{{count}} شهرا تقريباً"},xMonths:{one:"شهر واحد",two:"شهران",threeToTen:"{{count}} أشهر",other:"{{count}} شهرا"},aboutXYears:{one:"سنة واحدة تقريباً",two:"سنتين تقريبا",threeToTen:"{{count}} سنوات تقريباً",other:"{{count}} سنة تقريباً"},xYears:{one:"سنة واحد",two:"سنتان",threeToTen:"{{count}} سنوات",other:"{{count}} سنة"},overXYears:{one:"أكثر من سنة",two:"أكثر من سنتين",threeToTen:"أكثر من {{count}} سنوات",other:"أكثر من {{count}} سنة"},almostXYears:{one:"ما يقارب سنة واحدة",two:"ما يقارب سنتين",threeToTen:"ما يقارب {{count}} سنوات",other:"ما يقارب {{count}} سنة"}},ije=(e,t,n)=>{const r=aje[e];let a;return typeof r=="string"?a=r:t===1?a=r.one:t===2?a=r.two:t<=10?a=r.threeToTen.replace("{{count}}",String(t)):a=r.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"خلال "+a:"منذ "+a:a},sje={full:"EEEE، do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},oje={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},lje={full:"{{date}} 'عند الساعة' {{time}}",long:"{{date}} 'عند الساعة' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cje={date:Wf({formats:sje,defaultWidth:"full"}),time:Wf({formats:oje,defaultWidth:"full"}),dateTime:Wf({formats:lje,defaultWidth:"full"})},uje={lastWeek:"eeee 'الماضي عند الساعة' p",yesterday:"'الأمس عند الساعة' p",today:"'اليوم عند الساعة' p",tomorrow:"'غدا عند الساعة' p",nextWeek:"eeee 'القادم عند الساعة' p",other:"P"},dje=e=>uje[e],fje={narrow:["ق","ب"],abbreviated:["ق.م.","ب.م."],wide:["قبل الميلاد","بعد الميلاد"]},hje={narrow:["1","2","3","4"],abbreviated:["ر1","ر2","ر3","ر4"],wide:["الربع الأول","الربع الثاني","الربع الثالث","الربع الرابع"]},mje={narrow:["ي","ف","م","أ","م","ي","ي","أ","س","أ","ن","د"],abbreviated:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],wide:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"]},gje={narrow:["ح","ن","ث","ر","خ","ج","س"],short:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],abbreviated:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],wide:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"]},pje={narrow:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"},abbreviated:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"},wide:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"}},xje={narrow:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"},abbreviated:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"},wide:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"}},vje=e=>String(e),yje={ordinalNumber:vje,era:jo({values:fje,defaultWidth:"wide"}),quarter:jo({values:hje,defaultWidth:"wide",argumentCallback:e=>e-1}),month:jo({values:mje,defaultWidth:"wide"}),day:jo({values:gje,defaultWidth:"wide"}),dayPeriod:jo({values:pje,defaultWidth:"wide",formattingValues:xje,defaultFormattingWidth:"wide"})},bje=/^(\d+)(th|st|nd|rd)?/i,wje=/\d+/i,Sje={narrow:/[قب]/,abbreviated:/[قب]\.م\./,wide:/(قبل|بعد) الميلاد/},jje={any:[/قبل/,/بعد/]},Aje={narrow:/^[1234]/i,abbreviated:/ر[1234]/,wide:/الربع (الأول|الثاني|الثالث|الرابع)/},Eje={any:[/1/i,/2/i,/3/i,/4/i]},Nje={narrow:/^[أيفمسند]/,abbreviated:/^(يناير|فبراير|مارس|أبريل|مايو|يونيو|يوليو|أغسطس|سبتمبر|أكتوبر|نوفمبر|ديسمبر)/,wide:/^(يناير|فبراير|مارس|أبريل|مايو|يونيو|يوليو|أغسطس|سبتمبر|أكتوبر|نوفمبر|ديسمبر)/},_je={narrow:[/^ي/i,/^ف/i,/^م/i,/^أ/i,/^م/i,/^ي/i,/^ي/i,/^أ/i,/^س/i,/^أ/i,/^ن/i,/^د/i],any:[/^يناير/i,/^فبراير/i,/^مارس/i,/^أبريل/i,/^مايو/i,/^يونيو/i,/^يوليو/i,/^أغسطس/i,/^سبتمبر/i,/^أكتوبر/i,/^نوفمبر/i,/^ديسمبر/i]},Cje={narrow:/^[حنثرخجس]/i,short:/^(أحد|اثنين|ثلاثاء|أربعاء|خميس|جمعة|سبت)/i,abbreviated:/^(أحد|اثنين|ثلاثاء|أربعاء|خميس|جمعة|سبت)/i,wide:/^(الأحد|الاثنين|الثلاثاء|الأربعاء|الخميس|الجمعة|السبت)/i},Tje={narrow:[/^ح/i,/^ن/i,/^ث/i,/^ر/i,/^خ/i,/^ج/i,/^س/i],wide:[/^الأحد/i,/^الاثنين/i,/^الثلاثاء/i,/^الأربعاء/i,/^الخميس/i,/^الجمعة/i,/^السبت/i],any:[/^أح/i,/^اث/i,/^ث/i,/^أر/i,/^خ/i,/^ج/i,/^س/i]},Oje={narrow:/^(ص|م|منتصف الليل|الظهر|بعد الظهر|في الصباح|في المساء|في الليل)/,any:/^(ص|م|منتصف الليل|الظهر|بعد الظهر|في الصباح|في المساء|في الليل)/},Mje={any:{am:/^ص/,pm:/^م/,midnight:/منتصف الليل/,noon:/الظهر/,afternoon:/بعد الظهر/,morning:/في الصباح/,evening:/في المساء/,night:/في الليل/}},Dje={ordinalNumber:mz({matchPattern:bje,parsePattern:wje,valueCallback:e=>parseInt(e,10)}),era:Ao({matchPatterns:Sje,defaultMatchWidth:"wide",parsePatterns:jje,defaultParseWidth:"any"}),quarter:Ao({matchPatterns:Aje,defaultMatchWidth:"wide",parsePatterns:Eje,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ao({matchPatterns:Nje,defaultMatchWidth:"wide",parsePatterns:_je,defaultParseWidth:"any"}),day:Ao({matchPatterns:Cje,defaultMatchWidth:"wide",parsePatterns:Tje,defaultParseWidth:"any"}),dayPeriod:Ao({matchPatterns:Oje,defaultMatchWidth:"any",parsePatterns:Mje,defaultParseWidth:"any"})},P0={code:"ar",formatDistance:ije,formatLong:cje,formatRelative:dje,localize:yje,match:Dje,options:{weekStartsOn:6,firstWeekContainsDate:1}},Rje=()=>{const{user:e}=yn(),{language:t,t:n}=tn(),[r,a]=A.useState([]),[s,c]=A.useState([]),[f,m]=A.useState(!0),[h,p]=A.useState("30"),[v,j]=A.useState("line");A.useEffect(()=>{e&&E()},[e,h]);const E=async()=>{if(e){m(!0);try{const F=Eo(new Date,parseInt(h)),{data:L,error:B}=await ot.from("trips").select("*").eq("driver_id",e.id).gte("created_at",F.toISOString()).order("created_at",{ascending:!0});if(B)throw B;const{data:$,error:z}=await ot.from("driver_earnings").select("*").eq("driver_id",e.id).gte("created_at",F.toISOString()).order("created_at",{ascending:!0});if(z)throw z;a(L||[]),c($||[])}catch(F){console.error("Error fetching analytics data:",F)}finally{m(!1)}}},O=()=>{const F=r.filter(oe=>oe.status==="completed"),L=s.reduce((oe,pe)=>oe+pe.net_amount,0),B=F.reduce((oe,pe)=>oe+pe.fare,0),$=F.reduce((oe,pe)=>oe+pe.distance,0),z=F.reduce((oe,pe)=>oe+pe.duration,0),H=F.length>0?F.reduce((oe,pe)=>oe+(pe.rating||0),0)/F.length:0,K=F.filter(oe=>E1(Rr(oe.created_at))).reduce((oe,pe)=>oe+pe.fare,0),ee=F.length>0?B/F.length:0,ue=F.length>0?$/F.length:0,ne=F.length>0?z/F.length:0,G=$>0?L/$:0,Q=z>0?L/(z/3600):0,ae=r.length>0?r.filter(oe=>oe.status==="cancelled").length/r.length*100:0,he=Math.floor(parseInt(h)/2),te=Eo(new Date,he),fe=s.filter(oe=>Rr(oe.created_at)>=te),se=s.filter(oe=>Rr(oe.created_at)<te),me=fe.reduce((oe,pe)=>oe+pe.net_amount,0),Re=se.reduce((oe,pe)=>oe+pe.net_amount,0),ye=Re>0?(me-Re)/Re*100:0;return{totalTrips:F.length,totalEarnings:L,avgRating:H,todayEarnings:K,avgTripFare:ee,avgTripDistance:ue,avgTripDuration:ne,earningsPerKm:G,earningsPerHour:Q,cancellationRate:ae,earningsGrowth:ye,totalDistance:$,totalDuration:z}},T=()=>{const F=new Map;return s.forEach(L=>{const B=fr(Rr(L.created_at),"yyyy-MM-dd");F.set(B,(F.get(B)||0)+L.net_amount)}),Array.from(F.entries()).map(([L,B])=>({date:fr(Rr(L),"MMM dd",{locale:t==="ar"?P0:void 0}),earnings:B,trips:r.filter($=>fr(Rr($.created_at),"yyyy-MM-dd")===L&&$.status==="completed").length})).sort((L,B)=>L.date.localeCompare(B.date))},_=()=>{const F=new Map;for(let L=0;L<24;L++)F.set(L,{trips:0,earnings:0});return r.filter(L=>L.status==="completed").forEach(L=>{const B=Rr(L.created_at).getHours(),$=F.get(B)||{trips:0,earnings:0};F.set(B,{trips:$.trips+1,earnings:$.earnings+L.fare})}),Array.from(F.entries()).map(([L,B])=>({hour:`${L.toString().padStart(2,"0")}:00`,trips:B.trips,earnings:B.earnings,avgFare:B.trips>0?B.earnings/B.trips:0}))},D=()=>{const F=[],L=new Date;for(let B=5;B>=0;B--){const $=new Date(L.getFullYear(),L.getMonth()-B,1),z=U_($),H=F_($),X=r.filter(ee=>{const ue=Rr(ee.created_at);return ue>=z&&ue<=H&&ee.status==="completed"}),K=s.filter(ee=>{const ue=Rr(ee.created_at);return ue>=z&&ue<=H});F.push({month:fr($,"MMM yyyy",{locale:t==="ar"?P0:void 0}),trips:X.length,earnings:K.reduce((ee,ue)=>ee+ue.net_amount,0),avgRating:X.length>0?X.reduce((ee,ue)=>ee+(ue.rating||0),0)/X.length:0})}return F},P=()=>{const F=new Map;return r.filter(L=>L.status==="completed").forEach(L=>{const B=L.pickup_location.split(",")[0].trim(),$=F.get(B)||{trips:0,earnings:0,totalRating:0};F.set(B,{trips:$.trips+1,earnings:$.earnings+L.fare,avgRating:0,totalRating:$.totalRating+(L.rating||0)})}),Array.from(F.entries()).map(([L,B])=>({location:L,trips:B.trips,earnings:B.earnings,avgFare:B.earnings/B.trips,avgRating:B.totalRating/B.trips})).sort((L,B)=>B.earnings-L.earnings).slice(0,10)},I=()=>{const F=O(),L={metadata:{exportDate:new Date().toISOString(),dateRange:`${h} days`,driverId:e==null?void 0:e.id,generatedBy:"Tickets Driver Analytics"},kpis:F,earningsTrend:T(),hourlyPerformance:_(),monthlyComparison:D(),locationPerformance:P(),rawData:{trips:r.length,earnings:s.length}},B=new Blob([JSON.stringify(L,null,2)],{type:"application/json"}),$=URL.createObjectURL(B),z=document.createElement("a");z.href=$,z.download=`driver-analytics-${fr(new Date,"yyyy-MM-dd")}.json`,z.click(),URL.revokeObjectURL($)},U=O();return f?i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600"})}):i.jsxs("div",{className:"space-y-6",dir:t==="ar"?"rtl":"ltr",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Driver Analytics"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Track your earnings, performance, and business insights"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("select",{value:h,onChange:F=>p(F.target.value),className:"px-3 py-2 border border-gray-300 rounded-md bg-white dark:bg-gray-800 dark:border-gray-600",children:[i.jsx("option",{value:"7",children:"Last 7 days"}),i.jsx("option",{value:"30",children:"Last 30 days"}),i.jsx("option",{value:"90",children:"Last 90 days"}),i.jsx("option",{value:"365",children:"Last year"})]}),i.jsxs(De,{onClick:I,variant:"outline",size:"sm",children:[i.jsx(Zs,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:"Total Earnings"}),i.jsx(Xr,{className:"h-4 w-4 text-green-600"})]}),i.jsxs(we,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[U.totalEarnings.toLocaleString()," SYP"]}),i.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[U.earningsGrowth>0?i.jsx(Kn,{className:"h-3 w-3 text-green-600 mr-1"}):i.jsx(Nl,{className:"h-3 w-3 text-red-600 mr-1"}),i.jsxs("span",{className:U.earningsGrowth>0?"text-green-600":"text-red-600",children:[Math.abs(U.earningsGrowth).toFixed(1),"% vs last period"]})]})]})]}),i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:"Total Trips"}),i.jsx(Hs,{className:"h-4 w-4 text-blue-600"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:U.totalTrips}),i.jsxs("p",{className:"text-xs text-gray-600",children:["Avg fare: ",U.avgTripFare.toLocaleString()," SYP"]})]})]}),i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:"Average Rating"}),i.jsx(p0,{className:"h-4 w-4 text-yellow-600"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:U.avgRating.toFixed(1)}),i.jsxs("p",{className:"text-xs text-gray-600",children:["Cancellation rate: ",U.cancellationRate.toFixed(1),"%"]})]})]}),i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:"Earnings/Hour"}),i.jsx(ba,{className:"h-4 w-4 text-purple-600"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:U.earningsPerHour.toLocaleString()}),i.jsxs("p",{className:"text-xs text-gray-600",children:["Per km: ",U.earningsPerKm.toLocaleString()," SYP"]})]})]})]}),i.jsxs(Ll,{defaultValue:"earnings",className:"space-y-4",children:[i.jsxs(Bl,{className:"grid w-full grid-cols-2 lg:grid-cols-6",children:[i.jsx(kt,{value:"earnings",children:"Earnings"}),i.jsx(kt,{value:"performance",children:"Performance"}),i.jsx(kt,{value:"monthly",children:"Monthly"}),i.jsx(kt,{value:"hourly",children:"Hourly"}),i.jsx(kt,{value:"locations",children:"Locations"}),i.jsx(kt,{value:"efficiency",children:"Efficiency"})]}),i.jsx(Lt,{value:"earnings",className:"space-y-4",children:i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(ke,{children:"Earnings Trend"}),i.jsx(rt,{children:"Daily earnings and trip volume over time"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(De,{variant:v==="line"?"default":"outline",size:"sm",onClick:()=>j("line"),children:"Line"}),i.jsx(De,{variant:v==="area"?"default":"outline",size:"sm",onClick:()=>j("area"),children:"Area"}),i.jsx(De,{variant:v==="bar"?"default":"outline",size:"sm",onClick:()=>j("bar"),children:"Bar"})]})]}),i.jsx(we,{children:i.jsx("div",{className:"h-[400px]",children:i.jsx(ni,{width:"100%",height:"100%",children:v==="line"?i.jsxs(R0,{data:T(),children:[i.jsx(Kr,{strokeDasharray:"3 3"}),i.jsx(Pr,{dataKey:"date"}),i.jsx(kr,{}),i.jsx(dr,{formatter:(F,L)=>[`${F} ${L==="earnings"?"SYP":""}`,L==="earnings"?"Earnings":"Trips"]}),i.jsx(va,{}),i.jsx(vs,{type:"monotone",dataKey:"earnings",stroke:"#8884d8",strokeWidth:2}),i.jsx(vs,{type:"monotone",dataKey:"trips",stroke:"#82ca9d",strokeWidth:2})]}):v==="area"?i.jsxs($v,{data:T(),children:[i.jsx(Kr,{strokeDasharray:"3 3"}),i.jsx(Pr,{dataKey:"date"}),i.jsx(kr,{}),i.jsx(dr,{formatter:(F,L)=>[`${F} ${L==="earnings"?"SYP":""}`,L==="earnings"?"Earnings":"Trips"]}),i.jsx(va,{}),i.jsx(xd,{type:"monotone",dataKey:"earnings",stackId:"1",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})]}):i.jsxs(Ro,{data:T(),children:[i.jsx(Kr,{strokeDasharray:"3 3"}),i.jsx(Pr,{dataKey:"date"}),i.jsx(kr,{}),i.jsx(dr,{formatter:(F,L)=>[`${F} ${L==="earnings"?"SYP":""}`,L==="earnings"?"Earnings":"Trips"]}),i.jsx(va,{}),i.jsx(Ir,{dataKey:"earnings",fill:"#8884d8"}),i.jsx(Ir,{dataKey:"trips",fill:"#82ca9d"})]})})})})]})}),i.jsx(Lt,{value:"performance",className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[i.jsxs(be,{children:[i.jsx(Pe,{children:i.jsx(ke,{children:"Performance Metrics"})}),i.jsxs(we,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Avg Trip Distance"}),i.jsxs("span",{className:"font-semibold",children:[U.avgTripDistance.toFixed(1)," km"]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Avg Trip Duration"}),i.jsxs("span",{className:"font-semibold",children:[Math.round(U.avgTripDuration/60)," min"]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Total Distance"}),i.jsxs("span",{className:"font-semibold",children:[U.totalDistance.toLocaleString()," km"]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Total Duration"}),i.jsxs("span",{className:"font-semibold",children:[Math.round(U.totalDuration/3600)," hrs"]})]})]}),U.cancellationRate>10&&i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 rounded-lg",children:[i.jsx(Zf,{className:"h-4 w-4 text-red-500"}),i.jsx("span",{className:"text-sm text-red-700",children:"High cancellation rate detected"})]})]})]}),i.jsxs(be,{children:[i.jsx(Pe,{children:i.jsx(ke,{children:"Rating Distribution"})}),i.jsx(we,{children:i.jsx("div",{className:"h-[300px]",children:i.jsx(ni,{width:"100%",height:"100%",children:i.jsxs(S1,{children:[i.jsx(lh,{data:[{name:"5 Stars",value:r.filter(F=>F.rating===5).length,fill:"#10B981"},{name:"4 Stars",value:r.filter(F=>F.rating===4).length,fill:"#84CC16"},{name:"3 Stars",value:r.filter(F=>F.rating===3).length,fill:"#F59E0B"},{name:"2 Stars",value:r.filter(F=>F.rating===2).length,fill:"#F97316"},{name:"1 Star",value:r.filter(F=>F.rating===1).length,fill:"#EF4444"}].filter(F=>F.value>0),cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:F,percent:L})=>`${F}: ${((L||0)*100).toFixed(0)}%`,children:[{name:"5 Stars",value:r.filter(F=>F.rating===5).length,fill:"#10B981"},{name:"4 Stars",value:r.filter(F=>F.rating===4).length,fill:"#84CC16"},{name:"3 Stars",value:r.filter(F=>F.rating===3).length,fill:"#F59E0B"},{name:"2 Stars",value:r.filter(F=>F.rating===2).length,fill:"#F97316"},{name:"1 Star",value:r.filter(F=>F.rating===1).length,fill:"#EF4444"}].filter(F=>F.value>0).map((F,L)=>i.jsx(Wc,{fill:F.fill},`cell-${L}`))}),i.jsx(dr,{})]})})})})]})]})}),i.jsx(Lt,{value:"monthly",className:"space-y-4",children:i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:"Monthly Comparison"}),i.jsx(rt,{children:"Compare performance across different months"})]}),i.jsx(we,{children:i.jsx("div",{className:"h-[400px]",children:i.jsx(ni,{width:"100%",height:"100%",children:i.jsxs(Ro,{data:D(),children:[i.jsx(Kr,{strokeDasharray:"3 3"}),i.jsx(Pr,{dataKey:"month"}),i.jsx(kr,{}),i.jsx(dr,{formatter:(F,L)=>[L==="earnings"?`${F} SYP`:L==="avgRating"?`${F}/5`:F,L==="earnings"?"Earnings":L==="trips"?"Trips":"Avg Rating"]}),i.jsx(va,{}),i.jsx(Ir,{dataKey:"earnings",fill:"#8884d8"}),i.jsx(Ir,{dataKey:"trips",fill:"#82ca9d"})]})})})})]})}),i.jsx(Lt,{value:"hourly",className:"space-y-4",children:i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:"Hourly Performance"}),i.jsx(rt,{children:"Analyze your busiest hours and earnings patterns"})]}),i.jsx(we,{children:i.jsx("div",{className:"h-[400px]",children:i.jsx(ni,{width:"100%",height:"100%",children:i.jsxs(Ro,{data:_(),children:[i.jsx(Kr,{strokeDasharray:"3 3"}),i.jsx(Pr,{dataKey:"hour"}),i.jsx(kr,{}),i.jsx(dr,{formatter:(F,L)=>[L==="earnings"||L==="avgFare"?`${F} SYP`:F,L==="earnings"?"Earnings":L==="trips"?"Trips":"Avg Fare"]}),i.jsx(va,{}),i.jsx(Ir,{dataKey:"trips",fill:"#82ca9d"}),i.jsx(Ir,{dataKey:"earnings",fill:"#8884d8"})]})})})})]})}),i.jsx(Lt,{value:"locations",className:"space-y-4",children:i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:"Top Performing Locations"}),i.jsx(rt,{children:"Areas with highest earnings and trip frequency"})]}),i.jsx(we,{children:i.jsx("div",{className:"space-y-4",children:P().map((F,L)=>i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(At,{variant:"outline",className:"text-sm",children:["#",L+1]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold",children:F.location}),i.jsxs("p",{className:"text-sm text-gray-600",children:[F.trips," trips •",F.avgRating.toFixed(1)," ⭐"]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-semibold",children:[F.earnings.toLocaleString()," SYP"]}),i.jsxs("p",{className:"text-sm text-gray-600",children:[F.avgFare.toLocaleString()," SYP/trip"]})]})]},F.location))})})]})}),i.jsx(Lt,{value:"efficiency",className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[i.jsxs(be,{children:[i.jsx(Pe,{children:i.jsx(ke,{children:"Efficiency Metrics"})}),i.jsxs(we,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[i.jsx("span",{className:"text-sm font-medium",children:"Earnings per KM"}),i.jsxs("span",{className:"font-bold text-green-600",children:[U.earningsPerKm.toLocaleString()," SYP"]})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[i.jsx("span",{className:"text-sm font-medium",children:"Earnings per Hour"}),i.jsxs("span",{className:"font-bold text-blue-600",children:[U.earningsPerHour.toLocaleString()," SYP"]})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[i.jsx("span",{className:"text-sm font-medium",children:"Average Trip Fare"}),i.jsxs("span",{className:"font-bold text-purple-600",children:[U.avgTripFare.toLocaleString()," SYP"]})]})]}),i.jsxs("div",{className:"pt-4 border-t",children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Recommendations"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[U.avgRating<4.5&&i.jsxs("div",{className:"flex items-center gap-2 text-amber-600",children:[i.jsx(k1,{className:"h-4 w-4"}),i.jsx("span",{children:"Focus on improving customer service to boost ratings"})]}),U.cancellationRate>10&&i.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[i.jsx(Zf,{className:"h-4 w-4"}),i.jsx("span",{children:"Work on reducing trip cancellations"})]}),U.earningsPerHour<500&&i.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[i.jsx(Kn,{className:"h-4 w-4"}),i.jsx("span",{children:"Consider working during peak hours for better earnings"})]})]})]})]})]}),i.jsxs(be,{children:[i.jsx(Pe,{children:i.jsx(ke,{children:"Today's Snapshot"})}),i.jsx(we,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg",children:[i.jsx("h3",{className:"text-2xl font-bold",children:U.todayEarnings.toLocaleString()}),i.jsx("p",{className:"text-purple-100",children:"Today's Earnings"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[i.jsx("h4",{className:"text-xl font-bold",children:r.filter(F=>E1(Rr(F.created_at))&&F.status==="completed").length}),i.jsx("p",{className:"text-sm text-gray-600",children:"Today's Trips"})]}),i.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[i.jsx("h4",{className:"text-xl font-bold",children:U.avgRating.toFixed(1)}),i.jsx("p",{className:"text-sm text-gray-600",children:"Overall Rating"})]})]})]})})]})]})})]})]})};function Ije(){return gA(["driver"]),i.jsx(X0,{userType:"driver",children:i.jsxs(gh,{children:[i.jsx(wt,{path:"/",element:i.jsx(Sl,{to:"/driver/home",replace:!0})}),i.jsx(wt,{path:"/home",element:i.jsx(eje,{})}),i.jsx(wt,{path:"/earnings",element:i.jsx(tje,{})}),i.jsx(wt,{path:"/trips",element:i.jsx(nje,{})}),i.jsx(wt,{path:"/qr-generator",element:i.jsx(rje,{})}),i.jsx(wt,{path:"/analytics",element:i.jsx(Rje,{})}),i.jsx(wt,{path:"/profile",element:i.jsx(mg,{})}),i.jsx(wt,{path:"/settings",element:i.jsx(gg,{})})]})})}function Pje(){const{user:e}=yn(),{t,isRTL:n}=tn(),[r,a]=A.useState({totalEarnings:0,dailyEarnings:0,weeklyEarnings:0,monthlyEarnings:0,totalTransactions:0,dailyTransactions:0,activeQRCodes:0,uniqueCustomers:0}),[s,c]=A.useState([]),[f,m]=A.useState(!0),[h,p]=A.useState(!1);A.useEffect(()=>{e&&Promise.all([v(),j()]).finally(()=>m(!1))},[e]);const v=async()=>{if(e)try{const{data:P,error:I}=await ot.from("transactions").select("amount, created_at, from_user_id").eq("to_user_id",e.id).eq("type","merchant_payment");if(I)throw I;const U=new Date,F=new Date(U.getFullYear(),U.getMonth(),U.getDate()),L=new Date(F.getTime()-7*24*60*60*1e3),B=new Date(F.getTime()-30*24*60*60*1e3),$=P||[],z=$.reduce((ae,he)=>ae+he.amount,0),H=$.filter(ae=>new Date(ae.created_at)>=F).reduce((ae,he)=>ae+he.amount,0),X=$.filter(ae=>new Date(ae.created_at)>=L).reduce((ae,he)=>ae+he.amount,0),K=$.filter(ae=>new Date(ae.created_at)>=B).reduce((ae,he)=>ae+he.amount,0),ee=$.length,ue=$.filter(ae=>new Date(ae.created_at)>=F).length,ne=new Set($.map(ae=>ae.from_user_id)).size,{data:G,error:Q}=await ot.from("qr_codes").select("id").eq("driver_id",e.id).eq("is_active",!0);if(Q)throw Q;a({totalEarnings:z,dailyEarnings:H,weeklyEarnings:X,monthlyEarnings:K,totalTransactions:ee,dailyTransactions:ue,activeQRCodes:(G==null?void 0:G.length)||0,uniqueCustomers:ne})}catch(P){console.error("Error fetching merchant stats:",P)}},j=async()=>{if(e)try{const{data:P,error:I}=await ot.from("transactions").select(`
          id,
          amount,
          created_at,
          status,
          from_user_id,
          metadata,
          profiles!transactions_from_user_id_fkey (
            full_name
          )
        `).eq("to_user_id",e.id).eq("type","merchant_payment").order("created_at",{ascending:!1}).limit(5);if(I)throw I;const U=(P==null?void 0:P.map(F=>{var L,B;return{id:F.id,customer_name:((L=F.profiles)==null?void 0:L.full_name)||t("unknown_customer"),amount:F.amount,created_at:F.created_at,status:F.status,payment_method:((B=F.metadata)==null?void 0:B.payment_method)||"wallet"}}))||[];c(U)}catch(P){console.error("Error fetching recent transactions:",P)}},E=P=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(P),O=P=>new Date(P).toLocaleDateString(n?"ar-SY":"en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),T=P=>{const I={completed:{variant:"default",label:t("completed")},pending:{variant:"outline",label:t("pending")},cancelled:{variant:"destructive",label:t("cancelled")}},U=I[P]||I.pending;return i.jsx(At,{variant:U.variant,children:U.label})};if(f)return i.jsx(oi,{text:t("loading_dashboard")});const D=r.dailyEarnings/1e5*100;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[i.jsx("h1",{className:"text-3xl font-bold",children:t("merchant_dashboard")}),i.jsx("p",{className:"text-muted-foreground",children:t("merchant_dashboard_description")})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:t("daily_earnings")}),i.jsx(De,{variant:"ghost",size:"icon",onClick:()=>p(!h),className:"h-4 w-4",children:h?i.jsx(wi,{className:"h-4 w-4"}):i.jsx(mr,{className:"h-4 w-4"})})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:h?E(r.dailyEarnings):"••••••"}),i.jsxs("div",{className:"mt-2",children:[i.jsx(_z,{value:D,className:"h-2"}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[Math.round(D),"% ",t("of_daily_goal")]})]})]})]})}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:t("total_earnings")}),i.jsx(Xr,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:h?E(r.totalEarnings):"••••••"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.jsx(Kn,{className:"inline h-3 w-3 mr-1"}),t("monthly"),": ",h?E(r.monthlyEarnings):"••••••"]})]})]})}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:t("transactions")}),i.jsx(GO,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:r.totalTransactions}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.dailyTransactions," ",t("today")]})]})]})}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:t("customers")}),i.jsx(Ga,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:r.uniqueCustomers}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.activeQRCodes," ",t("active_qr_codes")]})]})]})})]}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:t("quick_actions")}),i.jsx(rt,{children:t("merchant_quick_actions_description")})]}),i.jsx(we,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(De,{asChild:!0,className:"h-20 flex flex-col",children:i.jsxs(Ht,{to:"/merchant/qr-codes",children:[i.jsx(Ar,{className:"h-6 w-6 mb-2"}),t("create_qr_code")]})}),i.jsx(De,{asChild:!0,variant:"outline",className:"h-20 flex flex-col",children:i.jsxs(Ht,{to:"/merchant/payments",children:[i.jsx(Xr,{className:"h-6 w-6 mb-2"}),t("view_payments")]})}),i.jsx(De,{asChild:!0,variant:"outline",className:"h-20 flex flex-col",children:i.jsxs(Ht,{to:"/merchant/business",children:[i.jsx(Qf,{className:"h-6 w-6 mb-2"}),t("manage_business")]})}),i.jsx(De,{asChild:!0,variant:"outline",className:"h-20 flex flex-col",children:i.jsxs(Ht,{to:"/merchant/analytics",children:[i.jsx(Kn,{className:"h-6 w-6 mb-2"}),t("view_analytics")]})})]})})]})}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:t("recent_transactions")}),i.jsx(rt,{children:t("recent_merchant_transactions_description")})]}),i.jsx(we,{children:s.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(GO,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_transactions_yet")}),i.jsx("p",{className:"text-muted-foreground",children:t("no_merchant_transactions_description")})]}):i.jsxs("div",{className:"space-y-4",children:[s.map((P,I)=>i.jsxs(Ye.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*I},className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:i.jsx(Ga,{className:"h-5 w-5 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:P.customer_name}),i.jsx("div",{className:"flex items-center text-sm text-muted-foreground",children:i.jsxs("span",{className:"mr-2",children:[t("payment_method"),": ",t(P.payment_method)]})}),i.jsx("div",{className:"flex items-center text-sm text-muted-foreground",children:i.jsx("span",{children:O(P.created_at)})})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"font-bold text-lg",children:E(P.amount)}),T(P.status)]})]},P.id)),i.jsx(De,{asChild:!0,variant:"outline",className:"w-full",children:i.jsx(Ht,{to:"/merchant/payments",children:t("view_all_payments")})})]})})]})})]})}function kje(){const{t:e}=tn();return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:e("business_management")}),i.jsx("p",{className:"text-muted-foreground",children:e("business_management_description")})]}),i.jsx(be,{children:i.jsxs(we,{className:"text-center py-12",children:[i.jsx(Qf,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:e("business_page_coming_soon")}),i.jsx("p",{className:"text-muted-foreground",children:e("business_page_description")})]})})]})}function Lje(){const{user:e}=yn(),{t,isRTL:n}=tn(),[r,a]=A.useState([]),[s,c]=A.useState([]),[f,m]=A.useState(!0),[h,p]=A.useState(""),[v,j]=A.useState("all");A.useEffect(()=>{e&&E()},[e]),A.useEffect(()=>{O()},[r,h,v]);const E=async()=>{if(e)try{const{data:B,error:$}=await ot.from("transactions").select(`
          id,
          amount,
          created_at,
          status,
          metadata,
          profiles!transactions_from_user_id_fkey (
            full_name
          )
        `).eq("to_user_id",e.id).eq("type","merchant_payment").order("created_at",{ascending:!1});if($)throw $;const z=(B==null?void 0:B.map(H=>{var X,K,ee;return{id:H.id,customer_name:((X=H.profiles)==null?void 0:X.full_name)||t("unknown_customer"),amount:H.amount,created_at:H.created_at,status:H.status,payment_method:((K=H.metadata)==null?void 0:K.payment_method)||"wallet",description:(ee=H.metadata)==null?void 0:ee.description}}))||[];a(z)}catch(B){console.error("Error fetching payments:",B),nt.error(t("error_fetch_payments"))}finally{m(!1)}},O=()=>{let B=r.filter($=>{const z=$.customer_name.toLowerCase().includes(h.toLowerCase())||$.id.toLowerCase().includes(h.toLowerCase()),H=v==="all"||$.status===v;return z&&H});c(B)},T=B=>{const $={completed:{variant:"default",label:t("completed")},pending:{variant:"outline",label:t("pending")},cancelled:{variant:"destructive",label:t("cancelled")}},z=$[B]||$.pending;return i.jsx(At,{variant:z.variant,children:z.label})},_=B=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(B),D=B=>new Date(B).toLocaleDateString(n?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),P=()=>{const B=[["Date","Customer","Amount","Status","Payment Method","Transaction ID"],...s.map(X=>[D(X.created_at),X.customer_name,X.amount.toString(),X.status,X.payment_method,X.id])].map(X=>X.join(",")).join(`
`),$=new Blob([B],{type:"text/csv"}),z=URL.createObjectURL($),H=document.createElement("a");H.href=z,H.download=`merchant-payments-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(H),H.click(),document.body.removeChild(H),URL.revokeObjectURL(z),nt.success(t("payments_exported"))};if(f)return i.jsx(oi,{text:t("loading_payments")});const I=s.filter(B=>B.status==="completed"),U=s.filter(B=>B.status==="pending"),F=s.filter(B=>B.status==="cancelled");return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:t("payments")}),i.jsx("p",{className:"text-muted-foreground",children:t("merchant_payments_description")})]}),i.jsxs(De,{onClick:P,variant:"outline",children:[i.jsx(Zs,{className:"h-4 w-4 mr-2"}),t("export")]})]}),i.jsx(be,{children:i.jsx(we,{className:"p-6",children:i.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx(Pl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(qt,{placeholder:t("search_payments"),value:h,onChange:B=>p(B.target.value),className:"pl-10"})]})}),i.jsxs(Lr,{value:v,onValueChange:j,children:[i.jsxs(Fr,{className:"w-[150px]",children:[i.jsx(q0,{className:"h-4 w-4 mr-2"}),i.jsx(Br,{})]}),i.jsxs(Ur,{children:[i.jsx(st,{value:"all",children:t("all_statuses")}),i.jsx(st,{value:"completed",children:t("completed")}),i.jsx(st,{value:"pending",children:t("pending")}),i.jsx(st,{value:"cancelled",children:t("cancelled")})]})]})]})})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(be,{children:i.jsx(we,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("total_payments")}),i.jsx("p",{className:"text-2xl font-bold",children:s.length})]}),i.jsx(Xr,{className:"h-8 w-8 text-blue-600"})]})})}),i.jsx(be,{children:i.jsx(we,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("total_amount")}),i.jsx("p",{className:"text-2xl font-bold",children:_(s.reduce((B,$)=>B+$.amount,0))})]}),i.jsx(Xr,{className:"h-8 w-8 text-green-600"})]})})}),i.jsx(be,{children:i.jsx(we,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("unique_customers")}),i.jsx("p",{className:"text-2xl font-bold",children:new Set(s.map(B=>B.customer_name)).size})]}),i.jsx(Ga,{className:"h-8 w-8 text-purple-600"})]})})})]}),i.jsxs(Ll,{defaultValue:"all",className:"w-full",children:[i.jsxs(Bl,{className:"grid w-full grid-cols-4",children:[i.jsxs(kt,{value:"all",children:[t("all")," (",s.length,")"]}),i.jsxs(kt,{value:"completed",children:[t("completed")," (",I.length,")"]}),i.jsxs(kt,{value:"pending",children:[t("pending")," (",U.length,")"]}),i.jsxs(kt,{value:"cancelled",children:[t("cancelled")," (",F.length,")"]})]}),i.jsx(Lt,{value:"all",className:"space-y-4",children:i.jsx(L,{payments:s})}),i.jsx(Lt,{value:"completed",className:"space-y-4",children:i.jsx(L,{payments:I})}),i.jsx(Lt,{value:"pending",className:"space-y-4",children:i.jsx(L,{payments:U})}),i.jsx(Lt,{value:"cancelled",className:"space-y-4",children:i.jsx(L,{payments:F})})]})]});function L({payments:B}){return B.length===0?i.jsx(be,{children:i.jsxs(we,{className:"text-center py-12",children:[i.jsx(Xr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_payments_found")}),i.jsx("p",{className:"text-muted-foreground",children:t("no_payments_description")})]})}):i.jsx("div",{className:"space-y-4",children:B.map(($,z)=>i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:z*.1},children:i.jsx(be,{className:"hover:shadow-lg transition-shadow",children:i.jsx(we,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:i.jsx(Xr,{className:"h-6 w-6 text-green-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:$.customer_name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[t("payment_method"),": ",t($.payment_method)]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:D($.created_at)}),i.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:[$.id.slice(0,8),"..."]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-bold text-lg text-green-600",children:["+",_($.amount)]}),T($.status)]})]})})})},$.id))})}}function Bje(){const{user:e}=yn(),{t,isRTL:n}=tn(),[r,a]=A.useState([]),[s,c]=A.useState(!0),[f,m]=A.useState(!1),[h,p]=A.useState({amount:"",description:"",business_name:"",expires_at:""});A.useEffect(()=>{e&&v()},[e]);const v=async()=>{if(e)try{const{data:L,error:B}=await ot.from("qr_codes").select(`
          *,
          usage_count:transactions(count)
        `).eq("driver_id",e.id).order("created_at",{ascending:!1});if(B)throw B;const $=(L==null?void 0:L.map(z=>{var H,X;return{...z,usage_count:((X=(H=z.usage_count)==null?void 0:H[0])==null?void 0:X.count)||0,business_name:z.route_info,description:z.vehicle_info}}))||[];a($)}catch(L){console.error("Error fetching QR codes:",L),nt.error(t("error_fetch_qr_codes"))}finally{c(!1)}},j=async()=>{if(!e||!h.amount){nt.error(t("please_fill_required_fields"));return}m(!0);try{const L=parseFloat(h.amount);if(L<=0){nt.error(t("invalid_amount"));return}const B={type:"merchant_payment",merchant_id:e.id,amount:L,business_name:h.business_name||null,description:h.description||null,timestamp:Date.now()},{data:$,error:z}=await ot.from("qr_codes").insert({driver_id:e.id,qr_data:JSON.stringify(B),is_active:!0,expires_at:h.expires_at||null,route_info:h.business_name||null,vehicle_info:h.description||null}).select().single();if(z)throw z;nt.success(t("qr_code_generated_successfully")),p({amount:"",description:"",business_name:"",expires_at:""}),v()}catch(L){console.error("Error generating QR code:",L),nt.error(t("error_generate_qr_code"))}finally{m(!1)}},E=async(L,B)=>{try{const{error:$}=await ot.from("qr_codes").update({is_active:!B}).eq("id",L).eq("driver_id",e==null?void 0:e.id);if($)throw $;nt.success(t(B?"qr_code_deactivated":"qr_code_activated")),v()}catch($){console.error("Error toggling QR code status:",$),nt.error(t("error_toggle_qr_status"))}},O=L=>{const B=L.qr_data;navigator.clipboard.writeText(B),nt.success(t("qr_data_copied"))},T=L=>{const B=L.qr_data,$=new Blob([B],{type:"application/json"}),z=URL.createObjectURL($),H=document.createElement("a");H.href=z,H.download=`merchant-qr-${L.id}.json`,document.body.appendChild(H),H.click(),document.body.removeChild(H),URL.revokeObjectURL(z),nt.success(t("qr_code_downloaded"))},_=L=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(L),D=L=>new Date(L).toLocaleDateString(n?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),P=L=>L?new Date(L)<new Date:!1,I=L=>P(L.expires_at)?i.jsx(At,{variant:"destructive",children:t("expired")}):L.is_active?i.jsx(At,{variant:"default",children:t("active")}):i.jsx(At,{variant:"outline",children:t("inactive")});if(s)return i.jsx(oi,{text:t("loading_qr_codes")});const U=r.filter(L=>L.is_active&&!P(L.expires_at)),F=r.filter(L=>!L.is_active||P(L.expires_at));return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:t("merchant_qr_codes")}),i.jsx("p",{className:"text-muted-foreground",children:t("merchant_qr_description")})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(be,{children:i.jsx(we,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("active_qr_codes")}),i.jsx("p",{className:"text-2xl font-bold",children:U.length})]}),i.jsx(Ar,{className:"h-8 w-8 text-green-600"})]})})}),i.jsx(be,{children:i.jsx(we,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("total_scans")}),i.jsx("p",{className:"text-2xl font-bold",children:r.reduce((L,B)=>L+B.usage_count,0)})]}),i.jsx(mr,{className:"h-8 w-8 text-blue-600"})]})})}),i.jsx(be,{children:i.jsx(we,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("total_earnings")}),i.jsx("p",{className:"text-2xl font-bold",children:_(r.reduce((L,B)=>L+25e3*B.usage_count,0))})]}),i.jsx(Xr,{className:"h-8 w-8 text-green-600"})]})})})]}),i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:t("generate_merchant_qr_code")}),i.jsx(rt,{children:t("create_merchant_qr_description")})]}),i.jsxs(we,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs(pt,{htmlFor:"amount",children:[t("amount")," *"]}),i.jsx(qt,{id:"amount",type:"number",placeholder:"0",value:h.amount,onChange:L=>p(B=>({...B,amount:L.target.value}))})]}),i.jsxs("div",{children:[i.jsx(pt,{htmlFor:"business_name",children:t("business_name")}),i.jsx(qt,{id:"business_name",placeholder:t("business_name_placeholder"),value:h.business_name,onChange:L=>p(B=>({...B,business_name:L.target.value}))})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(pt,{htmlFor:"description",children:t("description")}),i.jsx(qt,{id:"description",placeholder:t("qr_description_placeholder"),value:h.description,onChange:L=>p(B=>({...B,description:L.target.value}))})]}),i.jsxs("div",{children:[i.jsx(pt,{htmlFor:"expires_at",children:t("expires_at")}),i.jsx(qt,{id:"expires_at",type:"datetime-local",value:h.expires_at,onChange:L=>p(B=>({...B,expires_at:L.target.value}))})]})]}),i.jsx(De,{onClick:j,disabled:f,className:"w-full",children:f?i.jsx(oi,{text:t("generating")}):i.jsxs(i.Fragment,{children:[i.jsx(Ar,{className:"h-4 w-4 mr-2"}),t("generate_qr_code")]})})]})]}),i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsxs(ke,{children:[t("active_qr_codes")," (",U.length,")"]}),i.jsx(rt,{children:t("manage_active_merchant_qr_codes")})]}),i.jsx(we,{children:U.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Ar,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_active_qr_codes")}),i.jsx("p",{className:"text-muted-foreground",children:t("generate_first_merchant_qr_code")})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:U.map((L,B)=>i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:B*.1},children:i.jsxs(be,{className:"hover:shadow-lg transition-shadow",children:[i.jsxs(Pe,{className:"pb-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ke,{className:"text-lg",children:L.business_name||t("merchant_payment")}),I(L)]}),L.description&&i.jsx(rt,{children:L.description})]}),i.jsxs(we,{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Qf,{className:"h-4 w-4 mr-2 text-blue-600"}),i.jsx("span",{children:L.business_name||t("merchant_business")})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(ba,{className:"h-4 w-4 mr-2 text-blue-600"}),i.jsx("span",{children:D(L.created_at||"")})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(mr,{className:"h-4 w-4 mr-2 text-purple-600"}),i.jsxs("span",{children:[L.usage_count," ",t("times_scanned")]})]}),L.expires_at&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(ba,{className:"h-4 w-4 mr-2 text-orange-600"}),i.jsxs("span",{children:[t("expires"),": ",D(L.expires_at)]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(De,{variant:"outline",size:"sm",onClick:()=>O(L),className:"flex-1",children:[i.jsx(O6,{className:"h-4 w-4 mr-1"}),t("copy")]}),i.jsxs(De,{variant:"outline",size:"sm",onClick:()=>T(L),className:"flex-1",children:[i.jsx(Zs,{className:"h-4 w-4 mr-1"}),t("download")]})]}),i.jsx(De,{variant:L.is_active?"destructive":"default",size:"sm",onClick:()=>E(L.id,L.is_active),className:"w-full",children:L.is_active?i.jsxs(i.Fragment,{children:[i.jsx(wi,{className:"h-4 w-4 mr-2"}),t("deactivate")]}):i.jsxs(i.Fragment,{children:[i.jsx(mr,{className:"h-4 w-4 mr-2"}),t("activate")]})})]})]})},L.id))})})]}),F.length>0&&i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsxs(ke,{children:[t("inactive_expired_qr_codes")," (",F.length,")"]}),i.jsx(rt,{children:t("manage_inactive_merchant_qr_codes")})]}),i.jsx(we,{children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:F.map((L,B)=>i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:B*.1},children:i.jsxs(be,{className:"opacity-60 hover:opacity-80 transition-opacity",children:[i.jsxs(Pe,{className:"pb-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ke,{className:"text-lg",children:L.business_name||t("merchant_payment")}),I(L)]}),L.description&&i.jsx(rt,{children:L.description})]}),i.jsxs(we,{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(ba,{className:"h-4 w-4 mr-2"}),i.jsx("span",{children:D(L.created_at||"")})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(mr,{className:"h-4 w-4 mr-2"}),i.jsxs("span",{children:[L.usage_count," ",t("times_scanned")]})]})]}),!P(L.expires_at)&&i.jsxs(De,{variant:"outline",size:"sm",onClick:()=>E(L.id,L.is_active),className:"w-full",children:[i.jsx(P1,{className:"h-4 w-4 mr-2"}),t("reactivate")]})]})]})},L.id))})})]})]})}function Fje(){const{t:e}=tn();return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:e("analytics")}),i.jsx("p",{className:"text-muted-foreground",children:e("analytics_description")})]}),i.jsx(be,{children:i.jsxs(we,{className:"text-center py-12",children:[i.jsx(Kn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:e("analytics_coming_soon")}),i.jsx("p",{className:"text-muted-foreground",children:e("analytics_description")})]})})]})}function Uje(){return gA(["merchant"]),i.jsx(X0,{userType:"merchant",children:i.jsxs(gh,{children:[i.jsx(wt,{path:"/",element:i.jsx(Sl,{to:"/merchant/home",replace:!0})}),i.jsx(wt,{path:"/home",element:i.jsx(Pje,{})}),i.jsx(wt,{path:"/business",element:i.jsx(kje,{})}),i.jsx(wt,{path:"/payments",element:i.jsx(Lje,{})}),i.jsx(wt,{path:"/qr-codes",element:i.jsx(Bje,{})}),i.jsx(wt,{path:"/analytics",element:i.jsx(Fje,{})}),i.jsx(wt,{path:"/profile",element:i.jsx(mg,{})}),i.jsx(wt,{path:"/settings",element:i.jsx(gg,{})})]})})}function zje(){const{profile:e}=yn(),{t,language:n}=tn(),[r,a]=A.useState({totalEvents:0,activeEvents:0,totalTicketsSold:0,totalRevenue:0,pendingValidations:0,recentEvents:[],recentTickets:[]}),[s,c]=A.useState(!0),[f,m]=A.useState(!0);A.useEffect(()=>{e&&h()},[e]);const h=async()=>{if(e)try{c(!0);const{data:E,error:O}=await ot.from("events").select("*").eq("created_by",e.id);if(O)throw O;const T=(E==null?void 0:E.map(z=>z.id))||[],{data:_,error:D}=await ot.from("user_tickets").select(`
          *,
          events (
            title,
            ticket_price
          ),
          profiles (
            full_name
          )
        `).in("event_id",T);if(D)throw D;const P=(E==null?void 0:E.length)||0,I=(E==null?void 0:E.filter(z=>new Date(z.event_date)>new Date&&z.is_active).length)||0,U=(_==null?void 0:_.length)||0,F=(_==null?void 0:_.reduce((z,H)=>{var X;return z+(((X=H.events)==null?void 0:X.ticket_price)||0)},0))||0,L=(_==null?void 0:_.filter(z=>z.status==="pending").length)||0,B=(E==null?void 0:E.sort((z,H)=>new Date(H.created_at).getTime()-new Date(z.created_at).getTime()).slice(0,5))||[],$=(_==null?void 0:_.sort((z,H)=>new Date(H.created_at).getTime()-new Date(z.created_at).getTime()).slice(0,5))||[];a({totalEvents:P,activeEvents:I,totalTicketsSold:U,totalRevenue:F,pendingValidations:L,recentEvents:B,recentTickets:$})}catch(E){console.error("Error fetching event stats:",E)}finally{c(!1)}},p=E=>new Intl.NumberFormat(n==="ar"?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(E),v=E=>{switch(E){case"active":return"default";case"pending":return"secondary";case"used":return"default";case"cancelled":return"destructive";default:return"secondary"}},j=E=>{switch(E){case"active":return i.jsx(fs,{className:"h-4 w-4"});case"pending":return i.jsx(ba,{className:"h-4 w-4"});case"used":return i.jsx(fs,{className:"h-4 w-4"});case"cancelled":return i.jsx(mx,{className:"h-4 w-4"});default:return i.jsx(ba,{className:"h-4 w-4"})}};return s?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold tracking-tight",children:[t("welcome"),", ",e==null?void 0:e.full_name]}),i.jsx("p",{className:"text-muted-foreground",children:t("eventAdminDashboardOverview")})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(De,{children:[i.jsx(ps,{className:"h-4 w-4 mr-2"}),t("createEvent")]}),i.jsxs(De,{variant:"outline",children:[i.jsx(Ar,{className:"h-4 w-4 mr-2"}),t("validateTickets")]})]})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:t("totalEvents")}),i.jsx(bi,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:r.totalEvents}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.activeEvents," ",t("activeEvents")]})]})]})}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:t("ticketsSold")}),i.jsx(si,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:r.totalTicketsSold}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",r.pendingValidations," ",t("pendingValidation")]})]})]})}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:t("totalRevenue")}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Xr,{className:"h-4 w-4 text-muted-foreground"}),i.jsx(De,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0",onClick:()=>m(!f),children:f?i.jsx(mr,{className:"h-3 w-3"}):i.jsx(wi,{className:"h-3 w-3"})})]})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:f?p(r.totalRevenue):"••••••"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.jsx(Kn,{className:"h-3 w-3 inline mr-1"}),t("fromTicketSales")]})]})]})}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:t("pendingValidations")}),i.jsx(Ga,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:r.pendingValidations}),i.jsx("p",{className:"text-xs text-muted-foreground",children:t("requiresAttention")})]})]})})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:t("recentEvents")}),i.jsx(rt,{children:t("yourLatestEventActivities")})]}),i.jsx(we,{children:i.jsx("div",{className:"space-y-4",children:r.recentEvents.length>0?r.recentEvents.map((E,O)=>i.jsxs(Ye.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:O*.1},className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium",children:E.title}),i.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(E.event_date).toLocaleDateString(n==="ar"?"ar-SY":"en-US")})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(At,{variant:E.is_active?"default":"secondary",children:E.is_active?t("active"):t("inactive")}),i.jsx("span",{className:"text-sm font-medium",children:p(E.ticket_price)})]})]},E.id)):i.jsx("p",{className:"text-center text-muted-foreground py-4",children:t("noEventsYet")})})})]}),i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:t("recentTicketActivity")}),i.jsx(rt,{children:t("latestTicketPurchasesAndValidations")})]}),i.jsx(we,{children:i.jsx("div",{className:"space-y-4",children:r.recentTickets.length>0?r.recentTickets.map((E,O)=>{var T,_;return i.jsxs(Ye.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:O*.1},className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium",children:(T=E.events)==null?void 0:T.title}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[t("purchasedBy")," ",(_=E.profiles)==null?void 0:_.full_name]})]}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsx(At,{variant:v(E.status),children:i.jsxs("div",{className:"flex items-center space-x-1",children:[j(E.status),i.jsx("span",{children:t(E.status)})]})})})]},E.id)}):i.jsx("p",{className:"text-center text-muted-foreground py-4",children:t("noTicketActivityYet")})})})]})]}),i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:t("quickActions")}),i.jsx(rt,{children:t("commonTasksAndActions")})]}),i.jsx(we,{children:i.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[i.jsx(De,{variant:"outline",className:"h-auto p-4",children:i.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[i.jsx(ps,{className:"h-6 w-6"}),i.jsx("span",{children:t("createNewEvent")})]})}),i.jsx(De,{variant:"outline",className:"h-auto p-4",children:i.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[i.jsx(Ar,{className:"h-6 w-6"}),i.jsx("span",{children:t("validateTickets")})]})}),i.jsx(De,{variant:"outline",className:"h-auto p-4",children:i.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[i.jsx(Kn,{className:"h-6 w-6"}),i.jsx("span",{children:t("viewAnalytics")})]})})]})})]})]})}function Tz({className:e,...t}){return i.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:i.jsx("table",{"data-slot":"table",className:Et("w-full caption-bottom text-sm",e),...t})})}function Oz({className:e,...t}){return i.jsx("thead",{"data-slot":"table-header",className:Et("[&_tr]:border-b",e),...t})}function Mz({className:e,...t}){return i.jsx("tbody",{"data-slot":"table-body",className:Et("[&_tr:last-child]:border-0",e),...t})}function Dz({className:e,...t}){return i.jsx("tr",{"data-slot":"table-row",className:Et("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function Bi({className:e,...t}){return i.jsx("th",{"data-slot":"table-head",className:Et("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function Fi({className:e,...t}){return i.jsx("td",{"data-slot":"table-cell",className:Et("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}const KP=["concert","sports","conference","workshop","festival","theater","exhibition","other"];function Vje(){const{profile:e}=yn(),{t,language:n}=tn(),[r,a]=A.useState([]),[s,c]=A.useState([]),[f,m]=A.useState(!0),[h,p]=A.useState(""),[v,j]=A.useState("all"),[E,O]=A.useState("all"),[T,_]=A.useState(!1),[D,P]=A.useState(null),[I,U]=A.useState({title:"",description:"",event_date:"",location:"",ticket_price:0,max_capacity:100,category:"other",is_active:!0});A.useEffect(()=>{F()},[]),A.useEffect(()=>{L()},[r,h,v,E]);const F=async()=>{if(e)try{m(!0);const{data:G,error:Q}=await ot.from("events").select(`
          *,
          user_tickets (
            id
          )
        `).eq("created_by",e.id).order("created_at",{ascending:!1});if(Q)throw Q;const ae=G.map(he=>{var te;return{...he,current_bookings:((te=he.user_tickets)==null?void 0:te.length)||0}});a(ae)}catch(G){console.error("Error fetching events:",G),nt.error(t("errorFetchingEvents"))}finally{m(!1)}},L=()=>{let G=r;h&&(G=G.filter(Q=>Q.title.toLowerCase().includes(h.toLowerCase())||Q.description.toLowerCase().includes(h.toLowerCase())||Q.location.toLowerCase().includes(h.toLowerCase()))),v!=="all"&&(G=G.filter(Q=>Q.category===v)),E!=="all"&&(E==="active"?G=G.filter(Q=>Q.is_active):E==="inactive"?G=G.filter(Q=>!Q.is_active):E==="upcoming"?G=G.filter(Q=>new Date(Q.event_date)>new Date):E==="past"&&(G=G.filter(Q=>new Date(Q.event_date)<new Date))),c(G)},B=(G,Q)=>{U(ae=>({...ae,[G]:Q}))},$=async()=>{if(e)try{const G={...I,created_by:e.id,updated_at:new Date().toISOString()};let Q;if(D?Q=await ot.from("events").update(G).eq("id",D.id).select():Q=await ot.from("events").insert(G).select(),Q.error)throw Q.error;nt.success(t(D?"eventUpdated":"eventCreated")),_(!1),P(null),K(),F()}catch(G){console.error("Error saving event:",G),nt.error(t("errorSavingEvent"))}},z=G=>{P(G),U({title:G.title,description:G.description,event_date:G.event_date.split("T")[0],location:G.location,ticket_price:G.ticket_price,max_capacity:G.max_capacity,category:G.category,is_active:G.is_active}),_(!0)},H=async G=>{if(confirm(t("confirmDeleteEvent")))try{const{error:Q}=await ot.from("events").delete().eq("id",G);if(Q)throw Q;nt.success(t("eventDeleted")),F()}catch(Q){console.error("Error deleting event:",Q),nt.error(t("errorDeletingEvent"))}},X=async G=>{try{const{error:Q}=await ot.from("events").update({is_active:!G.is_active}).eq("id",G.id);if(Q)throw Q;nt.success(t("eventStatusUpdated")),F()}catch(Q){console.error("Error updating event status:",Q),nt.error(t("errorUpdatingEvent"))}},K=()=>{U({title:"",description:"",event_date:"",location:"",ticket_price:0,max_capacity:100,category:"other",is_active:!0})},ee=G=>new Intl.NumberFormat(n==="ar"?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(G),ue=G=>G.is_active?new Date(G.event_date)<new Date?"destructive":"default":"secondary",ne=G=>G.is_active?new Date(G.event_date)<new Date?t("ended"):t("active"):t("inactive");return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t("eventManagement")}),i.jsx("p",{className:"text-muted-foreground",children:t("createAndManageYourEvents")})]}),i.jsxs(Zc,{open:T,onOpenChange:_,children:[i.jsx(Q0,{asChild:!0,children:i.jsxs(De,{onClick:()=>{K(),P(null)},children:[i.jsx(ps,{className:"h-4 w-4 mr-2"}),t("createEvent")]})}),i.jsxs(Jc,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(eu,{children:[i.jsx(tu,{children:t(D?"editEvent":"createNewEvent")}),i.jsx(nu,{children:t(D?"updateEventDetails":"fillEventInformation")})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(pt,{htmlFor:"title",children:t("eventTitle")}),i.jsx(qt,{id:"title",value:I.title,onChange:G=>B("title",G.target.value),placeholder:t("enterEventTitle")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pt,{htmlFor:"category",children:t("category")}),i.jsxs(Lr,{value:I.category,onValueChange:G=>B("category",G),children:[i.jsx(Fr,{children:i.jsx(Br,{})}),i.jsx(Ur,{children:KP.map(G=>i.jsx(st,{value:G,children:t(G)},G))})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pt,{htmlFor:"description",children:t("description")}),i.jsx(Cz,{id:"description",value:I.description,onChange:G=>B("description",G.target.value),placeholder:t("enterEventDescription"),rows:3})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(pt,{htmlFor:"event_date",children:t("eventDate")}),i.jsx(qt,{id:"event_date",type:"datetime-local",value:I.event_date,onChange:G=>B("event_date",G.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pt,{htmlFor:"location",children:t("location")}),i.jsx(qt,{id:"location",value:I.location,onChange:G=>B("location",G.target.value),placeholder:t("enterEventLocation")})]})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(pt,{htmlFor:"ticket_price",children:[t("ticketPrice")," (SYP)"]}),i.jsx(qt,{id:"ticket_price",type:"number",value:I.ticket_price,onChange:G=>B("ticket_price",Number(G.target.value)),min:"0"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pt,{htmlFor:"max_capacity",children:t("maxCapacity")}),i.jsx(qt,{id:"max_capacity",type:"number",value:I.max_capacity,onChange:G=>B("max_capacity",Number(G.target.value)),min:"1"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ks,{id:"is_active",checked:I.is_active,onCheckedChange:G=>B("is_active",G)}),i.jsx(pt,{htmlFor:"is_active",children:t("eventActive")})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(De,{variant:"outline",onClick:()=>_(!1),children:t("cancel")}),i.jsx(De,{onClick:$,children:t(D?"updateEvent":"createEvent")})]})]})]})]})]}),i.jsx(be,{children:i.jsx(we,{className:"pt-6",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx(Pl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(qt,{placeholder:t("searchEvents"),value:h,onChange:G=>p(G.target.value),className:"pl-9"})]})}),i.jsxs(Lr,{value:v,onValueChange:j,children:[i.jsx(Fr,{className:"w-[180px]",children:i.jsx(Br,{placeholder:t("filterByCategory")})}),i.jsxs(Ur,{children:[i.jsx(st,{value:"all",children:t("allCategories")}),KP.map(G=>i.jsx(st,{value:G,children:t(G)},G))]})]}),i.jsxs(Lr,{value:E,onValueChange:O,children:[i.jsx(Fr,{className:"w-[180px]",children:i.jsx(Br,{placeholder:t("filterByStatus")})}),i.jsxs(Ur,{children:[i.jsx(st,{value:"all",children:t("allStatuses")}),i.jsx(st,{value:"active",children:t("active")}),i.jsx(st,{value:"inactive",children:t("inactive")}),i.jsx(st,{value:"upcoming",children:t("upcoming")}),i.jsx(st,{value:"past",children:t("past")})]})]})]})})}),i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:t("eventsList")}),i.jsxs(rt,{children:[t("totalEvents"),": ",s.length]})]}),i.jsx(we,{children:f?i.jsx("div",{className:"flex items-center justify-center h-32",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.length>0?i.jsx("div",{className:"rounded-md border",children:i.jsxs(Tz,{children:[i.jsx(Oz,{children:i.jsxs(Dz,{children:[i.jsx(Bi,{children:t("event")}),i.jsx(Bi,{children:t("date")}),i.jsx(Bi,{children:t("location")}),i.jsx(Bi,{children:t("price")}),i.jsx(Bi,{children:t("capacity")}),i.jsx(Bi,{children:t("status")}),i.jsx(Bi,{className:"text-right",children:t("actions")})]})}),i.jsx(Mz,{children:s.map((G,Q)=>i.jsxs(Ye.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Q*.1},className:"hover:bg-muted/50",children:[i.jsx(Fi,{children:i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"font-medium",children:G.title}),i.jsx(At,{variant:"outline",children:t(G.category)})]})}),i.jsx(Fi,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(bi,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{children:new Date(G.event_date).toLocaleDateString(n==="ar"?"ar-SY":"en-US")})]})}),i.jsx(Fi,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(El,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"truncate max-w-[120px]",children:G.location})]})}),i.jsx(Fi,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Xr,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{children:ee(G.ticket_price)})]})}),i.jsx(Fi,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ga,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("span",{children:[G.current_bookings,"/",G.max_capacity]})]})}),i.jsx(Fi,{children:i.jsx(At,{variant:ue(G),children:ne(G)})}),i.jsx(Fi,{className:"text-right",children:i.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[i.jsx(De,{variant:"ghost",size:"sm",onClick:()=>z(G),children:i.jsx(D6,{className:"h-4 w-4"})}),i.jsx(De,{variant:"ghost",size:"sm",onClick:()=>X(G),children:i.jsx(g0,{className:"h-4 w-4"})}),i.jsx(De,{variant:"ghost",size:"sm",onClick:()=>H(G.id),children:i.jsx(AJ,{className:"h-4 w-4"})})]})})]},G.id))})]})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(bi,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium",children:t("noEventsFound")}),i.jsx("p",{className:"text-muted-foreground",children:t("createYourFirstEvent")})]})})]})]})}function $je(){const{profile:e}=yn(),{t,language:n}=tn(),[r,a]=A.useState([]),[s,c]=A.useState([]),[f,m]=A.useState(!0),[h,p]=A.useState(""),[v,j]=A.useState("all"),[E,O]=A.useState("all"),[T,_]=A.useState([]),[D,P]=A.useState(!1),[I,U]=A.useState(""),[F,L]=A.useState(null),[B,$]=A.useState(!1);A.useEffect(()=>{z(),H()},[]),A.useEffect(()=>{X()},[r,h,v,E]);const z=async()=>{if(e)try{const{data:se,error:me}=await ot.from("events").select("id, title, event_date").eq("created_by",e.id).order("event_date",{ascending:!0});if(me)throw me;_(se||[])}catch(se){console.error("Error fetching events:",se)}},H=async()=>{if(e)try{m(!0);const{data:se,error:me}=await ot.from("user_tickets").select(`
          *,
          events!inner (
            title,
            event_date,
            location,
            ticket_price,
            created_by
          ),
          profiles (
            full_name,
            email
          )
        `).eq("events.created_by",e.id).order("created_at",{ascending:!1});if(me)throw me;a(se||[])}catch(se){console.error("Error fetching tickets:",se),nt.error(t("errorFetchingTickets"))}finally{m(!1)}},X=()=>{let se=r;h&&(se=se.filter(me=>me.ticket_code.toLowerCase().includes(h.toLowerCase())||me.events.title.toLowerCase().includes(h.toLowerCase())||me.profiles.full_name.toLowerCase().includes(h.toLowerCase())||me.profiles.email.toLowerCase().includes(h.toLowerCase()))),v!=="all"&&(se=se.filter(me=>me.status===v)),E!=="all"&&(se=se.filter(me=>me.event_id===E)),c(se)},K=async se=>{try{const me=r.find(Re=>Re.ticket_code===se);if(!me){nt.error(t("ticketNotFound"));return}if(me.status==="used"){nt.error(t("ticketAlreadyUsed"));return}if(me.status==="cancelled"){nt.error(t("ticketCancelled"));return}if(new Date(me.events.event_date)<new Date){nt.error(t("eventAlreadyEnded"));return}L(me),$(!0)}catch(me){console.error("Error validating ticket:",me),nt.error(t("errorValidatingTicket"))}},ee=async()=>{if(F)try{const{error:se}=await ot.from("user_tickets").update({status:"used",used_date:new Date().toISOString(),validation_notes:"Validated by event admin"}).eq("id",F.id);if(se)throw se;nt.success(t("ticketValidatedSuccessfully")),$(!1),L(null),U(""),H()}catch(se){console.error("Error confirming validation:",se),nt.error(t("errorConfirmingValidation"))}},ue=async se=>{if(confirm(t("confirmCancelTicket")))try{const{error:me}=await ot.from("user_tickets").update({status:"cancelled",validation_notes:"Cancelled by event admin"}).eq("id",se);if(me)throw me;nt.success(t("ticketCancelledSuccessfully")),H()}catch(me){console.error("Error cancelling ticket:",me),nt.error(t("errorCancellingTicket"))}},ne=se=>{switch(se){case"active":return"default";case"used":return"secondary";case"pending":return"secondary";case"cancelled":return"destructive";default:return"secondary"}},G=se=>{switch(se){case"active":return i.jsx(fs,{className:"h-4 w-4"});case"used":return i.jsx(fs,{className:"h-4 w-4"});case"pending":return i.jsx(ba,{className:"h-4 w-4"});case"cancelled":return i.jsx(mx,{className:"h-4 w-4"});default:return i.jsx(ba,{className:"h-4 w-4"})}},Q=se=>new Intl.NumberFormat(n==="ar"?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(se),ae=s.filter(se=>se.status==="pending").length,he=s.filter(se=>se.status==="active").length,te=s.filter(se=>se.status==="used").length,fe=s.filter(se=>se.status==="cancelled").length;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t("ticketValidation")}),i.jsx("p",{className:"text-muted-foreground",children:t("validateAndManageEventTickets")})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(De,{variant:"outline",children:[i.jsx(Zs,{className:"h-4 w-4 mr-2"}),t("exportData")]}),i.jsxs(De,{children:[i.jsx(lJ,{className:"h-4 w-4 mr-2"}),t("scanQRCode")]})]})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:t("pendingValidation")}),i.jsx(ba,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:ae}),i.jsx("p",{className:"text-xs text-muted-foreground",children:t("awaitingValidation")})]})]}),i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:t("activeTickets")}),i.jsx(si,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:he}),i.jsx("p",{className:"text-xs text-muted-foreground",children:t("readyForValidation")})]})]}),i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:t("validatedTickets")}),i.jsx(fs,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:te}),i.jsx("p",{className:"text-xs text-muted-foreground",children:t("alreadyUsed")})]})]}),i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:t("cancelledTickets")}),i.jsx(mx,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:fe}),i.jsx("p",{className:"text-xs text-muted-foreground",children:t("cancelledOrRefunded")})]})]})]}),i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsxs(ke,{className:"flex items-center space-x-2",children:[i.jsx(Ar,{className:"h-5 w-5"}),i.jsx("span",{children:t("manualValidation")})]}),i.jsx(rt,{children:t("enterTicketCodeManually")})]}),i.jsx(we,{children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(qt,{placeholder:t("enterTicketCode"),value:I,onChange:se=>U(se.target.value),onKeyPress:se=>{se.key==="Enter"&&K(I)}}),i.jsx(De,{onClick:()=>K(I),children:t("validate")})]})})]}),i.jsx(be,{children:i.jsx(we,{className:"pt-6",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx(Pl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(qt,{placeholder:t("searchTickets"),value:h,onChange:se=>p(se.target.value),className:"pl-9"})]})}),i.jsxs(Lr,{value:v,onValueChange:j,children:[i.jsx(Fr,{className:"w-[180px]",children:i.jsx(Br,{placeholder:t("filterByStatus")})}),i.jsxs(Ur,{children:[i.jsx(st,{value:"all",children:t("allStatuses")}),i.jsx(st,{value:"pending",children:t("pending")}),i.jsx(st,{value:"active",children:t("active")}),i.jsx(st,{value:"used",children:t("used")}),i.jsx(st,{value:"cancelled",children:t("cancelled")})]})]}),i.jsxs(Lr,{value:E,onValueChange:O,children:[i.jsx(Fr,{className:"w-[200px]",children:i.jsx(Br,{placeholder:t("filterByEvent")})}),i.jsxs(Ur,{children:[i.jsx(st,{value:"all",children:t("allEvents")}),T.map(se=>i.jsx(st,{value:se.id,children:se.title},se.id))]})]})]})})}),i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:t("ticketsList")}),i.jsxs(rt,{children:[t("totalTickets"),": ",s.length]})]}),i.jsx(we,{children:f?i.jsx("div",{className:"flex items-center justify-center h-32",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.length>0?i.jsx("div",{className:"rounded-md border",children:i.jsxs(Tz,{children:[i.jsx(Oz,{children:i.jsxs(Dz,{children:[i.jsx(Bi,{children:t("ticketCode")}),i.jsx(Bi,{children:t("event")}),i.jsx(Bi,{children:t("customer")}),i.jsx(Bi,{children:t("purchaseDate")}),i.jsx(Bi,{children:t("status")}),i.jsx(Bi,{className:"text-right",children:t("actions")})]})}),i.jsx(Mz,{children:s.map((se,me)=>i.jsxs(Ye.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:me*.1},className:"hover:bg-muted/50",children:[i.jsx(Fi,{children:i.jsx("div",{className:"font-mono text-sm",children:se.ticket_code})}),i.jsx(Fi,{children:i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"font-medium",children:se.events.title}),i.jsxs("div",{className:"flex items-center space-x-1 text-sm text-muted-foreground",children:[i.jsx(bi,{className:"h-3 w-3"}),i.jsx("span",{children:new Date(se.events.event_date).toLocaleDateString(n==="ar"?"ar-SY":"en-US")})]})]})}),i.jsx(Fi,{children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Cx,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"font-medium",children:se.profiles.full_name})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:se.profiles.email})]})}),i.jsx(Fi,{children:new Date(se.purchase_date).toLocaleDateString(n==="ar"?"ar-SY":"en-US")}),i.jsx(Fi,{children:i.jsx(At,{variant:ne(se.status),children:i.jsxs("div",{className:"flex items-center space-x-1",children:[G(se.status),i.jsx("span",{children:t(se.status)})]})})}),i.jsx(Fi,{className:"text-right",children:i.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[se.status==="active"&&i.jsxs(De,{size:"sm",onClick:()=>K(se.ticket_code),children:[i.jsx(fs,{className:"h-4 w-4 mr-1"}),t("validate")]}),(se.status==="active"||se.status==="pending")&&i.jsxs(De,{variant:"outline",size:"sm",onClick:()=>ue(se.id),children:[i.jsx(mx,{className:"h-4 w-4 mr-1"}),t("cancel")]})]})})]},se.id))})]})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(si,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium",children:t("noTicketsFound")}),i.jsx("p",{className:"text-muted-foreground",children:t("noTicketsMatchFilter")})]})})]}),i.jsx(Zc,{open:B,onOpenChange:$,children:i.jsxs(Jc,{children:[i.jsxs(eu,{children:[i.jsxs(tu,{className:"flex items-center space-x-2",children:[i.jsx(fs,{className:"h-5 w-5 text-green-600"}),i.jsx("span",{children:t("confirmTicketValidation")})]}),i.jsx(nu,{children:t("confirmValidationDescription")})]}),F&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"text-sm text-muted-foreground",children:[t("ticketCode"),":"]}),i.jsx("span",{className:"font-mono",children:F.ticket_code})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"text-sm text-muted-foreground",children:[t("event"),":"]}),i.jsx("span",{children:F.events.title})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"text-sm text-muted-foreground",children:[t("customer"),":"]}),i.jsx("span",{children:F.profiles.full_name})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"text-sm text-muted-foreground",children:[t("price"),":"]}),i.jsx("span",{children:Q(F.events.ticket_price)})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(De,{variant:"outline",onClick:()=>$(!1),children:t("cancel")}),i.jsxs(De,{onClick:ee,children:[i.jsx(fs,{className:"h-4 w-4 mr-2"}),t("confirmValidation")]})]})]})]})})]})}const Hje=()=>{var B,$;const{user:e}=yn(),{language:t}=tn(),[n,r]=A.useState([]),[a,s]=A.useState([]),[c,f]=A.useState([]),[m,h]=A.useState(!0),[p,v]=A.useState("30"),[j,E]=A.useState("line");A.useEffect(()=>{e&&O()},[e,p]);const O=async()=>{if(e){h(!0);try{const z=Eo(new Date,parseInt(p)),{data:H,error:X}=await ot.from("events").select("*").eq("organizer_id",e.id).gte("created_at",z.toISOString()).order("created_at",{ascending:!0});if(X)throw X;const{data:K,error:ee}=await ot.from("event_ticket_sales").select("*").in("event_id",(H==null?void 0:H.map(G=>G.id))||[]).gte("created_at",z.toISOString()).order("created_at",{ascending:!0});if(ee)throw ee;const{data:ue,error:ne}=await ot.from("event_attendees").select("*").in("event_id",(H==null?void 0:H.map(G=>G.id))||[]);if(ne)throw ne;r(H||[]),s(K||[]),f(ue||[])}catch(z){console.error("Error fetching analytics data:",z)}finally{h(!1)}}},T=()=>{const z=a.filter(xe=>xe.status==="confirmed"),H=z.reduce((xe,Fe)=>xe+Fe.total_amount,0),X=z.reduce((xe,Fe)=>xe+Fe.quantity,0),K=z.reduce((xe,Fe)=>xe+Fe.booking_fee,0),ee=H-K,ue=n.filter(xe=>xe.status==="completed"),ne=n.filter(xe=>xe.status==="upcoming"),G=c.length>0&&X>0?c.filter(xe=>xe.check_in_time).length/X*100:0,Q=X>0?H/X:0,ae=Math.floor(parseInt(p)/2),he=Eo(new Date,ae),te=z.filter(xe=>Rr(xe.created_at)>=he),fe=z.filter(xe=>Rr(xe.created_at)<he),se=te.reduce((xe,Fe)=>xe+Fe.total_amount,0),me=fe.reduce((xe,Fe)=>xe+Fe.total_amount,0),Re=me>0?(se-me)/me*100:0,ye=c.filter(xe=>xe.rating).length,oe=ye>0?c.filter(xe=>xe.rating).reduce((xe,Fe)=>xe+(Fe.rating||0),0)/ye:0,Ie=z.filter(xe=>E1(Rr(xe.created_at))).reduce((xe,Fe)=>xe+Fe.total_amount,0);return{totalRevenue:H,netRevenue:ee,totalTicketsSold:X,totalEvents:n.length,completedEvents:ue.length,upcomingEvents:ne.length,attendanceRate:G,avgTicketPrice:Q,revenueGrowth:Re,avgRating:oe,todayRevenue:Ie,totalFees:K}},_=()=>{const z=new Map;return a.filter(H=>H.status==="confirmed").forEach(H=>{const X=fr(Rr(H.created_at),"yyyy-MM-dd"),K=z.get(X)||{revenue:0,tickets:0,events:new Set};K.events.add(H.event_id),z.set(X,{revenue:K.revenue+H.total_amount,tickets:K.tickets+H.quantity,events:K.events})}),Array.from(z.entries()).map(([H,X])=>({date:fr(Rr(H),"MMM dd",{locale:t==="ar"?P0:void 0}),revenue:X.revenue,tickets:X.tickets,events:X.events.size})).sort((H,X)=>H.date.localeCompare(X.date))},D=()=>n.map(z=>{const H=a.filter(Q=>Q.event_id===z.id&&Q.status==="confirmed"),X=H.reduce((Q,ae)=>Q+ae.total_amount,0),K=H.reduce((Q,ae)=>Q+ae.quantity,0),ee=z.total_tickets>0?K/z.total_tickets*100:0,ue=c.filter(Q=>Q.event_id===z.id),ne=ue.filter(Q=>Q.check_in_time).length,G=K>0?ne/K*100:0;return{...z,revenue:X,ticketsSold:K,sellOutRate:ee,attendanceRate:G,avgRating:ue.length>0?ue.filter(Q=>Q.rating).reduce((Q,ae)=>Q+(ae.rating||0),0)/ue.filter(Q=>Q.rating).length:0}}).sort((z,H)=>H.revenue-z.revenue),P=()=>{const z=new Map;return n.forEach(H=>{const X=H.category||"Other",K=a.filter(G=>G.event_id===H.id&&G.status==="confirmed"),ee=K.reduce((G,Q)=>G+Q.total_amount,0),ue=K.reduce((G,Q)=>G+Q.quantity,0),ne=z.get(X)||{revenue:0,tickets:0,events:0};z.set(X,{revenue:ne.revenue+ee,tickets:ne.tickets+ue,events:ne.events+1})}),Array.from(z.entries()).map(([H,X])=>({name:H,revenue:X.revenue,tickets:X.tickets,events:X.events,avgRevenue:X.events>0?X.revenue/X.events:0})).sort((H,X)=>X.revenue-H.revenue)},I=()=>{const z=[],H=new Date;for(let X=5;X>=0;X--){const K=new Date(H.getFullYear(),H.getMonth()-X,1),ee=U_(K),ue=F_(K),ne=n.filter(Q=>{const ae=Rr(Q.created_at);return ae>=ee&&ae<=ue}),G=a.filter(Q=>{const ae=Rr(Q.created_at);return ae>=ee&&ae<=ue&&Q.status==="confirmed"});z.push({month:fr(K,"MMM yyyy",{locale:t==="ar"?P0:void 0}),events:ne.length,revenue:G.reduce((Q,ae)=>Q+ae.total_amount,0),tickets:G.reduce((Q,ae)=>Q+ae.quantity,0)})}return z},U=()=>{const z=new Map;a.filter(X=>X.status==="confirmed").forEach(X=>{const K=X.customer_id,ee=z.get(K)||{tickets:0,revenue:0,events:new Set};ee.events.add(X.event_id),z.set(K,{tickets:ee.tickets+X.quantity,revenue:ee.revenue+X.total_amount,events:ee.events})});const H=Array.from(z.entries()).map(([X,K])=>({id:X,tickets:K.tickets,revenue:K.revenue,events:K.events.size,avgSpend:K.tickets>0?K.revenue/K.tickets:0}));return{totalCustomers:H.length,repeatCustomers:H.filter(X=>X.events>1).length,topCustomers:H.sort((X,K)=>K.revenue-X.revenue).slice(0,10),avgSpendPerCustomer:H.length>0?H.reduce((X,K)=>X+K.revenue,0)/H.length:0}},F=()=>{const z=T(),H={metadata:{exportDate:new Date().toISOString(),dateRange:`${p} days`,organizerId:e==null?void 0:e.id,generatedBy:"Tickets Event Analytics"},kpis:z,salesTrend:_(),eventPerformance:D(),categoryAnalysis:P(),monthlyComparison:I(),customerInsights:U(),rawData:{events:n.length,ticketSales:a.length,attendees:c.length}},X=new Blob([JSON.stringify(H,null,2)],{type:"application/json"}),K=URL.createObjectURL(X),ee=document.createElement("a");ee.href=K,ee.download=`event-analytics-${fr(new Date,"yyyy-MM-dd")}.json`,ee.click(),URL.revokeObjectURL(K)},L=T();return m?i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600"})}):i.jsxs("div",{className:"space-y-6",dir:t==="ar"?"rtl":"ltr",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Event Analytics"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Track your event performance, ticket sales, and attendee insights"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("select",{value:p,onChange:z=>v(z.target.value),className:"px-3 py-2 border border-gray-300 rounded-md bg-white dark:bg-gray-800 dark:border-gray-600",children:[i.jsx("option",{value:"7",children:"Last 7 days"}),i.jsx("option",{value:"30",children:"Last 30 days"}),i.jsx("option",{value:"90",children:"Last 90 days"}),i.jsx("option",{value:"365",children:"Last year"})]}),i.jsxs(De,{onClick:F,variant:"outline",size:"sm",children:[i.jsx(Zs,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:"Total Revenue"}),i.jsx(Xr,{className:"h-4 w-4 text-green-600"})]}),i.jsxs(we,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[L.totalRevenue.toLocaleString()," SYP"]}),i.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[L.revenueGrowth>0?i.jsx(Kn,{className:"h-3 w-3 text-green-600 mr-1"}):i.jsx(Nl,{className:"h-3 w-3 text-red-600 mr-1"}),i.jsxs("span",{className:L.revenueGrowth>0?"text-green-600":"text-red-600",children:[Math.abs(L.revenueGrowth).toFixed(1),"% vs last period"]})]})]})]}),i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:"Tickets Sold"}),i.jsx(si,{className:"h-4 w-4 text-blue-600"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:L.totalTicketsSold}),i.jsxs("p",{className:"text-xs text-gray-600",children:["Avg price: ",L.avgTicketPrice.toLocaleString()," SYP"]})]})]}),i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:"Events"}),i.jsx(bi,{className:"h-4 w-4 text-purple-600"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:L.totalEvents}),i.jsxs("p",{className:"text-xs text-gray-600",children:[L.upcomingEvents," upcoming • ",L.completedEvents," completed"]})]})]}),i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:"Attendance Rate"}),i.jsx(Ga,{className:"h-4 w-4 text-yellow-600"})]}),i.jsxs(we,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[L.attendanceRate.toFixed(1),"%"]}),i.jsxs("p",{className:"text-xs text-gray-600",children:["Rating: ",L.avgRating.toFixed(1),"/5 ⭐"]})]})]})]}),i.jsxs(Ll,{defaultValue:"sales",className:"space-y-4",children:[i.jsxs(Bl,{className:"grid w-full grid-cols-2 lg:grid-cols-6",children:[i.jsx(kt,{value:"sales",children:"Sales"}),i.jsx(kt,{value:"events",children:"Events"}),i.jsx(kt,{value:"categories",children:"Categories"}),i.jsx(kt,{value:"customers",children:"Customers"}),i.jsx(kt,{value:"monthly",children:"Monthly"}),i.jsx(kt,{value:"insights",children:"Insights"})]}),i.jsx(Lt,{value:"sales",className:"space-y-4",children:i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(ke,{children:"Sales Trend"}),i.jsx(rt,{children:"Daily ticket sales revenue and volume over time"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(De,{variant:j==="line"?"default":"outline",size:"sm",onClick:()=>E("line"),children:"Line"}),i.jsx(De,{variant:j==="area"?"default":"outline",size:"sm",onClick:()=>E("area"),children:"Area"}),i.jsx(De,{variant:j==="bar"?"default":"outline",size:"sm",onClick:()=>E("bar"),children:"Bar"})]})]}),i.jsx(we,{children:i.jsx("div",{className:"h-[400px]",children:i.jsx(ni,{width:"100%",height:"100%",children:j==="line"?i.jsxs(R0,{data:_(),children:[i.jsx(Kr,{strokeDasharray:"3 3"}),i.jsx(Pr,{dataKey:"date"}),i.jsx(kr,{}),i.jsx(dr,{formatter:(z,H)=>[`${z} ${H==="revenue"?"SYP":""}`,H==="revenue"?"Revenue":H==="tickets"?"Tickets":"Events"]}),i.jsx(va,{}),i.jsx(vs,{type:"monotone",dataKey:"revenue",stroke:"#8884d8",strokeWidth:2}),i.jsx(vs,{type:"monotone",dataKey:"tickets",stroke:"#82ca9d",strokeWidth:2}),i.jsx(vs,{type:"monotone",dataKey:"events",stroke:"#ffc658",strokeWidth:2})]}):j==="area"?i.jsxs($v,{data:_(),children:[i.jsx(Kr,{strokeDasharray:"3 3"}),i.jsx(Pr,{dataKey:"date"}),i.jsx(kr,{}),i.jsx(dr,{formatter:(z,H)=>[`${z} ${H==="revenue"?"SYP":""}`,H==="revenue"?"Revenue":H==="tickets"?"Tickets":"Events"]}),i.jsx(va,{}),i.jsx(xd,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})]}):i.jsxs(Ro,{data:_(),children:[i.jsx(Kr,{strokeDasharray:"3 3"}),i.jsx(Pr,{dataKey:"date"}),i.jsx(kr,{}),i.jsx(dr,{formatter:(z,H)=>[`${z} ${H==="revenue"?"SYP":""}`,H==="revenue"?"Revenue":H==="tickets"?"Tickets":"Events"]}),i.jsx(va,{}),i.jsx(Ir,{dataKey:"revenue",fill:"#8884d8"}),i.jsx(Ir,{dataKey:"tickets",fill:"#82ca9d"})]})})})})]})}),i.jsx(Lt,{value:"events",className:"space-y-4",children:i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:"Event Performance"}),i.jsx(rt,{children:"Top performing events by revenue and attendance"})]}),i.jsx(we,{children:i.jsx("div",{className:"space-y-4",children:D().slice(0,10).map((z,H)=>i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(At,{variant:"outline",className:"text-sm",children:["#",H+1]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold",children:z.title}),i.jsxs("p",{className:"text-sm text-gray-600",children:[fr(Rr(z.date),"MMM dd, yyyy")," • ",z.location]}),i.jsxs("p",{className:"text-xs text-gray-500",children:[z.ticketsSold,"/",z.total_tickets," tickets •",z.sellOutRate.toFixed(1),"% sold •",z.attendanceRate.toFixed(1),"% attendance"]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-semibold",children:[z.revenue.toLocaleString()," SYP"]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(p0,{className:"h-3 w-3 text-yellow-500"}),i.jsx("span",{className:"text-sm",children:z.avgRating?z.avgRating.toFixed(1):"N/A"})]})]})]},z.id))})})]})}),i.jsx(Lt,{value:"categories",className:"space-y-4",children:i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:"Category Analysis"}),i.jsx(rt,{children:"Performance breakdown by event categories"})]}),i.jsx(we,{children:i.jsx("div",{className:"space-y-4",children:P().map((z,H)=>i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(At,{variant:"outline",className:"text-sm",children:["#",H+1]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold",children:z.name}),i.jsxs("p",{className:"text-sm text-gray-600",children:[z.events," events • ",z.tickets," tickets sold"]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-semibold",children:[z.revenue.toLocaleString()," SYP"]}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Avg: ",z.avgRevenue.toLocaleString()," SYP/event"]})]})]},z.name))})})]})}),i.jsx(Lt,{value:"customers",className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[i.jsxs(be,{children:[i.jsx(Pe,{children:i.jsx(ke,{children:"Customer Insights"})}),i.jsx(we,{className:"space-y-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Total Customers"}),i.jsx("span",{className:"font-semibold",children:U().totalCustomers})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Repeat Customers"}),i.jsx("span",{className:"font-semibold",children:U().repeatCustomers})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Avg Spend per Customer"}),i.jsxs("span",{className:"font-semibold",children:[U().avgSpendPerCustomer.toLocaleString()," SYP"]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Customer Retention"}),i.jsxs("span",{className:"font-semibold",children:[U().totalCustomers>0?(U().repeatCustomers/U().totalCustomers*100).toFixed(1):0,"%"]})]})]})})]}),i.jsxs(be,{children:[i.jsx(Pe,{children:i.jsx(ke,{children:"Top Customers"})}),i.jsx(we,{children:i.jsx("div",{className:"space-y-2",children:U().topCustomers.slice(0,5).map((z,H)=>i.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(At,{variant:"outline",children:["#",H+1]}),i.jsxs("span",{className:"text-sm",children:["Customer ",z.id.slice(-8)]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-sm font-semibold",children:[z.revenue.toLocaleString()," SYP"]}),i.jsxs("p",{className:"text-xs text-gray-600",children:[z.tickets," tickets • ",z.events," events"]})]})]},z.id))})})]})]})}),i.jsx(Lt,{value:"monthly",className:"space-y-4",children:i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:"Monthly Comparison"}),i.jsx(rt,{children:"Compare performance across different months"})]}),i.jsx(we,{children:i.jsx("div",{className:"h-[400px]",children:i.jsx(ni,{width:"100%",height:"100%",children:i.jsxs(Ro,{data:I(),children:[i.jsx(Kr,{strokeDasharray:"3 3"}),i.jsx(Pr,{dataKey:"month"}),i.jsx(kr,{}),i.jsx(dr,{formatter:(z,H)=>[H==="revenue"?`${z} SYP`:z,H==="revenue"?"Revenue":H==="events"?"Events":"Tickets"]}),i.jsx(va,{}),i.jsx(Ir,{dataKey:"revenue",fill:"#8884d8"}),i.jsx(Ir,{dataKey:"events",fill:"#82ca9d"}),i.jsx(Ir,{dataKey:"tickets",fill:"#ffc658"})]})})})})]})}),i.jsx(Lt,{value:"insights",className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[i.jsxs(be,{children:[i.jsx(Pe,{children:i.jsx(ke,{children:"Business Insights"})}),i.jsxs(we,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[i.jsx("span",{className:"text-sm font-medium",children:"Net Revenue"}),i.jsxs("span",{className:"font-bold text-green-600",children:[L.netRevenue.toLocaleString()," SYP"]})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[i.jsx("span",{className:"text-sm font-medium",children:"Avg Ticket Price"}),i.jsxs("span",{className:"font-bold text-blue-600",children:[L.avgTicketPrice.toLocaleString()," SYP"]})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[i.jsx("span",{className:"text-sm font-medium",children:"Platform Fees"}),i.jsxs("span",{className:"font-bold text-purple-600",children:[L.totalFees.toLocaleString()," SYP"]})]})]}),i.jsxs("div",{className:"pt-4 border-t",children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Recommendations"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[L.attendanceRate<80&&i.jsxs("div",{className:"flex items-center gap-2 text-amber-600",children:[i.jsx(k1,{className:"h-4 w-4"}),i.jsx("span",{children:"Focus on improving event promotion to boost attendance"})]}),L.avgRating<4&&i.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[i.jsx(p0,{className:"h-4 w-4"}),i.jsx("span",{children:"Work on event quality and customer experience"})]}),L.avgTicketPrice<500&&i.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[i.jsx(Kn,{className:"h-4 w-4"}),i.jsx("span",{children:"Consider premium event offerings to increase revenue"})]})]})]})]})]}),i.jsxs(be,{children:[i.jsx(Pe,{children:i.jsx(ke,{children:"Performance Summary"})}),i.jsx(we,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-green-500 to-blue-500 text-white rounded-lg",children:[i.jsx("h3",{className:"text-2xl font-bold",children:L.todayRevenue.toLocaleString()}),i.jsx("p",{className:"text-green-100",children:"Today's Revenue"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[i.jsxs("h4",{className:"text-xl font-bold",children:[L.attendanceRate.toFixed(1),"%"]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Attendance Rate"})]}),i.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[i.jsx("h4",{className:"text-xl font-bold",children:L.avgRating.toFixed(1)}),i.jsx("p",{className:"text-sm text-gray-600",children:"Avg Rating"})]})]}),i.jsxs("div",{className:"pt-4 border-t",children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Quick Stats"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Best performing category:"}),i.jsx("span",{className:"font-semibold",children:((B=P()[0])==null?void 0:B.name)||"N/A"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Highest revenue event:"}),i.jsxs("span",{className:"font-semibold",children:[(($=D()[0])==null?void 0:$.title.slice(0,20))||"N/A","..."]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Customer retention rate:"}),i.jsxs("span",{className:"font-semibold",children:[U().totalCustomers>0?(U().repeatCustomers/U().totalCustomers*100).toFixed(1):0,"%"]})]})]})]})]})})]})]})})]})]})};function qje(){return i.jsx(X0,{userType:"event_admin",children:i.jsxs(gh,{children:[i.jsx(wt,{path:"/",element:i.jsx(Sl,{to:"/event-admin/home",replace:!0})}),i.jsx(wt,{path:"/home",element:i.jsx(zje,{})}),i.jsx(wt,{path:"/events",element:i.jsx(Vje,{})}),i.jsx(wt,{path:"/validation",element:i.jsx($je,{})}),i.jsx(wt,{path:"/analytics",element:i.jsx(Hje,{})}),i.jsx(wt,{path:"/profile",element:i.jsx(mg,{})}),i.jsx(wt,{path:"/settings",element:i.jsx(gg,{})})]})})}function Yje(){const{profile:e}=yn(),{t,language:n}=tn(),[r,a]=A.useState({totalUsers:0,activeUsers:0,totalTransactions:0,totalRevenue:0,pendingDisputes:0,systemUptime:99.9,recentUsers:[],recentTransactions:[],usersByType:{passengers:0,drivers:0,merchants:0,eventAdmins:0}}),[s,c]=A.useState(!0),[f,m]=A.useState(!0);A.useEffect(()=>{e&&h()},[e]);const h=async()=>{try{c(!0);const{data:E,error:O}=await ot.from("profiles").select("*").order("created_at",{ascending:!1});if(O)throw O;const{data:T,error:_}=await ot.from("transactions").select(`
          *,
          from_profile:profiles!transactions_from_user_id_fkey (
            full_name
          ),
          to_profile:profiles!transactions_to_user_id_fkey (
            full_name
          )
        `).order("created_at",{ascending:!1}).limit(10);if(_)throw _;const D=(E==null?void 0:E.length)||0,P=(E==null?void 0:E.filter(B=>B.is_active).length)||0,I=(T==null?void 0:T.length)||0,U=(T==null?void 0:T.reduce((B,$)=>B+$.amount,0))||0,F={passengers:(E==null?void 0:E.filter(B=>B.user_type==="passenger").length)||0,drivers:(E==null?void 0:E.filter(B=>B.user_type==="driver").length)||0,merchants:(E==null?void 0:E.filter(B=>B.user_type==="merchant").length)||0,eventAdmins:(E==null?void 0:E.filter(B=>B.user_type==="event_admin").length)||0},L=(E==null?void 0:E.slice(0,5))||[];a({totalUsers:D,activeUsers:P,totalTransactions:I,totalRevenue:U,pendingDisputes:0,systemUptime:99.9,recentUsers:L,recentTransactions:(T==null?void 0:T.slice(0,5))||[],usersByType:F})}catch(E){console.error("Error fetching system stats:",E)}finally{c(!1)}},p=E=>new Intl.NumberFormat(n==="ar"?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(E),v=E=>{switch(E){case"passenger":return"default";case"driver":return"secondary";case"merchant":return"outline";case"event_admin":return"destructive";case"admin":return"destructive";default:return"secondary"}},j=E=>{switch(E){case"completed":return"default";case"pending":return"secondary";case"failed":return"destructive";case"cancelled":return"outline";default:return"secondary"}};return s?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t("systemDashboard")}),i.jsx("p",{className:"text-muted-foreground",children:t("systemOverviewAndManagement")})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(De,{variant:"outline",children:[i.jsx(g0,{className:"h-4 w-4 mr-2"}),t("systemSettings")]}),i.jsxs(De,{variant:"outline",children:[i.jsx(qs,{className:"h-4 w-4 mr-2"}),t("securityPanel")]})]})]}),i.jsx(be,{className:"border-green-200 bg-green-50",children:i.jsx(we,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(iE,{className:"h-5 w-5 text-green-600"}),i.jsx("span",{className:"font-medium text-green-800",children:t("systemOperational")}),i.jsxs(At,{variant:"outline",className:"bg-green-100 text-green-800",children:[r.systemUptime,"% ",t("uptime")]})]})})}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:t("totalUsers")}),i.jsx(Ga,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:r.totalUsers}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.activeUsers," ",t("activeUsers")]})]})]})}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:t("totalTransactions")}),i.jsx(Io,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:r.totalTransactions}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.jsx(Kn,{className:"h-3 w-3 inline mr-1"}),t("systemVolume")]})]})]})}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:t("totalRevenue")}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Xr,{className:"h-4 w-4 text-muted-foreground"}),i.jsx(De,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0",onClick:()=>m(!f),children:f?i.jsx(mr,{className:"h-3 w-3"}):i.jsx(wi,{className:"h-3 w-3"})})]})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:f?p(r.totalRevenue):"••••••"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:t("systemRevenue")})]})]})}),i.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:t("pendingIssues")}),i.jsx(Zf,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:r.pendingDisputes}),i.jsx("p",{className:"text-xs text-muted-foreground",children:t("requiresAttention")})]})]})})]}),i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:t("userDistribution")}),i.jsx(rt,{children:t("usersByAccountType")})]}),i.jsx(we,{children:i.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.usersByType.passengers}),i.jsx("p",{className:"text-sm text-muted-foreground",children:t("passengers")})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.usersByType.drivers}),i.jsx("p",{className:"text-sm text-muted-foreground",children:t("drivers")})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:r.usersByType.merchants}),i.jsx("p",{className:"text-sm text-muted-foreground",children:t("merchants")})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-orange-600",children:r.usersByType.eventAdmins}),i.jsx("p",{className:"text-sm text-muted-foreground",children:t("eventAdmins")})]})]})})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:t("recentUsers")}),i.jsx(rt,{children:t("latestRegistrations")})]}),i.jsx(we,{children:i.jsx("div",{className:"space-y-4",children:r.recentUsers.length>0?r.recentUsers.map((E,O)=>i.jsxs(Ye.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:O*.1},className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium",children:E.full_name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:E.email})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(At,{variant:v(E.user_type),children:t(E.user_type)}),i.jsx(At,{variant:E.is_active?"default":"secondary",children:E.is_active?t("active"):t("inactive")})]})]},E.id)):i.jsx("p",{className:"text-center text-muted-foreground py-4",children:t("noRecentUsers")})})})]}),i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:t("recentTransactions")}),i.jsx(rt,{children:t("latestSystemActivity")})]}),i.jsx(we,{children:i.jsx("div",{className:"space-y-4",children:r.recentTransactions.length>0?r.recentTransactions.map((E,O)=>{var T,_;return i.jsxs(Ye.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:O*.1},className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("h4",{className:"font-medium",children:[(T=E.from_profile)==null?void 0:T.full_name," → ",(_=E.to_profile)==null?void 0:_.full_name]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[t(E.transaction_type)," • ",E.payment_method]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(At,{variant:j(E.status),children:t(E.status)}),i.jsx("span",{className:"text-sm font-medium",children:p(E.amount)})]})]},E.id)}):i.jsx("p",{className:"text-center text-muted-foreground py-4",children:t("noRecentTransactions")})})})]})]}),i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:t("quickActions")}),i.jsx(rt,{children:t("commonAdministrativeTasks")})]}),i.jsx(we,{children:i.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[i.jsx(De,{variant:"outline",className:"h-auto p-4",children:i.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[i.jsx(Ga,{className:"h-6 w-6"}),i.jsx("span",{children:t("manageUsers")})]})}),i.jsx(De,{variant:"outline",className:"h-auto p-4",children:i.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[i.jsx(Kn,{className:"h-6 w-6"}),i.jsx("span",{children:t("systemAnalytics")})]})}),i.jsx(De,{variant:"outline",className:"h-auto p-4",children:i.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[i.jsx(Zf,{className:"h-6 w-6"}),i.jsx("span",{children:t("handleDisputes")})]})}),i.jsx(De,{variant:"outline",className:"h-auto p-4",children:i.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[i.jsx(g0,{className:"h-6 w-6"}),i.jsx("span",{children:t("systemConfig")})]})})]})})]})]})}function Wje(){const{t:e}=tn();return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:e("userManagement")}),i.jsx("p",{className:"text-muted-foreground",children:e("manageAllSystemUsers")})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(De,{variant:"outline",children:[i.jsx(Pl,{className:"h-4 w-4 mr-2"}),e("searchUsers")]}),i.jsxs(De,{variant:"outline",children:[i.jsx(q0,{className:"h-4 w-4 mr-2"}),e("filterUsers")]}),i.jsxs(De,{children:[i.jsx(ps,{className:"h-4 w-4 mr-2"}),e("addUser")]})]})]}),i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsxs(ke,{className:"flex items-center space-x-2",children:[i.jsx(Ga,{className:"h-5 w-5"}),i.jsx("span",{children:e("userManagement")})]}),i.jsx(rt,{children:e("featureInDevelopment")})]}),i.jsx(we,{children:i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Ga,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium",children:e("userManagementComingSoon")}),i.jsx("p",{className:"text-muted-foreground",children:e("userManagementFeatureDescription")})]})})]})]})}const Gje=()=>{var L;const{user:e}=yn(),{language:t}=tn(),[n,r]=A.useState(null),[a,s]=A.useState([]),[c,f]=A.useState([]),[m,h]=A.useState([]),[p,v]=A.useState(!0),[j,E]=A.useState("30"),[O,T]=A.useState("line");A.useEffect(()=>{e&&_()},[e,j]);const _=async()=>{if(e){v(!0);try{const B=Eo(new Date,parseInt(j)),$={totalUsers:15420,activeUsers:8930,totalTransactions:45280,totalRevenue:125e4,platformFees:125e3,avgTransactionValue:2760,userGrowthRate:12.5,revenueGrowthRate:18.3},z=[{user_type:"passenger",count:8500,active_count:5200,revenue_generated:68e4},{user_type:"driver",count:2800,active_count:1850,revenue_generated:42e4},{user_type:"merchant",count:3200,active_count:1600,revenue_generated:125e3},{user_type:"event_admin",count:850,active_count:260,revenue_generated:25e3},{user_type:"admin",count:70,active_count:20,revenue_generated:0}],H=[];for(let ue=0;ue<1e3;ue++){const ne=new Date(B.getTime()+Math.random()*(new Date().getTime()-B.getTime()));H.push({id:`tx_${ue}`,amount:Math.floor(Math.random()*1e4)+100,fee:Math.floor(Math.random()*100)+10,status:Math.random()>.1?"completed":Math.random()>.5?"pending":"failed",payment_method:["MTN Cash","Syriatel Cash","ShamCash","Card"][Math.floor(Math.random()*4)],user_type:["passenger","driver","merchant","event_admin"][Math.floor(Math.random()*4)],created_at:ne.toISOString()})}const X=[],K=["failed_login","suspicious_transaction","fraud_attempt","security_violation"],ee=["low","medium","high","critical"];for(let ue=0;ue<50;ue++){const ne=new Date(B.getTime()+Math.random()*(new Date().getTime()-B.getTime()));X.push({id:`sec_${ue}`,event_type:K[Math.floor(Math.random()*K.length)],severity:ee[Math.floor(Math.random()*ee.length)],user_id:Math.random()>.3?`user_${Math.floor(Math.random()*1e3)}`:void 0,details:"Security event detected by automated monitoring system",created_at:ne.toISOString()})}r($),s(z),f(H),h(X)}catch(B){console.error("Error fetching system analytics:",B)}finally{v(!1)}}},D=()=>{const B=new Map;return c.filter($=>$.status==="completed").forEach($=>{const z=fr(Rr($.created_at),"yyyy-MM-dd"),H=B.get(z)||{revenue:0,transactions:0,fees:0};B.set(z,{revenue:H.revenue+$.amount,transactions:H.transactions+1,fees:H.fees+$.fee})}),Array.from(B.entries()).map(([$,z])=>({date:fr(Rr($),"MMM dd",{locale:t==="ar"?P0:void 0}),revenue:z.revenue,transactions:z.transactions,fees:z.fees})).sort(($,z)=>$.date.localeCompare(z.date))},P=()=>{const B={passenger:"#8884d8",driver:"#82ca9d",merchant:"#ffc658",event_admin:"#ff7c7c",admin:"#8dd1e1"};return a.map($=>({name:$.user_type.charAt(0).toUpperCase()+$.user_type.slice(1),total:$.count,active:$.active_count,revenue:$.revenue_generated,color:B[$.user_type]}))},I=()=>{const B=new Map;return c.forEach($=>{const z=$.payment_method,H=B.get(z)||{transactions:0,revenue:0};B.set(z,{transactions:H.transactions+1,revenue:H.revenue+($.status==="completed"?$.amount:0),successRate:0})}),B.forEach(($,z)=>{const H=c.filter(K=>K.payment_method===z),X=H.filter(K=>K.status==="completed").length;$.successRate=H.length>0?X/H.length*100:0}),Array.from(B.entries()).map(([$,z])=>({name:$,transactions:z.transactions,revenue:z.revenue,successRate:z.successRate})).sort(($,z)=>z.revenue-$.revenue)},U=()=>{const B=new Map,$=new Map;m.forEach(X=>{B.set(X.event_type,(B.get(X.event_type)||0)+1),$.set(X.severity,($.get(X.severity)||0)+1)});const z=m.filter(X=>E1(Rr(X.created_at))),H=m.filter(X=>X.severity==="critical");return{totalEvents:m.length,todayEvents:z.length,criticalEvents:H.length,eventTypes:Array.from(B.entries()).map(([X,K])=>({type:X,count:K})),severityDistribution:Array.from($.entries()).map(([X,K])=>({severity:X,count:K}))}},F=()=>{const B={metadata:{exportDate:new Date().toISOString(),dateRange:`${j} days`,adminId:e==null?void 0:e.id,generatedBy:"Tickets System Analytics"},platformMetrics:n,userActivity:a,revenueTrend:D(),paymentMethods:I(),securityAnalysis:U(),rawData:{transactions:c.length,securityEvents:m.length}},$=new Blob([JSON.stringify(B,null,2)],{type:"application/json"}),z=URL.createObjectURL($),H=document.createElement("a");H.href=z,H.download=`system-analytics-${fr(new Date,"yyyy-MM-dd")}.json`,H.click(),URL.revokeObjectURL(z)};return p||!n?i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600"})}):i.jsxs("div",{className:"space-y-6",dir:t==="ar"?"rtl":"ltr",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"System Analytics"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Platform-wide business intelligence and performance monitoring"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("select",{value:j,onChange:B=>E(B.target.value),className:"px-3 py-2 border border-gray-300 rounded-md bg-white dark:bg-gray-800 dark:border-gray-600",children:[i.jsx("option",{value:"7",children:"Last 7 days"}),i.jsx("option",{value:"30",children:"Last 30 days"}),i.jsx("option",{value:"90",children:"Last 90 days"}),i.jsx("option",{value:"365",children:"Last year"})]}),i.jsxs(De,{onClick:F,variant:"outline",size:"sm",children:[i.jsx(Zs,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:"Total Users"}),i.jsx(Ga,{className:"h-4 w-4 text-blue-600"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:n.totalUsers.toLocaleString()}),i.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[i.jsx(Kn,{className:"h-3 w-3 text-green-600 mr-1"}),i.jsxs("span",{className:"text-green-600",children:[n.userGrowthRate,"% growth"]})]})]})]}),i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:"Platform Revenue"}),i.jsx(Xr,{className:"h-4 w-4 text-green-600"})]}),i.jsxs(we,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[n.totalRevenue.toLocaleString()," SYP"]}),i.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[i.jsx(Kn,{className:"h-3 w-3 text-green-600 mr-1"}),i.jsxs("span",{className:"text-green-600",children:[n.revenueGrowthRate,"% vs last period"]})]})]})]}),i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:"Active Users"}),i.jsx(iE,{className:"h-4 w-4 text-purple-600"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:n.activeUsers.toLocaleString()}),i.jsxs("p",{className:"text-xs text-gray-600",children:[(n.activeUsers/n.totalUsers*100).toFixed(1),"% of total users"]})]})]}),i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ke,{className:"text-sm font-medium",children:"Security Events"}),i.jsx(qs,{className:"h-4 w-4 text-red-600"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold",children:U().totalEvents}),i.jsxs("p",{className:"text-xs text-gray-600",children:[U().criticalEvents," critical events"]})]})]})]}),i.jsxs(Ll,{defaultValue:"overview",className:"space-y-4",children:[i.jsxs(Bl,{className:"grid w-full grid-cols-2 lg:grid-cols-6",children:[i.jsx(kt,{value:"overview",children:"Overview"}),i.jsx(kt,{value:"users",children:"Users"}),i.jsx(kt,{value:"revenue",children:"Revenue"}),i.jsx(kt,{value:"payments",children:"Payments"}),i.jsx(kt,{value:"security",children:"Security"}),i.jsx(kt,{value:"insights",children:"Insights"})]}),i.jsx(Lt,{value:"overview",className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:"Platform Performance"}),i.jsx(rt,{children:"Key metrics overview"})]}),i.jsx(we,{className:"space-y-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Total Transactions"}),i.jsx("span",{className:"font-semibold",children:n.totalTransactions.toLocaleString()})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Avg Transaction Value"}),i.jsxs("span",{className:"font-semibold",children:[n.avgTransactionValue.toLocaleString()," SYP"]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Platform Fees Collected"}),i.jsxs("span",{className:"font-semibold",children:[n.platformFees.toLocaleString()," SYP"]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Success Rate"}),i.jsxs("span",{className:"font-semibold",children:[(c.filter(B=>B.status==="completed").length/c.length*100).toFixed(1),"%"]})]})]})})]}),i.jsxs(be,{children:[i.jsx(Pe,{children:i.jsx(ke,{children:"User Distribution"})}),i.jsx(we,{children:i.jsx("div",{className:"h-[300px]",children:i.jsx(ni,{width:"100%",height:"100%",children:i.jsxs(S1,{children:[i.jsx(lh,{data:P(),cx:"50%",cy:"50%",outerRadius:80,dataKey:"total",label:({name:B,percent:$})=>`${B}: ${(($||0)*100).toFixed(0)}%`,children:P().map((B,$)=>i.jsx(Wc,{fill:B.color},`cell-${$}`))}),i.jsx(dr,{})]})})})})]})]})}),i.jsx(Lt,{value:"users",className:"space-y-4",children:i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:"User Activity by Type"}),i.jsx(rt,{children:"User counts and activity levels across different user types"})]}),i.jsx(we,{children:i.jsx("div",{className:"h-[400px]",children:i.jsx(ni,{width:"100%",height:"100%",children:i.jsxs(Ro,{data:P(),children:[i.jsx(Kr,{strokeDasharray:"3 3"}),i.jsx(Pr,{dataKey:"name"}),i.jsx(kr,{}),i.jsx(dr,{formatter:(B,$)=>[B,$==="total"?"Total Users":$==="active"?"Active Users":"Revenue Generated"]}),i.jsx(va,{}),i.jsx(Ir,{dataKey:"total",fill:"#8884d8"}),i.jsx(Ir,{dataKey:"active",fill:"#82ca9d"})]})})})})]})}),i.jsx(Lt,{value:"revenue",className:"space-y-4",children:i.jsxs(be,{children:[i.jsxs(Pe,{className:"flex flex-row items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(ke,{children:"Revenue Trend"}),i.jsx(rt,{children:"Daily platform revenue and transaction volume"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(De,{variant:O==="line"?"default":"outline",size:"sm",onClick:()=>T("line"),children:"Line"}),i.jsx(De,{variant:O==="area"?"default":"outline",size:"sm",onClick:()=>T("area"),children:"Area"}),i.jsx(De,{variant:O==="bar"?"default":"outline",size:"sm",onClick:()=>T("bar"),children:"Bar"})]})]}),i.jsx(we,{children:i.jsx("div",{className:"h-[400px]",children:i.jsx(ni,{width:"100%",height:"100%",children:O==="line"?i.jsxs(R0,{data:D(),children:[i.jsx(Kr,{strokeDasharray:"3 3"}),i.jsx(Pr,{dataKey:"date"}),i.jsx(kr,{}),i.jsx(dr,{formatter:(B,$)=>[`${B} ${$==="revenue"||$==="fees"?"SYP":""}`,$==="revenue"?"Revenue":$==="fees"?"Fees":"Transactions"]}),i.jsx(va,{}),i.jsx(vs,{type:"monotone",dataKey:"revenue",stroke:"#8884d8",strokeWidth:2}),i.jsx(vs,{type:"monotone",dataKey:"fees",stroke:"#82ca9d",strokeWidth:2}),i.jsx(vs,{type:"monotone",dataKey:"transactions",stroke:"#ffc658",strokeWidth:2})]}):O==="area"?i.jsxs($v,{data:D(),children:[i.jsx(Kr,{strokeDasharray:"3 3"}),i.jsx(Pr,{dataKey:"date"}),i.jsx(kr,{}),i.jsx(dr,{formatter:(B,$)=>[`${B} ${$==="revenue"||$==="fees"?"SYP":""}`,$==="revenue"?"Revenue":$==="fees"?"Fees":"Transactions"]}),i.jsx(va,{}),i.jsx(xd,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6}),i.jsx(xd,{type:"monotone",dataKey:"fees",stackId:"2",stroke:"#82ca9d",fill:"#82ca9d",fillOpacity:.6})]}):i.jsxs(Ro,{data:D(),children:[i.jsx(Kr,{strokeDasharray:"3 3"}),i.jsx(Pr,{dataKey:"date"}),i.jsx(kr,{}),i.jsx(dr,{formatter:(B,$)=>[`${B} ${$==="revenue"||$==="fees"?"SYP":""}`,$==="revenue"?"Revenue":$==="fees"?"Fees":"Transactions"]}),i.jsx(va,{}),i.jsx(Ir,{dataKey:"revenue",fill:"#8884d8"}),i.jsx(Ir,{dataKey:"fees",fill:"#82ca9d"})]})})})})]})}),i.jsx(Lt,{value:"payments",className:"space-y-4",children:i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:"Payment Methods Performance"}),i.jsx(rt,{children:"Usage and success rates by payment method"})]}),i.jsx(we,{children:i.jsx("div",{className:"space-y-4",children:I().map((B,$)=>i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(r0,{className:"h-6 w-6 text-blue-600"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold",children:B.name}),i.jsxs("p",{className:"text-sm text-gray-600",children:[B.transactions," transactions • ",B.successRate.toFixed(1),"% success rate"]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-semibold",children:[B.revenue.toLocaleString()," SYP"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full ${B.successRate>=95?"bg-green-500":B.successRate>=90?"bg-yellow-500":"bg-red-500"}`,style:{width:`${B.successRate}%`}})}),i.jsxs("span",{className:"text-xs text-gray-600",children:[B.successRate.toFixed(0),"%"]})]})]})]},B.name))})})]})}),i.jsx(Lt,{value:"security",className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsx(ke,{children:"Security Events"}),i.jsx(rt,{children:"Recent security incidents and alerts"})]}),i.jsxs(we,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("span",{className:"text-sm text-gray-600",children:["Total Events (last ",j," days)"]}),i.jsx("span",{className:"font-semibold",children:U().totalEvents})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Today's Events"}),i.jsx("span",{className:"font-semibold",children:U().todayEvents})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Critical Events"}),i.jsx("span",{className:"font-semibold text-red-600",children:U().criticalEvents})]})]}),U().criticalEvents>0&&i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 rounded-lg",children:[i.jsx(Zf,{className:"h-4 w-4 text-red-500"}),i.jsx("span",{className:"text-sm text-red-700",children:"Immediate attention required for critical security events"})]})]})]}),i.jsxs(be,{children:[i.jsx(Pe,{children:i.jsx(ke,{children:"Event Types"})}),i.jsx(we,{children:i.jsx("div",{className:"space-y-2",children:U().eventTypes.map((B,$)=>i.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[i.jsx("span",{className:"text-sm capitalize",children:B.type.replace("_"," ")}),i.jsx(At,{variant:"outline",children:B.count})]},B.type))})})]})]})}),i.jsx(Lt,{value:"insights",className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[i.jsxs(be,{children:[i.jsx(Pe,{children:i.jsx(ke,{children:"Business Intelligence"})}),i.jsxs(we,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[i.jsx("span",{className:"text-sm font-medium",children:"Revenue per Active User"}),i.jsxs("span",{className:"font-bold text-green-600",children:[(n.totalRevenue/n.activeUsers).toLocaleString()," SYP"]})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[i.jsx("span",{className:"text-sm font-medium",children:"Platform Commission Rate"}),i.jsxs("span",{className:"font-bold text-blue-600",children:[(n.platformFees/n.totalRevenue*100).toFixed(1),"%"]})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[i.jsx("span",{className:"text-sm font-medium",children:"User Engagement Rate"}),i.jsxs("span",{className:"font-bold text-purple-600",children:[(n.activeUsers/n.totalUsers*100).toFixed(1),"%"]})]})]}),i.jsxs("div",{className:"pt-4 border-t",children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Strategic Insights"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[n.userGrowthRate>10&&i.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[i.jsx(Kn,{className:"h-4 w-4"}),i.jsx("span",{children:"Strong user growth indicates healthy market demand"})]}),n.activeUsers/n.totalUsers*100<60&&i.jsxs("div",{className:"flex items-center gap-2 text-amber-600",children:[i.jsx(k1,{className:"h-4 w-4"}),i.jsx("span",{children:"Focus on user activation and engagement strategies"})]}),U().criticalEvents>5&&i.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[i.jsx(qs,{className:"h-4 w-4"}),i.jsx("span",{children:"Elevated security monitoring recommended"})]})]})]})]})]}),i.jsxs(be,{children:[i.jsx(Pe,{children:i.jsx(ke,{children:"System Health"})}),i.jsx(we,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-green-500 to-blue-500 text-white rounded-lg",children:[i.jsx("h3",{className:"text-2xl font-bold",children:n.platformFees.toLocaleString()}),i.jsx("p",{className:"text-green-100",children:"Platform Fees Collected"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[i.jsxs("h4",{className:"text-xl font-bold",children:[(c.filter(B=>B.status==="completed").length/c.length*100).toFixed(1),"%"]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Success Rate"})]}),i.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[i.jsx("h4",{className:"text-xl font-bold",children:n.avgTransactionValue.toLocaleString()}),i.jsx("p",{className:"text-sm text-gray-600",children:"Avg Transaction"})]})]}),i.jsxs("div",{className:"pt-4 border-t",children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Quick Stats"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Most active user type:"}),i.jsx("span",{className:"font-semibold",children:P().reduce((B,$)=>$.active>B.active?$:B).name})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Highest revenue user type:"}),i.jsx("span",{className:"font-semibold",children:P().reduce((B,$)=>$.revenue>B.revenue?$:B).name})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Top payment method:"}),i.jsx("span",{className:"font-semibold",children:((L=I()[0])==null?void 0:L.name)||"N/A"})]})]})]})]})})]})]})})]})]})};function Kje(){const{t:e}=tn();return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:e("disputeManagement")}),i.jsx("p",{className:"text-muted-foreground",children:e("handleUserDisputesAndComplaints")})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(De,{variant:"outline",children:[i.jsx(Pl,{className:"h-4 w-4 mr-2"}),e("searchDisputes")]}),i.jsxs(De,{variant:"outline",children:[i.jsx(q0,{className:"h-4 w-4 mr-2"}),e("filterDisputes")]})]})]}),i.jsxs(be,{children:[i.jsxs(Pe,{children:[i.jsxs(ke,{className:"flex items-center space-x-2",children:[i.jsx(Zf,{className:"h-5 w-5"}),i.jsx("span",{children:e("disputeManagement")})]}),i.jsx(rt,{children:e("featureInDevelopment")})]}),i.jsx(we,{children:i.jsxs("div",{className:"text-center py-8",children:[i.jsx(KZ,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium",children:e("disputesComingSoon")}),i.jsx("p",{className:"text-muted-foreground",children:e("disputesFeatureDescription")})]})})]})]})}function Xje(){return gA(["admin"]),i.jsx(X0,{userType:"admin",children:i.jsxs(gh,{children:[i.jsx(wt,{path:"/",element:i.jsx(Sl,{to:"/admin/home",replace:!0})}),i.jsx(wt,{path:"/home",element:i.jsx(Yje,{})}),i.jsx(wt,{path:"/users",element:i.jsx(Wje,{})}),i.jsx(wt,{path:"/analytics",element:i.jsx(Gje,{})}),i.jsx(wt,{path:"/disputes",element:i.jsx(Kje,{})}),i.jsx(wt,{path:"/profile",element:i.jsx(mg,{})}),i.jsx(wt,{path:"/settings",element:i.jsx(gg,{})})]})})}function zm({children:e,allowedRoles:t}){const{user:n,profile:r,loading:a}=yn();return a?i.jsx(oi,{}):n?r?t.includes(r.user_type)?i.jsx(i.Fragment,{children:e}):i.jsx(Sl,{to:`/${r.user_type}`,replace:!0}):i.jsx(oi,{text:"Loading profile..."}):i.jsx(Sl,{to:"/login",replace:!0})}function Qje(){const{user:e,profile:t,loading:n}=yn(),{isRTL:r}=tn();return n?i.jsx(oi,{}):i.jsx("div",{className:`min-h-screen ${r?"rtl":"ltr"}`,children:i.jsx(NY,{children:i.jsxs(gh,{children:[i.jsx(wt,{path:"/",element:e?i.jsx(sx,{}):i.jsx(BJ,{})}),i.jsx(wt,{path:"/login",element:e?i.jsx(sx,{}):i.jsx($J,{})}),i.jsx(wt,{path:"/register",element:e?i.jsx(sx,{}):i.jsx(Hne,{})}),i.jsx(wt,{path:"/forgot-password",element:e?i.jsx(sx,{}):i.jsx(qne,{})}),i.jsx(wt,{path:"/otp-verification",element:i.jsx(ore,{})}),i.jsx(wt,{path:"/reset-password",element:i.jsx(lre,{})}),i.jsx(wt,{path:"/passenger/*",element:i.jsx(zm,{allowedRoles:["passenger"],children:i.jsx(qSe,{})})}),i.jsx(wt,{path:"/driver/*",element:i.jsx(zm,{allowedRoles:["driver"],children:i.jsx(Ije,{})})}),i.jsx(wt,{path:"/merchant/*",element:i.jsx(zm,{allowedRoles:["merchant"],children:i.jsx(Uje,{})})}),i.jsx(wt,{path:"/event-admin/*",element:i.jsx(zm,{allowedRoles:["event_admin"],children:i.jsx(qje,{})})}),i.jsx(wt,{path:"/admin/*",element:i.jsx(zm,{allowedRoles:["admin"],children:i.jsx(Xje,{})})}),i.jsx(wt,{path:"*",element:i.jsx(Sl,{to:"/",replace:!0})})]})})})}function sx(){const{profile:e}=yn();return e?i.jsx(Sl,{to:`/${e.user_type}`,replace:!0}):i.jsx(Sl,{to:"/login",replace:!0})}var Zje=(e,t,n,r,a,s,c,f)=>{let m=document.documentElement,h=["light","dark"];function p(E){(Array.isArray(e)?e:[e]).forEach(O=>{let T=O==="class",_=T&&s?a.map(D=>s[D]||D):a;T?(m.classList.remove(..._),m.classList.add(s&&s[E]?s[E]:E)):m.setAttribute(O,E)}),v(E)}function v(E){f&&h.includes(E)&&(m.style.colorScheme=E)}function j(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)p(r);else try{let E=localStorage.getItem(t)||n,O=c&&E==="system"?j():E;p(O)}catch{}},Jje=A.createContext(void 0),eAe={setTheme:e=>{},themes:[]},tAe=()=>{var e;return(e=A.useContext(Jje))!=null?e:eAe};A.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:a,defaultTheme:s,value:c,themes:f,nonce:m,scriptProps:h})=>{let p=JSON.stringify([n,t,s,e,f,c,r,a]).slice(1,-1);return A.createElement("script",{...h,suppressHydrationWarning:!0,nonce:typeof window>"u"?m:"",dangerouslySetInnerHTML:{__html:`(${Zje.toString()})(${p})`}})});const nAe=({...e})=>{const{theme:t="system"}=tAe();return i.jsx(Qie,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})};function rAe(){return i.jsx(hq,{children:i.jsx(uq,{children:i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx(Qje,{}),i.jsx(nAe,{richColors:!0,position:"top-right"})]})})})}i$.createRoot(document.getElementById("root")).render(i.jsx(A.StrictMode,{children:i.jsx(rAe,{})}));
